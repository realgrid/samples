
/** 
 * RealChart v0.9.26
 * Copyright (C) 2023-2023 WooriTech Inc.
 * All Rights Reserved. 
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).RealChart={})}(this,(function(t){"use strict";const e="http://www.w3.org/2000/svg",s=function(t){return t&&"object"==typeof t&&!Array.isArray(t)},i=Array.isArray,r=function(t,e){return Array.isArray(t)&&t.length>=e},n=function(t){return"function"==typeof t},a=function(t){return"string"==typeof t},h=function(t){return"number"==typeof t},o=Object.assign,l=Math.floor,c=Math.ceil,u=Math.cos,_=Math.sin,d=function(t){return Math.pow(10,t)},g=Math.log10,p=function(t,e){return t=parseFloat(t),isNaN(t)?parseFloat(e):t},m=function(t,e,s){let i=parseFloat(t);return isNaN(i)?(i=parseFloat(e),isNaN(i)?parseFloat(s):i):i},f=function(t,e){return void 0!==t?t:e},w=function(t,e,s){return void 0!==t?t:void 0!==e?e:s},x=(t,e)=>{const i=o({},t);for(const r in e){const n=e[r];s(n)&&s(t[r])?i[r]=x(t[r],n):i[r]=n}return i};class y{static debug(){this._debugging}}y._debugging=!1;let b=0;class v{static destroy(t){return t&&t.destroy()}constructor(t){this.$_destroyed=!1,this.$_destroying=!1,t||(this.$_hash=String(b++))}destroy(){return this.$_destroyed||this.$_destroying||(this.$_destroyed=!0,this.$_destroying=!0,this._doDestory()),null}_doDestory(){}get destroying(){return this.$_destroying}get hash(){return this.$_hash}isMe(t){return t===this.$_hash}toString(){return this.constructor.name}toBool(t){return"string"==typeof t?"true"===t:t}toNum(t,e=NaN){return t=parseFloat(t),isNaN(t)?e:t}}class S extends v{wrapper(){return this._wrapper}wrapperOrThis(){return this._wrapper||this}createWrapper(t){const e=this._wrapper=new t;return e.$_c=this,e}setWrapper(t){return this._wrapper=t,t.$_c=this,t}isWrapper(t){return t===this._wrapper}}class V extends v{constructor(){super(...arguments),this._listeners=[]}addListener(t){t&&this._listeners.indexOf(t)<0&&this._listeners.push(t)}removeListener(t){const e=this._listeners.indexOf(t);e>=0&&this._listeners.splice(e,1)}_fireEvent(t,...e){const s=Array.prototype.slice.call(arguments,0);s[0]=this;for(const e of this._listeners){const i=e[t];if(i){const t=i.apply(e,s);if(void 0!==t)return t}}}}const P={ko:{dateFormat:"yyyy.MM.dd",am:"오전",pm:"오후",notExistsDataField:"존재하지 않는 필드입니다: %1",notSpecifiedDataField:"하나 이상의 데이터필드가 설정돼야 합니다.",invalidFieldName:"잘못된 데이터필드 이름입니다: %1",invalidFieldIndex:"잘못된 데이터필드 index입니다: %1",invalidRowIndex:"잘못된 데이터행 index입니다: %1",canNotModifyData:"읽기 전용 데이터를 변경할 수 없습니다.",canNotModifyDeleted:"삭제 상태 행을 변경할 수 없습니다: %1",requiredField:"반드시 값을 지정해야 하는 필드입니다: %1",invalidValueInDomain:"값이 필드 값 도메인에 포함되지 않습니다: %1",invalidValueInRange:"값이 필드 값 범위에 포함되지 않습니다: %1",invalidToIndex:"잘못된 'to' index입니다.: %1",requireSourceData:"원본 data가 반드시 지정돼야 합니다.",requireFilterName:"필터 이름이 반드시 지정돼야 합니다.",alreadyEditing:"이미 데이터 편집 중입니다.",invalidDateFormat:"잘못된 시간 날짜 형식입니다: %1",invalidSizeValue:"잘못된 Size 값입니다: %1",invalidOuterDiv:"잘못된 외부 div 입니다: %1",canNotHorzGrouping:"수평 모드일 때 그룹핑할 수 없습니다.",dataMustSet:"데이터가 먼저 설정돼야 합니다.",requireGroupingInfos:"하나 이상의 행 그룹핑 정보가 설정돼야 합니다.",canNotRowGrouping:"데이터링크 view에 대해 행그룹핑 할 수 없습니다. dataGroupBy()를 사용하세요.",canNotDataGrouping:"데이터링크 view가 아니면 데이터그룹핑할 수 없습니다. rowGroupBy()를 사용하세요.",canNotHorzInGrouping:"그룹핑 상태일 때 수평모드로 변경할 수 없습니다.",unknownLayoutType:"잘못된 layout 종류입니다: %1",layoutMustSet:"레이아웃 모델이 반드시 설정돼야 합니다.",unknownItemViewType:"잘못된 item view 종류입니다: %1",requireCommandName:"Command 이름이 지정돼야 합니다.",commandNameDuplicated:"이미 존재하는 command 이름입니다: %1",requireDataOrGroup:"데이터소스나 그룹 모델이 반드시 지정돼야 합니다.",requireTableName:"테이블모델의 이름이 지정돼야 합니다.",alreadyTableExists:"이미 존해하는 테이블모델입니다: %1",selectEditRowFirst:"수정하거나 삽입할 행을 먼저 선택하세요."},en:{dateFormat:"M/d/yyyy",am:"AM",pm:"PM",notExistsDataField:"A data field is not exists: %1",notSpecifiedDataField:"At least one datafield must be set.",invalidFieldName:"Invalid field name: %1",invalidFieldIndex:"Invalid field index: %1",invalidRowIndex:"Invalid row index: %1",canNotModifyData:"Can not modify a readonly data.",canNotModifyDeleted:"Can not modify a deleted row: %1",requiredField:"Required field: %1",invalidValueInDomain:"The value is not int the domain: %1",invalidValueInRange:"The value is not int the range: %1",invalidToIndex:"Invalid 'to' index: %1",requireSourceData:"A source data must be set.",requireFilterName:"A filter name must be set.",alreadyEditing:"DataView is already editing.",invalidDateFormat:"Invalid datetime format: %1",invalidSizeValue:"Invalid size value: %1",invalidOuterDiv:"Invalid outer div element: %1",canNotHorzGrouping:"Can not row grouping in horz mode.",dataMustSet:"A data must be set first.",requireGroupingInfos:"At least one grouping info must be set.",canNotRowGrouping:"Can not row grouping by data link view. use dataGroupBy().",canNotDataGrouping:"Can not data grouping without data link view. rowGroupBy()를 사용하세요.",canNotHorzInGrouping:"Can not change to horz mode while grouping",unknownLayoutType:"Invalid layout: %1",layoutMustSet:"A layout model must be set.",unknownItemViewType:"Unknow item view type: %1",requireCommandName:"Command name must be supplied.",commandNameDuplicated:"Command name is already exists: %1",requireDataOrGroup:"A data or group view must be set.",requireTableName:"The name of table model is required.",alreadyTableExists:"A table model is already exists: %1",selectEditRowFirst:"First select the row you want to edit or insert."}};let A=P.ko;const C=void 0,k="%".charCodeAt(0),E=2*Math.PI,L=-Math.PI/2,T=2*Math.PI/360,M=360/Math.PI/2;function N(t){return t>E?t%E:t}function R(t){return parseFloat(t.toPrecision(12))}function O(t){return null==t?null:String(t)}function D(t){return t+"px"}function B(t){return null==t||Number.isNaN(t)||""===t}function I(t){return t<10?"0"+t:String(t)}function $(t){return t<10?"00"+t:t<100?"0"+t:String(t)}function F(t,e){const s={};return s[t]=e,s}function z(t,e,s){let i,r=!1;if(null==t){if(e)return null;i=s||0,r=!0}else if("string"==typeof t){const s=t.trim();if(0===s.length?i=NaN:s.charCodeAt(s.length-1)===k?i=1===s.length?NaN:parseFloat(s):(i=parseFloat(s),r=!0),isNaN(i)){if(e)return null;q(A.invalidSizeValue,t)}}else if(i=+t,isNaN(i)){if(e)return null;i=s||0,r=!0}else r=!0;return{size:i,fixed:r}}function H(t,e){return z(t,!0)||z(e,!1)}function G(t,e,s=NaN){return t?t.fixed?t.size:t.size*e/100:s}const j="fill",W={fill:"fill",stroke:"stroke",strokeWidth:"stroke-width",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style",padding:"padding",margin:"margin"},Y=function(t){const e=W[t];if(!e){let e=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return W[t]=e,e}return e};class X extends Error{}const U=function(t,e){if(!t)throw new X(e)};var Z;!function(t){t.UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right"}(Z||(Z={}));const q=(t,e)=>{throw new Error(((t,e)=>t.replace("%1",e))(t,e))};var K,Q,J,tt;!function(t){t.LEFT="left",t.CENTER="center",t.RIGHT="right"}(K||(K={})),function(t){t.TOP="top",t.MIDDLE="middle",t.BOTTOM="bottom"}(Q||(Q={})),function(t){t.LEFT="left",t.TOP="top",t.BOTTOM="bottom",t.RIGHT="right",t.CENTER="center",t.MIDDLE="middle"}(J||(J={})),function(t){t.CHART="chart",t.PLOT="plot",t.PARENT="parent"}(tt||(tt={}));const et=function(t,e,r,n=!0,h=!0,l=!1,c){let u,_;if(i(t))n&&(e=Number.MIN_VALUE,r=Number.MAX_VALUE),u=[],t.forEach((t=>{if(s(t)&&a(t.color)){const s={fromValue:p(t.fromValue,_?_.toValue:e),toValue:p(t.toValue,r),color:t.color,style:t.style?o({},t.style):C};s.fromValue<s.toValue&&(u.push(s),_=s)}})),u=u.sort(((t,e)=>t.fromValue-e.fromValue)).filter((t=>t.toValue>=e&&t.fromValue<r)),h&&u.forEach((t=>{t.fromValue=Math.max(t.fromValue,e),t.toValue=Math.min(t.toValue,r)}));else if(s(t)&&i(t.colors)&&t.colors.length>0){const s=t.colors,n=i(t.styles)?t.styles:null;if(u=[],i(t.steps)&&t.steps.length>0){const a=i(t.steps)?t.steps:null;e<a[0]&&a.unshift(e),r>a[a.length-1]&&a.push(r);for(let t=0;t<a.length-1;t++)u.push({fromValue:a[t],toValue:a[t+1],color:s[Math.min(t,s.length-1)],style:n?n[Math.min(t,n.length-1)]:C})}else{let i=p(t.fromValue,e);const a=p(t.toValue,r),h=(a-i)/s.length;let o=0;for(;i<a;)u.push({fromValue:i,toValue:i+=h,color:s[Math.min(o,s.length-1)],style:n?n[Math.min(o,n.length-1)]:C}),o++}}if(l&&u&&u.length>0){let t=0,s=e;for(;t<u.length;)u[t].fromValue<s&&u.splice(t,0,{fromValue:s,toValue:u[t].fromValue,color:c}),s=u[t].toValue,t++;u[t-1].toValue<r&&u.push({fromValue:u[t-1].toValue,toValue:r,color:c})}return u};var st,it,rt;!function(t){t.CLIP="clip",t.ELLIPSIS="ellipsis",t.WRAP="wrap"}(st||(st={})),function(t){t.AUTO="auto",t.SERIES="series",t.GROUP="group",t.AXIS="axis"}(it||(it={})),function(t){t.NONE="none",t.DEFAULT="default",t.BRIGHTEN="brighten",t.ENLARGE="enlarge",t.BORDER="border"}(rt||(rt={}));let nt=651212;class at{static getWin(t){return t.defaultView||t.parentWindow}static isVisible(t){return t&&"none"!==t.style.display}static setVisible(t,e,s=""){return t.style.display=e?s||"":"none",e}static hide(t){t.style.display="none"}static show(t,e=""){t.style.display=e}static addClass(t,e){if(e){e.split(/\s+/g).forEach((e=>t.classList.add(e)))}return t}static removeClass(t,e){if(e){e.split(/\s+/g).forEach((e=>t.classList.remove(e)))}return t}static getImageUrl(t){const e=t.backgroundImage;if(e&&e.startsWith('url("'))return e.substring(5,e.length-2)}static getFocused(){let t=document.getSelection().focusNode;for(;t;){if(t instanceof HTMLElement)return t;t=t.parentElement}}static isAncestorOf(t,e){let s=e;for(;s;){if(s==t)return!0;s=s.parentElement}return!1}static getOffset(t){const e=t.ownerDocument,s=e.defaultView,i=t.getBoundingClientRect(),r=e.body,n=e.documentElement,a=s.pageYOffset||n.scrollTop||r.scrollTop,h=s.pageXOffset||n.scrollLeft||r.scrollLeft,o=n.clientTop||r.clientTop||0,l=n.clientLeft||r.clientLeft||0,c=i.left+h-l,u=i.top+a-o;return{x:Math.round(c),y:Math.round(u)}}static getSize(t){const e=t.getBoundingClientRect();return{width:e.width,height:e.height}}static moveX(t,e){t.style.left=e+"px"}static moveY(t,e){t.style.top=e+"px"}static move(t,e,s){t.style.left=e+"px",t.style.top=s+"px"}static moveI(t,e,s){t.style.left=(e>>>0)+"px",t.style.top=(s>>>0)+"px"}static resize(t,e,s){t.style.width=e+"px",t.style.height=s+"px"}static resizeSVG(t,e,s){t.setAttribute("viewBox",`0 0 ${e} ${s}`)}static setWidth(t,e){t.style.width=e+"px"}static setHeight(t,e){t.style.height=e+"px"}static getBrowserSize(t){const e=t?t.ownerDocument:document,s=e.defaultView;return{width:s.innerWidth||e.documentElement.clientWidth||e.body.clientWidth,height:s.innerHeight||e.documentElement.clientHeight||e.body.clientHeight}}static setRect(t,e){const s=t.style;s.left=e.x+"px",s.top=e.y+"px",s.width=e.width+"px",s.height=e.height+"px"}static setBounds(t,e,s,i,r){const n=t.style;n.left=e+"px",n.top=s+"px",n.width=i+"px",n.height=r+"px"}static setBoundsEx(t,e,s,i,r){const n=t.style;!isNaN(e)&&(n.left=e+"px"),!isNaN(s)&&(n.top=s+"px"),!isNaN(e)&&(n.width=i+"px"),!isNaN(e)&&(n.height=r+"px")}static getClientRect(t){const e=t.getBoundingClientRect();return e.cx=t.offsetLeft,e.cy=t.offsetTop,e}static getChildIndex(t){if(t){const e=t.parentNode;if(e){const s=e.children;for(let e=s.length;e--;)if(s[e]===t)return e}}return-1}static clearChildren(t){let e;for(;e=t.lastChild;)t.removeChild(e)}static clearElements(t){let e;for(;e=t.lastChild;)at.clearElements(e),t.removeChild(e)}static append(t,e){e.parentNode!==t&&t.appendChild(e)}static addChild(t,e){return!(!t||!e||e.parentNode===t)&&(t.appendChild(e),!0)}static removeChild(t,e){return!(!t||!e||e.parentNode!==t)&&(t.removeChild(e),!0)}static removeChildren(t,e){e.forEach((e=>{e instanceof Element?e.parentNode===t&&t.removeChild(e):e&&e.dom().parentNode==t&&t.removeChild(e.dom())}))}static remove(t){const e=t&&t.parentElement;return e&&e.removeChild(t),null}static clearStyle(t){t.style.cssText=""}static htmlEncode(t){return document.createElement("a").appendChild(document.createTextNode(t)).parentNode.innerHTML}static setData(t,e,s){null==s||""===s?delete t.dataset[e]:t.dataset[e]=s}static toggleData(t,e,s){s?t.dataset[e]="1":delete t.dataset[e]}static getData(t,e){return t.dataset[e]}static hasData(t,e){return void 0!==t.dataset[e]}static setVar(t,e,s){t.style.setProperty(e,s)}static animate(t,e,s,i,r=150,n="none"){const a={},h={};return a[e]=s,h[e]=i,t.animate([a,h],{duration:r,fill:n})}static setAttr(t,e,s){null!=s&&""!==s?t.setAttribute(e,s):t.removeAttribute(e)}static setAttrs(t,e){for(const s in e)t.setAttribute(s,e[s])}static getDomId(){return"-rtc-"+nt++}static stopAnimation(t){if(t)try{t.finish()}catch(t){console.error(t),y.debug()}return null}static childByPath(t,e){let s=t;if(e){let t=0;for(;t<e.length;)s=s.childNodes[e[t++]]}return s}static childByClass(t,e){return t.getElementsByClassName(e)[0]}static setDisabled(t,e){this.setAttr(t,"disabled",!!e||void 0)}static setImportantStyle(t,e,s){t.setProperty(e,s,"important")}static getPadding(t){const e=getComputedStyle(t);return{left:parseFloat(e.paddingLeft)||0,right:parseFloat(e.paddingRight)||0,top:parseFloat(e.paddingTop)||0,bottom:parseFloat(e.paddingBottom)||0}}}const ht=(new Date).getTime();"undefined"==typeof window||Element.prototype.animate||(Element.prototype.animate=function(t){});let ot=!1,lt=!1;"undefined"!=typeof window&&(ot=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,lt=!!window.chrome&&!ot,Object.prototype.toString.call(HTMLElement).indexOf("Constructor")>0||!lt&&!ot&&navigator.userAgent.indexOf("Safari"),navigator.userAgent.toLocaleLowerCase().indexOf("samsungbrowser"),navigator.userAgent.toLocaleLowerCase().indexOf("miuibrowser"));const ct=/"([^"]*(?="))"/,ut=/'([^']*(?='))'/,_t='"'.charCodeAt(0),dt="'".charCodeAt(0);class gt{static log(...t){this.LOGGING&&console.log(...t)}static now(){return+new Date}static weekOfMonth(t,e,s){const i=t.getMonth(),r=t.getFullYear(),n=new Date(r,i,1).getDay(),a=new Date(r,i+1,0).getDate(),h=t.getDate()+n-1,o=e+Math.ceil((a+n-7)/7),l=e+Math.floor(h/7);return s||l<2+e?l:l===o?e+5:l}static weekOfYear(t,e){const s=t.getFullYear(),i=new Date(s,0,1).getDay(),r=t.getDate()+i-1;return e+Math.floor(r/7)}static stopEvent(t,e=!1){t.preventDefault?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,e&&t.stopImmediatePropagation()}static getErrorStack(t){const e=t.stack;return e?e.split("\n").map((t=>t+"<br/>")):""}static getBaseClassName(t){return Object.getPrototypeOf(t.constructor).name}static isObject(t){return t&&"object"==typeof t&&!i(t)}static isValidObject(t){if(this.isObject(t))for(let e in t)if(t.hasOwnProperty(e))return!0}static copyObject(t){if(t&&"object"==typeof t&&!i(t))return o({},t)}static checkArray(t){return i(t)?t:void 0}static makeArray(t,e=!1){return null!=t?i(t)?t:[t]:e?[]:void 0}static makeNumArray(t){return i(t)?t.map((t=>+t)):null!=t?[+t]:[]}static getIntArray(t,e=0){const s=[];for(let i=e,r=e+t;i<r;i++)s.push(i);return s}static isValueArray(t){if(i(t)){for(let e=t.length-1;e>=0;e--)if(null!=t[e]&&"object"==typeof t[e])return!1;return!0}return!1}static toArray(t){return i(t)?t:null!=t?[t]:null}static copyArray(t){return i(t)?t.slice(0):null!=t?[t]:void 0}static push(t,e){if(e&&e.length>0)for(let s=0,i=e.length;s<i;s++)t.push(e[s])}static isDefined(t){return null!=t}static isNotDefined(t){return null==t}static isNumber(t){return"number"==typeof t}static canNumber(t){return!isNaN(t)&&!isNaN(parseFloat(t))}static isValidNumber(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}static getNumber(t,e=0){const s=parseFloat(t);return isFinite(s)?s:e}static toNumber(t,e=0){return isNaN(t)||null===t||""===t?e:+t}static getEnumValues(t){return Object.keys(t).map((e=>t[e]))}static checkEnumValue(t,e,s){const i=Object.keys(t);for(let s=i.length-1;s>=0;s--)if(t[i[s]]===e)return e;return s}static compareText(t,e,s=!1){return t=t||"",e=e||"",s&&(t=t.toLocaleLowerCase(),e=e.toLocaleLowerCase()),t>e?1:t<e?-1:0}static getTimeF(){return(new Date).getTime()/1e3}static getTimer(){return(new Date).getTime()-ht}static isWhiteSpace(t){return!t||!t.trim()}static pad(t,e,s){return e=Math.max(e||2,1),s=s||"0",new Array(e-String(t).length+1).join(s)+t}static pad16(t,e,s){return e=Math.max(e||2,1),s=s||"0",new Array(e-t.toString(16).length+1).join(s)+t.toString(16)}static pick(...t){const e=t.length;let s;for(let i=0;i<e;i++)if(s=t[i],null!=s)return s}static pickNum(...t){const e=t.length;for(let s=0;s<e;s++)if(!isNaN(t[s])&&null!==t[s])return t[s];return NaN}static included(t,...e){const s=e.length;for(let i=0;i<s;i++)if(e[i]==t)return!0;return!1}static compareTextValue(t,e,s,i){if(t===e)return!0;let r=String(t),n=null==e?void 0:String(e);return!r&&!n||!(!r||!n)&&(s||(r=r.toLowerCase(),n=n.toLowerCase()),i?n.indexOf(r)>=0:r==n)}static cast(t,e){return t instanceof e?t:null}static irandom(t,e){if(void 0!==e){const s=t>>0,i=e>>0;return Math.random()*(i-s)+s>>>0}{const e=t>>0;return Math.random()*e>>0}}static irandomExcept(t,e,s){if(0===t&&1===e&&isNaN(s))throw new Error("Invalid irandom2");for(;;){const i=this.irandom(e,s);if(i!==t)return i}}static brandom(){return Math.random()>.5}static srandom(t,e){let s="";const i=this.irandom(t,e);for(let t=0;t<i;t++)s+=String.fromCharCode(this.irandom(97,123));return s}static erandom(t){const e=Object.values(t);return e[this.irandom(e.length)]}static arandom(t){return t[Math.random()*t.length>>0]}static iarandom(t,e,s){const i=new Array;for(let s=t;s<e;s++)i.push(s);for(;i.length>s;)i.splice(gt.irandom(i.length),1);return i}static alert(t){window.alert(t)}static toInt(t,e){const s=parseInt(t,e||10);return isNaN(s)?0:s}static toFloat(t){const e=parseFloat(t);return isNaN(e)?0:e}static toEven(t){return 1&t?t+1:t}static hex(t,e=2,s="0"){e=Math.max(e||2,1);const i=t.toString(16);return s=s||"0",new Array(e-i.length+1).join(s)+i}static toStr(t){return Number.isNaN(t)||null==t?"":String(t)}static extend(t,e){t=t||{};for(let s in e)t[s]=e[s];return t}static equalNumbers(t,e){return isNaN(t)==isNaN(e)&&!isNaN(t)&&t==e}static equalArrays(t,e){if(t===e)return!0;if(null==t||null==e)return!1;const s=t.length;if(s!=e.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}static equalObjects(t,e){if(t===e)return!0;if(!t&&!e)return!0;if(!t||!e)return!1;for(var s in t)if(t.hasOwnProperty(s)&&t[s]!==e[s])return!1;for(var s in e)if(e.hasOwnProperty(s)&&t[s]!==e[s])return!1;return!0}static parseDate(t,e){const s=new Date(t);return isNaN(s.getTime())?e||new Date:s}static isLeapYear(t){return t%4==0&&t%100!=0||t%400==0}static incMonth(t,e){const s=t.getDate();return t.setDate(1),t.setMonth(t.getMonth()+e),t.setDate(Math.min(s,gt.month_days[gt.isLeapYear(t.getFullYear())?1:0][t.getMonth()])),t}static minDate(t,e){return null!==t?t:null!==e?e:t.getTime()<e.getTime()?t:e}static maxDate(t,e){return null!==t?e:null!==e||t.getTime()>e.getTime()?t:e}static getTextLength2(t){let e=0,s=0,i=0;for(;i=t.charCodeAt(s++);e+=i>>7?2:1);return e}static getClassName(t){if(t&&t.constructor)return t.constructor.name||function(t){let e=t.toString();return e=e.substring(9),e=e.substring(0,e.indexOf("(")),e}(t.constructor)}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isEmpty(t){if(t)for(let e in t)return!1;return!0}static isNotEmpty(t){if(t)for(let e in t)return!0;return!1}static capitalize(t){if("string"!=typeof t)return"";const e=t.charAt(0);return e>="A"&&e<="Z"?t:e.toUpperCase()+t.slice(1)}static uncapitalize(t){if("string"!=typeof t)return"";const e=t.charAt(0);return e>="a"&&e<="z"?t:e.toLowerCase()+t.slice(1)}static labelize(t){if("string"!=typeof t)return"";const e=t.charAt(0);let s=(t=e>="A"&&e<="Z"?t:e.toUpperCase()+t.slice(1)).charAt(0);for(let e=1;e<t.length;e++){const i=t.charAt(e);i>="A"&&i<="Z"&&(s+=" "),s+=i}return s}static deepClone(t){if(t instanceof Date)return new Date(t);if(null==t||"object"!=typeof t)return t;{const e=i(t)?[]:{};for(let s of Object.keys(t))e[s]=gt.deepClone(t[s]);return e}}static getArray(t,e){const s=[];for(let i=0;i<t;i++)s.push(e);return s}static getNumArray(t,e=0){const s=[];for(let i=0;i<t;i++)s.push(e);return s}static hasSetter(t,e){for(;t;){const s=Reflect.getOwnPropertyDescriptor(t,e);if(s)return s.writable||!!s.set;t=Object.getPrototypeOf(t)}return!1}static dataUriToBinary(t){const e=";base64,",s=t.indexOf(e)+8,i=t.substring(s),r=window.atob(i),n=r.length,a=new Uint8Array(new ArrayBuffer(n));for(let t=0;t<n;t++)a[t]=r.charCodeAt(t);return a}static assignProps(t,e){let s=!1;if(e)for(let i in e)e[i]!==t[i]&&(t[i]=e[i],s=!0);return s}static assignStyleAndProps(t,e){let s=!1;if(e)for(let i in e)("style"===i||t.hasOwnProperty(i))&&(t[i]=e[i],s=!0);return s}static dedupe(t,e){for(let s=(t=t.sort(e||((t,e)=>t>e?1:t<e?-1:0))).length-1;s>0;s--)t[s]===t[s-1]&&t.splice(s,1);return t}static isUnique(t,e){for(let s=(t=t.sort(e||((t,e)=>t>e?1:t<e?-1:0))).length-1;s>0;s--)if(t[s]===t[s-1])return!1;return!0}static sortNum(t){return t.sort(((t,e)=>t-e))}static logElapsed(t,e){const s=+new Date;e(),gt.log(t,+new Date-s+"ms")}static clamp(t,e,s){return Math.max(e,Math.min(s,t))}static makeIntArray(t,e){const s=new Array(Math.max(0,e-t));for(let i=t;i<e;i++)s[i-t]=i;return s}static setInterval(t,e){return setInterval(t,e)}static clearInterval(t){clearInterval(t)}static isStringArray(t){return i(t)&&t.every((t=>"string"==typeof t))}static isNumberArray(t){return i(t)&&t.every((t=>"number"==typeof t))}static makeLineSeparator(t){if(i(t)){if(t.length>0){let e=t[0];for(let s=1,i=t.length;s<i;s++)e+="|"+t[s];return new RegExp(e,"g")}}else if(t)return new RegExp(t,"g")}static stripQuotes(t){const e=t.charCodeAt(0);return e===_t?t=t.replace(ct,"$1"):e===dt&&(t=t.replace(ut,"$1")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isValidDate(t){return t.getTime()==t.getTime()}static asFunction(t){return"function"==typeof t?t:void 0}static getFieldProp(t){const e=t.indexOf(".");if(e>=0)return{field:t.substring(0,e),props:t.substring(e+1).split(".")}}static startsWith(t,e){if(t&&e)return 0===t.indexOf(e)}static endsWith(t,e){if(t&&e)return t.indexOf(e,-t.length)===t.length-e.length}static scaleNumber(t,e,s){const i=Math.abs(t);if(i>=1e3){let r=e.length-1;for(;r;){const n=Math.pow(1e3,r--);if(n<=Math.pow(10,Math.log(i)*Math.LOG10E)&&(s||10*i%n==0))return{value:t/n,symbol:e[r]}}}}static jitter(t,e){return t+(2*Math.random()-1)*e}}function pt(t){return{width:t.width,height:t.height}}gt.LOGGING=!1,gt.week_days=["일","월","화","수","목","금","토"],gt.long_week_days=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],gt.month_days=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],gt.uniqueKey=function(){let t=Math.random().toString(36).substring(2,9)+"-",e=0;return function(){return"rr-chart-"+t+e++}}();class mt{static create(t,e,s,i){return gt.isObject(t)?new mt(t.x,t.y,t.width,t.height):B(e)?new mt(t,t,t,t):B(s)?new mt(t,e,t,e):new mt(t,e,s,i)}constructor(t=0,e=0,s=0,i=0){this.x=t,this.y=e,this.width=s,this.height=i}get left(){return this.x}set left(t){const e=t-this.x;this.x+=e,this.width-=e}get right(){return this.x+this.width}set right(t){const e=t-(this.x+this.width);this.width+=e}get top(){return this.y}set top(t){const e=t-this.y;this.y+=e,this.height-=e}get bottom(){return this.y+this.height}set bottom(t){const e=t-(this.y+this.height);this.height+=e}get isEmpty(){return 0===this.width||0===this.height}get isValid(){return t=this,!(isNaN(t.x)||isNaN(t.y)||isNaN(t.width)||isNaN(t.height));var t}clone(){return new mt(this.x,this.y,this.width,this.height)}getInner(){return new mt(0,0,this.width,this.height)}equals(t){return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}leftBy(t){return this.x+=t,this.width-=t,this}rightBy(t){return this.width+=t,this}topBy(t){return this.y+=t,this.height-=t,this}bottomBy(t){return this.height+=t,this}shrink(t,e){return this.width-=t,this.height-=e,this}expand(t,e){return this.width+=t,this.height+=e,this}contains(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height}setEmpty(){return this.width=this.height=0,this}move(t=0,e=0){return this.x=t,this.y=e,this}set(t,e,s,i){return this.x=t,this.y=e,this.width=s,this.height=i,this}setWidth(t){return this.width=t,this}copy(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyHorz(t){return this.x=t.x,this.width=t.width,this}copyVert(t){return this.y=t.y,this.height=t.height,this}inflate(t=0,e,s,i){return e=void 0!==e?e:t,s=void 0!==s?s:t,i=void 0!==i?i:e,t&&(this.left=this.x-t),e&&(this.top=this.y-e),s&&(this.right=this.right+s),i&&(this.bottom=this.bottom+i),this}offset(t,e){return this.x+=t,this.y+=e,this}round(){const t=this.clone();return t.x>>>=0,t.y>>>=0,t.width>>>=0,t.height>>>=0,t}union(t){const e=this.clone();return e.left=Math.min(this.x,t.x),e.right=Math.max(this.right,t.right),e.top=Math.min(this.y,t.y),e.bottom=Math.max(this.bottom,t.bottom),e}normalize(){return this.width<0&&(this.x-=this.width,this.width*=-1),this.height<0&&(this.y-=this.height,this.height*=-1),this}toString(){return"{x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+"}"}}var ft;mt.Empty=new mt,mt.Temp=new mt,function(t){t.Developer="developer",t.Evaluation="evaluation",t.Limited="limited",t.Enterprise="enterprise"}(ft||(ft={}));const wt={name:"RealChart",version:"0.9.26",license:"enterprise",code:""};class xt{static decode(t){const e=xt.CHARS,s=xt.PAD;let i=t.split(""),r=[],n=i.length;for(;i[--n]==s;);for(let t=0;t<n;){let s=e.indexOf(i[t++])<<18;t<=n&&(s|=e.indexOf(i[t++])<<12),t<=n&&(s|=e.indexOf(i[t++])<<6),t<=n&&(s|=e.indexOf(i[t++])),r.push(s>>>16&255),r.push(s>>>8&255),r.push(255&s)}for(;0==r[r.length-1];)r.pop();return r}}xt.PAD="=",xt.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";class yt{static union(t,e){const s=e.s3[255&t];t>>=8;const i=e.s2[255&t];t>>=8;const r=e.s1[255&t];t>>=8;const n=e.s0[255&t];let a=(n>>16)+(r>>16)+((65535&n)+(65535&r)>>16)<<16|(65535&n)+(65535&r)&65535;return a=(a>>16^i>>16)<<16|65535&(65535&a^65535&i),(a>>16)+(s>>16)+((65535&a)+(65535&s)>>16)<<16|(65535&a)+(65535&s)&65535}static xor(t,e){return(t>>16^e>>16)<<16|65535&(65535&t^65535&e)}static _encryptBlock(t,e){const s=yt.xor,i=yt.union;let r=t.left,n=t.right;r=s(r,e.p[0]),n=s(n,s(i(r,e),e.p[1])),r=s(r,s(i(n,e),e.p[2])),n=s(n,s(i(r,e),e.p[3])),r=s(r,s(i(n,e),e.p[4])),n=s(n,s(i(r,e),e.p[5])),r=s(r,s(i(n,e),e.p[6])),n=s(n,s(i(r,e),e.p[7])),r=s(r,s(i(n,e),e.p[8])),n=s(n,s(i(r,e),e.p[9])),r=s(r,s(i(n,e),e.p[10])),n=s(n,s(i(r,e),e.p[11])),r=s(r,s(i(n,e),e.p[12])),n=s(n,s(i(r,e),e.p[13])),r=s(r,s(i(n,e),e.p[14])),n=s(n,s(i(r,e),e.p[15])),r=s(r,s(i(n,e),e.p[16])),t.right=r,t.left=s(n,e.p[17])}static _decryptBlock(t,e){const s=yt.xor,i=yt.union;let r=t.left,n=t.right;r=s(r,e.p[17]),n=s(n,s(i(r,e),e.p[16])),r=s(r,s(i(n,e),e.p[15])),n=s(n,s(i(r,e),e.p[14])),r=s(r,s(i(n,e),e.p[13])),n=s(n,s(i(r,e),e.p[12])),r=s(r,s(i(n,e),e.p[11])),n=s(n,s(i(r,e),e.p[10])),r=s(r,s(i(n,e),e.p[9])),n=s(n,s(i(r,e),e.p[8])),r=s(r,s(i(n,e),e.p[7])),n=s(n,s(i(r,e),e.p[6])),r=s(r,s(i(n,e),e.p[5])),n=s(n,s(i(r,e),e.p[4])),r=s(r,s(i(n,e),e.p[3])),n=s(n,s(i(r,e),e.p[2])),r=s(r,s(i(n,e),e.p[1])),t.right=r,t.left=s(n,e.p[0])}static _init(t){let e=t.split("").map((function(t){return 255&t.charCodeAt(0)}));const s=yt.kb,i=yt._encryptBlock;let r,n,a,h=0,o=0,l={left:0,right:0};const c={p:s.p.slice(0).map((function(t){let s,i=e.length;for(s=0;s<4;s++)o=o*yt.POW8|e[h++%i];return(t>>16^o>>16)<<16|65535&(65535&t^65535&o)})),s0:s.s0.slice(0),s1:s.s1.slice(0),s2:s.s2.slice(0),s3:s.s3.slice(0)};for(r=0,a=c.p.length;r<a;)i(l,c),c.p[r++]=l.left,c.p[r++]=l.right;for(r=0;r<4;r++)for(n=0,a=c["s"+r].length;n<a;)i(l,c),c["s"+r][n++]=l.left,c["s"+r][n++]=l.right;return c}static decrypt(t,e){const s=yt._decryptBlock;let i=yt._init(e),r=[],n=xt.decode(t),a=n.length>>3,h=0,o={left:null,right:null};for(let t=0;t<a;t++){o.left=n[h]*yt.POW24|n[h+1]*yt.POW16|n[h+2]*yt.POW8|n[h+3],o.right=n[h+4]*yt.POW24|n[h+5]*yt.POW16|n[h+6]*yt.POW8|n[h+7],s(o,i);const t=o.left,e=o.right;r.push(t>>24&255),r.push(t>>16&255),r.push(t>>8&255),r.push(255&t),r.push(e>>24&255),r.push(e>>16&255),r.push(e>>8&255),r.push(255&e),h+=8}if(r[r.length-1]==r[r.length-2]||1==r[r.length-1]){let t=r[r.length-1];r.splice(r.length-t,t)}return String.fromCharCode.apply(null,r)}}yt.POW2=Math.pow(2,2),yt.POW3=Math.pow(2,3),yt.POW4=Math.pow(2,4),yt.POW8=Math.pow(2,8),yt.POW16=Math.pow(2,16),yt.POW24=Math.pow(2,24),yt.kb={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],k:[202,218,204,100]};class bt{static eqaulsUpperDomain(t,e){return t==e||0===t.indexOf("*")&&(t=t.substr(1,t.length-1),e.substr(e.indexOf(t),t.length)==t)}static _getLDKey(t){let e="";for(let s=0,i=t.length;s<i;s++)e+=String.fromCharCode(t[s]>>1);return e}static includedDomains(t,e,s){let i=t.split(",");for(let t=0,r=i.length;t<r;t++){const r=i[t];if(this.eqaulsUpperDomain(r,e))return!0;if(s&&r&&"*"===r[0]&&"*."!==r.substring(0,2)){if(new RegExp("^/"+r.substring(1)+"/").exec(s))return!0}}return!1}static decrypt(t){const e={},s=yt.decrypt(t,"dkdl"+this._getLDKey(yt.kb.k)).split(";");for(let t=0,i=s.length;t<i;t++){const i=s[t].split("="),r=i[0],n=i[1];n&&n.length>0&&(e[r]=n)}return e}}class vt extends S{constructor(t,e,s){super(),this._inited=!1,this._testing=!1,this._dirty=!0,this._toAnimation=0,this._invalidateLock=!1,this._lockDirty=!1,this._cssVars={},this.loaded=!1,this._windowResizeHandler=t=>{this._windowResized()},this._clickHandler=t=>{this._pointerHandler&&this._pointerHandler.handleClick(this.toOffset(t))},this._dblClickHandler=t=>{this._pointerHandler&&this._pointerHandler.handleDblClick(this.toOffset(t))},this._touchMoveHandler=t=>{},this._pointerDownHandler=t=>{this._dom.setPointerCapture(t.pointerId),this._pointerHandler&&this._pointerHandler.handleDown(this.toOffset(t))},this._pointerMoveHandler=t=>{this._pointerHandler&&this._pointerHandler.handleMove(this.toOffset(t))},this._pointerUpHandler=t=>{this._dom.releasePointerCapture(t.pointerId),this._pointerHandler&&this._pointerHandler.handleUp(this.toOffset(t))},this._pointerCancelHandler=t=>{},this._pointerLeaveHandler=t=>{},this._keyPressHandler=t=>{},this._wheelHandler=t=>{},function(){const t=location.hostname;let e;const s="RealChart를 사용하려면 도움말을 참조하세요.\nhttps://www.realchart.co.kr/";try{if(e=window.realChartLic,!e)throw new Error(s)}catch(t){throw new Error(s)}const i=bt.decrypt(e);if("RealChart"!==i.name||"RealChart"!==wt.name)throw new Error(s);try{const e=i.server.toLowerCase(),r=location.pathname.toLowerCase();if(wt.license!=ft.Developer&&!bt.includedDomains(e,t.toLowerCase(),r))throw new Error(s);const n=i.lic.toLowerCase();if(!Object.values(ft).includes(n))throw new Error(s);if(wt.code=i.code,wt.license=i.lic,n==ft.Evaluation||n==ft.Limited){const t=i.expire.split(".").map((function(t){return parseInt(t)})),e=new Date(t[0],t[1],t[2],23,59,59,999);if(new Date>e)throw new Error("라이선스가 만료되었습니다.")}}catch(t){throw new Error(s)}}(),!t&&e instanceof HTMLDivElement&&(t=e.ownerDocument),this.$_initControl(t||document,e,s||vt.CLASS_NAME),this._resigterEventHandlers(this._dom),this._inited=!0,this.invalidate(!0)}_doDestory(){this._unresigterEventHandlers(this._dom),at.remove(this._dom),this._dom=null,this._container=null}isInited(){return this._inited}isTesting(){return this._testing}doc(){return this._dom.ownerDocument}dom(){return this._dom}svg(){return this._svg}width(){return this._container.offsetWidth}height(){return this._container.offsetHeight}contentWidth(){return this.width()-this._padding.left-this._padding.right}contentHeight(){return this.height()-this._padding.top-this._padding.bottom}clipContainer(){return this._defs}setData(t,e,s){B(e)?(delete this._root.dom.dataset[t],s&&delete this._dom.dataset[t]):(this._root.dom.dataset[t]=e,s&&(this._dom.dataset[t]=e))}clearDefs(){at.clearChildren(this._defs)}$_clearDefs(t){const e=this._defs.children;for(let s=e.length-1;s>=0;s--)e[s].hasAttribute(t)&&e[s].remove()}clearAssetDefs(){this.$_clearDefs(St.ASSET_KEY)}clearTemporaryDefs(){this.$_clearDefs(St.TEMP_KEY)}appendDom(t){t&&this._htmlRoot.append(t)}addElement(t){t&&this._root.add(t)}removeElement(t){this._root.removeChild(t)}setPointerHandler(t){this._pointerHandler=t}invalidate(t=!1){t||!this._invalidateLock&&!this._dirty&&this._inited?(this._dirty=!0,this._requestTimer||this._testing||this.$_requestRender()):this._invalidateLock&&(this._lockDirty=!0)}invalidateLayout(t=!1){this.invalidate(t)}setLock(){this._invalidateLock=!0}releaseLock(t=!0){this._invalidateLock&&(this._invalidateLock=!1),this._lockDirty&&t&&this.invalidate(),this._lockDirty=!1}lock(t){this.setLock();try{t(this)}finally{this.releaseLock()}}silentLock(t){this.setLock();try{t(this)}finally{this.releaseLock(!1)}}getBounds(){return this._dom.getBoundingClientRect()}setAnimation(t){this._toAnimation=t||0}fling(t,e){}getCssVar(t){let e=this._cssVars[t];return t in this._cssVars?this._cssVars[t]:(e=getComputedStyle(this._root.dom).getPropertyValue(t),this._cssVars[t]=e,e)}clipBounds(t=NaN,e=NaN,s=NaN,i=NaN,r=0){const n=new Ct(this.doc(),t,e,s,i,r,r);return this._defs.appendChild(n.dom),n}clipRect(t){return this.clipBounds(t.x,t.y,t.width,t.height)}clipCircle(){const t=new Lt(this.doc());return this._defs.appendChild(t.dom),t}clipPath(){const t=new Et(this.doc());return this._defs.appendChild(t.dom),t}addDef(t){this._defs.appendChild(t)}removeDef(t){if(a(t))for(const e in this._defs.children)if(e instanceof Element&&e.id===t){t=e;break}t instanceof Element&&this._defs.removeChild(t)}containerToElement(t,e,s){const i=this._container.getBoundingClientRect(),r=t.getBounds();return{x:e-r.x+i.x,y:s-r.y+i.y}}svgToElement(t,e,s){const i=this._svg.getBoundingClientRect(),r=t.getBounds();return{x:e-r.x+i.x,y:s-r.y+i.y}}elementToSvg(t,e,s){const i=this._svg.getBoundingClientRect(),r=t.getBounds();return{x:e+r.x-i.x,y:s+r.y-i.y}}test(t){const e=this._svg.outerHTML,s=new Image,i=t.getContext("2d");document.body.appendChild(s),s.width=850,s.height=550,s.src=`data:image/svg+xml;charset=utf-8,&lt;${e}`,s.onload=()=>{i.drawImage(s,0,0)}}_setTesting(){this._testing=!0,St.TESTING=!0}_setSize(t,e){isNaN(t)||(this._container.style.width=t+"px"),isNaN(e)||(this._container.style.height=e+"px")}$_addListener(t,e,s){t.addEventListener(e,s)}_resigterEventHandlers(t){window.addEventListener("resize",this._windowResizeHandler),this.$_addListener(t,"click",this._clickHandler),this.$_addListener(t,"dblclick",this._dblClickHandler),this.$_addListener(t,"touchmove",this._touchMoveHandler),this.$_addListener(t,"pointerdown",this._pointerDownHandler),this.$_addListener(t,"pointermove",this._pointerMoveHandler),this.$_addListener(t,"pointerup",this._pointerUpHandler),this.$_addListener(t,"pointercancel",this._pointerCancelHandler),this.$_addListener(t,"pointerleave",this._pointerLeaveHandler),this.$_addListener(t,"keypress",this._keyPressHandler),this.$_addListener(t,"wheel",this._wheelHandler)}_unresigterEventHandlers(t){window.removeEventListener("resize",this._windowResizeHandler),t.removeEventListener("click",this._clickHandler),t.removeEventListener("dblclick",this._dblClickHandler),t.removeEventListener("touchmove",this._touchMoveHandler),t.removeEventListener("pointerdown",this._pointerDownHandler),t.removeEventListener("pointermove",this._pointerMoveHandler),t.removeEventListener("pointerup",this._pointerUpHandler),t.removeEventListener("pointercancel",this._pointerCancelHandler),t.removeEventListener("pointerleave",this._pointerLeaveHandler),t.removeEventListener("keypress",this._keyPressHandler),t.removeEventListener("wheel",this._wheelHandler)}_prepareRenderers(t){}$_initControl(t,s,i){if(this._inited)return;s instanceof HTMLDivElement?this._container=s:this._container=t.getElementById(s),this._container instanceof HTMLDivElement||q(A.invalidOuterDiv,s);const r=this._container.ownerDocument,n=this._dom=r.createElement("div");o(n.style,{position:"relative",width:"100%",height:"100%",boxSizing:"border-box",overflow:"hidden","-webkit-touch-callout":"none","-webkit-user-select":"none","user-select":"none","-webkit-tap-highlight-color":"rgba(0, 0, 0, 0)"}),n.className=i,this._container.appendChild(n);const a=this._svg=r.createElementNS(e,"svg");a.classList.add("rct-svg"),a.style.setProperty("overflow","visible","important"),a.setAttribute("width","100%"),a.setAttribute("height","100%");const h=r.createElement("desc");h.textContent="Created by RealChart v0.9.26",a.appendChild(h);const l=this._defs=r.createElementNS(e,"defs");this._initDefs(r,l),a.appendChild(l),n.appendChild(a),this._root=new Pt(this),a.appendChild(this._root._dom),this._htmlRoot=r.createElement("div"),n.appendChild(this._htmlRoot),o(this._htmlRoot.style,{position:"absolute"})}_initDefs(t,s){let i=t.createElementNS(e,"filter");const r=t.createElementNS(e,"feDropShadow");i.setAttribute("id",vt.SHADOW_FILTER),r.setAttribute("dx","1"),r.setAttribute("dy","1"),r.setAttribute("flood-olor","#000"),r.setAttribute("flood-opacity","0.75"),r.setAttribute("stdDeviation","1.5"),i.appendChild(r),s.appendChild(i)}_render(){this.$_render()}$_requestRender(){window.requestAnimationFrame?this._requestTimer=window.requestAnimationFrame((()=>this.$_render())):setTimeout((()=>{this.$_render()}),0)}updateNow(){this.$_render()}$_render(){if(+new Date<=this._toAnimation)this.$_requestRender();else{gt.LOGGING&&console.time("render chart");try{this._doBeforeRender();const t=this._dom.getBoundingClientRect(),e=this._svg.getBoundingClientRect(),s=this._svg.clientWidth,i=this._svg.clientHeight;o(this._htmlRoot.style,{left:D(e.left-t.left),top:D(e.top-t.top)}),this._doRenderBackground(this._container.firstElementChild,this._root,s,i);const r=this._padding=at.getPadding(this._root.dom);this._doRender({x:r.left,y:r.top,width:s-r.left-r.right,height:i-r.top-r.bottom})}finally{this.loaded=!0,this._dirty=!1,this._requestTimer=null,this._doAfterRender(),gt.LOGGING&&console.timeEnd("render chart")}}}_doBeforeRender(){}_doAfterRender(){}_doRenderBackground(t,e,s,i){}_windowResized(){this.invalidateLayout()}toOffset(t){const e=this._container.getBoundingClientRect();return t.pointX=t.clientX-e.left,t.pointY=t.clientY-e.top,t}}vt.CLASS_NAME="rct-control",vt.SHADOW_FILTER="rr-chart-shadow-filter",vt._animatable=!0;class St extends v{constructor(t,s,i=C){super(),this._visible=!0,this._zIndex=0,this._scaleX=1,this._scaleY=1,this._rotation=0,this._styles={},this._styleDirty=!1,this._dom=t.createElementNS(e,i||"g"),(this._styleName=s||"")&&this.setAttr("class",this._styleName)}_doDestory(){this.remove()}get doc(){return this._dom.ownerDocument}get dom(){return this._dom}get parent(){return this._parent}get control(){return this._parent&&this._parent.control}get zIndex(){return this._zIndex}set zIndex(t){t!==this._zIndex&&(this._zIndex=t)}get x(){return this._x}set x(t){t!==this._x&&(this._x=t,this.setAttr("x",this._x))}get tx(){return this._translateX}get y(){return this._y}set y(t){t!==this._y&&(this._y=t,this.setAttr("y",this._y))}get ty(){return this._translateY}get width(){return this._width}set width(t){t!==this._width&&(this._width=t,this.setAttr("width",isNaN(t)?"":t))}get height(){return this._height}set height(t){t!==this._height&&(this._height=t,this.setAttr("height",isNaN(t)?"":t))}get visible(){return this._visible}set visible(t){this.setVis(t)}setVis(t){return t!==this._visible&&(this._visible=t,this._dom&&(this._dom.style.display=this._visible?"":"none")),this._visible}get rotation(){return this._rotation}set rotation(t){t!=this._rotation&&(this._rotation=t,this._updateTransform())}setRotation(t,e,s){return t===this._originX&&e===this._originY&&s===this._rotation||(this._originX=t,this._originY=e,this._rotation=s,this._updateTransform()),this}getStyle(t){return window.getComputedStyle(this._dom).getPropertyValue(t)}hasStyle(t){return this.dom.classList.contains(t)}add(t){return t&&t._parent!==this&&(t._parent=this,this._dom.appendChild(t._dom),t._doAttached(this)),t}insertChild(t,e){return t&&t._parent!==this&&(t._parent=this,this._dom.insertBefore(t._dom,e._dom),t._doAttached(this)),t}insertFirst(t){return t&&t._parent!==this&&(t._parent=this,this._dom.insertBefore(t._dom,this._dom.firstChild),t._doAttached(this)),t}removeChild(t){t&&t._parent===this&&(this._dom.removeChild(t._dom),t._parent=null,t._doDetached(this))}remove(){return this._parent&&this._parent.removeChild(this),this}appendElement(t,s){const i=t.createElementNS(e,s);return this._dom.appendChild(i),i}insertElement(t,s,i){const r=t.createElementNS(e,s);return this._dom.insertBefore(r,i),r}getAttr(t){return this._dom.getAttribute(t)}setAttr(t,e){return this._dom.setAttribute(t,e),this}setAttrEx(t,e){return B(e)?this._dom.removeAttribute(t):this._dom.setAttribute(t,e),this}setAttrs(t){for(let e in t)this._dom.setAttribute(e,t[e]);return this}setAttrsEx(t){for(let e in t){const s=t[e];B(s)?this._dom.removeAttribute(e):this._dom.setAttribute(e,s)}return this}unsetAttr(t){return this._dom.removeAttribute(t),this}getBounds(){return this._dom.getBoundingClientRect()}setBounds(t,e,s,i){return this.translate(t,e),this.resize(s,i),this}setRect(t){return this.translate(t.x,t.y),this.resize(t.width,t.height),this}getRect(){return mt.create(this._translateX,this._translateY,this.width,this.height)}getSize(){return{width:this.width,height:this.height}}getBBounds(){return this._dom.getBBox()}controlToElement(t,e){return this.control.containerToElement(this,t,e)}svgToElement(t,e){return this.control.svgToElement(this,t,e)}elementToSvg(t,e){return this.control.elementToSvg(this,t,e)}move(t,e){return this.x=t,this.y=e,this}movep(t){return this.x=t.x,this.y=t.y,this}isDomAnimating(){return this._dom.getAnimations().length>0}rotate(t){return t!==this._rotation&&(this._rotation=t,this._updateTransform()),this}internalRotate(t){this._rotation=t}translate(t,e){return t===this._translateX&&e===this._translateY||(gt.isValidNumber(t)&&(this._translateX=t),gt.isValidNumber(e)&&(this._translateY=e),this._updateTransform()),this}translatep(t){return this.translate(t.x,t.y)}translateEx(t,e,s=0,i=!0){if(t=gt.isNumber(t)?t:this._translateX,e=gt.isNumber(e)?e:this._translateY,t!==this._translateX||e!==this._translateY){if(s>0){const r=this._dom.animate([{transform:`translate(${this._translateX}px,${this._translateY}px)`},{transform:`translate(${t}px,${e}px)`}],{duration:s,fill:"none"});i&&r.addEventListener("finish",(()=>{var t;return null===(t=this.control)||void 0===t?void 0:t.invalidateLayout()}))}this._translateX=t,this._translateY=e,this._updateTransform()}return this}translateX(t){return t!==this._translateX&&gt.isValidNumber(t)&&(this._translateX=t,this._updateTransform()),this}translateY(t){return t!==this._translateY&&gt.isValidNumber(t)&&(this._translateY=t,this._updateTransform()),this}resize(t,e,s=!0){return t!==this._width&&(this._width=t,s&&this.setAttrEx("width",t)),e!==this._height&&(this._height=e,s&&this.setAttrEx("height",e)),this}appendDom(t){return t&&this._dom.appendChild(t),t}insertDom(t,e){return t&&this._dom.insertBefore(t,e),t}clearDom(){const t=this._dom;let e;for(;e=t.lastChild;)t.removeChild(e)}internalClearStyles(){const t=this.dom.style;for(let e in this._styles)t.removeProperty(Y(e));this._styles={}}clearStyles(){const t=this.dom.style;let e=!1;for(let s in this._styles)t.removeProperty(Y(s)),e=!0;return this._styles={},e&&(this._styleDirty=!0),e}clearStyle(t){let e=!1;if(t){const s=this.dom.style;for(let i of t)i in this._styles&&(s.removeProperty(Y(i)),delete this._styles[i],e=!0);e&&(this._styleDirty=!0)}return e}internalSetStyles(t){if(t){const e=this.dom.style;for(let s in t)e[s]=this._styles[s]=t[s]}}setStyles(t){let e=!1;if(t){const s=this.dom.style;for(let i in t)this._styles[i]!==t[i]&&(s[i]=this._styles[i]=t[i],e=!0);e&&(this._styleDirty=!0)}return e}resetStyles(t){const e=this.clearStyles();return this.setStyles(t)||e}_resetClass(){this._styleName?this.setAttr("class",this._styleName):this.unsetAttr("class")}clearStyleAndClass(){this.clearStyles(),this._resetClass()}internalClearStyleAndClass(){this.internalClearStyles(),this._resetClass()}setStyleOrClass(t){a(t)?(this._resetClass(),t&&this._dom.classList.add(t)):this.resetStyles(t)}internalSetStyleOrClass(t){a(t)?this._dom.classList.add(t):this.internalSetStyles(t)}addStyleOrClass(t){a(t)?t&&this._dom.classList.add(t):s(t)&&this.setStyles(t)}setClass(t){this.setAttr("class",t)}setStyle(t,e){let s=!1;return e!==this._styles[t]&&(s=this._styleDirty=!0,this._styles[t]=e,this.dom.style[t]=e),s}internalSetStyle(t,e){e!==this._styles[t]&&(this._styles[t]=e,this.dom.style[t]=e)}textAlign(){return this._styles.textAlign}setData(t,e){this.dom.dataset[t]=f(e,"")}unsetData(t){delete this.dom.dataset[t]}setBoolData(t,e){e?this.dom.dataset[t]="":delete this.dom.dataset[t]}removeLater(t,e){if(this._parent)if(t>0){const s=this._dom.animate([{},{opacity:0}],{duration:t,fill:"none"});s&&s.addEventListener("finish",(()=>{this.remove(),null==e||e(this)}))}else this.remove();return this}hide(t){if(this._parent)if(t>0){const e=this._dom.animate([{},{opacity:0}],{duration:t,fill:"none"});e&&e.addEventListener("finish",(()=>{this.setVis(!1)}))}else this.setVis(!1);return this}clipRect(t,e,s,i,r=0){const n=this.control.clipBounds(t,e,s,i,r);return this.setClip(n),n}setClip(t){t?this.setAttr("clip-path","url(#"+(t.id||t)+")"):this.unsetAttr("clip-path")}setTemporary(){return this.setAttr(St.TEMP_KEY,1),this}setCursor(t){this._dom.style.cursor=t}ignorePointer(){this._dom.style.pointerEvents="none"}contains(t){return this._dom.contains(t)}_testing(){return St.TESTING}_doAttached(t){}_doDetached(t){}_updateTransform(){this._dom.setAttribute("transform",this.getTransform())}getTransform(){const t=this._dom;let e=this._translateX,s=this._translateY,i=[];(gt.isValidNumber(e)||gt.isValidNumber(s))&&(e=e||0,s=s||0,i=["translate("+e+","+s+")"]),gt.isNotEmpty(this._matrix)&&i.push("matrix("+this._matrix.join(",")+")"),this._rotation&&i.push("rotate("+this._rotation+" "+gt.pick(this._originX,t.getAttribute("x"),0)+" "+gt.pick(this._originY,t.getAttribute("y")||0)+")");const r=gt.getNumber(this._scaleX,1),n=gt.getNumber(this._scaleY,1);return 1===r&&1===n||i.push("scale("+r+" "+n+")"),i.length?i.join(" "):""}}St.DEBUGGING=!1,St.TESTING=!1,St.ASSET_KEY="_asset_",St.TEMP_KEY="_temp_";class Vt extends St{constructor(t,e){super(t,e,"g")}}class Pt extends St{constructor(t){super(t.doc(),"rct-root"),this._control=t}get control(){return this._control}}class At extends St{constructor(t){super(t,C,"clipPath");const e=this._id=gt.uniqueKey()+"-";this.setAttr("id",e)}get id(){return this._id}}class Ct extends At{constructor(t,e=NaN,s=NaN,i=NaN,r=NaN,n=0,a=0){super(t);const h=this._rect=new St(t,null,"rect");h.setAttr("fill","none"),n>0&&h.setAttr("rx",String(n)),a>0&&this.dom.setAttribute("rx",String(a)),isNaN(e)||h.setBounds(e,s,i,r),this.add(h)}setBounds(t,e,s,i){return this._rect.move(t,e),this._rect.resize(s,i),this}resize(t,e,s){return this._rect.resize(t,e),this}get x(){return this._rect.x}set x(t){this._rect.x=t}get y(){return this._rect.y}set y(t){this._rect.y=t}get width(){return this._rect.width}set width(t){this._rect.width=t}get height(){return this._rect.height}set height(t){this._rect.height=t}}class kt extends St{constructor(t,e=void 0,s=void 0){super(t,e,"path"),s&&this.setPath(s)}path(){return this._path}setPath(t){const e=a(t)?t:t.join(" ");return e!==this._path&&this.setAttr("d",this._path=e),this}}class Et extends At{constructor(t){super(t),this._path=new kt(t),this.add(this._path)}setPath(t){this._path.setPath(t)}}class Lt extends At{constructor(t){super(t),this.add(this._circle=new St(t,null,"circle"))}setCircle(t,e,s){this._circle.setAttrs({cx:t,cy:e,r:s})}}class Tt{constructor(){this.dragging=!1}start(t,e,s,i,r){return this.cancel(),!!this._doStart(t,e,s,i,r)&&(this.dragging=!0,this._showFeedback(i,r),!0)}drag(t,e,s,i,r){return!(!this.dragging||!this._doDrag(t,e,s,i,r))&&(this._moveFeedback(i,r),!0)}cancel(){if(this.dragging)try{this.dragging=!1,this._doCanceled()}finally{this.end(-1,-1)}}drop(t,e,s){if(this.dragging)try{this.dragging=!1,this._canAccept(t,e,s)?this._doCompleted(t,e,s):this._doCanceled()}finally{this.end(e,s)}}end(t,e){try{this.dragging=!1,this._hideFeedback()}finally{this._doEnded(t,e)}}_canAccept(t,e,s){return!0}_showFeedback(t,e){}_moveFeedback(t,e){}_hideFeedback(){}_doStart(t,e,s,i,r){return!0}_doCanceled(){}_doCompleted(t,e,s){}_doEnded(t,e){}}const Mt="0".charCodeAt(0),Nt="#".charCodeAt(0),Rt=",".charCodeAt(0),Ot="s".charCodeAt(0),Dt="a".charCodeAt(0);class Bt{static getFormatter(t){let e=Bt.Formatters[t];return e||(Bt.Formatters[t]=e=new Bt(t)),e}static get Default(){return Bt.getFormatter(Bt.DEFAULT_FORMAT)}constructor(t){t=t.trim(),this._options=t?this.$_parse(this._format=t):{useGrouping:!1}}get format(){return this._format}toStr(t){return t.toLocaleString(void 0,this._options)}$_parse(t){const e=t.length;if(e>0){const s={useGrouping:!1,minimumIntegerDigits:0,minimumFractionDigits:0,maximumFractionDigits:0};let i=t.indexOf(".");if(i>=0){let r=i+1;for(;r<e&&t.charCodeAt(r)===Mt;)s.minimumFractionDigits++,r++;for(s.maximumFractionDigits=s.minimumFractionDigits;r<e&&t.charCodeAt(r)===Nt;)s.maximumFractionDigits++,r++;i-=1}else i=e-1;let r=i;for(;r>=0&&t.charCodeAt(r)===Mt;)s.minimumIntegerDigits++,r--;for(;r>=0;){if(t.charCodeAt(r--)===Rt){s.useGrouping=!0;break}}for(r=i;r>=0;){if(t.charCodeAt(r--)===Ot){s.signDisplay="always";break}}if(!s.signDisplay)for(r=i;r>=0;){if(t.charCodeAt(r--)===Dt){s.signDisplay="never";break}}return s.minimumIntegerDigits=Math.max(1,s.minimumIntegerDigits),s.maximumFractionDigits||delete s.maximumFractionDigits,s}}}Bt.DEFAULT_FORMAT="",Bt.Formatters={};const It=["yy","yyyy","M","MM","d","dd","WW","W","w","ww","a","H","HH","h","hh","m","mm","s","ss","S","SS","SSS"],$t=[".","/","-",":"],Ft="Z".charCodeAt(0),zt="z".charCodeAt(0),Ht="A".charCodeAt(0),Gt="a".charCodeAt(0),jt="y".charCodeAt(0),Wt="M".charCodeAt(0),Yt="m".charCodeAt(0),Xt="W".charCodeAt(0),Ut="w".charCodeAt(0),Zt="d".charCodeAt(0),qt="H".charCodeAt(0),Kt="h".charCodeAt(0),Qt="S".charCodeAt(0),Jt="s".charCodeAt(0);class te{static getFormatter(t){let e=te.Formatters[t];return e||(te.Formatters[t]=e=new te(t)),e}static get Default(){return te.getFormatter(A.dateFormat)}constructor(t){this._baseYear=2e3,this._preserveTime=!1,this._hasAmPm=!1,this._formatString="",this.formatString=t}get format(){return this._format}get formatString(){return this._formatString}set formatString(t){(t=t||A.dateFormat)!=this._formatString&&(this._tokens=[],this.parse(t),this._formatString=t)}toStr(t,e){if(!this._tokens)return"";const s=this._tokens;let i="";for(var r=0,n=s.length;r<n;r++){var a=s[r],h=a.length;switch(a.charCodeAt(0)){case jt:i+=h>2?t.getFullYear():I(t.getFullYear()%100);break;case Wt:i+=h>1?I(t.getMonth()+1):t.getMonth()+1;break;case Zt:i+=h>1?I(t.getDate()):t.getDate();break;case Xt:i+=h>1?I(gt.weekOfYear(t,e)):gt.weekOfMonth(t,e,!0);break;case Ut:i+=h>1?gt.long_week_days[t.getDay()]:gt.week_days[t.getDay()];break;case qt:i+=h>1?I(t.getHours()):t.getHours();break;case Kt:if(this._hasAmPm){let e=t.getHours();0==e?e=12:e>12&&(e-=12),i+=h>1?I(e):e}else i+=h>1?I(t.getHours()):t.getHours();break;case Yt:i+=h>1?I(t.getMinutes()):t.getMinutes();break;case Jt:i+=h>1?I(t.getSeconds()):t.getSeconds();break;case Gt:case Ht:t.getHours()<12?i+=A.am:i+=A.pm;break;case Qt:let s=t.getMilliseconds();i+=3==h?$(s):2==h?I(s):s.toString().substring(0,h);break;default:i+=a}}return i}parseDateFormatTokens(t){var e=[];if(t){const s=t.trim(),i=s.length;let r=0;for(;r<i;){let n=s.charAt(r);if($t.indexOf(n)>=0)e.push(n),r++;else{let a=r++;for(;r<i&&s.charAt(r)==n;)r++;if(n=s.substring(a,r),It.indexOf(n)<0){let e=n.charCodeAt(0);(e>=Ht&&e<=Ft||e>=Gt&&e<=zt)&&q(A.invalidDateFormat,t)}e.push(n)}if(r<i&&gt.isWhiteSpace(n=s.charAt(r)))for(e.push(n);r<i&&gt.isWhiteSpace(s.charAt(r));)r++}}return e}parse(t){t&&(this._format=t||A.dateFormat,this._tokens=this.parseDateFormatTokens(this._format),this._hasAmPm=this._tokens.indexOf("a")>=0||this._tokens.indexOf("A")>=0)}}te.Formatters={};class ee{static isBright(t){return new ee(t).isBright()}static getContrast(t,e,s){return new ee(t).getContrast(e,s)}static interpolate(t,e,s){const i=(16711680&t)>>16,r=(65280&t)>>8,n=255&t;return(i+(((16711680&e)>>16)-i)*s<<16)+(r+(((65280&e)>>8)-r)*s<<8)+(n+((255&e)-n)*s)}constructor(t){this.r=0,this.g=0,this.b=0,this.a=1,(t=t&&t.trim())&&(gt.startsWith(t,"rgb(")&&gt.endsWith(t,")")?this.$_parseRgb(t.substring(4,t.length-1)):gt.startsWith(t,"rgba(")&&gt.endsWith(t,")")?this.$_parseRgb(t.substring(5,t.length-1)):gt.startsWith(t,"#")&&this.$_parseNumber(t.substr(1)))}get rgba(){return"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"}isBright(){return.299*this.r+.587*this.g+.114*this.b>140}getContrast(t,e){return this.isBright()?t||"#000000":e||"#FFFFFF"}brighten(t,e=null){return(e=e||new ee(null)).r=Math.ceil(this.r+(255-this.r)*t),e.g=Math.ceil(this.g+(255-this.g)*t),e.b=Math.ceil(this.b+(255-this.b)*t),e.a=this.a,e}toString(){return this.rgba}$_parseRgb(t){const e=t.split(/\,\s*/);e.length>=3&&(this.r=+e[0],this.g=+e[1],this.b=+e[2],e.length>=4?this.a=+e[3]:this.a=1)}$_parseNumber(t){const e=t.length;let s;e>6?(s=parseInt(t.substr(0,6),16),this.a=parseInt(t.substring(6),16)/255):e>0&&(3===e&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),s=parseInt(t,16)),this.r=(16711680&s)>>16,this.g=(65280&s)>>8,this.b=255&s}}var se,ie,re;!function(t){t.START="start",t.MIDDLE="middle",t.END="end"}(se||(se={})),function(t){t.TOP="top",t.MIDDLE="middle",t.BOTTOM="bottom"}(ie||(ie={})),function(t){t.TRUNCATE="truncate",t.WRAP="wrap",t.ELLIPSIS="ellipsis"}(re||(re={}));class ne extends St{constructor(t,e=C){super(t,e,"text"),this._layout=ie.TOP,this._overflow=re.WRAP,this._dirty=!0,this._text="",this.anchor=se.MIDDLE}get text(){return this._text}set text(t){(t=t||"")!==this._text&&(this._dirty=!0,this.dom.textContent=this._text=t,this.layoutText())}get anchor(){return this.getAttr("text-anchor")}set anchor(t){t!==this.anchor&&this.setAttr("text-anchor",t)}get layout(){return this._layout}set layout(t){t!==this._layout&&(this._layout=t,this.layoutText())}get overflow(){return this._overflow}set overflow(t){t!==this._overflow&&(this._overflow=t,this.layoutText())}get opacity(){return this.getAttr("fill-opacity")}set opacity(t){this.setAttr("fill-opacity",t)}getAscent(t){return.75*t}layoutText(t){const e=this.getBBounds(),s=this.getAscent(isNaN(t)?e.height:t);let i;switch(this._layout){case ie.MIDDLE:i=Math.floor(s/2);break;case ie.BOTTOM:i=0;break;default:i=Math.ceil(s)}this.setAttr("y",i)}isFitIn(t){return this.calcWidth()>=t}calcWidth(){const t=this._text.length;return t&&this.dom.getSubStringLength(0,t)}calcRangeWidth(t=0,e=Number.MAX_SAFE_INTEGER){return t=Math.max(0,t),(e=Math.min(this._text.length,e))>t?this.dom.getSubStringLength(t,e-t):0}truncate(t,e){let s=this._text;if(!s)return;const i=this.dom;let r,n=0,a=s.length;do{r=Math.ceil((n+a)/2);i.getSubStringLength(0,r)>t?a=r-1:n=r}while(n<a);for(this.text=s.substring(0,n)+"…";n>0&&this.calcWidth()>t;)this.text=s.substring(0,--n)+"…"}setContrast(t,e,s){return this.setStyleOrClass(ee.isBright(getComputedStyle(t).fill)?e:s),this}clearDom(){super.clearDom(),this._dirty=!0}setStyles(t){let e=super.setStyles(t);return e&&this.layoutText(),e}setStyle(t,e){let s=super.setStyle(t,e);return s&&this.layoutText(),s}getBBounds(){return(this._dirty||this._styleDirty)&&(this._bounds=this.dom.getBBox(),this._dirty=this._styleDirty=!1),this._bounds}getBBoundsTest(){return(this._dirty||this._styleDirty)&&(this._bounds={x:this.x,y:this.y,width:100,height:30},this._dirty=this._styleDirty=!1),this._bounds}stain(){this._dirty=!0}}const ae="$_TH";class he{get type(){return""}parse(t){return this.text=t,this._doParse(t),this}getText(t,e){const s=this._literals;if(s&&e.callback){let i=this.text;for(let r=0;r<s.length;r+=4){let n=e.callback(t,s[r+1]);if("number"==typeof n&&!isNaN(n)||"bigint"==typeof n){const t=s[3]?Bt.getFormatter(s[3]):e.numberFormatter;t&&(n=t.toStr(n))}else if(n instanceof Date){const t=s[3]?te.getFormatter(s[3]):e.timeFormatter;t&&(n=t.toStr(n,e.startOfWeek||0))}else null==n&&(n=s[r+2]||"");i=i.replace(s[r],n)}return i}return this.text}prepareSpan(t,e,s){const i=this.getText(e,s);return t.textContent=i,t}_doParse(t){this._literals=[];let e=0;for(;e<t.length;){const s=t.indexOf("${",e);if(s<0)break;const i=t.indexOf("}",s+2);if(i<0)break;const r=t.substring(s,i+1),n=r.substring(2,r.length-1),a=n.indexOf(";");if(a>0){const t=n.indexOf(";",a+1);t>=a?this._literals.push(r,n.substring(0,a),n.substring(a+1,t),n.substring(t+1)):this._literals.push(r,n.substring(0,a),n.substring(a+1),C),0===this._literals[2].length&&(this._literals[2]=C)}else this._literals.push(r,n,C,C);e=i+1}return 0==this._literals.length&&(this._literals=null),this}}class oe extends he{prepareSpan(t,e,s){const i=this.getText(e,s),r=i.indexOf(">")+1,n=i.indexOf("<",r);return this._doPrepare(t,i,r,n),t}_doPrepare(t,e,s,i){t.innerHTML=e.substring(s,i);const r=e.indexOf("style=");if(r>0&&r<s){const i=e[r+6],n=e.indexOf(i,r+7);n>0&&n<s&&t.setAttribute("style",e.substring(r+7,n))}}}const le={t:class extends oe{get type(){return"t"}},b:class extends oe{get type(){return"b"}_doPrepare(t,e,s,i){super._doPrepare(t,e,s,i),t.setAttribute("class","rct-text-bold")}},i:class extends oe{get type(){return"i"}_doPrepare(t,e,s,i){super._doPrepare(t,e,s,i),t.setAttribute("class","rct-text-italic")}}};class ce{get words(){return this._words.slice()}parse(t){function e(t){const e=s.length;e>0&&""===s[e-1].type?s[e-1].text+=t:s.push((new he).parse(t))}const s=this._words=[];let i=0;for(;i<t.length;){const s=t[i],r=t[i+1];if("<"==s){let s;if(r in le){const e=t.indexOf(">",i+2);if(e>=0){const n="</"+r+">",a=t.indexOf(n,e+1);if(a>=0){const e=t.substring(i,a+n.length);s=(new le[r]).parse(e),i+=e.length}}}if(!s){e(t.substring(i));break}this._words.push(s)}else{const s=t.indexOf("<",i+1);if(!(s>=0)){e(t.substring(i));break}e(t.substring(i,s)),i=s}}return this}}const ue=/<br.*?>|\r\n|\n/;class _e{constructor(t){this.setFormat(t)}setFormat(t){t!==this._format&&this.$_parse(this._format=null!=t?String(t):t)}lines(){return this._lines.slice()}build(t,e,s,i,r){const n=t.doc,a=p(this.lineHeight,1),h=this._lines,o=h.length,l=[];let c;t.clearDom(),i=i||t;for(let e=0;e<o;e++){const s=h[e];let o=0,c=0,u=null;for(let e of s.words){const s=e.prepareSpan(t.appendElement(n,"tspan"),i,r),a=s.getBBox();o+=a.width,s.$_TW=a.width,c=Math.max(c,s[ae]=a.height),u||(u=s)}l.push(u),s[ae]=c*a}if(o>0){c=h[0][ae];for(let e=1;e<l.length;e++)if(l[e]){const s=t.insertElement(n,"tspan",l[e]);let i=Math.floor(c-t.getAscent(c))+t.getAscent(h[e][ae]);s.setAttribute("x","0"),s.setAttribute("dy",String(i)),s.innerHTML="&#8203;",c=h[e][ae]}t.layoutText(h[0][ae])}}layout(t,e,s,i,r){const n=t.getBBounds();let a,h=Math.max(r.top,r.top+(i-n.height)/2);switch(e){case K.CENTER:t.anchor=se.MIDDLE,a=r.left+(s-r.left-r.right)/2;break;case K.RIGHT:t.anchor=se.END,a=t.getBBounds().width-r.right;break;default:t.anchor=se.START,a=r.left}t.translate(a,h)}$_parse(t){const e=this._lines=[];if(t){const s=t.split(ue);for(let t of s)e.push((new ce).parse(t))}}}let de=0;class ge extends v{constructor(t,e){super(),this.INVALID={},this.chart=t,this._visible=e,de++}get visible(){return this._visible}set visible(t){var e;t!==this._visible&&(this._visible=t,null===(e=this.chart)||void 0===e||e._visibleChanged(this))}load(t){if(void 0!==t&&!this._doLoadSimple(t)){if(null!==t&&null!=t.template){const e=this.chart&&this.chart.assignTemplates;e&&(t=e(t))}this._doLoad(t)}return this}save(){const t={visible:this.visible};return this._doSave(t),t}$_parseProp(t){if(t.indexOf(".")>=0){const e=t.split("."),s=e.length-1;let i=this;for(let t=0;t<s;t++)if(i=i[e[t]],!(i instanceof v))return this.INVALID;return{obj:i,prop:e[s]}}}getProp(t){if(a(t)){const e=this.$_parseProp(t);return e?e===this.INVALID?C:e.obj[e.prop]:this[t]}}setProp(t,e,s){if(a(t)){const i=this.$_parseProp(t);if(i)i.obj instanceof ge?i.obj.setProp(i.prop,e,s):i.obj instanceof v&&e!==i.obj[i.prop]&&(i.obj[i.prop]=e,s&&this._changed());else if(t in this){const i=this[t];if(i instanceof ge)return i.setProps(e,s);if(e!==i)return this[t]=e,s&&this._changed(),!0}}}setProps(t,e){let i=!1;if(s(t))for(const e in t)this.setProp(e,t[e],!1)&&(i=!0);else this._doLoadSimple(t)&&(i=!0);return i&&e&&this._changed(),i}prepareRender(){this._doPrepareRender(this.chart)}_changed(t){var e;null===(e=this.chart)||void 0===e||e._modelChanged(this,t)}_doLoadSimple(t){if("boolean"==typeof t)return this.visible=t,!0}_doLoad(t){for(const e in t){let r=t[e];this._doLoadProp(e,r)||(this[e]instanceof ge?this[e].load(r):i(r)?this[e]=r.slice(0):r instanceof Date?this[e]=new Date(r):s(r)?this[e]=o({},r):this[e]=r)}}_doLoadProp(t,e){return!1}_doSave(t){}_doPrepareRender(t){}_loadStroke(t){if(a(t))return this.visible=!0,this.style={stroke:t},!0}}var pe,me,fe,we,xe,ye,be,ve,Se;ge.UPDATED="updated",function(t){t.NONE="none",t.OUTLINE="outline",t.BACKGROUND="background"}(pe||(pe={})),function(t){t.CLIP="clip",t.ELLIPSIS="ellipsis",t.WRAP="wrap"}(me||(me={}));class Ve extends ge{constructor(){super(...arguments),this._outlineThickness=2,this._outlineWidth="2px",this.effect=pe.NONE,this.autoContrast=!0}get outlineThickness(){return this._outlineThickness}set outlineThickness(t){t!==this._outlineThickness&&(this._outlineThickness=t,this._outlineWidth=p(t,2)+"px")}}class Pe extends Ve{constructor(t,e){super(t,e),this.numberSymbols="k,M,G,T,P,E",this.numberFormat="#,##0.#"}get numberSymbols(){return this._numberSymbols}set numberSymbols(t){t!==this._numberSymbols&&(this._numberSymbols=t,this._numSymbols=t&&t.split(","))}get numberFormat(){return this._numberFormat}set numberFormat(t){t!==this._numberFormat&&(this._numberFormat=t,this._numberFormatter=t?Bt.getFormatter(t):null)}get text(){return this._text}set text(t){this.setText(t)}setText(t){return t!==this._text&&this.prepareRich(this._text=t),!isNaN(this.lineHeight)&&this._richTextImpl&&(this._richTextImpl.lineHeight=this.lineHeight),this}prepareRich(t){t?(this._richTextImpl||(this._richTextImpl=new _e),this._richTextImpl.setFormat(t)):this._richTextImpl=null}isVisible(){return this.visible&&!!this._text}buildSvg(t,e,s,i,r,n){this._richTextImpl&&(this._richTextImpl.build(t,s,i,r,n),e&&this._richTextImpl.build(e,s,i,r,n))}_doLoadSimple(t){return a(t)?(this.text=t,!0):super._doLoadSimple(t)}$_getNumberText(t,e,s){if(gt.isValidNumber(t)){const i=this._numSymbols&&e&&gt.scaleNumber(t,this._numSymbols,s);return this._numberFormatter?i?this._numberFormatter.toStr(i.value)+i.symbol:this._numberFormatter.toStr(t):i?i.value+i.symbol:String(t)}return"NaN"}_getText(t,e,s,i=!1){let r=t||this.$_getNumberText(e,s,i)||e;return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}}class Ae extends ge{}!function(t){t.CHART="chart",t.CONTAINER="container"}(fe||(fe={}));class Ce extends ge{constructor(t){super(t,!0),this.front=!1,this.align=K.LEFT,this.verticalAlign=Q.TOP,this.offsetX=10,this.offsetY=10,this.scope=fe.CHART}getPosition(t,e,s,i,r,n,a){let h=e,o=s;switch(this.align){case K.CENTER:h+=(i-n)/2+this.offsetX;break;case K.RIGHT:h+=i-this.offsetX-n;break;default:h+=this.offsetX}switch(this.verticalAlign){case Q.MIDDLE:o+=(r-a)/2-this.offsetY;break;case Q.BOTTOM:o+=r-this.offsetY-a;break;default:o+=this.offsetY}return{x:h,y:o}}update(){this._changed(ge.UPDATED)}_doPrepareRender(t){this._seriesObj=t.seriesByName(this.series)}}class ke{constructor(t){this._map={},this._items=[],this._visibles=[],this.chart=t.chart}get count(){return this._items.length}getVisibles(){return this._visibles.slice(0)}getAnnotation(t){const e=this._map[t];if(e instanceof Ce)return e}get(t){return a(t)?this._map[t]:this._items[t]}load(t){const e=this.chart,r=this._items=[],n=this._map={};i(t)?t.forEach(((t,s)=>{r.push(this.$_loadItem(e,t,s))})):s(t)&&r.push(this.$_loadItem(e,t,0)),r.forEach((t=>{t.name&&(n[t.name]=t)}))}prepareRender(){this._visibles=this._items.filter((t=>t.visible)),this._visibles.forEach((t=>t.prepareRender()))}$_loadItem(t,e,s){let i=e.type;i||(i=a(e.imageUrl)?"image":a(e.shape)?"shape":"text");const r=t._getAnnotationType(i);if(!r)throw new Error("Invalid annotation type: "+e.type);const n=new r(t,e.name||`annotation ${s+1}`);return n.load(e),n.index=s,n}}class Ee extends Ce{get width(){return this._width}set width(t){t!==this._width&&(this._widthDim=z(this._width=t,!0))}get height(){return this._height}set height(t){t!==this._height&&(this._heightDim=z(this._height=t,!0))}getSize(t,e){return{width:G(this._widthDim,t),height:G(this._heightDim,e)}}}class Le{constructor(t){this.source=t}}class Te extends Le{_setStops(t,s){const r=t.createElementNS(e,"stop"),n=t.createElementNS(e,"stop"),a=this.source.color,h=B(this.source.opacity)?1:this.source.opacity,o=i(a)?a[0]:a,l=i(a)&&a.length>1?a[1]:"white",c=i(h)?h[0]:h,u=i(h)&&h.length>1?h[1]:h;s.setAttribute("id",this.source.id),r.setAttribute("offset","0"),r.setAttribute("stop-color",l),r.setAttribute("stop-opacity",c),n.setAttribute("offset","1"),n.setAttribute("stop-color",o),n.setAttribute("stop-opacity",u),s.appendChild(r),s.appendChild(n)}}class Me extends Te{getEelement(t,s){const i=t.createElementNS(e,"linearGradient");let{x1:r,x2:n,y1:a,y2:h}={x1:0,x2:0,y1:0,y2:0};switch(this._setStops(t,i),s.dir){case"up":a=1;break;case"right":n=1;break;case"left":r=1;break;default:h=1}return i.setAttribute("x1",r),i.setAttribute("y1",a),i.setAttribute("x2",n),i.setAttribute("y2",h),i}}Me.TYPE="lineargradient";class Ne extends Te{getEelement(t,s){const i=t.createElementNS(e,"radialGradient");return B(s.cx)||i.setAttribute("cx",s.cx),B(s.cy)||i.setAttribute("cy",s.cy),B(s.rd)||i.setAttribute("rd",s.rd),this._setStops(t,i),i}}Ne.TYPE="radialgradient";class Re extends Le{getEelement(t,i){const r=t.createElementNS(e,"pattern"),n=t.createElementNS(e,"path");let h=!1;if(r.setAttribute("id",i.id),r.setAttribute("patternUnits","userSpaceOnUse"),n.classList.add("rct-pattern"),+i.pattern>=0){const t=Re.STOCK[+i.pattern%Re.STOCK.length];n.setAttribute("d",t.path),t.style&&o(n.style,t.style),h=!t.fill,r.setAttribute("width",String(t.width||20)),r.setAttribute("height",String(t.height||20))}else a(i.pattern)&&(n.setAttribute("d",i.pattern),r.setAttribute("width",String(i.width||i.height||20)),r.setAttribute("height",String(i.height||i.width||20)));return s(i.style)&&o(n.style,i.style),h&&(n.style.fill="none"),r.append(n),r}}Re.TYPE="pattern",Re.STOCK=[{path:"M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9",width:10,height:10,style:{strokeWidth:"0.3px"}},{path:"M0 0 L0 3 L5.2 6 L10.4 3 L10.4 0 M5.2 6 L5.2 12 L0 15 L0 18 M5.2 12 L10.4 15 L10.4 18",width:10.4,height:18,style:{strokeWidth:"0.3px"}},{path:"M0 0h5v5H0zM5 5h5v5H5z",fill:!0,width:10,height:10},{path:"m5 .037 4.957 4.957L5 9.951.043 4.994z",fill:!0,width:10,height:10},{path:"M0 2.8 L5 0 L10 2.8 L10 14 L5 16.8 L0 14 L0 2.8 M5 0 L5 5.6 L0 8.4 L5 11.2 L5 16.8 M5 5.6 L10 8.4 L5 11.2",style:{strokeWidth:"0.3px"},width:10,height:16.8},{path:"m5 .037 4.957 4.957L5 9.951.043 4.994z",fill:!1,width:10,height:10,style:{strokeWidth:"0.3px"}},{path:"M 0 0 L 12 12 L 24 0 M 4 0 L 12 8 L 20 0 M 8 0 L 12 4 L 16 0 M 0 4 L 8 12 L 0 20 M 0 8 L 4 12 L 0 16 M 0 24 L 12 12 L 24 24 M 4 24 L 12 16 L 20 24 M 8 24 L 12 20 L 16 24 M 24 20 L 16 12 L 24 4 M 24 16 L 20 12 L 24 8",width:24,height:24,fill:!1,style:{strokeWidth:"0.4px"}},{path:"M10 2.52H0M0 7.48h10M7.48 10V0M2.52 0v10",style:{strokeWidth:"0.3px"},width:5,height:5},{path:"M-2.5 1.25l5 2.5L7.5 1.25l5 2.5 M-2.5 6.25l5 2.5 5-2.5 5 2.5 M-2.5 11.25l5 2.5 5-2.5 5 2.5 M-2.5 16.25l5 2.5 5-2.5 5 2.5",width:10,height:10,style:{strokeWidth:"0.3px"}},{path:"M25 1.95v.26c-.79 0-1.43.64-1.43 1.43 0 .25.15.62.33.8l.31.31c.25.27.31.65.16.98l-.06.11c-.18.32-.5.52-.87.54h-4.56v4.56c.02.26.17.5.39.63l.11.06c.21.1.52.05.68-.11l.31-.31c.27-.24.61-.39.98-.4.93 0 1.69.76 1.69 1.69 0 .93-.76 1.69-1.69 1.69-.36-.02-.71-.16-.98-.4l-.31-.31a.63.63 0 0 0-.68-.11l-.11.06c-.23.13-.38.37-.39.63v4.56h4.56c.36.02.69.22.87.54l.06.11c.15.33.09.72-.16.98l-.31.31c-.2.22-.31.5-.33.8 0 .79.64 1.43 1.43 1.43v.26c-.93 0-1.69-.76-1.69-1.69.02-.36.16-.71.4-.98l.31-.31a.63.63 0 0 0 .11-.68l-.06-.11a.764.764 0 0 0-.63-.39h-4.56v4.56c-.02.36-.22.69-.54.87l-.11.06c-.33.15-.72.09-.98-.16l-.31-.31c-.22-.2-.5-.31-.8-.33-.79 0-1.43.64-1.43 1.43h-.26c0-.93.76-1.69 1.69-1.69.32 0 .75.18.98.4l.31.31c.19.17.45.21.68.11l.11-.06c.23-.13.38-.37.39-.63v-4.56h-4.56c-.36-.02-.69-.22-.87-.54l-.06-.11a.886.886 0 0 1 .16-.98l.31-.31c.2-.22.31-.5.33-.8a1.43 1.43 0 1 0-2.86 0c0 .25.15.62.33.8l.31.31c.25.27.31.65.16.98l-.06.11c-.18.32-.5.52-.87.54H6.38v4.56c.02.26.17.5.39.63l.11.06c.21.1.52.05.68-.11l.31-.31c.27-.24.61-.39.98-.4.93 0 1.69.76 1.7 1.69h-.26c0-.79-.64-1.43-1.43-1.43-.25 0-.62.15-.8.33l-.31.31c-.27.25-.65.31-.98.16l-.11-.06c-.32-.18-.52-.5-.54-.87v-4.56H1.56c-.26.02-.5.17-.63.39l-.06.11c-.1.21-.05.52.11.68l.31.31c.24.27.39.61.4.98 0 .93-.76 1.69-1.69 1.7v-.26c.79 0 1.43-.64 1.43-1.43 0-.25-.15-.62-.33-.8l-.31-.31a.888.888 0 0 1-.16-.98l.06-.11c.18-.32.5-.52.87-.54h4.56v-4.56a.812.812 0 0 0-.39-.63l-.11-.06a.647.647 0 0 0-.68.11l-.31.31c-.27.25-.62.39-.98.4-.93 0-1.69-.76-1.69-1.69s.76-1.69 1.69-1.69c.32 0 .75.18.98.4l.31.31c.19.17.45.21.68.11l.11-.06c.23-.13.38-.37.39-.63V6.38H1.56c-.36-.02-.69-.22-.87-.54l-.06-.11a.886.886 0 0 1 .16-.98l.31-.31c.2-.22.31-.5.33-.8 0-.79-.64-1.43-1.43-1.43v-.26c.93 0 1.69.76 1.69 1.69 0 .32-.18.75-.4.98l-.31.31a.63.63 0 0 0-.11.68l.06.11c.13.23.37.38.63.39h4.56V1.56c.02-.36.22-.69.54-.87l.11-.06c.33-.15.72-.09.98.16l.31.31c.22.2.5.31.8.33.79 0 1.43-.64 1.43-1.43h.26c0 .93-.76 1.69-1.69 1.69-.36-.02-.71-.16-.98-.4L7.57.98a.63.63 0 0 0-.68-.11l-.11.06c-.23.13-.38.37-.39.63v4.56h4.56c.36.02.69.22.87.54l.06.11c.15.33.09.72-.16.98l-.31.31c-.2.22-.31.5-.33.8a1.43 1.43 0 1 0 2.86 0c0-.25-.15-.62-.33-.8l-.31-.31a.888.888 0 0 1-.16-.98l.06-.11c.18-.32.5-.52.87-.54h4.56V1.56a.812.812 0 0 0-.39-.63l-.11-.06a.647.647 0 0 0-.68.11l-.31.31c-.27.25-.62.39-.98.4-.95 0-1.71-.76-1.71-1.69h.26c0 .79.64 1.43 1.43 1.43.25 0 .62-.15.8-.33l.31-.31c.27-.25.65-.31.98-.16l.11.06c.32.18.52.5.54.87v4.56h4.56c.26-.02.5-.17.63-.39l.06-.11c.1-.21.05-.52-.11-.68l-.31-.31c-.25-.27-.39-.62-.4-.98 0-.93.76-1.69 1.69-1.69ZM10.94 18.62c.26-.02.5-.17.63-.39l.06-.11c.1-.21.05-.52-.11-.68l-.31-.31c-.25-.27-.39-.62-.4-.98 0-.93.76-1.69 1.69-1.69s1.69.76 1.69 1.69c0 .32-.18.75-.4.98l-.31.31a.63.63 0 0 0-.11.68l.06.11c.13.23.37.38.63.39h4.56v-4.56c.02-.36.22-.69.54-.87l.11-.06c.33-.15.72-.09.98.16l.31.31c.22.2.5.31.8.33a1.43 1.43 0 1 0 0-2.86c-.25 0-.62.15-.8.33l-.31.31c-.27.25-.65.31-.98.16l-.11-.06c-.32-.18-.52-.5-.54-.87V6.38h-4.56c-.26.02-.5.17-.63.39l-.06.11c-.1.21-.05.52.11.68l.31.31c.24.27.39.61.4.98 0 .93-.76 1.69-1.69 1.69s-1.69-.76-1.69-1.69c.02-.36.16-.71.4-.98l.31-.31a.63.63 0 0 0 .11-.68l-.06-.11a.764.764 0 0 0-.63-.39H6.38v4.56c-.02.36-.22.69-.54.87l-.11.06c-.33.15-.72.09-.98-.16l-.31-.31c-.22-.2-.5-.31-.8-.33a1.43 1.43 0 1 0 0 2.86c.25 0 .62-.15.8-.33l.31-.31c.27-.25.65-.31.98-.16l.11.06c.32.18.52.5.54.87v4.56h4.56Z",width:25,height:25,fill:!1,style:{strokeWidth:"0.3px"}},{path:"M 0 8 L 8 0 L 12 4 L 4 12 Z M -2 2 L 2 6 M 2 -2 L 6 2 M 6 10 L 10 14 M 10 6 L 14 10",width:12,height:12,style:{strokeWidth:"0.5px"}},{path:"M0 13.66 6.34 10 10 16.34 3.66 20zM0 6.34 3.66 0 10 3.66 6.34 10zM10 16.34 13.66 10 20 13.66 16.34 20zM10 3.66 16.34 0 20 6.34 13.66 10zM0 6.34v7.32M20 6.36v7.3M6.34 10h7.32",width:20,height:20,style:{strokeWidth:"0.3px"},fill:!1}];class Oe{constructor(){this._items=[]}count(){return this._items.length}get(t){return this._items[t]}load(t){if(this._items=[],i(t))t.forEach((t=>{let e=this.$_loadItem(t);e&&this._items.push(e)}));else if(s(t)){let e=this.$_loadItem(t);e&&this._items.push(e)}}register(t,e){this._items.forEach((s=>{const i=s.getEelement(t,s.source);i.setAttribute(St.ASSET_KEY,"1"),e.addDef(i)}))}unregister(t,e){this._items.forEach((t=>{e.removeDef(t.source.id)}))}$_loadItem(t){if(s(t)&&t.type&&t.id){if(null!=t.pattern)return new Re(t);if(t.type)switch(t.type.toLowerCase()){case Me.TYPE:return new Me(t);case Ne.TYPE:return new Ne(t);case Re.TYPE:return new Re(t)}}}}!function(t){t.AUTO="auto",t.LINE="line"}(we||(we={}));class De extends ge{constructor(){super(...arguments),this.minWidth=50}}class Be extends ge{constructor(t){super(t.chart,!0),this.axis=t,this.type=we.AUTO,this.showAlways=!0,this.followPointer=!0,this.numberFormat="#,##0.#",this.timeFormat="yyyy-MM-dd HH:mm",this.flag=new De(t.chart,!0),this.visible=!1,this._args={axis:C,pos:C,flag:C}}isBar(){return!this.axis.isContinuous()&&this.type===we.AUTO}getFlag(t,e){const s=this.axis.getAxisValueAt(t,e);return s instanceof Date?te.getFormatter(this.timeFormat).toStr(new Date(s),this.chart.startOfWeek):Bt.getFormatter(this.numberFormat).toStr(s)}moved(t,e){this.onChange&&(this._args.pos=t,this._args.flag=e,this.onChange(this._args))}_doLoadSimple(t){return n(t)?(this.visible=!0,this.onChange=t,!0):super._doLoadSimple(t)}}class Ie extends ge{constructor(t,e=!0){super(null==t?void 0:t.chart,e),this.axis=t}}class $e extends Ie{constructor(t){super(t,t._isX)}_doLoadSimple(t){return this._loadStroke(t)||super._doLoadSimple(t)}}!function(t){t.START="start",t.MIDDLE="middle",t.END="end"}(xe||(xe={}));class Fe extends Ie{constructor(){super(...arguments),this.align=xe.MIDDLE,this.offset=0,this.gap=5}get rotation(){return this._rotation}set rotation(t){let e=+t;Number.isNaN(e)||90===e||270===e||-90===e||-270===e||(e=0),this._rotation=e}isVisible(){return this.visible&&!B(this.text)}getRotation(t){return t._isHorz?0:isNaN(this._rotation)?t.position===ve.OPPOSITE?90:270:this._rotation}_doLoadSimple(t){return a(t)?(this.text=t,!0):super._doLoadSimple(t)}}class ze extends Ie{constructor(t){super(t,null),this.startVisible=!1,this.endVisible=!t._isX}isVisible(t){return t?!1!==this.visible:null==this.visible?!this.axis._isX:this.visible}getPoints(t){const e=this.axis;return e.hasBreak()?e._ticks.filter((t=>!e.isBreak(t.value))).map((s=>e.getPosition(t,s.value,!1))):e._ticks.map((s=>e.getPosition(t,s.value,!1)))}}class He extends Pe{constructor(t){super(t,!0),this.align=K.LEFT,this.verticalAlign=Q.TOP,this.offsetX=3,this.offsetY=3}}!function(t){t.LINE="line",t.RANGE="range",t.AREA="area"}(ye||(ye={}));class Ge extends Ie{constructor(t){super(t),this.front=!1,this.zindex=0,this.label=new He(t.chart)}canConstainedTo(t,e){if(i(this.col)){for(const t of this.col)if(e==t)return!0;return!1}if(!isNaN(this.col)&&e!=this.col)return!1;if(i(this.row)){for(const e of this.row)if(t==e)return!0;return!1}return!(!isNaN(this.row)&&t!=this.row)}}class je extends Ge{}class We extends Ge{}class Ye extends Ie{constructor(t){super(t,!1),this.length=7,this.gap=3}_doLoadSimple(t){return gt.canNumber(t)?(this.length=+t,!0):super._doLoadSimple(t)}}!function(t){t.NONE="none",t.ROTATE="rotate",t.STEP="step",t.ROWS="rows"}(be||(be={}));class Xe extends Pe{constructor(t){super(t&&t.chart,!0),this.axis=t,this._domain={callback:(t,e)=>this._getParamValue(this._paramTick,e)},this.step=0,this.startStep=0,this.rows=0,this.autoArrange=be.ROTATE,this.overflow=me.CLIP,this.numberFormat=null}_getParamValue(t,e){return e.startsWith("axis.")?this.axis[e.substring(5)]:t[e]}getLabelText(t,e){const s=t.index;if(this.textCallback){const e=this.textCallback(this.axis.getTickLabelArgs(s,t.value));if(null!=e)return e}return 0===s?f(this.firstText,this.text):s===e-1?f(this.lastText,this.text):this.text}getLabelStyle(t,e){const i=t.index;if(this.styleCallback){const e=this.styleCallback(this.axis.getTickLabelArgs(i,t.value));if(s(e))return e}return 0===i?this.firstStyle:i===e-1?this.lastStyle:void 0}_doPrepareRender(t){this._domain.numberFormatter=this._numberFormatter}}!function(t){t.AUTO="auto",t.NORMAL="normal",t.OPPOSITE="opposite",t.BASE="base",t.BETWEEN="between"}(ve||(ve={}));class Ue extends Ie{constructor(t){super(t,!1),this._thickness=10,this._minThumbSize=32,this._gap=3,this._gapFar=3}get thickness(){return this._thickness}set thickness(t){this._thickness=+t||this._thickness}get minThumbSize(){return this._minThumbSize}set minThumbSize(t){this._minThumbSize=+t||this._minThumbSize}get gap(){return this._gap}set gap(t){this._gap=+t||this._gap}get gapFar(){return this._gapFar}set gapFar(t){this._gapFar=+t||this._gapFar}}class Ze{constructor(t){this.axis=t}total(){return this.max-this.min}length(){return this.end-this.start}isFull(){return this.start===this.min&&this.end===this.max}resize(t,e){if((t=isNaN(t)?this.start:Math.max(this.min,Math.min(this.max,t)))>(e=isNaN(e)?this.end:Math.max(t,Math.min(this.max,e)))){const s=t;t=e,e=s}if((t!==this.start||e!==this.end)&&e-t>.05*(this.max-this.min))return this.start=t,this.end=e,!0}}class qe extends ge{constructor(t,e,s){super(t,!0),this._series=[],this._minPad=0,this._maxPad=0,this._values=[],this._labelArgs={},this.guides=[],this.crosshair=new Be(this),this.scrollBar=new Ue(this),this.row=0,this.col=0,this.startAngle=0,this.totalAngle=360,this.position=ve.NORMAL,this.reversed=!1,this.marginNear=0,this.marginFar=0,this.tooltipHeader="<b>${name}</b>",this.tooltipRow="${series}:<b> ${yValue}</b>",this._isX=e,this.name=s,this.title=new Fe(this),this.line=new $e(this),this.sectorLine=new $e(this),this.tick=this._createTickModel(),this.label=this._createLabelModel(),this.grid=this._createGrid()}isEmpty(){return this._series.length<1}getBaseValue(){return NaN}length(){return this._max-this._min}axisMin(){return this._min}axisMax(){return this._max}getAxisValueAt(t,e){return this.getValueAt(t,e)}getStartAngle(){return L+T*this.startAngle}getTotalAngle(){return T*Math.max(0,Math.min(360,p(this.totalAngle,360)))}isArced(){return this.totalAngle>0&&this.totalAngle<360}getVisibleSeries(){const t=[];return this._series.forEach((e=>{e.visible&&t.push(...e.getVisibleSeries())})),t}value2Tooltip(t){return t}isBased(){return!1}disconnect(){this._series=[],this._values=[]}collectValues(){this._series.forEach((t=>{t.collectValues(this,this._values)}))}collectReferentsValues(){this._series.forEach((t=>{t.pointValuesPrepared(this)}))}prepareRender(){var t;this._isHorz=this.chart.isInverted()?!this._isX:this._isX,this._isBetween=this.chart.isSplitted()&&this.position===ve.BETWEEN&&this._isX,this._isOpposite=this.position===ve.OPPOSITE,this._runPos=this.position,this.crosshair._args.axis=this._labelArgs.axis=null===(t=this.chart._proxy)||void 0===t?void 0:t.getChartObject(this),this._doPrepareRender(),this.label.prepareRender();const e=this._series,s=this._values;if(this._zoom?this._range={min:this._zoom.start,max:this._zoom.end}:this._range=this._doCalcluateRange(s),this._isX&&e.length>0)if(this.chart.isSplitted()){const t=[e[0]._row];for(let s=1;s<e.length;s++)t.indexOf(e[s]._row)<0&&t.push(e[s]._row);t.forEach((t=>{let s=0,i=0;e.forEach((e=>{e._row==t&&e.clusterable()&&(s+=p(e.groupWidth,1))})),e.forEach((e=>{if(e._row==t&&e.clusterable()){const t=p(e.groupWidth,1)/s;e.setCluster(t,i),i+=t}}))}))}else{let t=0,s=0;e.forEach((e=>{e.clusterable()&&(t+=p(e.groupWidth,1))})),e.forEach((e=>{if(e.clusterable()){const i=p(e.groupWidth,1)/t;e.setCluster(i,s),s+=i}}))}}buildTicks(t){this._ticks=this._doBuildTicks(this._range.min,this._range.max,this._vlen=t),this._labelArgs.count=this._ticks.length}calcPoints(t,e){this._ticks.forEach((e=>e.pos=this.getPosition(t,e.value)))}getLabelLength(t,e){return this.getUnitLength(t,e)}getValue(t){return null==t?NaN:parseFloat(t)}incStep(t,e){return t+e}contains(t){return t>=this._range.min&&t<=this._range.max}resetZoom(){this._zoom&&(this._zoom=null,this._changed())}_prepareZoom(){return this._zoom||(this._zoom=new Ze(this),this.buildTicks(this._vlen),this._zoom.start=this._zoom.min=this._min,this._zoom.end=this._zoom.max=this._max),this._zoom}zoom(t,e){const s=this._prepareZoom();if(s.resize(t,e))return s.isFull()&&(this._zoom=null),this._changed(),!0}isZoomed(){return!!this._zoom}hasBreak(){return!1}isBreak(t){return!1}getTickLabelArgs(t,e){return this._labelArgs.index=t,this._labelArgs.value=e,this._labelArgs}getXValue(t){return t}_doLoadProp(t,e){if("guide"===t||"guides"===t)return this.guides.length=0,i(e)?this.$_loadGuides(e):s(e)&&this.$_loadGuides([e]),!0}_setMinMax(t,e){this._min=t,this._max=e,this._single=t===e}_createGrid(){return new ze(this)}$_loadGuides(t){for(let e=0;e<t.length;e++){const s=t[e];let i;i="range"===s.type?new We(this):"line"===s.type||isNaN(s.startValue)||isNaN(s.endValue)?new je(this):new We(this),i.load(s),this.guides.push(i)}}_connect(t){t&&!this._series.includes(t)&&this._series.push(t)}_doCalcluateRange(t){return{min:t.length>0?R(Math.min(...t)||0):NaN,max:t.length>0?R(Math.max(...t)||0):NaN}}}class Ke{constructor(t,e){this._items=[],this._map=new Map,this.chart=t,this.isX=e}get count(){return this._items.length}get first(){return this._items[0]}get items(){return this._items.slice(0)}internalItems(){return this._items}load(t){const e=this.chart;i(t)?t.forEach(((t,s)=>this._items.push(this.$_loadAxis(e,t,s)))):this._items.push(this.$_loadAxis(e,t,0))}contains(t){return this._items.indexOf(t)>=0}get(t){return a(t)?this._map.get(t):this._items[t]}disconnect(){this._items.forEach((t=>t.disconnect()))}collectValues(){this._items.forEach((t=>t.collectValues()))}collectReferentsValues(){this._items.forEach((t=>t.collectReferentsValues()))}prepareRender(){this._items.forEach((t=>t.prepareRender()))}$_buildTicks(t){this._items.sort(((t,e)=>t.isBased()?1:e.isBased()?-1:0)).forEach((e=>e.buildTicks(t)))}connect(t){const e=this._items,s=this.isX?t.xAxis:t.yAxis;let i;return h(s)&&s>=0&&s<e.length?i=e[s]:a(s)&&(i=e.find((t=>t.name===s))),i||(i=e[0]),i&&(i._connect(t),this.isX?t.setCol(p(t.col,i.col)):t.setRow(p(t.row,i.row))),i}forEach(t){for(let e=0,s=this._items.length;e<s&&!0!==t(this._items[e],e);e++);}isZoomed(){for(const t of this._items)if(t.isZoomed())return!0}resetZoom(){this._items.forEach((t=>t.resetZoom()))}$_loadAxis(t,e,s){var r;let n=t._getAxisType(e.type);if(!n){let a;if(i(e.categories))a="category";else if(this.isX){const i=t._getSeries().internalItems();if(i.length>0){a="category";for(const t of i)if(!t.canCategorized()){if(e.name&&t.xAxis===e.name){a=C;break}if(t.xAxis===s){a=C;break}if(B(t.xAxis)&&0===s){a=C;break}}}}else a=null===(r=t._getSeries().first)||void 0===r?void 0:r.defaultYAxisType();a&&(n=t._getAxisType(a))}n||(n=t._getAxisType("linear"));const a=new n(t,this.isX,e.name);return a.load(e),a._index=s,a._isPolar=t.isPolar(),a}}class Qe{constructor(){this._axes=[]}isEmpty(){return this._axes.length<1}}class Je{constructor(t,e){this.chart=t,this.isX=e}rows(){return this._matrix.length}cols(){return this._matrix[0].length}get(t,e){return this._matrix[t][e]}getRow(t){return this._matrix[t]}getColumn(t){return this._matrix.map((e=>e[t]))}buildTicks(t){this._matrix.forEach(((e,s)=>{e.forEach(((e,s)=>{e._axes.forEach((e=>{e.isBased()||e.buildTicks(t[e._isX?e.col:e.row])}))}))})),this._matrix.forEach(((e,s)=>{e.forEach(((e,s)=>{e._axes.forEach((e=>{e.isBased()&&e.buildTicks(t[e._isX?e.col:e.row])}))}))}))}calcPoints(t,e){this._matrix.forEach((s=>{s.forEach(((s,i)=>{s._axes.forEach((s=>{s.calcPoints(t[i],e)}))}))}))}}class ts extends Je{constructor(t){super(t,!0)}prepare(t,e,s){const i=this._matrix=new Array(e+1);for(let t=0;t<i.length;t++){i[t]=[];for(let e=0;e<s;e++)i[t].push(new Qe)}t.forEach((t=>{const s=t.position;let r=t._row;s===ve.OPPOSITE?(r++,t._runPos=s):r<e-1&&s===ve.BETWEEN?(r++,t._runPos=ve.NORMAL):t._runPos=s,i[r][t._col]._axes.push(t)}))}}class es extends Je{constructor(t){super(t,!1)}prepare(t,e,s){const i=this._matrix=new Array(e);for(let t=0;t<i.length;t++){i[t]=[];for(let e=0;e<=s;e++)i[t].push(new Qe)}t.forEach((t=>{const e=t.position;let r=t._col;e===ve.OPPOSITE?(r++,t._runPos=e):t._col<s-1&&e===ve.BETWEEN?(r++,t._runPos=ve.NORMAL):t._runPos=e,i[t._row][r]._axes.push(t)}))}}!function(t){t.NONE="none",t.X="x",t.Y="y",t.BOTH="both"}(Se||(Se={}));let ss=class extends ge{constructor(t){super(t.chart,C),this.body=t}isVisible(){return!1!==this.visible&&this.body.isZoomed()&&this.body.canZoom()}};class is extends ge{constructor(t){super(t.chart,!1),this.body=t,this.size=.5}}class rs extends ge{constructor(t){super(t,!0),this.split=new is(this),this.circular=!0,this.image=new Ae(null,!0),this.zoomType=Se.NONE,this.zoomButton=new ss(this),this._annotations=new ke(this),this.radius="45%",this.centerX="50%",this.centerY="50%"}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._radiusDim=z(t,!0))}get centerX(){return this._centerX}set centerX(t){t!==this._centerX&&(this._centerX=t,this._cxDim=z(t,!0))}get centerY(){return this._centerY}set centerY(t){t!==this._centerY&&(this._centerY=t,this._cyDim=z(t,!0))}canZoom(){return this.zoomType===Se.X||this.zoomType===Se.Y||this.zoomType===Se.BOTH}calcRadius(t,e){return G(this._radiusDim,Math.min(t,e))}setPolar(t,e){return this._cx=G(this._cxDim,t),this._cy=G(this._cyDim,e),this._rd=G(this._radiusDim,Math.min(t,e)),this}getPolar(t){return this.chart.isPolar()?{start:t?t.getStartAngle():0,total:t?t.getTotalAngle():0,cx:this._cx,cy:this._cy,rd:this._rd}:C}isZoomed(){return this.chart._getXAxes().isZoomed()||this.chart._getYAxes().isZoomed()}getAnnotations(){return this._annotations.getVisibles()}getAnnotation(t){return this._annotations.getAnnotation(t)}_doLoadProp(t,e){if("annotations"===t||"annotation"===t)return i(e)?this.$_loadAnnotations(e):s(e)&&this.$_loadAnnotations([e]),!0}_doPrepareRender(t){this._annotations.prepareRender()}$_loadAnnotations(t){this._annotations.load(t)}}class ns extends ge{_doLoad(t){super._doLoad(t)}_doPrepareRender(t){}}class as extends ge{constructor(t,e){super(t.chart,!0),this.legend=t,this.source=e}text(){return this.source.legendLabel()}}var hs,os,ls,cs;as.MARKER_SIZE=10,function(t){t.BOTTOM="bottom",t.TOP="top",t.RIGHT="right",t.LEFT="left",t.PLOT="plot",t.BODY="body"}(hs||(hs={})),function(t){t.AUTO="auto",t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(os||(os={})),function(t){t.START="start",t.CENTER="center",t.END="end"}(ls||(ls={}));class us extends ns{constructor(t){super(t,void 0),this.location=hs.BOTTOM,this.layout=os.AUTO,this.alignBase=tt.PLOT,this.gap=6,this.itemGap=8,this.markerVisible=!0,this.markerGap=4,this.lineGap=4,this.offsetX=0,this.offsetY=0,this.itemsAlign=ls.CENTER,this.visible=void 0}items(){return this._items.slice(0)}isEmpty(){return!this._items||this._items.length<1}isVisible(){return!0===this.visible&&this._items.length>0||!1!==this.visible&&this._items.length>1}getLocatiion(){return this._location}getLayout(){if(this.layout!==os.AUTO||this._location===hs.BODY||this._location===hs.PLOT)return this.layout;switch(this._location){case hs.BOTTOM:case hs.TOP:return os.HORIZONTAL;default:return os.VERTICAL}}getMaxWidth(t){return G(this._maxWidthDim,t,t)}getMaxHeight(t){return G(this._maxHeightDim,t,t)}_doLoad(t){super._doLoad(t),this._maxWidthDim=z(this.maxWidth,!0),this._maxHeightDim=z(this.maxHeight,!0)}_doPrepareRender(t){super._doPrepareRender(t),this._location=gt.checkEnumValue(hs,this.location,hs.BOTTOM),this._items=this.$_collectItems()}$_collectItems(){return this.chart._getLegendSources().map((t=>new as(this,t)))}}!function(t){t.CIRCLE="circle",t.DIAMOND="diamond",t.SQUARE="square",t.TRIANGLE="triangle",t.STAR="star",t.ITRIANGLE="itriangle",t.RECTANGLE="rectangle"}(cs||(cs={}));const _s=gt.getEnumValues(cs),ds=.001,gs=Math.PI;class ps{static line(t,e,s,i){return["M",t,e,"L",s,i]}static lines(...t){let e=0;const s=["M",t[e],t[e+1]];for(;e<t.length;e+=2)s.push("L",t[e],t[e+1]);return s.push("Z"),s}static box(t,e,s,i){return["M",t,e,"L",s,e,"L",s,i,"L",t,i,"Z"]}static rect(t){return this.rectangle(t.x,t.y,t.width,t.height)}static rectangle(t,e,s,i){return["M",t,e,"h",s,"v",i,"h",-s,"Z"]}static bar(t,e,s,i,r,n){return r>0?n>0?(r=Math.min(-i/2,s/2,r),["M",t,e-(n=Math.min(-i/2,s/2,n)),"v",i+n+r,"a",r,r,0,0,1,r,-r,"h",s-2*r,"a",r,r,0,0,1,r,r,"v",-i-r-n,"a",n,n,0,0,1,-n,n,"h",2*n-s,"a",n,n,0,0,1,-n,-n,"Z"]):["M",t,e,"v",i+(r=Math.min(-i/2,s/2,r)),"a",r,r,0,0,1,r,-r,"h",s-2*r,"a",r,r,0,0,1,r,r,"v",-i-r,"Z"]:n>0?["M",t,e-(n=Math.min(-i/2,s/2,n)),"v",i+n,"h",s,"v",-i-n,"a",n,n,0,0,1,-n,n,"h",2*n-s,"a",n,n,0,0,1,-n,-n,"Z"]:["M",t,e,"h",s,"v",i,"h",-s,"v",-i,"Z"]}static square(t,e,s,i){const r=Math.min(s,i);return["M",t+=(s-r)/2,e+=(i-r)/2,"h",r,"v",r,"h",-r,"Z"]}static circle(t,e,s){return["M",t,e,"m",s,0,"a",s,s,0,1,1,2*-s,0,"a",s,s,0,1,1,2*s,0]}static arc(t,e,s,i,r,n,a,h=!1){const o=N(Math.abs(n-r)),l=2*gs-o<.01,c=o-gs<.01?0:1,d=a?1:0,g=u(r),p=_(r),m=u(n-=l?d?.01:-.01:0),f=_(n),w=[];return w.push("M",t+s*g,e+i*p,"A",s,i,0,c,d,t+s*m,e+i*f),l&&w.push("M",t,e),h&&w.push("Z"),w}static sector(t,e,s,i,r,n,a,h){const o=N(Math.abs(a-n)),l=2*gs-o<ds;let c=o-gs<ds?0:1;const d=h?1:0,g=u(n),p=_(n),m=u(a-=l?d?ds:-.001:0),f=_(a),w=s*r,x=i*r,y=[];return y.push("M",t+s*g,e+i*p,"A",s,i,0,c,d,t+s*m,e+i*f),l?y.push("M",t+w*m,e+x*f):y.push("L",t+w*m,e+x*f),isNaN(w)||y.push("A",w,x,0,c,1-d,t+w*g,e+x*p),y.push("Z"),y}static diamond(t,e,s,i){return["M",t+s/2,e,"L",t+s,e+i/2,"L",t+s/2,e+i,"L",t,e+i/2,"Z"]}static triangle(t,e,s,i){return["M",t+s/2,e,"L",t+s,e+i,"L",t,e+i,"Z"]}static itriangle(t,e,s,i){return["M",t,e,"L",t+s,e,"L",t+s/2,e+i,"Z"]}static star(t,e,s,i){const r=t+s/2,n=e+i/2,a=s/2,h=i/2,o=s/4,l=i/4,c=2*Math.PI/5,d=c/2,g=[];let p=-Math.PI/2;g.push("M",r+a*u(p),n+h*_(p));for(let t=0;t<5;t++)g.push("L",r+a*u(p),n+h*_(p),"L",r+o*u(p+d),n+l*_(p+d)),p+=c;return g.push("Z"),g}static setShape(t,e,s,i){let r;switch(e){case cs.SQUARE:case cs.DIAMOND:case cs.TRIANGLE:case cs.ITRIANGLE:case cs.STAR:case cs.RECTANGLE:r=ps[e](0,0,2*s,2*i);break;default:r=ps.circle(s,i,Math.min(s,i))}t.setPath(r)}}class ms extends St{static create(t,e,s,i,r,n,a=0){return new ms(t,e,{x:s,y:i,width:r,height:n,r:a})}constructor(t,e=C,s=C){super(t,e,"rect"),this.rect=s}get rect(){return this._rect&&Object.assign({},this._rect)}set rect(t){if(t!==this._rect&&(this._rect=t&&Object.assign({},t),t)){this.setRect(t);let e=t.rx||t.r,s=t.ry||t.r;e>0&&this.dom.setAttribute("rx",String(e)),s>0&&this.dom.setAttribute("rx",String(s))}}resizeRect(t,e){const s=this.getStyle("border-radius");return this.resize(t,e),s&&this.dom.setAttribute("rx",s),this}setBounds(t,e,s,i,r=0){return this.rect={x:t,y:e,width:s,height:i,r:r},this}setBox(t,e,s,i){this.rect=i<0?{x:t,y:e+i,width:s,height:-i}:{x:t,y:e,width:s,height:i}}setRadius(t){t>0&&(this._rect&&(this._rect.rx=this._rect.ry=t),this.dom.setAttribute("rx",String(t)),this.dom.setAttribute("ry",String(t)))}}class fs extends kt{constructor(t,e=C){super(t,e)}setBox(t,e,s,i){return this.setPath(ps.box(t,e,s,i)),this}}var ws;!function(t){t.DEFAULT="default",t.SPLINE="spline",t.STEP="step"}(ws||(ws={}));let xs=0;class ys{static swap(t){const e=[];for(let s=0;s<t.length;s++)e.push({xPos:t[s].yPos,yPos:t[s].xPos});return e}constructor(t){this.pid=xs++,this.visible=!0,this.source=t}get yAbs(){return Math.abs(this.yValue)}get xAbs(){return Math.abs(this.xValue)}ariaHint(){return(this.x||this.xValue)+", "+this.yValue}labelCount(){return 1}assignTo(t){return t||(t={}),this._assignTo(t),t}getProp(t){return null==(e=this.source)||isNaN(e)?this.source:this.source[t];var e}parse(t){const e=this.source;i(e)?this._readArray(t,e):s(e)?(this._readObject(t,e),(i(e.drillDown)||s(e.drillDown))&&(this.drillDown=e.drillDown)):this._readSingle(e)}getLabel(t){return this.label===C?this.yValue:this.label}swap(){const t=this.xPos;this.xPos=this.yPos,this.yPos=t}getTooltipPos(){return{x:this.xPos,y:this.yPos}}toPoint(){return{xPos:this.xPos,yPos:this.yPos,isNull:this.isNull,range:this.range}}_assignTo(t){return o(t,{index:this.index,vindex:this.vindex,x:this.x,y:this.y,xValue:this.xValue,yValue:this.yValue,color:this.color,source:this.source})}_readArray(t,e){if(null==e)this.isNull=!0;else{const s=+t.colorField;isNaN(s)||(this.color=e[s]),e.length>1?(this.x=e[p(t.xField,0)],this.y=e[p(t.yField,1)]):this.y=e[p(t.yField,0)]}}_readObject(t,e){var s,i,r,n;null==e?this.isNull=!0:(this.x=(s=e[t.xField],i=e.x,r=e.name,n=e.label,void 0!==s?s:void 0!==i?i:null!=r?r:n),this.y=w(e[t.yField],e.y,e.value),this.color=f(e[t.colorField],e.color))}_readSingle(t){this.y=t}}class bs{constructor(t){this._points=[],this._owner=t}get count(){return this._points.length}isEmpty(){return this._points.length<1}get(t){return this._points[t]}pointAt(t){for(const e of this._points)if(e.xValue===t)return e}contains(t){return this._points.indexOf(t)>=0}load(t){i(t)?this._points=this._owner.createPoints(t):this._points=[]}getProps(t){return this._points.map((e=>e.getProp(t)))}getCategories(t){return this._points.map((e=>e[t]))}getProxies(){return this._points.map((t=>t.assignTo()))}forEach(t){for(let e=0,s=this._points.length;e<s&&!0!==t(this._points[e],e);e++);}getPoints(t,e){const s=t._zoom;if(s){const e=this._points,i=e.length;let r=s.start,n=s.end;if(t.isContinuous()){let t,s,a=0;for(s=Number.MIN_VALUE;a<i-1;a++){if(t=e[a],r>=s&&r<t.xValue+(e[a+1].xValue-t.xValue)/2){r=a;break}s=t.xValue}for(r!==a&&(r=i-1),s=Number.MAX_VALUE,a=i-1;a>0;a--){if(t=e[a],n<s&&n>t.xValue-(t.xValue-e[a-1].xValue)/2){n=a;break}s=t.xValue}n!==a&&(n=0),r=Math.max(r-1,0),n=Math.min(n+1,i-1)}else r=Math.max(0,Math.floor(r)-1),n=Math.min(Math.ceil(n),i-1);return this._points.slice(r,n+1)}return this._points}}var vs,Ss,Vs;!function(t){t.DEFAULT="default",t.POINT="point",t.EDGE="edge"}(vs||(vs={}));class Ps extends Ye{constructor(){super(...arguments),this.step=1}getPosition(){return this.position===vs.POINT||this.position===vs.EDGE?this.position:this.axis._isX?vs.POINT:vs.EDGE}}class As extends Xe{getTick(t,e){return null!=e?this._getText(e,e,!1):""}}class Cs extends ze{getPoints(){const t=this.axis._pts,e=this.axis._ticks.length,s=[];if(e>0)for(let i=0;i<=e;i++)s.push(t[i+1]);return s}}class ks extends qe{constructor(t,e,s){super(t,e,s),this._map={},this._catPad=0,this.padding=0,this.categoryPadding=.1,this.startOffset=0}getCategories(){return this._cats}getCategory(t){return this._cats[t]}xValueAt(t){for(let e=2;e<this._pts.length-1;e++)if(t>=this._pts[e-1]&&t<this._pts[e])return(this._zoom?this._zoom.start:this._min)+e-2;return-1}getWdith(t,e){return 0}categoryPad(){return this._catPad}_type(){return"category"}isContinuous(){return!1}_createGrid(){return new Cs(this)}_createTickModel(){return new Ps(this)}_createLabelModel(){return new As(this)}collectValues(){this.$_collectCategories(this._series),this._series.length>0?super.collectValues():this._values=gt.makeIntArray(0,this._categories.length)}getStartAngle(){let t=super.getStartAngle(),e=+this.startOffset;return e>0&&(t-=Math.min(e,1)*this._categories[0].w*E/this._len),t}_doPrepareRender(){this._cats=[],this._weights=[],this._isPolar||this._zoom?this._minPad=this._maxPad=this._catPad=0:(this._minPad=m(this.minPadding,this.padding,0),this._maxPad=m(this.maxPadding,this.padding,0),this._catPad=p(this.categoryPadding,0))}_doBuildTicks(t,e,s){const i=this.label;let r=this._categories.map((t=>t.c)),n=this._weights=this._categories.map((t=>t.w));const a=this.tick.step||1,h=[];for(t=Math.floor(t),e=Math.ceil(e);r.length<=e;)r.push(String(r.length)),n.push(1);r=this._cats=r.slice(t,e+1),n=n.slice(t,e+1);const o=this._len=this._minPad+this._maxPad+n.reduce(((t,e)=>t+e),0);if(o>0){const s=this._pts=[0];let l=this._minPad;for(let i=t;i<=e;i++)s.push(l/o),l+=n[i-t];s.push(l/o),s.push((l+this._maxPad)/o);for(let e=1;e<s.length-2;e+=a){const s=t+e-1,n=this._categories[t+e-1];h.push({index:e-1,pos:NaN,value:s,label:i.getTick(e-1,n?n.t:r[e-1])})}}else this._pts=[];return this._setMinMax(t,e),h}calcPoints(t,e){super.calcPoints(t,e);const s=this._pts;if(e>0)for(let t=0;t<s.length;t++)s[t]/=this._vlen;for(let e=0;e<s.length;e++)s[e]*=t;if(this._isPolar){if(e>0){const e=this.totalAngle*T;this._pts=s.map((s=>s/t*e))}}else{let t;t=this.tick.getPosition()===vs.EDGE?s.slice(1,s.length-1):this._ticks.map((t=>t.pos)),this._markPoints=t}}getPosition(t,e,s=!0){e-=this._min,s&&(e+=.5);const i=Math.floor(e),r=this._pts[i+1]+(this._pts[i+2]-this._pts[i+1])*(e-i);return this.reversed?t-r:r}getValueAt(t,e){this.reversed&&(e=t-e);for(let t=1;t<this._pts.length-1;t++)if(e>=this._pts[t]&&e<this._pts[t+1])return this._min+t-1}getUnitLength(t,e){const s=Math.floor(e-this._min);return this._pts[s+2]-this._pts[s+1]}getValue(t){return h(t)?t:this._map[t]}value2Tooltip(t){return this._cats[t]||t}getXValue(t){return this.getCategory(t-this._min)}$_collectCategories(t){const e=this.categories,r=this._categories=[];if(i(e)&&e.length>0)this._len=0,e.forEach((t=>{let e,i,n=null==t?1:p(t.weight,1);null==t?i=e=null:s(t)?(e=f(t.name,t.label),i=f(t.label,t.name)):i=e=String(t),this._len+=n,r.push({c:e,t:i,w:n})}));else if(i(t))for(const e of t){const t=e.collectCategories(this);for(const e of t)r.find((t=>t.c===e))||r.push({c:e,w:1,t:e})}this._map={},r.forEach(((t,e)=>{null!=t.c&&(this._map[t.c]=e)}))}}!function(t){t.AUTO="auto",t.INSIDE="inside",t.OUTSIDE="outside",t.HEAD="head",t.FOOT="foot",t.INSIDE_FIRST="insideFirst",t.OUTSIDE_FIRST="outsideFirst"}(Ss||(Ss={}));class Es extends Pe{constructor(t){super(t,C),this._domain={callback:(t,e)=>this._point[e]||this._point.source[e]},this.position=Ss.AUTO,this.textAlign=K.CENTER,this.distance=25,this.visible=C}getTextDomain(t){return this._point=t,this._domain}getText(t){return gt.isValidNumber(t)?this._getText(null,t,Math.abs(t)>1e3,!0):t}getOffset(){const t=+this.offset;return isNaN(t)?this.position===Ss.INSIDE?0:Es.OFFSET:t}_doLoadSimple(t){return n(t)?(this.visibleCallback=t,this.visible=!0):super._doLoadSimple(t)}_doPrepareRender(t){this._domain.numberFormatter=this._numberFormatter}}Es.OFFSET=4,function(t){t.LINEAR="linear",t.LOGARITHMIC="logarithmic",t.POLYNOMIAL="polynomial",t.POWER="power",t.EXPONENTIAL="exponential",t.MOVING_AVERAGE="movingAverage"}(Vs||(Vs={}));class Ls extends v{constructor(){super(...arguments),this.interval=5,this.type="simple"}}class Ts extends ge{constructor(t){super(t.chart,!1),this.series=t,this.type=Vs.LINEAR,this.lineType=ws.DEFAULT,this.movingAverage=new Ls}_doPrepareRender(t){const e=this.series,s=e._minX>0?0:1-e._minX,i=e._minY>0?0:1-e._minY,r=e._runPoints.filter((t=>!t.isNull)).map((t=>({x:t.xValue+s,y:t.yValue+i})));(this["$_"+this.type]||this.$_linear).call(this,r,this._points=[]),this._points.forEach((t=>{t.x-=s,t.y-=i}))}$_calcLine(t){const e=t.length;let s=0,i=0,r=0,n=0;t.forEach((t=>{s+=t.x,i+=t.y,r+=t.x*t.y,n+=t.x*t.x}));const a=e*n-s*s,h=0===a?0:(e*r-s*i)/a;return{m:h,a:(i-h*s)/e}}$_calcLine2(t){t.length;let e=0,s=0,i=0,r=0,n=0,a=0;t.forEach((t=>{e+=t.x,s+=t.y,i=t.x*t.x*t.y,r=t.y*Math.log(t.y),n=t.x*t.y*Math.log(t.y),a=t.x*t.y}));const h=s*i-a*a,o=Math.exp((i*r-a*n)/h);return{m:(s*n-a*r)/h,a:o}}$_linear(t,e){const s=t.length;if(s>1){const{m:i,a:r}=this.$_calcLine(t);e.push({x:t[0].x,y:i*t[0].x+r}),e.push({x:t[s-1].x,y:i*t[s-1].x+r})}}$_logarithmic(t,e){const s=t.length;if(s>1){const i=t.map((t=>({x:Math.log(t.x),y:p(t.y,0)}))),{m:r,a:n}=this.$_calcLine(i),a=t[0].x,h=t[s-1].x,o=(h-a)/100;for(let t=a;t<=h;t+=o){const s=n+Math.log(t)*r;e.push({x:t,y:s}),console.log(t,s)}}}$_exponential(t,e){const s=t.length;if(s>1){const i=t.map((t=>({x:t.x,y:t.y}))),{m:r,a:n}=this.$_calcLine2(i),a=t[0].x,h=t[s-1].x,o=(h-a)/100;for(let t=a;t<=h;t+=o){const s=n*Math.exp(r*t);e.push({x:t,y:s})}}}$_power(t,e){const s=t.length;if(s>1){const i=t.map((t=>({x:Math.log(t.x),y:Math.log(t.y)}))),{m:r,a:n}=this.$_calcLine(i),a=Math.exp(n),h=t[0].x,o=t[s-1].x,l=(o-h)/100;for(let t=h;t<=o;t+=l){const s=a*Math.pow(t,r);e.push({x:t,y:s})}}}$_polynomial(t,e){const s=t.length;if(s>1){const i=[],r=[];let n=0,a=0;const h=2+1;for(let e=0;e<h;e++){for(let i=0;i<s;i++)n+=Math.pow(t[i].x,e)*t[i].y;i.push(n),n=0;const o=[];for(let i=0;i<h;i++){for(let r=0;r<s;r++)a+=Math.pow(t[r].x,e+i);o.push(a),a=0}r.push(o)}r.push(i);const o=function(t,e){const s=t,i=t.length-1,r=[e];for(let t=0;t<i;t++){let e=t;for(let r=t+1;r<i;r++)Math.abs(s[t][r])>Math.abs(s[t][e])&&(e=r);for(let r=t;r<i+1;r++){const i=s[r][t];s[r][t]=s[r][e],s[r][e]=i}for(let e=t+1;e<i;e++)for(let r=i;r>=t;r--)s[r][e]-=s[r][t]*s[t][e]/s[t][t]}for(let t=i-1;t>=0;t--){let e=0;for(let n=t+1;n<i;n++)e+=s[n][t]*r[n];r[t]=(s[i][t]-e)/s[t][t]}return r}(r,h),l=t[0].x,c=t[s-1].x,u=(c-l)/100;for(let t=l;t<=c;t+=u){const s=o.reduce(((e,s,i)=>e+s*Math.pow(t,i)),0);e.push({x:t,y:s})}}}$_movingAverage(t,e){const s=this.movingAverage,i=t.length,r=Math.max(1,Math.min(i,s.interval));let n=r;for(;n<=i;){const s=t.slice(n-r,n).reduce(((t,e)=>t+p(e.y,0)),0);e.push({x:t[n-1].x,y:s/r}),n++}}}const Ms={x:"xValue",y:"yValue",z:"zValue"};class Ns extends ge{static _loadSeries(t,e,s){return new(t._getSeriesType(e.type)||t._getSeriesType(s||t.type))(t,e.name).load(e)}static getPointTooltipParam(t,e,s){var i;switch(s){case"series":return t.displayName();case"name":return t._xAxisObj.getXValue(e.xValue);case"x":return t._xAxisObj.value2Tooltip(e.x||(t._xAxisObj instanceof ks?t._xAxisObj.getCategory(e.index):e.xValue));case"xValue":return t._xAxisObj.value2Tooltip(e[s]);case"y":case"yValue":return t._yAxisObj.value2Tooltip(e[s]);default:return s in e?e[s]:null===(i=e.source)||void 0===i?void 0:i[s]}}constructor(t,e){super(t,!0),this._row=0,this._col=0,this.index=-1,this._simpleMode=!1,this.zOrder=0,this.visibleInLegend=!0,this.visibleInNavigator=!1,this.tooltipText="<b>${name}</b><br>${series}:<b> ${yValue}</b>",this.name=e,this.pointLabel=this._createLabel(t),this.trendline=new Ts(this),this._points=new bs(this),this._pointArgs=this._createPointArgs(),this._initProps()}_initProps(){}_createLabel(t){return new Es(t)}getTooltipText(t,e){return this.tooltipText}getTooltipParam(t,e,s){return Ns.getPointTooltipParam(t,e,s)}contains(t){return this._points.contains(t)}getPoints(){return this._points}getLabeledPoints(){return this._points.getPoints(this._xAxisObj,this._yAxisObj)}getVisiblePoints(){return this._points.getPoints(this._xAxisObj,this._yAxisObj)}pointLabelCount(){return 1}isEmpty(){return this._points.isEmpty()}needAxes(){return!0}canCategorized(){return!1}hasZ(){return!1}defaultYAxisType(){return"linear"}clusterable(){return!1}displayName(){return this.label||this.name}legendMarker(t,e){return this._legendMarker||(this._legendMarker=this._createLegendMarker(t,+e||as.MARKER_SIZE)),this._legendMarker}legendColor(){return this._calcedColor}legendLabel(){return this.label||this.name}ignoreAxisBase(t){return!1}canMixWith(t){return!0}getBaseValue(t){return NaN}canMinPadding(t){return!0}canMaxPadding(t){return!0}hasMarker(){return!1}setShape(t){}getVisibleSeries(){return[this]}needClip(t){const e=this.group?this.group.noClip:this.noClip;return t?!1===e:!0!==e}setCol(t){this._col=t}setRow(t){this._row=t}createPoints(t){return this._containsNull=!1,t.map(((t,e)=>{const s=this._createPoint(t);return s.index=e,s.parse(this),(s.isNull||(s.isNull=null==t||null==s.y))&&(this._containsNull=!0),s}))}$_getXStart(){let t=this._xAxisObj.getValue(this.xStart);const e=isNaN(t)?this._xAxisObj.getValue(this.chart.options.xStart):t;return this._xAxisObj._zoom?Math.floor(this._xAxisObj._zoom.start):e}getXStep(){return f(this.xStep,this.chart.options.xStep)}prepareRender(){this._xAxisObj=this.group?this.group._xAxisObj:this.chart._connectSeries(this,!0),this._yAxisObj=this.group?this.group._yAxisObj:this.chart._connectSeries(this,!1),this._calcedColor=void 0,this._runPoints=this._points.getPoints(this._xAxisObj,this._yAxisObj),this.pointLabel.prepareRender(),super.prepareRender()}prepareAfter(){}collectCategories(t){if(t instanceof ks){let e=t.categoryField;return null!=e?this._points.getProps(e):this._points.getCategories(t===this._xAxisObj?"x":"y").filter((t=>a(t)))}}collectValues(t,e){if(t===this._xAxisObj){let s=this.$_getXStart()||0,i=this.getXStep()||1;a(i)&&(i=i.trim()),this._runPoints.forEach(((r,n)=>{let a=t.getValue(r.x);isNaN(a)&&(a=s,s=t.incStep(s,i)),isNaN(a)?r.isNull=!0:(r.xValue=a,e&&e.push(a))}))}else this._runPoints.forEach(((s,i)=>{if(s.isNull)s.y=s.yGroup=s.yValue=NaN;else{let i=null==s.y?NaN:t.getValue(s.y);isNaN(i)?s.yGroup=0:(s.yGroup=s.yValue=i,e&&e.push(i)),s.isNull=isNaN(s.yValue)}}))}collectVisibles(){const t=this._visPoints=this._runPoints.filter((t=>t.visible)),e=t.length;if(e>0){const s=this._pointArgs;let i=t[0],r=i.xValue,n=r,a=i.yValue,h=a,o=i.zValue,l=o;const c=this.hasZ();i.vindex=0;for(let s=1;s<e;s++)i=t[s],i.vindex=s,i.yValue>h?h=i.yValue:i.yValue<a&&(a=i.yValue),i.xValue>n?n=i.xValue:i.xValue<r&&(r=i.xValue);if(c)for(let s=1;s<e;s++){const e=t[s].zValue;e>l?l=e:e<o&&(o=e)}s.yMin=this._minY=a,s.yMax=this._maxY=h,s.xMin=this._minX=r,s.xMax=this._maxX=n,c&&(s.zMin=this._minZ=o,s.zMax=this._maxZ=l)}return this.trendline.visible&&this.trendline.prepareRender(),t}_getRangeMinMax(t){let e,s;return"x"===t?(e=this._minX,s=this._maxX):"z"===t?(e=this._minZ,s=this._maxZ):(e=this._minY,s=this._maxY),{min:e,max:s}}prepareViewRanges(){const t="x"===this.viewRangeValue?this._xAxisObj:this._yAxisObj,e=t.axisMin(),s=t.axisMax();(this._runRanges=et(this.viewRanges,e,s,!1,!1,!0,this.color))?this._visPoints.forEach(((t,e)=>{this._setViewRange(t,this._runRangeValue=this.getViewRangeAxis())})):this._visPoints.forEach(((t,e)=>{t.range=C}))}pointValuesPrepared(t){this._referents&&this._referents.forEach((e=>e.reference(this,t)))}reference(t,e){}isVisible(t){return this._xAxisObj.contains(t.x)&&this._yAxisObj.contains(t.y)}getLegendSources(t){!1!==this.visibleInLegend&&t.push(this)}getLabelPosition(t){return t}getLabelOff(t){return t}referBy(t){t&&(this._referents?this._referents.indexOf(t)<0&&this._referents.push(t):this._referents=[t])}setPointVisible(t,e){t&&e!==t.visible&&(t.visible=e,this.chart._pointVisibleChanged(this,t))}_createPointArgs(){return{}}_preparePointArgs(t){var e;this._pointLabelCallback=this.pointLabel.textCallback,this._argsPoint=null,t.series=null===(e=this.chart._proxy)||void 0===e?void 0:e.getChartObject(this),t.count=this._points.count}_getPointCallbackArgs(t,e){e!==this._argsPoint&&(this._argsPoint=e).assignTo(t)}getPointText(t,e){if(this._pointLabelCallback){this._getPointCallbackArgs(this._pointArgs,t);const e=this._pointLabelCallback(this._pointArgs);if(null!=e)return e}return e}getPointStyle(t){if(this.pointStyleCallback)return this._getPointCallbackArgs(this._pointArgs,t),this.pointStyleCallback(this._pointArgs)}getPointLabelStyle(t){if(this.pointLabel.styleCallback)return this._getPointCallbackArgs(this._pointArgs,t),this.pointLabel.styleCallback(this._pointArgs)}pointClicked(t){if(this.onPointClick)return this._getPointCallbackArgs(this._pointArgs,t),this.onPointClick(this._pointArgs)}getViewRangeAxis(){return this.viewRangeValue||this._defViewRangeValue()}isPointLabelsVisible(){return this.pointLabel.visible||n(this.pointLabel.visibleCallback)}isPointLabelVisible(t){const e=this.pointLabel;return!1!==e.visible&&(e.visibleCallback?(this._getPointCallbackArgs(this._pointArgs,t),e.visibleCallback(this._pointArgs)):!0===e.visible)}updateData(t){this._points.load(t),this._changed()}getPointAt(t){return this._points.pointAt(t)}_createPoint(t){return new ys(t)}_createLegendMarker(t,e){return ms.create(t,Ns.LEGEND_MARKER,0,0,e,e,e/2)}_referOtherSeries(t){return!0}_getField(t){return t===this._xAxisObj?this.xField:this.yField}_colorByPoint(){return!1}_doLoad(t){super._doLoad(t);const e=this._loadData(t);i(e)&&e.length>0&&this._doLoadPoints(e)}_loadData(t){return t[this.dataProp||"data"]}_doLoadPoints(t){this._points.load(t)}loadPoints(t){this._points.load(t)}_doPrepareRender(){let t,e;!1===this.pointColors?t=this.color:i(this.pointColors)?e=this.pointColors:this._colorByPoint()?e=this.chart.colors:t=this.color,this._runPoints.forEach(((s,i)=>{!s.color&&e&&(s.color=t||e[i%e.length])})),this._preparePointArgs(this._pointArgs)}_setViewRange(t,e){const s=t[Ms[e]];for(const e of this._runRanges)if(s>=e.fromValue&&s<=e.toValue)return void(t.range=e);t.range=C}_defViewRangeValue(){return"y"}}Ns.LEGEND_MARKER="rct-legend-item-marker";class Rs{constructor(t){this._map={},this._items=[],this._visibles=[],this._series=[],this._visibleSeries=[],this.chart=t}get count(){return this._items.length}get first(){return this._items[0]}get firstSeries(){return this._series[0]}get firstVisible(){return this._visibles[0]}get firstVisibleSeries(){return this._visibleSeries[0]}isWidget(){return this._widget}isEmpty(){return!this._items.find((t=>!t.isEmpty()))}items(){return this._items.slice(0)}internalItems(){return this._items}visibles(){return this._visibles.slice(0)}series(){return this._series.slice(0)}needAxes(){return!!this._visibles.find((t=>t.needAxes()))||0===this._visibleSeries.length}getSeries(t){return this._map[t]}getVisibleSeries(){return this._visibleSeries.slice(0)}getPaneSeries(t,e){return this._visibleSeries.filter((s=>t===s._row&&e===s._col))}seriesByPoint(t){for(const e of this._series)if(e.contains(t))return e}getLegendSources(){const t=[];return this._items.forEach((e=>e.getLegendSources(t))),t}load(t){const e=this.chart,r=this._items=[],n=this._series=[],a=this._map={};i(t)?t.forEach(((t,s)=>{r.push(this.$_loadItem(e,t,s))})):s(t)&&r.push(this.$_loadItem(e,t,0)),r.forEach(((t,e)=>{t.index=e,t instanceof Us?n.push(...t.series):t instanceof Ns&&n.push(t)})),this._widget=!0,n.forEach((t=>{!this._widget||t instanceof Hs||(this._widget=!1),t.name&&(a[t.name]=t);for(const e of this._series)if(e!==t){if(!t.canMixWith(e))throw new Error("동시에 표시할 수 없는 시리즈들입니다: "+t._type()+", "+e._type());if(t._referOtherSeries(e))break}}))}updateData(t){}prepareRender(){const t=[];let e=0;this._visibles=this._items.filter((t=>t.visible)).sort(((t,e)=>(+t.zOrder||0)-(+e.zOrder||0))),this._series.forEach((s=>{s.visible&&t.push(s),s.hasMarker()&&s.setShape(_s[e++%_s.length])})),this._visibleSeries=t.sort(((t,e)=>{let s=+(t.group?t.group.zOrder:t.zOrder)||0,i=+(e.group?e.group.zOrder:e.zOrder)||0;return s===i&&t.group&&t.group===e.group?(+t.zOrder||0)-(+e.zOrder||0):s-i}));const s=this._visibleSeries.filter((t=>t.clusterable())).length;this._visibleSeries.forEach(((t,e)=>{t instanceof js&&(t._single=1===s)})),this._visibles.forEach((t=>t.prepareRender()))}prepareAfter(){this._visibles.forEach((t=>t.prepareAfter()))}$_loadItem(t,e,s){let r=i(e.children||e.series)&&t._getGroupType(e.type||t.type);if(r){const i=new r(t);return i.load(e),i.index=s,i}if(r=t._getSeriesType(e.type||t.type),!r)throw new Error("Invalid series type: "+e.type+", "+t.type);const n=new r(t,e.name||`Series ${s+1}`);return n.load(e),n.index=s,n}}var Os,Ds,Bs,Is,$s;!function(t){t.DEFAULT="default",t.VISIBLE="visible",t.HIDDEN="hidden"}(Os||(Os={}));class Fs extends ge{constructor(t){super(t.chart,!0),this.series=t,this.radius=3}}class zs extends ys{legendMarker(){return this._legendMarker}setLegendMarker(t){this._legendMarker=t}legendColor(){return this._calcedColor}legendLabel(){return f(this.x,this.y)}}class Hs extends Ns{constructor(){super(...arguments),this.boundsAnimation=!0,this.legendByPoint=!1}getCenter(t,e){return{x:G(this._centerXDim,t),y:G(this._centerYDim,e)}}getLabelPosition(){const t=this.pointLabel.position;return t===Ss.AUTO?Ss.INSIDE:t}needAxes(){return!1}_colorByPoint(){return!0}getLegendSources(t){this.legendByPoint?!1!==this.visibleInLegend&&this._runPoints.forEach((e=>{t.push(e)})):super.getLegendSources(t)}_doLoad(t){super._doLoad(t),this._centerXDim=z(w(this.centerX,this.center,Hs.CENTER),!0),this._centerYDim=z(w(this.centerY,this.center,Hs.CENTER),!0)}}Hs.CENTER="50%";class Gs extends Hs{constructor(){super(...arguments),this.radius=Gs.DEF_RADIUS,this.startAngle=0,this.totalAngle=360,this.clockwise=!0}getRadius(t,e){return G(this._radiusDim,Math.min(t,e))}_doLoad(t){super._doLoad(t),this._radiusDim=z(f(this.radius,Gs.DEF_RADIUS),!0)}}Gs.DEF_RADIUS="40%";class js extends Ns{constructor(){super(...arguments),this._clusterWidth=1,this._clusterPos=0,this._childWidth=1,this._childPos=0,this._pointPad=0,this.pointWidth=1}get groupWidth(){return this.pointWidth}getPointWidth(t){const e=this.group;let s=t;return e?(s*=e._clusterWidth,s*=1-2*e.groupPadding,s*=this._childWidth):s*=this._clusterWidth,s*=1-2*this._pointPad,s}getPointPos(t){const e=this.group;let s=t,i=0;return e?(i=s*e._clusterPos,s*=e._clusterWidth,i+=s*e.groupPadding,s-=s*e.groupPadding*2,i+=s*this._childPos,s*=this._childWidth):(i=s*this._clusterPos,s*=this._clusterWidth),i+=s*this._pointPad,i}getLabelPosition(t){return t===Ss.AUTO?Ss.OUTSIDE_FIRST:t}clusterable(){return!0}setCluster(t,e){this._clusterWidth=t,this._clusterPos=e}_doPrepareRender(){super._doPrepareRender(),this._pointPad=isNaN(this.pointPadding)?this._single?.25:this.group?.1:.2:this.pointPadding}}class Ws extends js{constructor(){super(...arguments),this.baseValue=0,this.nullAsBase=!1}_doPrepareRender(){super._doPrepareRender(),this._base=p(this._getGroupBase(),this._yAxisObj.getBaseValue())}getBaseValue(t){return t===this._yAxisObj?this._base:NaN}_getGroupBase(){return this.baseValue}}class Ys extends js{collectValues(t,e){super.collectValues(t,e),t===this._yAxisObj&&this._runPoints.forEach((t=>{const s=this._getBottomValue(t);e&&!isNaN(s)&&e.push(s)}))}}class Xs extends Ys{_createLegendMarker(t,e){return ms.create(t,Ns.LEGEND_MARKER,0,0,e,e,2)}}!function(t){t.DEFAULT="default",t.OVERLAP="overlap",t.STACK="stack",t.FILL="fill"}(Ds||(Ds={}));class Us extends ge{static collectTooltipText(t,e,s){let i=t.tooltipHeader||"";if(t.tooltipRow){let s=0;e.forEach((e=>{i&&(i+="<br>"),i+=t.tooltipRow.replace("series","series."+s++)}))}return i+=t.tooltipFooter?"<br>"+t.tooltipFooter:"",i}static inflateTooltipParam(t,e,s,i){return i.startsWith("series.")&&(e=t[+i.substring(7)]||e,i="series"),Ns.getPointTooltipParam(e,s,i)}constructor(t){super(t,!0),this.index=-1,this._series=[],this._visibles=[],this.layout=Ds.DEFAULT,this.visibleInLegend=!0,this.zOrder=0,this.tooltipHeader="<b>${name}</b>",this.tooltipRow="${series}:<b> ${yValue}</b>",this.layoutMax=100}getTooltipText(t,e){return Us.collectTooltipText(this,this._visibles,e)}getTooltipParam(t,e,s){return Us.inflateTooltipParam(this._visibles,t,e,s)}get series(){return this._series.slice(0)}needAxes(){return!0}isEmpty(){return this._series.length<1}canCategorized(){return!1}defaultYAxisType(){return"linear"}clusterable(){return!1}getBaseValue(t){return NaN}getVisibleSeries(){return this._visibles}setCol(t){this._col=t,this._series.forEach((e=>e.setCol(t)))}setRow(t){this._row=t,this._series.forEach((e=>e.setRow(t)))}isFirstVisible(t){return t===this._visibles[0]}isLastVisible(t){return t===this._visibles[this._visibles.length-1]}collectValues(t,e){if(this._visibles.length>0)if(t===this._visibles[0]._yAxisObj)switch(this.layout){case Ds.STACK:this.$_collectStack(t,e);break;case Ds.FILL:this.$_collectFill(t,e);break;default:this.$_collectValues(t,e)}else this.$_collectValues(t,e)}pointValuesPrepared(t){this._series.forEach((e=>e.pointValuesPrepared(t)))}collectCategories(t){let e=[];return this._visibles.forEach((s=>e=e.concat(s.collectCategories(t)))),e}ignoreAxisBase(t){for(const e of this._visibles)if(e.ignoreAxisBase(t))return!0}getLegendSources(t){!1!==this.visibleInLegend&&this._series.forEach((e=>e.getLegendSources(t)))}canMinPadding(t){return!0}canMaxPadding(t){return this.layout!==Ds.FILL}getVisiblePoints(){const t=[];return this._visibles.forEach((e=>t.push(...e.getVisiblePoints()))),t}_doLoadProp(t,e){if("children"===t)return this.$_loadSeries(this.chart,e),!0}prepareRender(){this._stacked=this.layout===Ds.STACK||this.layout===Ds.FILL,this._visibles=this._series.filter((t=>t.visible)).sort(((t,e)=>(+t.zOrder||0)-(+e.zOrder||0))),super.prepareRender()}_doPrepareRender(t){this._xAxisObj=this.chart._connectSeries(this,!0),this._yAxisObj=this.chart._connectSeries(this,!1),this._visibles.length>0&&(this._visibles.forEach((t=>t.prepareRender())),this._doPrepareSeries(this._visibles))}prepareAfter(){this._visibles.forEach((t=>t.prepareAfter()))}_doPrepareSeries(t){}$_loadSeries(t,e){const r=this._seriesType();i(e)?e.forEach(((e,s)=>this.$_add(Ns._loadSeries(t,e,r)))):s(e)&&this.$_add(Ns._loadSeries(t,e,r))}$_add(t){if(!this._canContain(t))throw new Error("이 그룹에 포함될 수 없는 시리즈입니다: "+t);this._series.push(t),t.group=this,t.index=this._series.length-1}$_collectValues(t,e){this._visibles.forEach((s=>{s.collectValues(t,e)}))}$_collectPoints(t){const e=this._visibles,s=this._stackPoints=new Map;e.forEach((e=>{e.collectValues(t,null)})),e[0]._runPoints.forEach((t=>{s.set(t.xValue,[t])}));for(let t=1;t<e.length;t++)e[t]._runPoints.forEach((t=>{const e=s.get(t.xValue);e?e.push(t):s.set(t.xValue,[t])}));return s}$_collectStack(t,e){const s=this.getBaseValue(t),i=this.$_collectPoints(t);if(isNaN(s))for(const t of i.values()){t[0].yGroup=t[0].yValue||0;for(let e=1;e<t.length;e++)t[e].yGroup=t[e-1].yGroup+(t[e].yValue||0);e.push(t[t.length-1].yGroup)}else for(const t of i.values()){let i=t[0].yValue||0,r=i>=s?0:-1,n=i<s?0:-1;t[0].yGroup=t[0].yValue||0;for(let e=1;e<t.length;e++)i=t[e].yValue||0,i>=s?(r>=0&&(t[e].yGroup=t[r].yGroup+i),r=e):(n>=0&&(t[e].yGroup=t[n].yGroup+i),n=e);r>=0&&e.push(t[r].yGroup),n>=0&&e.push(t[n].yGroup)}}$_collectFill(t,e){const s=this.getBaseValue(t),i=this.layoutMax||100,r=this.$_collectPoints(t);if(isNaN(s))for(const t of r.values()){let s=0;for(const e of t)s+=e.yValue||0;let r=0;for(const e of t)r=e.yGroup=(e.yValue||0)/s*i+r;e.push(i)}else for(const t of r.values()){let r=0;for(const e of t)r+=Math.abs(e.yValue)||0;let n=0,a=0;for(const e of t)e.yValue=(e.yValue||0)/r*i,e.yValue<s?a=e.yGroup=(e.yValue||0)+a:n=e.yGroup=(e.yValue||0)+n;e.push(a,n)}}}class Zs extends Us{collectValues(t,e){if(super.collectValues(t,e),t===this._yAxisObj){const t=this._doConstraintYValues(this._visibles);e.length=0,e.push(...t)}}}class qs extends Us{constructor(){super(...arguments),this._clusterWidth=1,this._clusterPos=0,this.groupWidth=1,this.groupPadding=.1}clusterable(){return!0}setCluster(t,e){this._clusterWidth=t,this._clusterPos=e}}class Ks extends Ns{}!function(t){t.NORMAL="normal",t.MIXED="mixed",t.RANDOM="random"}(Bs||(Bs={}));class Qs extends ge{constructor(t){super(null,!0),this.assets=new Oe,t&&this.load(t)}activate(t){}deactivate(t){}_doLoadProp(t,e){if("assets"===t)return this.assets.load(e),!0}}class Js{constructor(){this._items=[]}load(t){if(this._items=[],i(t))t.forEach((t=>{let e=this.$_loadItem(t);e&&this._items.push(e)}));else if(s(t)){let e=this.$_loadItem(t);e&&this._items.push(e)}}$_loadItem(t){if(s(t)&&t.name)return new Qs(t)}}class ti extends ge{constructor(t){super(t,!0),this.verticalAlign=Q.MIDDLE,this.text="Title",this.alignBase=tt.PLOT,this.align=K.CENTER,this.gap=10}isVisible(){return this.visible&&!B(this.text)}_doLoadSimple(t){return a(t)?(this.text=t,!0):super._doLoadSimple(t)}}!function(t){t.BOTTOM="bottom",t.RIGHT="right",t.LEFT="left",t.TOP="top"}(Is||(Is={}));class ei extends ti{constructor(){super(...arguments),this.position=Is.BOTTOM,this.verticalAlign=Q.BOTTOM,this.text="",this.titleGap=2}}class si extends Ye{constructor(){super(...arguments),this._strictEnds=!1,this._strictTicks=!1,this.stepPixels=72,this.baseRange=!1}_isValidInterval(t){return t>0}_normalizeSteps(t,e,s){return t}buildSteps(t,e,s,i,r=!1){var n,a;let h;return this._strictTicks=this._strictEnds=!1,this._step=NaN,r?h=this._getStepsByPixels(t,p(.85*this.stepPixels,60),e,s,i):Array.isArray(this.steps)?(h=this.steps.slice(0),h.length>0&&isNaN(h[0])&&(h[0]=s),h.length>1&&isNaN(h[h.length-1])&&(h[h.length-1]=i),this._strictTicks=this._strictEnds=!0):h=this._baseAxis instanceof ni?this._getStepsByCount(this._baseAxis._ticks.length,e,s,i,!0):this.stepCount>0?this._getStepsByCount(this.stepCount,e,s,i,!1):this._isValidInterval(this.stepInterval)?this._getStepsByInterval(this.stepInterval,e,s,i):this.stepPixels>0?this._getStepsByPixels(t,((null===(n=this.axis)||void 0===n?void 0:n._isPolar)&&!(null===(a=this.axis)||void 0===a?void 0:a._isX)?.5:1)*this.stepPixels,e,s,i):s!==i?[s,i]:[s],h}getNextStep(t,e){return t+e*this._step}_findBaseAxis(){if(null!=this.baseAxis){const t=this.axis,e=(t._isX?this.chart._getXAxes():this.chart._getYAxes()).get(this.baseAxis);e!==t&&e instanceof ni&&(this._baseAxis=e,e.tick._baseAxis=null)}}$_normalizeMin(t,e){return t>l(t/e)*e?t=l(t/e)*e:t<c(t/e)*e&&(t=c(t/e)*e),R(t)}_getStepsByCount(t,e,s,i,r){s>e?(s=e,e=NaN):i<e&&(i=e,e=NaN),this._strictEnds=!0;const n=this.axis,a=i-s;let h=a/(t-1);const o=Math.pow(10,Math.floor(Math.log10(h))),u=[];if(isNaN(n.strictMin)||isNaN(n.strictMax)?r&&h/o==2.5&&l(t*a/h)==t*a/h?this._step=h:h=this._step=c(h/o)*o:h=a/(t-1),isNaN(n.strictMin))if(isNaN(e))s=this.$_normalizeMin(s,o);else{for(U(s<e&&i>e,"base error"),t=Math.max(3,t);;){if(!(c((e-s)/h)+c((i-e)/h)+1>t))break;h+=o}s=e-c((e-s)/h)*h}else s=n.strictMin;u.push(s);for(let e=1;e<t;e++)u.push(R(u[e-1]+h));return u}_getStepsByInterval(t,e,s,i){const r=[];let n;if(s=this.$_normalizeMin(s,t),isNaN(e))for(r.push(n=s);n<i;)r.push(n=R(n+t));else{for(r.push(n=e);n>s;)r.unshift(n=R(n-t));for(n=e;n<i;)r.push(n=R(n+t))}return this._step=t,r}_getStepMultiples(t){return[1,2,2.5,5,10]}_getStepsByPixels(t,e,s,i,r){i>=s?i=s:r<=s&&(r=s);const n=r-i,a=[];if(0===n)return isNaN(i)?[]:[i];let h=Math.max(1,l(t/e))+1,o=n/(h-1);const u=Math.pow(10,Math.floor(g(o))),_=this._getStepMultiples(u);let d,p=0;if(o/=u,_)if(o>_[p]){for(;p<_.length-1;p++)if(o>_[p]&&o<_[p+1]){o=_[++p];break}}else o=_[p];if(o*=u,isNaN(s))i=this.$_normalizeMin(i,o);else{for(U(i<=s&&r>=s,"base error"),h=Math.max(3,h);p<_.length;){if(!(c((s-i)/o)+c((r-s)/o)+1>h))break;o=p<_.length-1?_[p+1]*u:2*o,p++}i=s-c((s-i)/o)*o}for(this._step=o,a.push(R(d=i));d<r;)a.push(R(d+=o));return a}}class ii extends Xe{constructor(){super(...arguments),this.useSymbols=!0}getTick(t,e){return this._getText(null,e,this.useSymbols&&this.axis.tick._step>100)}}class ri extends Ie{constructor(){super(...arguments),this.enabled=!0,this.size="30%",this.space=16,this.gridVisible=!0}getSize(t){return G(this._sizeDim,t)}_doLoad(t){super._doLoad(t),this.space=p(this.space,0),this._sizeDim=z(this.size,!1)}}!function(t){t.DEFAULT="default",t.TICK="tick",t.VALUE="value"}($s||($s={}));class ni extends qe{constructor(t,e,s){super(t,e,s),this.nullable=!0,this.padding=.04,this.startFit=$s.DEFAULT,this.endFit=$s.DEFAULT,this.breaks=[],this.label.numberFormat="0.##"}getBaseValue(){return this.baseValue}hasBreak(){return null!=this._runBreaks}runBreaks(){return this._runBreaks&&this._runBreaks.slice(0,1)}isBreak(t){if(this._runBreaks){const e=this._runBreaks[0];return!e.gridVisible&&(t===e.from||t===e.to)}}getStartFit(){return this.startFit===$s.DEFAULT?this._isX?$s.VALUE:$s.TICK:this.startFit}getEndFit(){return this.endFit===$s.DEFAULT?this._isX?$s.VALUE:$s.TICK:this.endFit}isContinuous(){return!0}contains(t){return!isNaN(t)}isBased(){return!!this.tick._baseAxis}_createTickModel(){return new si(this)}_createLabelModel(){return new ii(this)}_doLoadProp(t,e){return"break"===t?(this.$_loadBreaks(e),!0):super._doLoadProp(t,e)}_doPrepareRender(){this._baseVal=parseFloat(this.baseValue),this._unitLen=NaN,this.tick._findBaseAxis()}_doBuildTicks(t,e,s){if(isNaN(t)||isNaN(e))return[];const i=this.tick,r=i._baseAxis instanceof ni;let{min:n,max:a}=this._adjustMinMax(this._calcedMin=t,this._calcedMax=e),h=this._baseVal;isNaN(h)&&n<0&&a>0&&(h=0),r&&i.baseRange&&(n=i._baseAxis.axisMin(),a=i._baseAxis.axisMax());let o=i.buildSteps(s,h,n,a,!1);const l=[];if(i._strictTicks||(o=i._normalizeSteps(o,n,a)),!isNaN(this.strictMin)||!i._strictEnds&&this.getStartFit()===$s.VALUE)for(;o.length>1&&n>o[0];)o.shift();else{if(!i._strictEnds&&!r){for(;o.length>2&&o[1]<=n;)o.shift();if(!isNaN(i._step))for(;o[0]>n;)o.unshift(i.getNextStep(o[0],-1))}n=o[0]}if(!isNaN(this.strictMax)||!i._strictEnds&&this.getEndFit()===$s.VALUE)for(;a<o[o.length-1]&&o.length>1;)o.pop();else{if(!i._strictEnds&&!r){for(;o.length>2&&o[o.length-2]>=a;)o.pop();if(!isNaN(i._step))for(;o[o.length-1]<a;)o.push(i.getNextStep(o[o.length-1],1))}a=o[o.length-1]}this._setMinMax(n,a),this._runBreaks&&(o=this.$_getBrokenSteps(this._runBreaks,s,n,a));for(let t=0;t<o.length;t++){const e=this._createTick(s,t,o[t]);l.push(e)}return l}_createTick(t,e,s){return{index:e,pos:NaN,value:R(s),label:this.label.getTick(e,s)||String(s)}}calcPoints(t,e){super.calcPoints(t,e),this._markPoints=this._ticks.map((t=>t.pos))}$_buildBrokenSteps(t){return this.tick.buildSteps(t.len,void 0,t.from,t.to,!0)}$_getBrokenSteps(t,e,s,i){let r=0,n=s;const a=[n],h=this._sects=[];e-=t.reduce(((t,e)=>t+e.space),0),t.forEach((t=>{const s=t.getSize(e),i={from:n,to:t.from,pos:r,len:s};r+=s,h.push(i,t._sect={from:t.from,to:t.to,pos:r,len:t.space}),r+=t.space;this.$_buildBrokenSteps(i).forEach((t=>{t>i.from&&t<=i.to&&a.push(t)})),t.space>0&&a.push(t.to)}));const o=t[t.length-1];if(i>o.to){const t={from:o.to,to:i,pos:r,len:this._vlen-r};h.push(t);this.$_buildBrokenSteps(t).forEach((e=>{e>t.from&&e<=t.to&&a.push(e)}))}return this._lastSect=h[h.length-1],a}getPosition(t,e){if(this._runBreaks){const s=this._sects.find((t=>e<t.to))||this._lastSect,i=s.len*(e-s.from)/(s.to-s.from);return this.reversed?t-i-s.pos:i+s.pos}{const s=this._single?.5*t:t*(e-this._min)/(this._max-this._min);return this.reversed?t-s:s}}getValueAt(t,e){if(this._isHorz?this.reversed&&(e=t-e):this.reversed||(e=t-e),this._runBreaks){let t=0;for(const s of this._sects){if(e>=t&&e<t+s.len)return(s.to-s.from)*(e-t)/s.len+s.from;t+=s.len}return this._max}return(this._max-this._min)*e/t+this._min}getUnitLength(t,e){return isNaN(this._unitLen)&&(this._unitLen=this.$_calcUnitLength(t)),this._unitLen}getLabelLength(t,e){return Math.floor(t/this._ticks.length)}_adjustMinMax(t,e){let s=this.isZoomed(),i=this.isZoomed();this._series.forEach((r=>{const n=r.getBaseValue(this);isNaN(n)||(isNaN(this.minValue)&&n<=t?(t=n,s=!0):isNaN(this.maxValue)&&n>=e&&(e=n,i=!0)),s||r.canMinPadding(this)||(s=!0),i||r.canMaxPadding(this)||(i=!0)}));let r=0,n=0;isNaN(this.strictMin)?this.minValue<t?t=this.minValue:s||(r=m(this.minPadding,this.padding,0)):t=this.strictMin,isNaN(this.strictMax)?this.maxValue>e?e=this.maxValue:i||(n=m(this.maxPadding,this.padding,0)):e=this.strictMax;let a=Math.max(0,e-t);return t-=a*(this._minPad=r),e+=a*(this._maxPad=n),{min:t,max:e}}$_calcUnitLength(t){const e=[];this._series.forEach((t=>{t.visible&&t.clusterable()&&e.push(...t.getVisiblePoints())}));const s=this._isX,i=e.map((t=>s?t.xValue:t.yValue)).sort(((t,e)=>t-e));let r=i[1]-i[0];for(let t=2;t<i.length;t++)r=Math.min(i[t]-i[t-1]);return t*=r/(this._max-this._min),p(t,1)}$_loadBreak(t){if(s(t)&&"from"in t&&"to"in t)return new ri(this).load(t)}$_loadBreaks(t){if(i(t))for(let e of t){const t=this.$_loadBreak(e);t&&this.breaks.push(t)}else if(t){const e=this.$_loadBreak(t);e&&this.breaks.push(e)}this.$_mergeBreaks()}$_mergeBreaks(){function t(t,e){t.to=e.to}const e=this.breaks.sort(((t,e)=>t.from-e.from)).filter((t=>t.to>t.from));if(this._runBreaks=null,e.length>0){const i=this._runBreaks=[];i.push(o(new ri(this),e[0]));for(let r=1;r<e.length;r++){const n=i[i.length-1],a=e[r];s=n,a.from<s.to?t(n,a):i.push(o(new ri(this),a))}}var s}}class ai extends ni{_type(){return"linear"}_adjustMinMax(t,e){const s=super._adjustMinMax(t,e),i=this._series;return!this._isX&&1===i.length&&i[0]instanceof Us&&i[0].layout===Ds.FILL&&(s.max=i[0].layoutMax),s}}class hi extends si{constructor(){super(...arguments),this.arrangeDecimals=!0}_getStepMultiples(t){return t<=.1?[1/t]:[1,2,3,4,5,10]}_normalizeSteps(t,e,s){if(!this.arrangeDecimals)return t;for(let e=0;e<t.length;e++){let i=t[e],r=l(i);if(i>0&&i>r)if(i=r+g(10*(i-r)),i<=s)t[e]=i;else if(e>0){if(t[e-1]>=s)break;{const r=d(l(g(t[e]-t[e-1]))),n=t[e],a=n-l(n);if(r<1)for(let t=1;t<10;t++)if(a>g(t)&&a<g(t+1)){const e=l(n)+g(t);if(e>=s){i=e;break}}t[e]=i}}}return t}}const oi=[1,1e3,6e4,36e5,864e5,6048e5,24192e5,314496e5],li=[[1,2,5,10,20,25,50,100,200,250,500],[1,2,5,10,15,30],[1,2,3,4,6,8,12],[1,2,3,4,6,12],[1,2],[1,2],[1,2,3,4,6]],ci={s:1,n:2,h:3,d:4,w:5,m:6,y:7};class ui extends si{constructor(){super(...arguments),this["@config stepInerval"]=void 0}getNextStep(t,e){const s=new Date(t);switch(e*=this._step,this.scale){case 7:s.setFullYear(s.getFullYear()+e);break;case 6:s.setMonth(s.getMonth()+e);break;case 5:s.setDate(s.getDate()+7*e);break;case 4:s.setDate(s.getDate()+e);break;case 3:s.setHours(s.getHours()+e);break;case 2:s.setMinutes(s.getMinutes()+e);break;case 1:s.setSeconds(s.getSeconds()+e);break;case 0:s.setMilliseconds(s.getMilliseconds()+e)}return+s}_isValidInterval(t){return isNaN(t)?a(t)&&ci.hasOwnProperty(t.charAt(t.length-1))?(t=parseFloat(t),!isNaN(t)&&(t<=-1||t>=1)):void 0:0!=+t}_getStepMultiples(t){for(let e=0;e<7;e++)if(t>=oi[e]&&t<oi[e+1]/2)return this.scale=e,li[e];this.scale=7}_getStepsByPixels(t,e,s,i,r){const n=[],a=r-i;if(0===a)return n;const h=this.axis,o=new Date(h._calcedMin);let l=Math.floor(t/this.stepPixels)+1,c=Math.max(1,Math.floor(a/(l-1)));const u=this._getStepMultiples(c),_=oi[this.scale];if(c/=_,u)if(c>u[0]){let t=0;for(;t<u.length-1;t++)if(c>u[t]&&c<u[t+1]){c=u[t+1];break}}else c=u[0];const d=h.date(i),g=h.date(r);let p,m=d;if(7===this.scale){const t=o.getFullYear();let e=m.getFullYear();this._step=c=Math.ceil(c),m=new Date(e,0),e<t&&e+c>t&&(e=t,m=new Date(e,0));do{n.push(+m),e+=c,m=new Date(e,0)}while(m<=g)}else if(6===this.scale){let t=m.getFullYear(),e=m.getMonth();this._step=c=Math.ceil(c),m=new Date(t,e),m<o&&new Date(t,e+c)>o&&(m=new Date(o.getFullYear(),o.getMonth()));do{n.push(+m),e+=c,m=new Date(t,e)}while(m<=g)}else if(4===this.scale||5===this.scale){let t=m.getFullYear(),e=m.getMonth(),s=m.getDate();const i=5===this.scale?7:1;this._step=c=Math.ceil(c),m=new Date(t,e,s),m<o&&new Date(t,e,s+i*c)>o&&(m=new Date(o.getFullYear(),o.getMonth(),o.getDate()));do{n.push(+m),s+=c*i,m=new Date(t,e,s)}while(m<=g)}else{switch(this._step=c,c*=_,this.scale){case 3:m.setMinutes(0);case 2:m.setSeconds(0);case 1:m.setMilliseconds(0)}p=m.getTime();const t=o.getTime();p<t&&p+c>t&&(p=t);do{n.push(p),p+=c}while(p<=r)}return n}_getStepsByInterval(t,e,s,i){if(a(t)){const r=[],n=t.charAt(t.length-1);let a;if(this._step=parseFloat(t),this.scale=ci[n],t=oi[this.scale],s+=this.axis._offset,isNaN(e))for(r.push(a=s);a<i;)r.push(a=this.getNextStep(a,1));else{for(r.push(a=e);a>s;)r.unshift(a=this.getNextStep(a,-1));for(a=e;a<i;)r.push(a=this.getNextStep(a,1))}return this._step=t,r}return super._getStepsByInterval(t,e,s,i)}}const _i=[{format:"SSS",beginningFormat:"mm:ss"},{format:"ss",beginningFormat:"mm:ss"},{format:"mm:ss",beginningFormat:"HH:mm:ss"},{format:"HH:mm",beginningFormat:"MM-dd"},{format:"MM-dd",beginningFormat:"yyyy-MM"},{format:"W주 w",beginningFormat:"yyyy-MM"},{format:"yyyy-MM",beginningFormat:"yyyy-MM"},{format:"yyyy"}];class di extends Xe{constructor(){super(...arguments),this.useBeginningFormat=!0}_doLoad(t){super._doLoad(t);const e=a(this.timeFormat)?this.timeFormat:void 0,r=a(this.beginningFormat)?this.beginningFormat:void 0,n=this.timeFormats,h=this.useBeginningFormat;if(this._formatter=e?te.getFormatter(e):void 0,this._formats=_i.map((t=>o(t))),i(n))for(let t=0;t<n.length;t++){const i=this._formats[t];if(e)i.format=e,i.beginningFormat=r||e;else{const e=n[t];a(e)?(i.format=e,h||(i.beginningFormat=e)):s(e)&&(a(e.format)&&(i.format=e.format),a(e.beginningFormat)?i.beginningFormat=e.beginningFormat:h||(i.beginningFormat=i.format))}}}getTick(t,e){const s=this.chart,i=this.axis,r=i.date(e);if(this._formatter)return this._formatter.toStr(r,s.startOfWeek);const n=this._formats,a=i.tick.scale;switch(a){case 7:return te.getFormatter(n[a].format).toStr(r,s.startOfWeek);case 6:return 0===t||0===r.getMonth()?te.getFormatter(n[a].beginningFormat).toStr(r,s.startOfWeek):te.getFormatter(n[a].format).toStr(r,s.startOfWeek);case 5:case 4:return 0===t||1===r.getDate()?te.getFormatter(n[a].beginningFormat).toStr(r,s.startOfWeek):te.getFormatter(n[a].format).toStr(r,s.startOfWeek);case 3:return 0===t||0===r.getHours()?te.getFormatter(n[a].beginningFormat).toStr(r,s.startOfWeek):te.getFormatter(n[a].format).toStr(r,s.startOfWeek);case 2:return 0===t||0===r.getMinutes()?te.getFormatter(n[a].beginningFormat).toStr(r,s.startOfWeek):te.getFormatter(n[a].format).toStr(r,s.startOfWeek);case 1:return 0===t||0===r.getSeconds()?te.getFormatter(n[a].beginningFormat).toStr(r,s.startOfWeek):te.getFormatter(n[a].format).toStr(r,s.startOfWeek);case 0:return 0===t||0===r.getMilliseconds()?te.getFormatter(n[a].beginningFormat).toStr(r,s.startOfWeek):te.getFormatter(n[a].format).toStr(r,s.startOfWeek)}}}class gi extends ni{constructor(t,e,s){super(t,e,s),this.baseValue=NaN}_type(){return"time"}_createTickModel(){return new ui(this)}_createLabelModel(){return new di(this)}_doLoad(t){super._doLoad(t),t&&t.label||this.label.load(null)}collectValues(){this._offset=60*p(this.chart.timeOffset,0)*1e3,super.collectValues()}_adjustMinMax(t,e){return super._adjustMinMax(t,e)}getValue(t){return h(t)?t+this._offset:t instanceof Date?t.getTime():a(t)?new Date(t).getTime():void 0}incStep(t,e){if(!a(e))return t+e;{const s=parseFloat(e);if(0!=s){let i=new Date(t);switch(e.charAt(e.length-1)){case"y":i.setFullYear(i.getFullYear()+s);break;case"m":i.setMonth(i.getMonth()+s);break;case"d":i.setDate(i.getDate()+s);break;case"w":i.setDate(i.getDate()+7*s);break;case"h":i.setHours(i.getHours()+s);break;case"n":i.setMinutes(i.getMinutes()+s);break;case"s":i.setSeconds(i.getSeconds()+s)}return+i}}}date(t){return new Date(t)}getAxisValueAt(t,e){return new Date(this.getValueAt(t,e))}value2Tooltip(t){return isNaN(t)?NaN:new Date(t)}getXValue(t){return this.date(t)}}class pi extends ns{constructor(t){super(t,!0),this.row=0,this.col=0,this.index=-1,this.size="100%"}get left(){return this._left}set left(t){t!==this._left&&(this._leftDim=z(this._left=t,!0))}get right(){return this._right}set right(t){t!==this._right&&(this._rightDim=z(this._right=t,!0))}get top(){return this._top}set top(t){t!==this._top&&(this._topDim=z(this._top=t,!0))}get bottom(){return this._bottom}set bottom(t){t!==this._bottom&&(this._bottomDim=z(this._bottom=t,!0))}get width(){return this._width}set width(t){t!==this._width&&(this._widthDim=z(this._width=t,!0))}get height(){return this._height}set height(t){t!==this._height&&(this._heightDim=z(this._height=t,!0))}get size(){return this._size}set size(t){t!==this._size&&(this._sizeDim=z(this._size=t,!0))}getSize(t,e){return{width:G(this._widthDim||this._sizeDim,t,t),height:G(this._heightDim||this._sizeDim,e,e)}}getLeft(t){return G(this._leftDim,t)}getRight(t){return G(this._rightDim,t)}getTop(t){return G(this._topDim,t)}getBottom(t){return G(this._bottomDim,t)}}class mi extends pi{constructor(){super(...arguments),this.gindex=-1,this.duration=500}static _loadGauge(t,e,s){let i=t._getGaugeType(e.type);i||(i=t._getGaugeType(s||t.gaugeType));const r=new i(t,e.name);return r.load(e),r}setGroup(t,e){this.group=t,this.gindex=e}}class fi extends pi{constructor(){super(...arguments),this._gauges=[],this._visibles=[],this.minValue=0}count(){return this._gauges.length}isEmpty(){return this._gauges.length<1}visibles(){return this._visibles.slice(0)}get(t){return this._gauges[t]}getVisible(t){return this._visibles[t]}calcedMinMax(){return{min:this.minValue,max:this.maxValue}}_doLoadProp(t,e){if("children"===t)return this.$_loadGauges(this.chart,e),!0}prepareRender(){this._visibles=this._gauges.filter((t=>t.visible)),super.prepareRender(),this._prepareChildren(this._visibles)}_prepareChildren(t){t.forEach(((t,e)=>{this._setGroup(t,e),t.prepareRender()}))}$_loadGauges(t,e){const r=this._gaugesType();i(e)?e.forEach(((e,s)=>this.$_add(mi._loadGauge(t,e,r)))):s(e)&&this.$_add(mi._loadGauge(t,e,r))}$_add(t){if(t._type()!==this._gaugesType())throw new Error("이 그룹에 포함될 수 없는 게이지입니다: "+t);this._gauges.push(t),t.index=this._gauges.length-1}_setGroup(t,e){t.setGroup(this,e)}}class wi{constructor(t){this._map={},this._items=[],this._visibles=[],this._gauges=[],this.chart=t}get count(){return this._items.length}get firstGauge(){return this._gauges[0]}getVisibles(){return this._visibles.slice(0)}getPaneVisibles(t,e){return this._visibles.filter((s=>{const i=s.row||0,r=s.col||0;return t===i&&e===r}))}getGauge(t){const e=this._map[t];if(e instanceof mi)return e}get(t){return a(t)?this._map[t]:this._items[t]}load(t){const e=this.chart,r=this._items=[],n=this._map={};i(t)?t.forEach(((t,s)=>{r.push(this.$_loadItem(e,t,s))})):s(t)&&r.push(this.$_loadItem(e,t,0)),r.forEach((t=>{if(t.name&&(n[t.name]=t),t instanceof fi)for(let e=0;e<t.count();e++){const s=t.get(e);s.name&&(n[s.name]=s),this._gauges.push(s)}else this._gauges.push(t)}))}prepareRender(){this._visibles=this._items.filter((t=>t.visible)),this._visibles.forEach((t=>t.prepareRender()))}$_loadItem(t,e,s){let r=i(e.children)&&t._getGaugeGroupType(e.type||t.gaugeType);if(r){const i=new r(t);return i.load(e),i.index=s,i}if(r=t._getGaugeType(e.type||t.gaugeType),!r)throw new Error("Invalid gauge type: "+e.type);const n=new r(t,e.name||`Gauge ${s+1}`);return n.load(e),n.index=s,n}}class xi extends mi{constructor(){super(...arguments),this.minValue=0,this.maxValue=100,this.value=0,this.animatable=!0}updateValue(t,e){t!==this.value&&(this.value=t,this._changed())}getLabel(t,e){return this._runValue=e,t.text||(t.prefix||"")+"${value}"+(t.suffix||"")}getParam(t){switch(t){case"value":return this._runValue;case"min":return this.minValue;case"max":return this.maxValue}}calcedMinMax(){return{min:this.minValue,max:this.maxValue}}}class yi extends ge{constructor(t){super(t.chart,!0),this.scale=t,this.reversed=!1,this.length=7}}class bi extends Pe{getText(t){return gt.isValidNumber(t)?this._getText(null,t,Math.abs(t)>1e3,!0):t}}class vi extends ge{constructor(t,e=!0){super(t.chart,e),this.gauge=t,this._gap=8,this.position=Si.DEFAULT,this.stepPixels=48,this.line=new ge(t.chart,!0),this.tick=new yi(this),this.label=new bi(t.chart,!0)}get gap(){return this._gap}set gap(t){this._gap=p(t,0)}range(){return{min:this._min,max:this._max}}isEmpty(){return this._max<=this._min}buildSteps(t,e,s=NaN){s=p(s,e);const{min:i,max:r}=this._adjustMinMax(Math.min(e,s),Math.max(e,s));return this._steps=this._buildSteps(t,i,r)}buildGroupSteps(t,e){const{min:s,max:i}=this._adjustGroupMinMax(e);return this._steps=this._buildSteps(t,s,i)}getRate(t){return(Math.max(this._min,t)-this._min)/(this._max-this._min)}_adjustMinMax(t,e){const s=this.gauge;return isNaN(s.minValue)||(t=s.minValue),isNaN(s.maxValue)||(e=s.maxValue),this._min=Math.min(t,e),this._max=Math.max(e,t),{min:this._min,max:this._max}}_adjustGroupMinMax(t){const e=this.gauge;let s=e.minValue,i=e.maxValue;return isNaN(s)&&(s=Math.min(...t)),isNaN(i)&&(i=Math.max(...t)),this._min=Math.min(s,i),this._max=Math.max(i,s),{min:this._min,max:this._max}}_buildSteps(t,e,s){let i;return i=Array.isArray(this.steps)?this.steps.slice(0):this.stepCount>0?this._getStepsByCount(this.stepCount,e,s):this.stepInterval>0?this._getStepsByInterval(this.stepInterval,e,s):this.stepPixels>0?this._getStepsByPixels(t,this.stepPixels,e,s):[e,s],this._min=i[0],this._max=i[i.length-1],i}_getStepsByCount(t,e,s){let i=(s-e)/(t-1);const r=Math.pow(10,Math.floor(Math.log10(i))),n=[];i=this._step=Math.ceil(i/r)*r,n.push(R(e));for(let e=1;e<t;e++)n.push(R(n[e-1]+i));return n}_getStepsByInterval(t,e,s){const i=[];let r;for(i.push(r=e);r<s;)i.push(r+=t);return this._step=t,i}_getStepMultiples(t){return[1,2,2.5,5,10]}_getStepsByPixels(t,e,s,i){const r=[],n=i-s;if(0===n)return r;let a=n/(Math.floor(t/e)+1-1);const h=Math.pow(10,Math.floor(Math.log10(a))),o=this._getStepMultiples(h);let l,c=0;if(a/=h,o)if(a>o[c]){for(;c<o.length-1;c++)if(a>o[c]&&a<o[c+1]){a=o[++c];break}}else a=o[c];for(a*=h,this._step=a,r.push(R(l=s));;){if(l+=a,l>=i){r.push(R(i));break}r.push(R(l))}return r}}var Si,Vi,Pi;!function(t){t.DEFAULT="default",t.OPPOSITE="opposite",t.INSIDE="inside"}(Si||(Si={}));class Ai extends ge{}class Ci extends ge{constructor(t,e=!1){super(t.chart,e),this.gauge=t,this.position=Si.DEFAULT,this.gap=5,this.itemGap=0,this.rangeLabel=new Ai(t.chart,!1),this.tickLabel=new ge(t.chart,!0)}get thickness(){return this._thickness}set thickness(t){t!==this._thickness&&(this._thickDim=z(this._thickness=t,!0))}get ranges(){return this.$_internalRanges().slice(0)}set ranges(t){t!==this._ranges&&(this._ranges=t,this._runRanges=null)}getThickness(t){return this._thickDim?G(this._thickDim,t,0):this.position===Si.INSIDE?t:Ci.DEF_THICKNESS}$_internalRanges(){if(!this._runRanges){const t=this.gauge.calcedMinMax();this._runRanges=et(this._ranges,t.min,t.max,!1,!0)||[]}return this._runRanges}}Ci.DEF_THICKNESS=7;class ki extends Pe{constructor(t){super(t,!0),this._domain={callback:(t,e)=>t.getParam(e)},this.animatable=!0}_doPrepareRender(t){this._domain.numberFormatter=this._numberFormatter}}class Ei extends vi{}class Li extends ki{constructor(){super(...arguments),this.offsetX=0,this.offsetY=0}getOffset(t,e){return{x:G(this._offsetXDim,t,0),y:G(this._offsetYDim,e,0)}}load(t){return super.load(t),this._offsetXDim=z(this.offsetX,!0),this._offsetYDim=z(this.offsetY,!0),this}}class Ti{constructor(t=!1){t?(this.setCenterX("50%"),this.setCenterY("50%"),this.setValueRadius("100%")):(this.setCenterX(Mi.DEF_CENTER),this.setCenterY(Mi.DEF_CENTER),this.setRadius(Mi.DEF_RADIUS),this.setInnerRadius(Mi.DEF_INNER))}centerX(){return this._centerX}setCenterX(t){t!==this._centerX&&(this._centerX=t,this._centerXDim=z(f(t,Mi.DEF_CENTER),!0))}centerY(){return this._centerY}setCenterY(t){t!==this._centerY&&(this._centerY=t,this._centerYDim=z(f(t,Mi.DEF_CENTER),!0))}radius(){return this._radius}setRadius(t){t!==this._radius&&(this._radius=t,this._radiusDim=z(f(t,Mi.DEF_RADIUS),!0))}innerRadius(){return this._innerRadius}setInnerRadius(t){t!==this._innerRadius&&(this._innerRadius=t,this._innerDim=z(f(t,Mi.DEF_INNER),!0))}valueRadius(){return this._valueRadius}setValueRadius(t){t!==this._valueRadius&&(this._valueRadius=t,this._valueDim=z(t,!0))}getCenter(t,e){return{x:G(this._centerXDim,t,t/2),y:G(this._centerYDim,e,e/2)}}getExtents(t){const e=G(this._radiusDim,t,t/2),s=Math.min(e,this._innerDim?G(this._innerDim,e):0),i=s+(e-s)/2;return{radius:e,inner:s,value:this._valueDim?G(this._valueDim,i):i,radiusThick:e-s}}prepareAngles(t,e){const s=p(t%360,0),i=Math.max(0,Math.min(360,p(e,360)));this._startRad=L+T*s,this._handRad=T*s,this._sweepRad=T*i}}class Mi extends xi{constructor(t){super(t),this.props=new Ti,this.startAngle=0,this.sweepAngle=360,this.clockwise=!0,this.label=new Li(t)}get centerX(){return this.props.centerX()}set centerX(t){this.props.setCenterX(t)}get centerY(){return this.props.centerY()}set centerY(t){this.props.setCenterY(t)}get radius(){return this.props.radius()}set radius(t){this.props.setRadius(t)}get innerRadius(){return this.props.innerRadius()}set innerRadius(t){this.props.setInnerRadius(t)}get valueRadius(){return this.props.valueRadius()}set valueRadius(t){this.props.setValueRadius(t)}getProps(){return this.childProps||this.props}getCenter(t,e){return this.group?this.childProps.getCenter(t,e):this.props.getCenter(t,e)}getExtents(t){return this.group?this.childProps.getExtents(t):this.props.getExtents(t)}labelVisible(){return this.label.visible}setGroup(t,e){super.setGroup(t,e),t&&!this.childProps&&(this.childProps=new Ti)}_doPrepareRender(t){super._doPrepareRender(t),this.label.prepareRender();const e=this.group;e?this.childProps.prepareAngles(e.startAngle,e.sweepAngle):this.props.prepareAngles(this.startAngle,this.sweepAngle)}}Mi.DEF_CENTER="50%",Mi.DEF_RADIUS="40%",Mi.DEF_INNER="80%";class Ni extends fi{constructor(){super(...arguments),this.props=new Ti,this.startAngle=0,this.sweepAngle=360,this.clockwise=!0,this.itemGap=4,this.labelGap=10}get centerX(){return this.props.centerX()}set centerX(t){this.props.setCenterX(t)}get centerY(){return this.props.centerY()}set centerY(t){this.props.setCenterY(t)}get radius(){return this.props.radius()}set radius(t){this.props.setRadius(t)}get innerRadius(){return this.props.innerRadius()}set innerRadius(t){this.props.setInnerRadius(t)}get valueRadius(){return this.props.valueRadius()}set valueRadius(t){this.props.setValueRadius(t)}getCenter(t,e){return this.props.getCenter(t,e)}getExtents(t){return this.props.getExtents(t)}setChildExtents(t){const e=this._visibles.length;if(e>0){const s=+this.itemGap||0;let i=t.radius;const r=(i-t.inner-s*(e-1))/e;this._visibles.forEach(((t,e)=>{const n=t.childProps;n.setRadius(i),n.setInnerRadius(i-r),i-=r+s}))}}}class Ri extends ge{constructor(t){super(t.chart,!0),this.gauge=t,this.rangeInclusive=!0}get ranges(){var t;return null===(t=this.$_internalRanges())||void 0===t?void 0:t.slice(0)}set ranges(t){t!==this._ranges&&(this._ranges=t,this._runRanges=null)}isRanged(){const t=this.$_internalRanges();return t&&t.length>0}rangeCount(){const t=this.$_internalRanges();return t?t.length:0}getRange(t){const e=this.$_internalRanges();if(e)for(const s of e)if(t>=s.fromValue&&t<s.toValue)return s}$_internalRanges(){return this._runRanges||(this._runRanges=et(this._ranges,this.gauge.minValue,this.gauge.maxValue,this.rangeInclusive)),this._runRanges}}class Oi extends Ri{constructor(t){super(t),this.segmentGap=0}get segmentThickness(){return this._segmentThickness}set segmentThickness(t){t!==this._segmentThickness&&(this._segmentThickness=t,this._thickDim=z(this.segmentThickness,!0))}getSegmentThickness(t){return G(this._thickDim,t,t)}}class Di extends Ri{constructor(t){super(t),this.stroked=!1,this.thickness="100%"}get thickness(){return this._thickness}set thickness(t){t!==this._thickness&&(this._thickness=t,this._thickDim=z(this.thickness,!0))}getThickness(t){return G(this._thickDim,t,t)}}class Bi extends ge{constructor(t){super(t.chart,!1)}}class Ii extends ge{constructor(t){super(t.chart,!1),this.radius=3,this.length="100%",this.offset=0}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._radiusDim=z(t,!0))}get length(){return this._length}set length(t){t!==this._length&&(this._length=t,this._lengthDim=z(t,!0))}get offset(){return this._offset}set offset(t){t!==this._offset&&(this._offset=t,this._offsetDim=z(t,!0))}getExtents(t){return{radius:G(this._radiusDim,t,0),length:G(this._lengthDim,t,0),offset:G(this._offsetDim,t,0)}}}class $i extends ge{constructor(t){super(t.chart,!1),this.radius=5}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._radiusDim=z(t,!0))}getRadius(t){return G(this._radiusDim,t,0)}}class Fi extends vi{constructor(){super(...arguments),this.stepPixels=72}_getStepMultiples(t){return[1,2,2.5,5,10]}}class zi extends Ni{constructor(t){super(t),this.innerRadius="50%"}_type(){return"circlegroup"}_gaugesType(){return"circle"}}class Hi extends ge{constructor(t){super(t.chart,!0),this.thickness=7}get thickness(){return this._thickness}set thickness(t){t!==this._thickness&&(this._thickness=t,this._thickDim=z(this.thickness,!0))}getThickness(t){return G(this._thickDim,t,t)}}class Gi extends ge{constructor(t,e,s){super(t.chart,!0),this.thickness=e,this.length=s}get length(){return this._length}set length(t){t!==this._length&&(this._length=t,this._lengthDim=z(t,!0))}getLength(t){return G(this._lengthDim,t,t)}}class ji extends Gi{constructor(){super(...arguments),this.animatable=!1,this.duration=200}}class Wi extends ge{constructor(t,e){super(t.chart,!0),this.length=e}}class Yi extends ge{constructor(t){super(t.chart,!0),this.step=1,this.offset=1}}class Xi extends ge{constructor(t,e){super(t.chart,!0),this.raidus=e}}class Ui extends Pe{constructor(t){super(t.chart,!0),this.position="top",this.text="RealChart Clock<br>ver1.0"}}class Zi extends ys{labelCount(){return 2}getLabel(t){return 1===t?this.lowValue:this.yValue}_assignTo(t){return o(super._assignTo(t),{low:this.low,lowValue:this.lowValue})}_readArray(t,e){const s=e.length>2?1:0;this.low=e[p(t.lowField,0+s)],this.y=e[p(t.yField,1+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.low=f(e[t.lowField],e.low),this.y=w(e[t.yField],e.y,e.value)}_readSingle(t){super._readSingle(t),this.low=this.y}parse(t){super.parse(t),this.lowValue=parseFloat(this.low)}}class qi extends ys{}class Ki extends Ws{constructor(){super(...arguments),this.colorByPoint=!1}canCategorized(){return!0}_colorByPoint(){return this.colorByPoint}_createPoint(t){return new qi(t)}_getGroupBase(){return this.group?this.group.baseValue:this.baseValue}}class Qi extends Ki{_type(){return"bar"}_createLegendMarker(t,e){return ms.create(t,Ns.LEGEND_MARKER,0,0,e,e,2)}}class Ji extends qs{constructor(){super(...arguments),this.baseValue=0}canCategorized(){return!0}getBaseValue(t){return t._isX?NaN:p(this.baseValue,t.getBaseValue())}_doPrepareSeries(t){if(this.layout===Ds.DEFAULT){const e=t.length>1?t.map((t=>t.pointWidth)).reduce(((t,e)=>t+e),0):t[0].pointWidth;let s=0;t.forEach((t=>{t._childWidth=t.pointWidth/e,t._childPos=s,s+=t._childWidth}))}else this.layout,Ds.STACK}}class tr extends Ji{_type(){return"bargroup"}_seriesType(){return"bar"}_canContain(t){return t instanceof Qi}}class er extends kt{constructor(t,e=C,s=C){super(t,e),s&&this.setLine(s)}setLine(t,e,s,i){gt.isNumber(t)?this.setPath(ps.line(t,e,s,i)):t&&this.setPath(ps.line(t.x1,t.y1,t.x2,t.y2))}setVLine(t,e,s){this.setPath(ps.line(t,e,t,s))}setVLineC(t,e,s){const i=parseFloat(this.getStyle("stroke-width"));isNaN(i)||(t=Math.round(t)-i%2/2),this.setPath(ps.line(t,e,t,s))}setHLine(t,e,s){this.setPath(ps.line(e,t,s,t))}setHLineC(t,e,s){const i=parseFloat(this.getStyle("stroke-width"));isNaN(i)||(t=Math.round(t)-i%2/2),this.setPath(ps.line(e,t,s,t))}}class sr extends kt{constructor(t,e){super(t,e),this.setStyle("fill","none")}setPoints(...t){this.setPath(ps.lines(...t))}resetStyles(t){const e=super.resetStyles(t);return this.setStyle("fill","none"),e}}class ir extends St{constructor(t,e){super(t,Ns.LEGEND_MARKER),this._size=e,this.add(this._marker=new kt(t)),this.setShape(cs.CIRCLE,12)}setShape(t,e){t===this._shape&&e===this._size||(this._shape=t,this._size=e,this._renderShape(e))}_renderShape(t){ps.setShape(this._marker,this._shape,t/2,t/2),this._marker.translate(this._markerOffset(t),0)}_markerOffset(t){return 0}}class rr extends ir{constructor(t,e){super(t,e),this.insertFirst(this._line=new er(t))}_renderShape(t){super._renderShape(t),this._marker.setStyle("visibility",this._shape?"visible":"hidden"),this._line&&this._line.setHLine(t/2,0,2*t)}_markerOffset(t){return t/2}}class nr extends ys{}class ar extends Fs{constructor(){super(...arguments),this.radius=4,this.firstVisible=Os.DEFAULT,this.lastVisible=Os.DEFAULT,this.minVisible=Os.DEFAULT,this.maxVisible=Os.DEFAULT}}class hr extends Es{constructor(){super(...arguments),this.position=Ss.HEAD,this.align=K.CENTER}getAlignOffset(){const t=+this.alignOffset;return isNaN(t)?this.align===K.LEFT||this.align===K.RIGHT?hr.ALIGN_GAP:0:t}}hr.ALIGN_GAP=4;class or extends Ns{constructor(){super(...arguments),this.marker=new ar(this),this.nullAsBase=!1}getShape(t){return this.marker.visible?t&&t.shape||this.marker.shape||this._shape:null}getRadius(t){return p(t.radius,this.marker.radius)}prepareLines(t){this._lines=this._doPrepareLines(t)}_createLabel(t){return new hr(t)}_createPoint(t){return new nr(t)}hasMarker(){return!0}setShape(t){this._shape=t}_defViewRangeValue(){return"x"}_createLegendMarker(t,e){return new rr(t,e)}legendMarker(t,e){const s=super.legendMarker(t,e);return s.setShape(this.getShape(null),Math.min(+e||as.MARKER_SIZE,2*this.marker.radius)),s}_doPrepareLines(t){const e=t.length,s=[];if(this._containsNull){let i=0;for(;i<e;){const r=[];for(;t[i].isNull&&i<e;)i++;for(;i<e&&!t[i].isNull;)r.push(t[i++]);r.length>0&&s.push(r)}}else s.push(t.slice());return s}}!function(t){t.FORWARD="forward",t.BACKWARD="backward"}(Vi||(Vi={}));class lr extends or{constructor(){super(...arguments),this.lineType=ws.DEFAULT,this.stepDir=Vi.FORWARD,this.connectNullPoints=!1,this.baseValue=0}backDir(){return this.stepDir===Vi.BACKWARD?Vi.FORWARD:Vi.BACKWARD}_type(){return"line"}getLineType(){return this.group instanceof dr||this.group instanceof gr?this.group.lineType:this.lineType}}class cr extends nr{}class ur extends lr{constructor(t){super(t),this.marker.visible=!1}prepareAreas(){function t(t){const e=[];if(t.length>0){let s=t[t.length-1].toPoint();s.yPos=t[t.length-1].yLow,e.push(s),s=t[0].toPoint(),console.log("$$$",t[0].yLow),s.yPos=p(t[0].yLow,t[0].yPos),e.push(s)}return e}this.chart.isInverted();const e=this.group,s=this._lines,i=this._areas=[];if(e&&e._stacked){const e=[].concat(...s);i.push(e),i.push(t(e))}else s.forEach((e=>{const s=e.slice(0);i.push(s),i.push(t(s))}))}_type(){return"area"}getBaseValue(t){return t._isX?NaN:this._base}_createPoint(t){return new cr(t)}_doPrepareLines(t){if(this._containsNull&&this.group&&this.group._stacked){const e=t.length,s=[];let i=0;for(;i<e;){const r=t[i].isNull,n=[];do{n.push(t[i++])}while(i<e&&t[i].isNull==r);s.push(n)}return s}return super._doPrepareLines(t)}_doPrepareRender(){super._doPrepareRender(),this._base=p(this.baseValue,this._yAxisObj.getBaseValue())}}class _r extends cr{parse(t){super.parse(t),this.y=this.high=f(this.high,this.low),this.lowValue=parseFloat(this.low),this.highValue=this.yValue=parseFloat(this.high),this.isNull||(this.isNull=isNaN(this.lowValue))}_assignTo(t){return o(super._assignTo(t),{low:this.low,high:this.high,lowValue:this.lowValue,highValue:this.highValue})}_readArray(t,e){const s=e.length>2?1:0;this.low=e[p(t.lowField,0+s)],this.high=e[p(t.highField,1+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.low=f(e[t.lowField],e.low),this.high=f(e[t.lowField],e.high)}_readSingle(t){super._readSingle(t),this.low=this.y}getTooltipPos(){return{x:this.xPos,y:this.yLow}}}class dr extends Us{constructor(){super(...arguments),this.lineType=ws.DEFAULT,this.baseValue=0}_type(){return"linegroup"}_seriesType(){return"line"}_canContain(t){return t instanceof lr}getBaseValue(t){return t===this._yAxisObj?p(this.baseValue,t.getBaseValue()):NaN}}class gr extends Us{constructor(){super(...arguments),this.lineType=ws.DEFAULT,this.baseValue=0}prepareLines(t){if(this._stacked){const e=this._visibles.indexOf(t);if(e>0){const s=this._visibles[e-1],i=t._areas,r=s._areas;for(let t=0;t<i.length;t+=2)i[t+1]=r[t].reverse();this.layout,Ds.STACK}}}_type(){return"areagroup"}_seriesType(){return"area"}_canContain(t){return t instanceof ur}getBaseValue(t){return t===this._yAxisObj?p(this.baseValue,t.getBaseValue()):NaN}}class pr extends cr{}class mr extends ys{labelCount(){return 2}getLabel(t){return 0===t?this.yValue:this.minValue}_assignTo(t){return o(super._assignTo(t),{min:this.min,low:this.low,mid:this.mid,high:this.high,minValue:this.minValue,lowValue:this.lowValue,midValue:this.midValue,highValue:this.highValue})}_readArray(t,e){const s=e.length>5?1:0;this.min=e[p(t.minField,0+s)],this.low=e[p(t.lowField,1+s)],this.mid=e[p(t.midField,2+s)],this.high=e[p(t.highField,3+s)],this.y=e[p(t.yField,4+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.min=f(e[t.minField],e.min),this.low=f(e[t.lowField],e.low),this.mid=f(e[t.midField],e.mid),this.high=f(e[t.highField],e.high),this.y=w(e[t.yField],e.y,e.value)}_readSingle(t){super._readSingle(t),this.min=this.low=this.mid=this.high=this.y}parse(t){super.parse(t),this.minValue=parseFloat(this.min),this.lowValue=parseFloat(this.low),this.midValue=parseFloat(this.mid),this.highValue=parseFloat(this.high),this.isNull||(this.isNull=isNaN(this.minValue)||isNaN(this.lowValue)||isNaN(this.midValue)||isNaN(this.highValue))}}class fr extends ys{getLabel(t){return this.zValue}parse(t){super.parse(t),this.zValue=parseFloat(this.z)}_assignTo(t){return o(super._assignTo(t),{z:this.z,zValue:this.zValue})}_readArray(t,e){if(null===e)this.isNull=!0;else{const s=e.length>2?1:0;this.y=e[p(t.yField,0+s)],this.z=e[p(t.zField,1+s)],s>0&&(this.x=e[p(t.xField,0)])}}_readObject(t,e){super._readObject(t,e),this.isNull||(this.z=f(e[t.zField],e.z))}_readSingle(t){super._readSingle(t),this.z=this.y}getZValue(){return this.zValue}}!function(t){t.WIDTH="width",t.AREA="area"}(Pi||(Pi={}));const wr=function(t){return isNaN(t)?0:t};class xr{constructor(){this._path=[]}length(){return this._path.length}isEmpty(){return 0===this._path.length}clear(){return this._path=[],this}end(t=!1){return t&&this._path.push("Z"),this._path.join(" ")}close(t){const e=this.end(!0);return t&&this.clear(),e}move(t,e){return h(t)?this._path.push("M",t,e):this._path.push("M",t.x,t.y),this}moveBy(t,e){return h(t)?this._path.push("m",t,e):this._path.push("m",t.x,t.y),this}line(t,e){return h(t)?this._path.push("L",t,e):this._path.push("L",t.x,t.y),this}moveOrLine(t,e,s){return t?this._path.push("L",e,s):this._path.push("M",e,s),this}vline(t,e,s){return this._path.push("M",t,e,"L",t,s),this}hline(t,e,s){return this._path.push("M",e,t,"L",s,t),this}curve(t,e,s,i,r,n){return this._path.push("C",t,e,s,i,r,n),this}quad(t,e,s,i){return h(t)?this._path.push("Q",t,e,s,i):this._path.push("Q",t.x1,t.y1,t.x2,t.y2),this}rect(t,e,s,i){return this._path.push("M",t,e,"l",s,0,"l",0,i,"l",-s,0),this}lines(...t){if(h(t[0]))for(let e=0;e<t.length;e+=2)this._path.push("L",wr(t[e]),wr(t[e+1]));else for(let e=0;e<t.length;e++)this._path.push("L",wr(t[e].x),wr(t[e].y));return this}polygon(...t){return h(t[0])?this.move(t[0],t[1]).lines(...t.slice(2)):this.move(t[0]).lines(...t.slice(1)),this._path.push("Z"),this}circle(t,e,s){return this._path.push(`M ${t-s}, ${e} a ${s},${s} 0 1,0 ${2*s},0 a ${s},${s} 0 1,0 ${2*-s},0`),this}getMove(t=0,e=!0){if(t<this._path.length&&"M"===this._path[t]){const s={x:this._path[t+1],y:this._path[t+2]};return e&&this._path.splice(t,3),s}}getLine(t=0,e=!0){if(t<this._path.length&&"L"===this._path[t]){const s={x:this._path[t+1],y:this._path[t+2]};return e&&this._path.splice(t,3),s}}getQuad(t=0,e=!0){if(t<this._path.length&&"Q"===this._path[t]){const s={x1:this._path[t+1],y1:this._path[t+2],x2:this._path[t+3],y2:this._path[t+4]};return e&&this._path.splice(t,5),s}}getPoints(t,e,s=!0){const i=[];for(;t<this._path.length&&i.length<e&&t<this._path.length&&("M"===this._path[t]||"L"===this._path[t]);)i.push({x:this._path[t+1],y:this._path[t+2]}),s&&this._path.splice(t,3);return i}}class yr extends ys{parse(t){super.parse(t),this.lowValue=parseFloat(this.low),this.openValue=parseFloat(this.open),this.closeValue=parseFloat(this.close),this.highValue=parseFloat(this.high),this.isNull||(this.isNull=isNaN(this.lowValue)||isNaN(this.openValue)||isNaN(this.closeValue))}_assignTo(t){return o(super._assignTo(t),{low:this.low,close:this.close,open:this.open,high:this.high})}_readArray(t,e){const s=e.length>4?1:0;this.low=e[p(t.lowField,0+s)],this.open=e[p(t.openField,1+s)],this.close=e[p(t.closeField,2+s)],this.y=this.high=e[p(t.highField,3+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.low=f(e[t.lowField],e.low),this.open=f(e[t.openField],e.open),this.close=f(e[t.closeField],e.close),this.high=f(e[t.highField],e.high),isNaN(this.high)?isNaN(this.y)||(this.high=this.y):this.y=this.high}_readSingle(t){super._readSingle(t),this.low=this.close=this.open=this.high=this.y}}class br extends Ys{_type(){return"candlestick"}canCategorized(){return!0}_createPoint(t){return new yr(t)}_getBottomValue(t){return t.lowValue}_createLegendMarker(t,e){const s=new xr;return s.rect(0,.2*e,e,.6*e),s.vline(e/2,0,e),new kt(t,Ns.LEGEND_MARKER,s.end())}}class vr extends Fs{constructor(){super(...arguments),this.radius=4,this.shape=cs.CIRCLE}}class Sr extends ys{labelCount(){return 2}getLabel(t){return 0===t?this.yValue:this.lowValue}_assignTo(t){return o(super._assignTo(t),{low:this.low,lowValue:this.lowValue})}_readArray(t,e){const s=e.length>2?1:0;this.low=e[p(t.lowField,0+s)],this.y=e[p(t.yField,1+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.low=f(e[t.lowField],e.low),this.y=w(e[t.yField],e.y,e.value)}_readSingle(t){super._readSingle(t),this.low=this.y}parse(t){super.parse(t),this.lowValue=parseFloat(this.low)}}class Vr extends ys{}class Pr extends ys{labelCount(){return 2}getLabel(t){return 1===t?this.lowValue:this.yValue}_assignTo(t){return o(super._assignTo(t),{low:this.low,lowValue:this.lowValue})}_readArray(t,e){const s=e.length>2?1:0;this.low=e[p(t.lowField,0+s)],this.y=e[p(t.yField,1+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.low=f(e[t.lowField],e.low),this.y=w(e[t.yField],e.y,e.value)}_readSingle(t){super._readSingle(t),this.low=this.y}parse(t){super.parse(t),this.lowValue=parseFloat(this.low),this.isNull||(this.isNull=isNaN(this.lowValue))}}class Ar extends zs{}class Cr extends Hs{constructor(t,e){super(t,e),this.width=Cr.DEF_WIDTH,this.height=Cr.DEF_HEIGHT,this.neckWidth=Cr.DEF_NECK_WIDTH,this.neckHeight=Cr.DEF_NECK_HEIGHT,this.reversed=!1,this.legendByPoint=!1}getSize(t,e){return{width:Math.max(.1*t,G(this._widthDim,t)),height:Math.max(.1*e,G(this._heightDim,e))}}getNeckSize(t,e){return{width:gt.clamp(G(this._neckWidthDim,t),.1*t,t),height:gt.clamp(G(this._neckHeightDim,e),.1*e,e)}}_type(){return"funnel"}_createPoint(t){return new Ar(t)}load(t){return super.load(t),this._widthDim=H(this.width,Cr.DEF_WIDTH),this._heightDim=H(this.height,Cr.DEF_HEIGHT),this._neckWidthDim=H(this.neckWidth,Cr.DEF_NECK_WIDTH),this._neckHeightDim=H(this.neckHeight,Cr.DEF_NECK_HEIGHT),this}}Cr.DEF_WIDTH="85%",Cr.DEF_HEIGHT="90%",Cr.DEF_NECK_WIDTH="30%",Cr.DEF_NECK_HEIGHT="30%";class kr extends ys{get z(){return this.heat}get heatValue(){return this.zValue}parse(t){super.parse(t),this.zValue=parseFloat(this.heat),this.isNull||(this.isNull=isNaN(this.zValue))}_assignTo(t){return o(super._assignTo(t),{heat:this.heat,heatValue:this.zValue})}_readArray(t,e){const s=e.length>2?1:0;this.y=e[p(t.yField,0+s)],this.heat=e[p(t.heatField,1+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.heat=f(e[t.heatField],e.color)}_readSingle(t){super._readSingle(t)}getLabel(t){return this.heatValue}}class Er extends ys{parse(t){super.parse(t);const e=this.source;this.min=e.min,this.max=e.max}_assignTo(t){return o(super._assignTo(t),{min:this.min,max:this.max})}}var Lr;!function(t){t.SQURE_ROOT="squreRoot",t.STURGES="struges",t.RICE="rice"}(Lr||(Lr={}));const Tr={squreRoot:function(t){return Math.ceil(Math.sqrt(t))},struges:function(t){return Math.ceil(Math.log(t)*Math.LOG2E)},rice:function(t){return Math.ceil(2*Math.pow(t,1/3))}};class Mr extends Fs{constructor(){super(...arguments),this.radius=4,this.shape=cs.CIRCLE}}class Nr extends ys{}class Rr extends yr{}class Or extends ys{}class Dr extends zs{constructor(){super(...arguments),this.sliced=!1,this.startAngle=0,this.angle=0}get thickness(){return this._thickness}set thickness(t){t!==this._thickness&&(this._thickness=t,this._thickDim=z(t,!0))}parse(t){super.parse(t),this.sliced=this.source.sliced}_assignTo(t){return o(super._assignTo(t),{sliced:this.sliced})}}class Br extends Pe{constructor(){super(null,!0)}}class Ir extends Gs{constructor(){super(...arguments),this.groupSize=1,this.labelDistance=25,this.sliceOffset="7%",this.autoSlice=!0,this.sliceDuration=300,this.borderRadius=0,this.innerText=new Br}hasInner(){return this._innerDim&&this._innerDim.size>0}getInnerRadius(t){const e=this._innerDim;return e?e.size/(e.fixed?t:100):0}getSliceOffset(t){return this._sliceDim?G(this._sliceDim,t):0}_type(){return"pie"}_createPoint(t){return new Dr(t)}_doLoad(t){super._doLoad(t),this._innerDim=z(this.innerRadius,!0),this._sliceDim=z(this.sliceOffset,!0)}_doPrepareRender(){super._doPrepareRender();let t=p(this.startAngle%360,0),e=Math.max(0,Math.min(360,p(this.totalAngle,360)));this._startRad=L+T*t,this._totalRad=T*e,this._groupPos=NaN}}class $r extends Us{constructor(){super(...arguments),this.polarSize="80%",this.innerSize=0}getPolarSize(t,e){return G(this._polarDim,Math.min(t,e))}getInnerRadius(t){const e=this._innerDim;return e?e.size/(e.fixed?t:100):0}_type(){return"piegroup"}_seriesType(){return"pie"}needAxes(){return!1}_canContain(t){return t instanceof Ir}_doLoad(t){super._doLoad(t),this._polarDim=z(this.polarSize,!0)||{size:80,fixed:!1},this._innerDim=z(this.innerSize,!0)}_doPrepareSeries(t){const e=t.map((t=>t.groupSize)).reduce(((t,e)=>t+p(e,1)),0);let s=0;t.forEach((t=>{t._groupPos=s,s+=t._groupSize=p(t.groupSize,1)/e}))}}class Fr extends ys{}class zr extends ys{_assignTo(t){return o(super._assignTo(t),{id:this.id,group:this.group})}_readArray(t,e){super._readArray(t,e),this.id=O(e[parseInt(t.idField)]),this.group=O(e[parseInt(t.groupField)])}_readObject(t,e){super._readObject(t,e),this.id=O(e[t.idField]),this.group=O(e[t.groupField])}}class Hr extends ge{constructor(t){super(t.chart,!1),this.level=t,this.floating=!0}}class Gr extends ge{constructor(t,e){super(t.chart,!0),this.series=t,this.level=e,this.head=new Hr(this)}}class jr{constructor(t){this.series=t,this._levels=[]}load(t){const e=this._levels=[];s(t)&&(t=[t]),i(t)&&t.forEach((t=>{s(t)&&t.level>=0&&(e[t.level]=this.$_loadLevel(t))}))}getLevel(t){return this._levels[t]}$_loadLevel(t){const e=new Gr(this.series,t.level);return e.load(t),e}}class Wr{constructor(t){this.point=t}level(){return this.parent?this.parent.level()+1:0}getArea(){return{x:this.x,y:this.y,width:this.width,height:this.height}}setArea(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i}getTotal(){return this.children.reduce(((t,e)=>t+e.value),0)}}var Yr,Xr,Ur,Zr;!function(t){t.SQUARIFY="squarify",t.STRIP="strip",t.SLICE="slice",t.SLICE_DICE="sliceDice"}(Yr||(Yr={}));class qr extends ys{_assignTo(t){return o(super._assignTo(t),{length:this.length,angle:this.angle,lengthValue:this.lengthValue,angleValue:this.angleValue})}_readArray(t,e){const s=e.length>3?1:0;this.y=e[p(t.yField,0+s)],this.length=e[p(t.lengthField,1+s)],this.angle=e[p(t.angleField,2+s)],s>0&&(this.x=e[p(t.xField,0)])}_readObject(t,e){super._readObject(t,e),this.length=f(e[t.lengthField],e.length),this.angle=f(e[t.angleField],e.angle),this.y=w(e[t.yField],e.y,e.value)}_readSingle(t){super._readSingle(t),this.length=this.angle=this.y}parse(t){super.parse(t),this.lengthValue=parseFloat(this.length),this.angleValue=parseFloat(this.angle),this.isNull||(this.isNull=isNaN(this.lengthValue)||isNaN(this.angleValue))}}!function(t){t.CENTER="center",t.START="start",t.END="end"}(Xr||(Xr={})),function(t){t.NONE="none",t.CLOSE="close",t.OPEN="open"}(Ur||(Ur={}));class Kr extends ys{constructor(){super(...arguments),this.low=0}parse(t){super.parse(t),this._isSum=!0===this.source.isSum,this._intermediate=this.source.intermediate,this._isSum&&(this.y=0),this.save=this.y}}class Qr extends ki{constructor(t){super(t),this.maxWidth="30%",this.maxHeight="30%",this.gap=10}get width(){return this._width}set width(t){t!==this._width&&(this._width=t,this._widthDim=z(t,!0))}get height(){return this._height}set height(t){t!==this._height&&(this._height=t,this._heightDim=z(t,!0))}get maxWidth(){return this._maxWidth}set maxWidth(t){t!==this._maxWidth&&(this._maxWidth=t,this._maxWidthDim=z(t,!0))}get maxHeight(){return this._maxHeight}set maxHeight(t){t!==this._maxHeight&&(this._maxHeight=t,this._maxHeightDim=z(t,!0))}get gap(){return this._gap}set gap(t){t!==this._gap&&(this._gap=t,this._gapDim=z(t,!0))}getWidth(t){return G(this._widthDim,t)}getHeight(t){return G(this._heightDim,t)}getMaxWidth(t){return G(this._maxWidthDim,t)}getMaxHeight(t){return G(this._maxHeightDim,t)}getGap(t){return G(this._gapDim,t,0)}}class Jr extends xi{constructor(t){super(t),this.reversed=!1,this.scale=new Ei(this),this.label=new Qr(this.chart)}isVertical(){return this.group?!this.group.vertical:this.vertical}scaleVisible(){return!this.group&&this.scale.visible}calcedMinMax(){return this.scale.range()}_doPrepareRender(t){super._doPrepareRender(t),this.label.prepareRender()}}!function(t){t.BAR="bar",t.needle="needle"}(Zr||(Zr={}));class tn extends ge{constructor(t){super(t.chart,!0),this.gauge=t}}class en extends Jr{constructor(t){super(t),this.marker=new tn(this),this.band=new Ci(this)}_type(){return"linear"}}class sn extends ge{constructor(){super(...arguments),this.opposite=!1,this.gap=10}}class rn extends fi{constructor(t){super(t),this.vertical=!0,this.itemLabel=new sn(this.chart,!0),this.scale=new Ei(this),this.itemGap=10,this.label=new Qr(t),this.label.gap=10}calcedMinMax(){return this.scale.range()}}class nn extends rn{constructor(){super(...arguments),this.band=new Ci(this,!1)}_type(){return"lineargroup"}_gaugesType(){return"linear"}}class an extends ge{constructor(t){super(t.chart,!0),this.gauge=t,this.vertical=!1,this.rangeInclusive=!0}get width(){return this._width}set width(t){t!==this._width&&(this._width=t,this._widthDim=z(t,!0))}get height(){return this._height}set height(t){t!==this._height&&(this._height=t,this._heightDim=z(t,!0))}get ranges(){var t;return null===(t=this.$_internalRanges())||void 0===t?void 0:t.slice(0)}set ranges(t){t!==this._ranges&&(this._ranges=t,this._runRanges=null)}$_internalRanges(){return this._runRanges||(this._runRanges=et(this._ranges,this.gauge.minValue,this.gauge.maxValue,this.rangeInclusive)),this._runRanges}}class hn extends ge{constructor(t){super(t.chart,!0)}}class on extends ge{constructor(t){super(t.chart,!0),this.gauge=t,this._args={gauge:null,value:NaN}}getStyle(t){if(this.styleCallback){this._args.gauge=this.chart._proxy.getChartObject(this.gauge),this._args.value=t;const e=this.styleCallback(this._args);if(s(e))return e}}}class ln extends rn{constructor(){super(...arguments),this.rangeInclusive=!0}getRanges(t,e,s){return et(this.ranges,t,e,f(s,this.rangeInclusive))}_type(){return"bulletgroup"}_gaugesType(){return"bullet"}}class cn extends ge{}class un extends ge{}const _n={area:()=>({type:"area"}),line:()=>({type:"line"}),bar:()=>({type:"bar"})},dn={category:()=>({type:"category"}),linear:()=>({type:"linear"}),time:()=>({type:"time"}),log:()=>({type:"log"})},gn={minPadding:0,maxPadding:0};class pn extends ge{constructor(t){super(t,!1),this._thickness=45,this._gap=8,this._gapFar=3,this._dataChanged=!0,this.liveScroll=!0,this.handle=new cn(t,!0),this.mask=new un(t,!0),this.borderLine=new ge(t,!0)}get thickness(){return this._thickness}set thickness(t){this._thickness=+t||this._thickness}get gap(){return this._gap}set gap(t){this._gap=+t||this._gap}get gapFar(){return this._gapFar}set gapFar(t){this._gapFar=+t||this._gapFar}isVisible(){return this.visible}axisLen(){return this._naviChart.xAxis.length()}axis(){return this._source._xAxisObj}_doLoad(t){super._doLoad(t);const e=this.chart,i={};s(t.series)?i.series=o((_n[t.series.type]||_n.area)(),t.series):i.series=_n.area(),s(t.xAxis)?i.xAxis=o((dn[t.xAxis.type]||dn.linear)(),t.xAxis,gn):i.xAxis=o(dn.linear(),gn),s(t.yAxis)?i.yAxis=o((dn[t.yAxis.type]||dn.linear)(),t.yAxis,gn):i.yAxis=o(dn.linear(),gn),this._naviChart=this.chart._createChart(i),(this._source=e._getSeries().getSeries(this.source)||e.firstSeries)&&this._naviChart.firstSeries.loadPoints(this._source.getPoints().getProxies())}_doPrepareRender(t){this._vertical=!1,this._naviChart.prepareRender()}}class mn extends rs{constructor(t){super(t.chart),this.pane=t,this.radius=C,this.centerX=C,this.centerY=C}}class fn extends ge{constructor(t,e,s){super(t,!0),this.row=e,this.col=s,this.body=new mn(this)}prepareRender(){this.body.prepareRender()}}class wn extends ge{constructor(t){super(t,!1),this._cols=1,this._rows=1,this._panes={},this._vcols=1,this._vrows=1,this._vpanes=[],this.gap=0}count(){return this._vrows*this._vcols}rowCount(){return this._vrows}colCount(){return this._vcols}paneCount(){return this._vrows*this._vcols}getPane(t,e){return this._vpanes[t][e]}getRow(t){return this._vpanes[t]}getColumn(t){return this._vpanes.map((e=>e[t]))}_doLoadSimple(t){return i(t)&&t.length>0?(this.rows=Math.max(1,+t[0]),this.cols=Math.max(1,p(+t[1],this.rows)),this.rows>0&&this.cols>0&&(this.$_parsePanes(this.rows,this.cols),this.visible=!0),!0):super._doLoadSimple(t)}_doLoadProp(t,e){if(["panes","cols","rows"].indexOf(t)>=0)return!0}load(t){return super.load(t),s(t)&&(this.$_parsePanes(this.rows=t.rows,this.cols=t.cols),this._panes=this.$_loadPanes(t.panes)),this}_doPrepareRender(t){this._xAxes=t._xPaneAxes,this._yAxes=t._yPaneAxes,this._vpanes=this.$_collectPanes(t),this._vpanes.forEach((t=>t.forEach((t=>t.prepareRender()))))}getXLens(t){return new Array(this._vcols).fill(t/this._vcols)}getYLens(t){return new Array(this._vrows).fill(t/this._vrows)}layoutAxes(t,e,s,i){const r=this.getXLens(s?e:t);this._xAxes.buildTicks(r);const n=this.getYLens(s?t:e);this._yAxes.buildTicks(n),this.$_calcAxesPoints(r,n,0)}$_calcAxesPoints(t,e,s){this._xAxes.calcPoints(t,s),this._yAxes.calcPoints(e,s)}calcAxesPoints(t,e){this.$_calcAxesPoints(t,e,1)}calcSizes(t,e){this._widths=this.$_calcSizes(t,this._widths),this._heights=this.$_calcSizes(e,this._heights)}getAnnotation(t){for(const e in this._panes){const s=this._panes[e].body.getAnnotation(t);if(s)return s}}$_parseSizes(t){let e;return e=i(t)&&t.length>0?t.slice(0):t>0?new Array(t).fill("*"):["*"],e.map((t=>{if(a(t)){const e=t.trim();return{size:"*"===e?1:parseFloat(e)}}return+t||{size:1}}))}$_parsePanes(t,e){this._widths=this.$_parseSizes(e),this._heights=this.$_parseSizes(t),this._cols=this._widths.length,this._rows=this._heights.length}$_loadPanes(t){const e={};return t=i(t)?t:s(t)?[t]:null,i(t)&&t.forEach((t=>{const s=+t.row||0,i=+t.col||0;if(i>=0&&i<this._cols&&s>=0&&s<this._rows){const r=new fn(this.chart,s,i);r.load(t),e[s+","+i]=r}})),e}$_collectPanes(t){const e=t._getXAxes().internalItems(),s=t._getYAxes().internalItems(),i=[],r=[],n=[];e.concat(s).forEach((t=>{const e=t.row||0,s=t.col||0;t._row=e,t._col=s,s>=0&&s<this._cols&&i.indexOf(s)<0&&i.push(s),e>=0&&e<this._rows&&r.indexOf(e)<0&&r.push(e)})),i.sort(),r.sort();for(let e=0;e<r.length;e++){const s=[];for(let r=0;r<i.length;r++){const i=this._panes[e+","+r]||new fn(t,e,r);s.push(i)}n.push(s)}return this._vrows=n.length,this._vcols=n[0].length,n}$_calcSizes(t,e){}}class xn extends Ki{_type(){return"circlebar"}_initProps(){super._initProps(),this.pointLabel.position=Ss.INSIDE}}var yn;!function(t){t.AUTO="auto",t.SERIES="series",t.GROUP="group",t.AXIS="axis"}(yn||(yn={}));class bn extends ge{constructor(t){super(t.chart,!0),this.owner=t,this._domain={callback:(t,e)=>this._ctx.getTooltipParam(this._series,this._point,e)},this.level=yn.AUTO,this.text="<b>${name}</b><br>${series}:<b> ${yValue}</b>",this.offset=8,this.hideDelay=bn.HIDE_DELAY,this.minWidth=100,this.minHeight=40,this.numberFormat=",#.##",this.timeFormat="yyyy-MM-dd"}get numberFormat(){return this._numberFormat}set numberFormat(t){t!==this._numberFormat&&(this._numberFormat=t,this._domain.numberFormatter=t?Bt.getFormatter(t):C)}get timeFormat(){return this._timeFormat}set timeFormat(t){t!==this._timeFormat&&(this._timeFormat=t,this._domain.timeFormatter=t?te.getFormatter(t):C)}setTarget(t,e){return this._ctx=this.visible&&this.owner.getTooltipContext(this.level,this._series=t,this._point=e)}getTextDomain(){return this._domain}_doLoadSimple(t){return a(t)?(this.text=t,!0):super._doLoadSimple(t)}}bn.HIDE_DELAY=700;const vn={bar:tr,circlebar:class extends Ji{_type(){return"circlebargroup"}_seriesType(){return"circlebar"}_canContain(t){return t instanceof xn}},line:dr,area:gr,pie:$r,bargroup:tr,circlebargroup:tr,linegroup:dr,areagroup:gr,piegroup:$r,bump:class extends Zs{_type(){return"bump"}_seriesType(){return"line"}_canContain(t){return t instanceof lr}_doConstraintYValues(t){const e={};t.forEach((t=>{t._runPoints.forEach((t=>{const s=t.xValue;let i=e[s];i?i.push(t):e[s]=[t]}))}));for(const t in e){const s=e[t].sort(((t,e)=>t.yValue-e.yValue));for(let t=s.length-1;t>=0;t--)s[t].label=s[t].yValue,s[t].yValue=s[t].yGroup=t}return gt.makeIntArray(0,t.length)}}},Sn={area:ur,arearange:class extends or{constructor(){super(...arguments),this.curved=!1}_type(){return"arearange"}_createPoint(t){return new _r(t)}getLineType(){return this.curved?ws.SPLINE:ws.DEFAULT}collectValues(t,e){super.collectValues(t,e),e&&t===this._yAxisObj&&this._runPoints.forEach((t=>!t.isNull&&e.push(t.lowValue)))}_doPrepareLines(t){const e=super._doPrepareLines(t),s=[];return e.forEach((t=>{const e=[];for(let s=t.length-1;s>=0;s--){const i=t[s],r=i.toPoint();r.yPos=i.yLow,e.push(r)}s.push(t,e)})),s}},bar:Qi,barrange:class extends Xs{_type(){return"barrange"}pointLabelCount(){return 2}_createPoint(t){return new Zi(t)}_getBottomValue(t){return t.lowValue}},bellcurve:class extends ur{constructor(){super(...arguments),this.sigmas=3,this.pointsInSigma=5,this.curved=!1}_type(){return"bellcurve"}getLineType(){return this.curved?ws.SPLINE:ws.DEFAULT}_createPoint(t){return new pr(t)}_loadData(t){const e=super._loadData(t);if(i(e))return this.$_loadTable(e)}_referOtherSeries(t){if(this._points.isEmpty()&&(t.name===this.source||t.index===this.source))return t.referBy(this),!0}reference(t,e){if(!e._isX){const e=t._runPoints.map((t=>t.yValue)).filter((t=>!isNaN(t))),s=this.$_loadTable(e);this._doLoadPoints(s),this._runPoints=this._points.getPoints(this._xAxisObj,this._yAxisObj),this.collectValues(this._xAxisObj,this._xAxisObj._values),this.collectValues(this._yAxisObj,this._yAxisObj._values)}}$_loadTable(t){const e=t.length;if(e<1)return;const s=t.reduce(((t,e)=>t+e),0)/e,i=Math.sqrt(t.reduce(((t,e)=>t+Math.pow(e-s,2)))/(e-1)),r=i/this.pointsInSigma,n=s-this.sigmas*i,a=s+this.sigmas*i;let h=s;const o=[];for(o.push(this.$_getDenstiy(s,i,h));h>n;)h-=r,o.unshift(this.$_getDenstiy(s,i,h));for(h=s;h<a;)h+=r,o.push(this.$_getDenstiy(s,i,h));return o}$_getDenstiy(t,e,s){const i=s-t;return{x:s,y:Math.exp(-i*i/(2*e*e))/(e*Math.sqrt(2*Math.PI))}}},boxplot:class extends Ys{_type(){return"boxplot"}pointLabelCount(){return 2}_createPoint(t){return new mr(t)}_getBottomValue(t){return t.minValue}_createLegendMarker(t,e){return ms.create(t,Ns.LEGEND_MARKER,0,0,e,e,2)}},bubble:class extends Ks{constructor(){super(...arguments),this.sizeMode=Pi.AREA,this.minSize=8,this.maxSize="20%",this.colorByPoint=!1}getPixelMinMax(t){return{min:G(this._minDim,t),max:G(this._maxDim,t)}}getRadius(t,e,s){let i=this._noSize?1:(t-this._zMin)/(this._zMax-this._zMin);return this.sizeMode==Pi.AREA&&(i=Math.sqrt(i)),i=Math.ceil(e+i*(s-e))/2,i}_type(){return"bubble"}ignoreAxisBase(t){return!0}_createPoint(t){return new fr(t)}hasZ(){return!0}_colorByPoint(){return this.colorByPoint}load(t){return super.load(t),this._minDim=z(this.minSize,!0),this._maxDim=z(this.maxSize,!0),this}_doPrepareRender(){super._doPrepareRender(),this._zMin=Number.MAX_VALUE,this._zMax=Number.MIN_VALUE,this._runPoints.forEach((t=>{t.isNull||isNaN(t.zValue)||(this._zMin=Math.min(this._zMin,t.zValue),this._zMax=Math.max(this._zMax,t.zValue))})),this._noSize=this._zMin===this._zMax}_getRangeMinMax(t){return"z"===t?{min:this._zMin,max:this._zMax}:super._getRangeMinMax(t)}},candlestick:br,circlebar:xn,dumbbell:class extends js{constructor(){super(...arguments),this.marker=new vr(this)}_type(){return"dumbbell"}canCategorized(){return!0}pointLabelCount(){return 2}getLabelOff(t){return super.getLabelOff(t)+Math.max(0,this.marker.radius)}_createPoint(t){return new Sr(t)}_doPrepareRender(){super._doPrepareRender();const t=this.marker.radius,e=this.marker.shape;this._runPoints.forEach((s=>{s.radius=t,s.shape=e}))}collectValues(t,e){super.collectValues(t,e),e&&t===this._yAxisObj&&this._runPoints.forEach((t=>{const s=t.lowValue;!isNaN(s)&&e.push(s)}))}},equalizer:class extends Ws{constructor(){super(...arguments),this.segmentSize=10,this.segmentGap=4,this.segmented=!1,this.backSegments=!1}getSegmentSize(t){return G(this._segmentDim,t)}_type(){return"equalizer"}canCategorized(){return!0}_createPoint(t){return new Vr(t)}_doLoad(t){super._doLoad(t),this._segmentDim=z(this.segmentSize,!1)}_createLegendMarker(t,e){const s=new xr;return s.rect(0,0,e,.4*e),s.rect(0,.6*e,e,.4*e),new kt(t,Ns.LEGEND_MARKER,s.end())}},errorbar:class extends Ys{constructor(){super(...arguments),this.pointPadding=.3}_type(){return"errorbar"}clusterable(){return!1}pointLabelCount(){return 2}_createPoint(t){return new Pr(t)}_getBottomValue(t){return t.lowValue}_createLegendMarker(t,e){const s=new xr;s.vline(e/2,.1,.8*e),s.hline(.1,0,e),s.hline(.9*e,0,e);const i=new kt(t,Ns.LEGEND_MARKER,s.end());return i.setStyle("strokeWidth","2px"),i}},funnel:Cr,heatmap:class extends Ns{getColor(t){}_type(){return"heatmap"}canMixWith(t){return!1}canCategorized(){return!0}hasZ(){return!0}defaultYAxisType(){return"category"}_createPoint(t){return new kr(t)}_doPrepareRender(){super._doPrepareRender(),this._heatMin=Number.MAX_VALUE,this._heatMax=Number.MIN_VALUE,this._runPoints.forEach((t=>{isNaN(t.heatValue)||(this._heatMin=Math.min(this._heatMin,t.heatValue),this._heatMax=Math.max(this._heatMax,t.heatValue))}))}},histogram:class extends Ns{constructor(){super(...arguments),this.binsNumber=Lr.SQURE_ROOT,this.baseValue=0}getBinCount(t){const e=p(this.binWidth,0);if(e>0)return t/e;return p(this.binsNumber,0)<1?Tr[this.binsNumber||Lr.SQURE_ROOT](t):void 0}_type(){return"histogram"}ignoreAxisBase(t){return t===this._xAxisObj}_createPoint(t){return new Er(t)}_doLoadPoints(t){function e(t){let e;return e=i(t)?t[p(this.yField,0)]:s(t)?w(t[this.yField],t.y,t.value):t,parseFloat(e)}const r=[];let n=[];for(let s=0;s<t.length;s++){const i=e(t[s]);isNaN(i)||n.push(i)}if(n.length>0){n=n.sort(((t,e)=>t-e)),this.minValue<n[0]&&n.unshift(this.minValue),this.maxValue>n[n.length-1]&&n.push(this.maxValue);const t=n.length,e=n[0],s=n[t-1],i=this.getBinCount(t),a=this._binInterval=(s-e)/i;let h=0,o=e,l=o+a;for(let e=0;e<i;e++){let c=0;if(e==i-1)c=t-h;else for(;h<t&&n[h]<l;)c++,h++;r.push({x:o,y:c,min:o,max:e===i-1?s:l}),o=l,l=o+a}}super._doLoadPoints(r)}collectValues(t,e){super.collectValues(t,e),e&&(t===this._xAxisObj?e.push(this._runPoints[this._runPoints.length-1].max):t===this._yAxisObj&&e.push(this._base))}_doPrepareRender(){super._doPrepareRender(),this._base=p(this.baseValue,this._yAxisObj.getBaseValue())}getBaseValue(t){return t===this._yAxisObj?this._base:NaN}_createLegendMarker(t,e){return ms.create(t,Ns.LEGEND_MARKER,0,0,e,e,2)}},line:lr,lollipop:class extends Ws{constructor(){super(...arguments),this.marker=new Mr(this)}_type(){return"lollipop"}canCategorized(){return!0}getLabelOff(t){return super.getLabelOff(t)+this.marker.radius}_createPoint(t){return new Nr(t)}_doPrepareRender(){super._doPrepareRender();const t=this.marker.radius,e=this.marker.shape;this._runPoints.forEach((s=>{s.radius=t,s.shape=e}))}},ohlc:class extends br{_type(){return"ohlc"}_createPoint(t){return new Rr(t)}_createLegendMarker(t,e){const s=new xr;s.vline(e/2,0,e),s.hline(.4*e,e/2,e),s.hline(.7*e,0,e/2);const i=new kt(t,Ns.LEGEND_MARKER,s.end());return i.setStyle("strokeWidth","2px"),i}},pareto:class extends or{constructor(){super(...arguments),this.curved=!1}_type(){return"pareto"}getLineType(){return this.curved?ws.SPLINE:ws.DEFAULT}_createPoint(t){return new Or(t)}_referOtherSeries(t){if(t.name===this.source||t.index===this.source)return t.referBy(this),!0}reference(t,e){e._isX||(this.$_loadPoints(t._runPoints),this.collectValues(this._xAxisObj,this._xAxisObj._values),this.collectValues(this._yAxisObj,this._yAxisObj._values))}$_loadPoints(t){const e=[],s=t.reduce(((t,e)=>t+p(e.yValue,0)),0);let i=0;t.forEach((t=>{t.isNull||e.push({x:t.xValue,y:i+=100*t.yValue/s})})),this._doLoadPoints(e),this._runPoints=this._points.getPoints(this._xAxisObj,this._yAxisObj)}},pie:Ir,scatter:class extends Ks{constructor(){super(...arguments),this.jitterX=0,this.jitterY=0,this.radius=5}_type(){return"scatter"}ignoreAxisBase(t){return!0}_createPoint(t){return new Fr(t)}_createLegendMarker(t,e){return new ir(t,e)}setShape(t){this._defShape=t}getShape(t){return this.shape||this._defShape}hasMarker(){return!0}legendMarker(t,e){const s=super.legendMarker(t,e);return s.setShape(this.getShape(null),Math.min(+e||as.MARKER_SIZE,2*this.radius)),s}},treemap:class extends Ns{constructor(){super(...arguments),this._map={},this._levels=1,this.idField="id",this.groupField="group",this.algorithm=Yr.SQUARIFY,this.alternate=!0,this.groupMode=!0,this.groupLevels=new jr(this)}buildMap(t,e){function s(t){if(t.children){let e=0;t.children.forEach(((t,i)=>{s(t),e+=t.value})),t.value=e,t.children=t.children.sort(((t,e)=>e.value-t.value)),t.children.forEach(((t,e)=>{t.index=e})),n=Math.max(n,t.level()+1+1)}else r.push(t),t.value=t.point?t.point.yValue:0}const i="vertical"===this.startDir||e>t,r=this._leafs=[];let n=1;return this._roots.forEach(((t,e)=>{s(t)})),this._roots=this._roots.sort(((t,e)=>e.value-t.value)),this._roots.forEach(((t,e)=>{t.index=e})),(this[this.algorithm]||this.squarify).call(this,this._roots,t,e,i),this._levels=n,gt.log("levels",this._levels),{roots:this._roots,leafs:this._leafs}}_type(){return"treemap"}needAxes(){return!1}canMixWith(t){return!1}_createPoint(t){return new zr(t)}getLabeledPoints(){return this._leafs.map((t=>t.point))}_doPrepareRender(){super._doPrepareRender(),this._roots=this.$_buildTree(this._runPoints)}$_buildTree(t){const e=[],s=[],i=this._map;t.forEach((t=>{if(t.id||!t.isNull){const r=new Wr(t);t.id&&(i[t.id]=r),t.group?s.push(r):e.push(r)}}));for(let t=s.length-1;t>=0;t--){const r=s[t],n=i[r.point.group];(r.parent=n)?(n.children||(n.children=[]),n.children.push(r),r.children&&s.splice(t,1)):(e.push(r),s.splice(t,1))}return e}$_squarifyRow(t,e,s,i){const r=e.width*e.height,n=e.width,a=e.height;let h=e.x,o=e.y,l=Number.MAX_VALUE,c=0;const u=[];for(;t.length>0;){let _,d,g,p,m;if(_=t.shift(),c+=_.value,p=c*r/i,1===s?(d=p/a,g=a*_.value/c):(g=p/n,d=n*_.value/c),m=Math.max(d/g,g/d),t.length>0&&m>l)return t.unshift(_),c-=_.value,p=r*c/i,1===s?(g=a,d=p/g):(d=n,g=p/d),u.forEach((t=>{1===s?(t.setArea(h,o,d,a*t.value/c),o+=t.height):(t.setArea(h,o,n*t.value/c,g),h+=t.width)})),1===s?(e.x+=d,e.width-=d):(e.y+=g,e.height-=g),i-c;if(0===t.length)return p=r*c/i,1===s?(g=a,d=p/g):(d=n,g=p/d),u.push(_),u.forEach((t=>{1===s?(t.setArea(h,o,d,a*t.value/c),o+=t.height):(t.setArea(h,o,n*t.value/c,g),h+=t.width)})),0;l=m,u.push(_)}}$_squarify(t,e,s,i){const r=t.slice(0);let n=s?1:0,a=t.reduce(((t,e)=>t+e.value),0);do{a=this.$_squarifyRow(r,e,n,a),i&&(n=1-n)}while(a>0);t.forEach((t=>{t.children&&this.$_squarify(t.children,t.getArea(),!s,!0)}))}squarify(t,e,s,i){this.$_squarify(t,{x:0,y:0,width:e,height:s},i,!0)}strip(t,e,s,i){this.$_squarify(t,{x:0,y:0,width:e,height:s},i,!1)}$_sliceNext(t,e,s,i){if(t.x=e.x,t.y=e.y,1===s){const s=e.height*t.value/i;t.width=e.width,t.height=s,e.y+=s,e.height-=s}else{const s=e.width*t.value/i;t.height=e.height,t.width=s,e.x+=s,e.width-=s}t.children&&this.$_slice(t.children,t.getArea(),0===s,!0)}$_slice(t,e,s,i){let r=t.reduce(((t,e)=>t+e.value),0),n=s?1:0;t.forEach((t=>{this.$_sliceNext(t,e,n,r),r-=t.value,i&&(n=1-n)}))}slice(t,e,s,i){this.$_slice(t,{x:0,y:0,width:e,height:s},i,!1)}sliceDice(t,e,s,i){this.$_slice(t,{x:0,y:0,width:e,height:s},i,!0)}},vector:class extends Ns{constructor(){super(...arguments),this.origin=Xr.CENTER,this.maxLength=20,this.startAngle=0,this.arrowHead=Ur.CLOSE}_type(){return"vector"}ignoreAxisBase(t){return!0}_createPoint(t){return new qr(t)}_doLoad(t){super._doLoad(t)}_doPrepareRender(){super._doPrepareRender();const t=this._runPoints;if(t.length>0){const e=this.maxLength,s=this.origin,i=t.map((t=>t.length)).reduce(((t,e)=>Math.max(t,e)));t.forEach((t=>{const r=t.length/i;switch(t._len=r*e,s){case Xr.START:case Xr.END:t._off=t._len/2;break;default:t._off=0}}))}}_createLegendMarker(t,e){const s=.3,i=.7*e,r=[0,-s*e,-.2*e,-s*e,0,-.6*e,.2*e,-s*e,0,-s*e,0,.6*e],n=["M",r[0],r[1]+i];for(let t=2;t<r.length;t+=2)n.push("L",r[t],r[t+1]+i);const a=new kt(t,Ns.LEGEND_MARKER,n);return a.setStyle("strokeWidth","2px"),a.rotation=30,a}},waterfall:class extends Xs{constructor(t,e){super(t,e)}_type(){return"waterfall"}canCategorized(){return!0}_createPoint(t){return new Kr(t)}_doPrepareRender(){super._doPrepareRender();const t=this._runPoints;if(t.length<1)return;let e,s,i=t[0],r=i.y=i._isSum?0:i.y,n=r,a=r,h=r,o=0;for(let l=1,c=t.length;l<c;l++){if(i=t[l],i._isSum){const e=t[l-1],r=!0===i._intermediate||l<c-1&&!1!==i._intermediate,n=i.save=i.y=r?h:a;i.yGroup=i.yValue=i.y,r?h<0?(o=e.low,s=o-n):(s=e.y,o=s-n):(o=t[0].low,s=o+n),h=0}else e=i.y,e<0?n<0?(s=r+n,o=s+e):(s=r,o=s+e):(o=r,s=o+e),h+=e,a+=e;n=i.y,i.y=r=s,i.low=o}}_getBottomValue(t){return t.y=t.save,NaN}}},Vn={category:ks,linear:ai,time:gi,date:gi,log:class extends ni{_type(){return"log"}_createTickModel(){return new hi(this)}collectValues(){super.collectValues(),this._values=this._values.filter((t=>t>0))}getPosition(t,e){return e=e>0?g(e):-1,super.getPosition(t,e)}_doCalcluateRange(t){const e=super._doCalcluateRange(t);return e.min=g(e.min),e.max=g(e.max),e}_createTick(t,e,s){return super._createTick(t,e,R(d(s)))}}},Pn={circle:class extends Mi{constructor(){super(...arguments),this.band=new Ci(this),this.scale=new Fi(this,!1),this.rim=new Oi(this),this.valueRim=new Di(this),this.marker=new Bi(this),this.hand=new Ii(this),this.pin=new $i(this)}_type(){return"circle"}getExtents(t){const e=super.getExtents(t),s=this.scale,i=this.band;let r=e.radius;const n=r-e.inner;if(i.visible)switch(e.bandThick=i.getThickness(n),i.position){case Si.INSIDE:e.band=r-(n-e.bandThick)/2;break;case Si.OPPOSITE:e.band=e.inner-i.gap,e.inner=e.band-e.bandThick;break;default:e.band=r+=e.bandThick+i.gap}switch(e.scaleTick=Math.max(1,s.tick.length||0),e.scaleLabel=16,s.position){case Si.OPPOSITE:e.scale=e.inner-s.gap,e.inner=e.scale-e.scaleTick-e.scaleLabel;break;case Si.INSIDE:default:e.scale=r+s.gap}return e}},linear:en,bullet:class extends Jr{constructor(t){super(t),this.band=new an(this),this.targetBar=new hn(this),this.actualBar=new on(this),this.rangeInclusive=!0}getRanges(t,e,s){return et(this.ranges,t,e,f(s,this.rangeInclusive))}_type(){return"bullet"}_doLoad(t){super._doLoad(t)}},clock:class extends mi{constructor(t){super(t),this._active=!0,this.centerX=Mi.DEF_CENTER,this.centerY=Mi.DEF_CENTER,this.radius=Mi.DEF_RADIUS,this.rim=new Hi(this),this.hourHand=new Gi(this,7,"60%"),this.minuteHand=new Gi(this,5,"85%"),this.secondHand=new ji(this,2,"95%"),this.tick=new Wi(this,10),this.minorTick=new Wi(this,5),this.tickLabel=new Yi(this),this.pin=new Xi(this,5),this.label=new Ui(this)}get active(){return this._active}set active(t){t!==this._active&&(this._active=t,this._changed())}getTime(){return this.time instanceof Date?this.time:a(this.time)?new Date(this.time):isNaN(this.time)?void 0:new Date(this.time)}getExtendts(t,e){const s=Math.min(t,e);return{cx:G(this._centerXDim,t,t/2),cy:G(this._centerYDim,e,e/3),rd:G(this._radiusDim,s,s/2)}}_type(){return"clock"}_doLoad(t){super._doLoad(t),this._centerXDim=z(f(this.centerX,Mi.DEF_CENTER),!0),this._centerYDim=z(f(this.centerY,Mi.DEF_CENTER),!0),this._radiusDim=z(f(this.radius,Mi.DEF_RADIUS),!0)}}},An={circle:zi,linear:nn,bullet:ln,circlegroup:zi,lineargroup:nn,bulletgroup:ln},Cn={text:class extends Ce{constructor(){super(...arguments),this._domain={callback:(t,e)=>this.chart.getParam(t,e)},this.text="Text"}get numberFormat(){return this._numberFormat}set numberFormat(t){t!==this._numberFormat&&(this._numberFormat=t,this._domain.numberFormatter=t?Bt.getFormatter(t):C)}get timeFormat(){return this._timeFormat}set timeFormat(t){t!==this._timeFormat&&(this._timeFormat=t,this._domain.timeFormatter=t?te.getFormatter(t):C)}isVisible(){return this.visible&&!B(this.text)}_type(){return"text"}_doLoadSimple(t){return a(t)?(this.text=t,!0):super._doLoadSimple(t)}},image:class extends Ee{isVisible(){return this.visible&&!B(this.imageUrl)}_type(){return"image"}_doLoadSimple(t){return a(t)?(this.imageUrl=t,!0):super._doLoadSimple(t)}},shape:class extends Ee{constructor(t){super(t),this["@config width"]=64,this["@config height"]=64,this.shape=cs.SQUARE,this.width=this.height=64}getSeries(){if(this._xRange&&this._yRange){const t=this.chart.seriesByName(this.series);if(t&&t.visible)return{series:t,xRange:this._xRange,yRange:this._yRange}}}_type(){return"shape"}_doLoadSimple(t){return a(t)?(this.shape=t,!0):super._doLoadSimple(t)}_doLoad(t){super._doLoad(t),!r(t.xRange,2)||isNaN(+t.xRange[0])||isNaN(+t.xRange[1])||!r(t.yRange,2)||isNaN(+t.yRange[0])||isNaN(+t.yRange[1])||(this._xRange=[+t.xRange[0],+t.xRange[1]],this._yRange=[+t.yRange[0],+t.yRange[1]])}getSize(t,e){const s=this.getSeries();if(s){const i=this._series=s.series,r=i._xAxisObj,n=i._yAxisObj,a=r.getPosition(t,this._xRange[0]),h=r.getPosition(t,this._xRange[1]),o=n.getPosition(e,this._yRange[0]),l=n.getPosition(e,this._yRange[1]);return this._x=Math.min(a,h),this._y=Math.max(o,l),{width:Math.abs(a-h),height:Math.abs(o-l)}}return super.getSize(t,e)}getPosition(t,e,s,i,r,n,a){return this.getSeries()?t?{x:i-this._y,y:this._x}:{x:this._x,y:r-this._y}:super.getPosition(t,e,s,i,r,n,a)}}};class kn extends ge{constructor(){super(...arguments),this.text="RealChart v1.0",this.url="http://realgrid.com",this.floating=!1,this.align=K.RIGHT,this.verticalAlign=Q.BOTTOM,this.offsetX=2,this.offsetY=1,this.gap=4}isFloating(){return this.floating||this.verticalAlign===Q.MIDDLE}}class En extends ge{constructor(){super(...arguments),this.paletteMode=Bs.NORMAL,this.animatable=!0,this.xStart=0,this.xStep=1,this.axisGap=8,this.credits=new kn(null,!0),this.hoveringScope=it.AUTO,this.hoveringEffect=rt.DEFAULT}}class Ln extends V{constructor(t){super(),this._params={},this.type="bar",this.gaugeType="circle",this.polar=!1,this.timeOffset=(new Date).getTimezoneOffset(),this.startOfWeek=0,this._assets=new Oe,this._themes=new Js,this._options=new En(this,!0),this._title=new ti(this),this._subtitle=new ei(this),this._legend=new us(this),this._tooltip=new bn(this),this._split=new wn(this),this._series=new Rs(this),this._xAxes=new Ke(this,!0),this._yAxes=new Ke(this,!1),this._xPaneAxes=new ts(this),this._yPaneAxes=new es(this),this._gauges=new wi(this),this._body=new rs(this),this._annotations=new ke(this),this._navigator=new pn(this),t&&this.load(t)}_createChart(t){return new Ln(t)}animatable(){return!1!==this._options.animatable}getTooltipContext(t,e,s){class i{constructor(t){this.axis=t,this.series=t.getVisibleSeries()}getTooltipText(t,e){return Us.collectTooltipText(this.axis,this.series,e)}getTooltipParam(t,e,s){return Us.inflateTooltipParam(this.series,t,e,s)}}if(t===yn.AUTO){const s=e.group;!s||s.layout!==Ds.OVERLAP&&s.layout!==Ds.STACK&&s.layout!==Ds.FILL||(t=yn.GROUP)}switch(t){case yn.AXIS:return new i(e._xAxisObj);case yn.GROUP:return e.group;default:return e}}get chart(){return this}get assets(){return this._assets}get options(){return this._options}get title(){return this._title}get subtitle(){return this._subtitle}get first(){return this._series.first}get firstSeries(){return this._series.firstSeries}get firstGauge(){return this._gauges.firstGauge}get legend(){return this._legend}get tooltip(){return this._tooltip}get xAxis(){return this._xAxes.first}get yAxis(){return this._yAxes.first}get body(){return this._body}get split(){return this._split}get xPaneAxes(){return this._xPaneAxes}get yPaneAxes(){return this._yPaneAxes}get seriesNavigator(){return this._navigator}needAxes(){return this._series.needAxes()}_getSeries(){return this._series}_getGauges(){return this._gauges}_getXAxes(){return this._xAxes}_getYAxes(){return this._yAxes}getAnnotations(){return this._annotations.getVisibles()}isGauge(){return this._gaugeOnly}isPolar(){return this._polar}isWidget(){return this._series.isWidget()}isInverted(){return this._inverted}isSplitted(){return this._splitted}isEmpty(){return this._series.isEmpty()&&0===this._gauges.count}seriesByName(t){return this._series.getSeries(t)}seriesByPoint(t){return this._series.seriesByPoint(t)}gaugeByName(t){return this._gauges.getGauge(t)}annotationByName(t){return this._annotations.getAnnotation(t)||(this._splitted?this._split.getAnnotation(t):this._body.getAnnotation(t))}axisByName(t){return this._xAxes.get(t)||this._yAxes.get(t)}containsAxis(t){return this._xAxes.contains(t)||this._yAxes.contains(t)}getXAxis(t){return this._xAxes.get(t)}getYAxis(t){return this._yAxes.get(t)}getAxes(t,e){const s=this._xAxes.items,i=this._yAxes.items;let r;if(this.isInverted())switch(t){case J.LEFT:r=s.filter((t=>!t._isOpposite&&!t._isBetween));break;case J.RIGHT:r=s.filter((t=>t._isOpposite));break;case J.BOTTOM:r=i.filter((t=>!t._isOpposite&&!t._isBetween));break;case J.TOP:r=i.filter((t=>t._isOpposite));break;case J.CENTER:r=s.filter((t=>t._isBetween))}else switch(t){case J.LEFT:r=i.filter((t=>!t._isOpposite&&!t._isBetween));break;case J.RIGHT:r=i.filter((t=>t._isOpposite));break;case J.BOTTOM:r=s.filter((t=>!t._isOpposite&&!t._isBetween));break;case J.TOP:r=s.filter((t=>t._isOpposite));break;case J.MIDDLE:r=s.filter((t=>t._isBetween))}return r?e?r.filter((t=>t.visible)):r:[]}_getLegendSources(){return this._series.getLegendSources()}$_assignTemplates(t){const e=t.template;if(a(e)){let s=this._templates[e];if(s)return x(s,t)}else i(e)&&e.forEach((e=>{let s=this._templates[e];return s&&(s=x(s,t)),s}));return t}load(t){const e="load chart "+1e6*Math.random();gt.LOGGING&&console.time(e),this.$_loadTemplates(t.templates),["type","gaugeType","polar","inverted"].forEach((e=>{e in t&&(this[e]=t[e])})),this._polar=!0===this.polar,this.type=this.type||"bar",this.gaugeType=this.gaugeType||"circle",this._assets.load(t.assets),this._themes.load(t.themes),this._options.load(t.options),this._title.load(t.title),this._subtitle.load(t.subtitle),this._legend.load(t.legend),this._tooltip.load(t.tooltip),this._split.load(t.split),this._series.load(t.series),this._gauges.load(t.gauges||t.gauge),this._gaugeOnly=0==this._series.count&&this._gauges.count>0,this._gaugeOnly||(this._xAxes.load(w(t.xAxes,t.xAxis,{})),this._yAxes.load(w(t.yAxes,t.yAxis,{}))),this._body.load(t.body||t.plot),this._annotations.load(t.annotations||t.annotation),this._navigator.load(t.seriesNavigator),gt.log("chart-items:",de),gt.LOGGING&&console.timeEnd(e)}_connectSeries(t,e){return e?this._xAxes.connect(t):this._yAxes.connect(t)}prepareRender(){const t=this._xAxes,e=this._yAxes,s=this._split;[t,e].forEach((t=>{t.count<1&&!this._gaugeOnly&&t.load({})})),this._inverted=!this._polar&&this.inverted,this._splitted=s.visible,t.disconnect(),e.disconnect(),this._series.prepareRender(),t.collectValues(),e.collectValues(),t.collectReferentsValues(),e.collectReferentsValues(),t.prepareRender(),e.prepareRender(),this._splitted&&!this._gaugeOnly&&(s.prepareRender(),this._xPaneAxes.prepare(t,s._vrows,s._vcols),this._yPaneAxes.prepare(e,s._vrows,s._vcols)),this._series.prepareAfter(),this._legend.prepareRender(),this._gauges.prepareRender(),this._body.prepareRender(),this._annotations.prepareRender(),this._navigator.visible&&this._navigator.prepareRender()}layoutAxes(t,e,s,i){this._xAxes.$_buildTicks(s?e:t),this._yAxes.$_buildTicks(s?t:e),this.$_calcAxesPoints(t,e,s,0)}$_calcAxesPoints(t,e,s,i){let r=s?e:t;this._xAxes.forEach((t=>{t.calcPoints(r,i)})),r=s?t:e,this._yAxes.forEach((t=>{t.calcPoints(r,i)}))}axesLayouted(t,e,s){this.$_calcAxesPoints(t,e,s,1)}update(){}getParam(t,e){return this._params[e]}setParam(t,e,s){s&&e!==this._params[t]?(this._params[t]=e,this._modelChanged(null)):this._params[t]=e}$_loadTemplates(t){if(s(t)){const e=this._templates={};for(const i in t){const r=t[i];s(r)&&(e[i]=o({},r))}this.assignTemplates=this.$_assignTemplates.bind(this)}else this.assignTemplates=void 0}_getGroupType(t){return a(t)&&vn[t.toLowerCase()]}_getSeriesType(t){return a(t)&&Sn[t.toLowerCase()]}_getAxisType(t){return a(t)&&Vn[t.toLowerCase()]}_getGaugeType(t){return a(t)&&Pn[t.toLowerCase()]}_getGaugeGroupType(t){return a(t)&&An[t.toLowerCase()]}_getAnnotationType(t){return a(t)&&Cn[t.toLowerCase()]}getAxesGap(){return this._options.axisGap||0}_modelChanged(t,e){this._fireEvent("onModelChanged",t,e)}_visibleChanged(t){this._fireEvent("onVisibleChanged",t)}_pointVisibleChanged(t,e){this._fireEvent("onPointVisibleChanged",t,e)}}class Tn extends v{constructor(t,e,s,i=0){super(),this.removeDelay=0,this._pool=[],this._views=[],this._removes=[],this._owner=t,this._creator=e,this._styleName=s,this.removeDelay=i}_doDestory(){this.freeAll(),this._owner=null,this._creator=null,super._doDestory()}get isEmpty(){return 0===this._views.length}get count(){return this._views.length}get first(){return this._views[0]}get last(){return this._views[this._views.length-1]}get(t){return this._views[t]}getAll(){return this._views.slice()}_internalItems(){return this._views}elementOf(t){for(let e of this._views)if(e.dom.contains(t))return e}find(t){return this._views.find(t)}setRemoveDelay(t){return this.removeDelay=t,this}removeLater(t,e){const s=this._views.indexOf(t);s>=0&&(t.removeLater(e,(t=>{this._pool.push(t)})),this._views.splice(s,1))}$_create(t,e=-1,s=0){let i=this._pool.pop();return i||(i=new this._creator(t,this._styleName)),this._owner.add(i),i}prepare(t,e,s){const i=this._owner.doc,r=this._pool,n=this._views;for(;n.length>t;)r.push(n.pop().remove());for(;n.length<t;){const e=this.$_create(i);n.push(e),null==s||s(e,n.length-1,t)}return e&&this.forEach(e),this}reprepare(t,e,s,i,r,n){const a=this._owner.doc,h=this._pool,o=this._views,l=[];for(let t=this._removes.length-1;t>=0;t--)if(!this._removes[t].parent){const e=this._removes.splice(t,1)[0];h.push(e)}for(let i=0,n=e.length;i<n;i++){const h=e[i];let c=-1;if(t)for(let e=0,i=o.length;e<i;e++){const i=o[e][t];if(s&&i===h[s]||!s&&i===h){l.push(o[e]),c=e;break}}if(c>=0){const t=o.splice(c,1)[0];t.parent||this._owner.add(t)}else{const t=this.$_create(a,i,n);l.push(t),null==r||r(t,i,n)}}for(let t=0,e=o.length;t<e;t++){const s=o[t];s.removing||(this.removeDelay>0?this._removes.push(s.removeLater(this.removeDelay)):h.push(s.remove()),null==i||i(s,t,e))}return this._views=l,n&&this.forEach(n),this}borrow(){const t=this._pool.pop()||new this._creator(this._owner.doc,this._styleName);return this._owner.add(t),t}free(t,e=0){if(t){e>0?t.removeLater(e):t.remove(),this._pool.push(t);const s=this._views.indexOf(t);s>=0&&this._views.splice(s,1)}}freeAll(t,e=0){for(let s=(t=t||this._views).length-1;s>=0;s--)this.free(t[s],e)}forEach(t){const e=this._views;for(let s=0,i=e.length;s<i;s++)t(e[s],s,i)}visit(t){const e=this._views.length;let s=0;for(;s<e&&!1!==t(this._views[s],s,e);s++);return s===e}sort(t){return this._views=this._views.sort(t),this}map(t){return this._views.map(t)}}class Mn{static empty(){return new Mn}static create(t=0,e=0){return new Mn(t,e)}constructor(t=0,e=0){this.width=t,this.height=e}get isEmpty(){return 0===this.width||0===this.height}clone(){return new Mn(this.width,this.height)}equals(t){return t===this||t&&this.width===t.width&&this.height===t.height}setEmpty(){return this.width=this.height=0,this}set(t,e){return this.width=t,this.height=e,this}round(){const t=this.clone();return t.width>>>=0,t.height>>>=0,t}toString(){return"{width: "+this.width+", height: "+this.height+"}"}}Mn.EMPTY=new Mn;class Nn extends St{constructor(t,e=C){super(t,e,"g"),this._doInitChildren(t)}_movable(){return!1}setAttr(t,e){return Nn.IGNORE_ATTRS.hasOwnProperty(t)||super.setAttr(t,e),this}_doInitChildren(t){}}Nn.IGNORE_ATTRS={width:"",height:""};class Rn extends Nn{constructor(t,e=C){super(t),this.add(this._text=new ne(t,e)),this._text.anchor=se.START}get text(){return this._text.text}setText(t){return this._outline&&(this._outline.text=t),this._text.text=t,this}setModel(t,e,s){const i=e.effect;return this._model=e,this._text.setStyleOrClass(e.style),i===pe.BACKGROUND?(this._outline&&this._outline.remove(),this._back||(this._back=new ms(t,"rct-label-background")),this.insertFirst(this._back),this._back.setStyleOrClass(e.backgroundStyle)):i===pe.OUTLINE?(this._back&&this._back.remove(),this._outline||(this._outline=new ne(t)),this.insertFirst(this._outline),this._outline.anchor=this._text.anchor,this._outline.setStyleOrClass(e.style)):(this._back&&this._back.remove(),this._outline&&this._outline.remove()),this}setContrast(t){if(t&&this._model.autoContrast&&this._text.setContrast(t,this._model.darkStyle||"rct-label-dark",this._model.lightStyle||"rct-label-light"),this._outline&&this._outline.parent){const t=ee.getContrast(getComputedStyle(this._text.dom).fill);this._outline.setStyles({fill:t,stroke:t,strokeWidth:this._model._outlineWidth})}return this}layout(t){const e=this._text.getBBounds(),s=e.width,i=e.height;let r=0,n=0;if(this._back&&this._back.parent){const t=getComputedStyle(this._back.dom);r=parseFloat(t.paddingLeft)||0,n=parseFloat(t.paddingTop)||0,this._back.setBounds(0,0,s+r+(parseFloat(t.paddingRight)||0),i+n+(parseFloat(t.paddingBottom)||0),t.rx)}switch(t){case K.CENTER:r+=s/2,this._text.anchor=se.MIDDLE;break;case K.RIGHT:r+=s,this._text.anchor=se.END;break;default:this._text.anchor=se.START}return this._text.translate(r,n),this._outline&&(this._outline.anchor=this._text.anchor,this._outline.setAttr("y",this._text.getAttr("y")),this._outline.translate(r,n)),this}}class On{static create(t,e,s,i){return isNaN(s)?isNaN(e)?new On(t,t,t,t):new On(t,t,e,e):new On(t,e,s,i)}static createFrom(t){const e=t.split(/\s*[\s,]+\s*/g);return this.create.call(null,...e.map((t=>+t)))}constructor(t=0,e=0,s=0,i=0){this.top=t,this.bottom=e,this.left=s,this.right=i}clone(){return new On(this.top,this.bottom,this.left,this.right)}applyPadding(t){return this.left=p(t.paddingLeft,0),this.right=p(t.paddingRight,0),this.top=p(t.paddingTop,0),this.bottom=p(t.paddingBottom,0),this}applyMargin(t){return this.left=p(t.marginLeft,0),this.right=p(t.marginRight,0),this.top=p(t.marginTop,0),this.bottom=p(t.marginBottom,0),this}shrink(t){return{x:t.x+this.left,y:t.y+this.top,width:t.width-this.left-this.right,height:t.height-this.top-this.bottom}}toString(){return"{top: "+this.top+", bottom: "+this.bottom+", left: "+this.left+", right: "+this.right+"}"}}On.Empty=Object.freeze(new On),On.Temp=new On;class Dn extends St{constructor(t,e=C){super(t,e,"g"),St.DEBUGGING&&(this.add(this._debugRect=new ms(t,"rct-debug")),this._debugRect.setAttr("pointerEvents","none"))}chart(){return this.model.chart}_prepareStyleOrClass(t){this.setStyleOrClass(t.style)}setModel(t){t!==this.model&&(this.model=t,this._doModelChanged())}measure(t,e,s,i,r){this._prepareStyleOrClass(e),this.setModel(e);const n=this._doMeasure(t,this.model,s,i,r);return this.mw=n.width,this.mh=n.height,n}layout(t){return this._doLayout(t),St.DEBUGGING?(this._debugRect||this.insertFirst(this._debugRect=new ms(this.doc,"rct-debug")),this.width>1&&this.height>1&&this._debugRect.setRect(this._getDebugRect())):this._debugRect&&(this._debugRect.remove(),this._debugRect=null),this}resizeByMeasured(){return this.resize(this.mw,this.mh),this}_getDebugRect(){return{x:0,y:0,width:this.width,height:this.height}}_doMeasure(t,e,s,i,r){return{width:s,height:i}}_doLayout(t){}_invalidate(){var t;null===(t=this.control)||void 0===t||t.invalidateLayout()}_doModelChanged(){}}class Bn extends Dn{constructor(t,e,s){super(t,e),this._margins=new On,this._paddings=new On,this.add(this._background=new ms(t,s))}_getDebugRect(){return this._margins.shrink(super._getDebugRect())}measure(t,e,s,i,r){this._prepareStyleOrClass(e),this.setModel(e),this._background.internalClearStyleAndClass(),this._setBackgroundStyle(this._background);const n=this._doMeasure(t,e,s,i,r);let a=getComputedStyle(this._background.dom);const h=this._paddings;if(h.applyPadding(a),n.width+=h.left+h.right,n.height+=h.top+h.bottom,this._marginable()){const t=this._margins;a=getComputedStyle(this.dom),t.applyMargin(a),this.mw=n.width+=t.left+t.right,this.mh=n.height+=t.top+t.bottom}return this.mw=n.width,this.mh=n.height,n}layout(t){if(super.layout(t),this._marginable()){const t=this._margins;this._background.setBounds(t.left+this._getBackOffset(),t.top,this.width-t.left-t.right,this.height-t.top-t.bottom)}else this._background.setBounds(0,0,this.width,this.height);return this}_marginable(){return!0}_getBackOffset(){return 0}}class In extends Nn{measure(t,e,s,i,r){this._setInverted(e.isInverted());const n=this._doMeasure(t,e,s,i,r);return this.mw=n.width,this.mh=n.height,n}resizeByMeasured(){return this.resize(this.mw,this.mh),this}layout(t){return this._doLayout(t),this}_setInverted(t){this._inverted=t}}class $n extends Dn{constructor(){super(...arguments),this._inverted=!1,this._animatable=!0}_setChartOptions(t,e){this._inverted=t,this._animatable=e}}class Fn extends Bn{constructor(t){super(t,Fn.TITLE_CLASS,"rct-axis-title-background"),this.add(this._textView=new ne(t)),this._richText=new _e}_setBackgroundStyle(t){t.setStyleOrClass(this.model.backgroundStyle)}_getBackOffset(){return-this.width/2}_doMeasure(t,e,s,i,r){this._angle=e.getRotation(e.axis),this._richText.setFormat(e.text),this._richText.build(this._textView,s,i,null,null);const n=pt(this._textView.getBBounds());if(!e.axis._isHorz&&0!==this._angle){const t=n.width;n.width=n.height,n.height=t}return n}_doLayout(t){this._textView.translateY(this._margins.top+this._paddings.top),t?this.rotation=0:this.setRotation(0,this.height/2,this._angle)}resizeByMeasured(){return 0===this._angle?this.resize(this.mw,this.mh):this.resize(this.mh,this.mw),this}layout(t){return super.layout(t),this._debugRect&&this._debugRect.setBounds(-this.width/2,0,this.width,this.height),this}}Fn.TITLE_CLASS="rct-axis-title";class zn extends Dn{constructor(t){super(t,Yn.TICK_CLASS),this.add(this._lineView=new er(t))}_doLayout(t){this.model.axis._isHorz?this._lineView.setVLineC(0,0,this.height):this._lineView.setHLineC(0,0,this.width)}}class Hn extends Rn{constructor(){super(...arguments),this.index=-1,this.col=0,this.row=0,this.tickWidth=0}setLabel(t,e,s,i){e?(this._richText?this._richText._format!==e&&this._richText.setFormat(e):this._richText=new _e(e),this.setModel(this.doc,t,null),this._richText.build(this._text,s,i,t,t._domain),this._outline&&this._richText.build(this._outline,s,i,t,t._domain)):this._richText&&(this._richText=null,this._text.text="")}rotatedHeight(){const t=this.rotation*T,e=this.getBBounds();return Math.abs(u(t)*e.height)+Math.abs(_(t)*e.width)}}class Gn extends St{constructor(t){super(t,void 0),this.add(this._back=new kt(t,"rct-crosshair-flag")),this.add(this._text=new ne(t,"rct-crosshair-flag-text"))}setText(t,e){if(e!==this._text.text){this._text.text=e;const s=this._text.getBBounds(),i=new xr,r=Math.max(t.flag.minWidth||0,s.width+8);i.rect(0,0,r,s.height+4),this._back.setPath(i.end()),this._text.translate(r/2,2)}}}class jn extends Dn{static isThumb(t){return t.classList.contains(jn.THUMB_CLASS)}constructor(t){super(t,"rct-axis-scrollbar"),this._len=0,this._page=0,this._pos=0,this.add(this._trackView=new ms(t,jn.TRACK_CLASS)),this.add(this._thumbView=new ms(t,jn.THUMB_CLASS))}setScroll(t,e){if(this._reversed=e,t){const e=t.max-t.min,s=t.end-t.start;this._len=Math.max(0,e),this._page=Math.min(s,e),this._pos=Math.min(t.min+e-s,Math.max(0,t.start))}else this._len=0}getZoomPos(t){const e=this.model.axis._zoom,s=(this._vertical?this.height:this.width)-(this._vertical?this._thumbView.height:this._thumbView.width);return this.model.axis.reversed,(t=Math.max(0,Math.min(t,s)))*(e.max-e.min-(e.end-e.start))/s+e.min}_doMeasure(t,e,s,i,r){return this.setStyleOrClass(e.style),(this._vertical=!e.axis._isHorz)?{width:e.thickness+e.gap+e.gapFar,height:i}:{width:s,height:e.thickness+e.gap+e.gapFar}}_doLayout(t){const e=this.model,s=e.axis._zoom,i=this._szThumb=p(e.minThumbSize,32),r=this._len,n=0===this._len,a=this._page,h=n?0:this._pos-s.min;let o=this.width,l=this.height;if(this._vertical){o-=e.gap+e.gapFar,this._trackView.setBounds(e.gap,0,o,l),l-=i;const t=(n||a===r?l:l*a/r)+i;this._reversed,this._thumbView.setBounds(e.gap+1,n?0:this.height-l*h/r-t,o-2,t)}else{l-=e.gap+e.gapFar,this._trackView.setBounds(0,e.gap,o,l),o-=i;const t=(n||a===r?o:o*a/r)+i;this._reversed,this._thumbView.setBounds(n?0:o*h/r,e.gap+1,t,l-2)}}}jn.TRACK_CLASS="rct-axis-scrollbar-track",jn.THUMB_CLASS="rct-axis-scrollbar-thumb";const Wn=/\${label}.*?/g;class Yn extends Dn{constructor(t){super(t,Yn.AXIS_CLASS),this._simpleMode=!1,this._markViews=[],this.add(this._lineView=new er(t,Yn.LINE_CLASS)),this.add(this._titleView=new Fn(t)),this.add(this._markContainer=new St(t,"rct-axis-ticks")),this.add(this._labelContainer=new St(t,"rct-axis-labels")),this._labelViews=new Tn(this._labelContainer,Hn,"rct-axis-label")}$_checkScrollView(t,e,s,i,r){return e.visible&&!this.model._isBetween?(this._scrollView||this.add(this._scrollView=new jn(t)),this._scrollView.setVis(!0),this._scrollView.measure(t,e,i,r,1)[s]):(this._scrollView&&this._scrollView.setVis(!1),0)}checkHeight(t,e,s){const i=this.model;let r=i.tick.visible?i.tick.length:0;return this.$_prepareLabels(i)&&(r+=this.$_measureLabelsHorz(i,e)),this._titleView.setVis(i.title.isVisible())&&(r+=this._titleView.measure(t,i.title,e,s,1).height,r+=i.title.gap),r+=this.$_checkScrollView(t,i.scrollBar,"height",e,s),r}checkWidth(t,e,s){const i=this.model;let r=i.tick.visible?i.tick.length:0;return this.$_prepareLabels(i)&&(r+=this.$_measureLabelsVert(i,e)),(this._titleView.visible=i.title.isVisible())&&(r+=this._titleView.measure(t,i.title,e,s,1).width,r+=i.title.gap),r+=this.$_checkScrollView(t,i.scrollBar,"width",e,s),r}prepareGuides(t,e,s,i,r){let n=this.model.guides.filter((t=>!t.front&&t.canConstainedTo(e,s)));i.addAll(t,n),n=this.model.guides.filter((t=>t.front&&t.canConstainedTo(e,s))),r.addAll(t,n)}showCrosshair(t,e){let s,i=this._crosshairView;i||this.add(i=this._crosshairView=new Gn(this.doc)),i.setVis(!0),i.setText(this.model.crosshair,e);const r=i.getBBounds();this.model._isHorz?i.translate(t-r.width/2,this.model.tick.length):(s=this.model._runPos===ve.OPPOSITE?Math.min(0,this.width-r.width):Math.max(0,this.width-this.model.tick.length-r.width),i.translate(s,t-r.height/2))}hideCrosshiar(){this._crosshairView&&this._crosshairView.visible&&this._crosshairView.setVis(!1)}scroll(t){}_doMeasure(t,e,s,i,r){var n;const a=e._isHorz,h=e._isBetween,o=this._titleView;let l=0;return(this._lineView.visible=e.line.visible)?(this._lineView.setStyleOrClass(e.line.style),h&&(this._lineView2?this._lineView2.setVis(!0):this.insertChild(this._lineView2=new er(t,Yn.LINE_CLASS),this._lineView),this._lineView.setStyleOrClass(e.line.style))):this._lineView2&&this._lineView2.setVis(!1),this._markLen=e.tick.length||0,this._markLen>0&&(l+=e.tick.gap||0),l+=this._markLen,this.$_prepareTickMarks(t,e)&&this._markViews.forEach((n=>n.measure(t,e.tick,s,i,r))),h&&(l*=2),this.$_prepareLabels(e)?l+=this._labelSize=a?this.$_measureLabelsHorz(e,s):this.$_measureLabelsVert(e,i):this._labelSize=0,this._simpleMode?o.setVis(!1):(o.visible&&(l+=a?o.mh:o.mw,l+=+e.title.gap||0),(null===(n=this._scrollView)||void 0===n?void 0:n.visible)&&(l+=a?this._scrollView.mh:this._scrollView.mw)),Mn.create(a?s:l,a?l:i)}_doLayout(){const t=this.model,e=t._isHorz,s=t._isOpposite,i=t._isBetween,r=t._ticks,n=t._markPoints,a=this._labelViews,h=this._markLen,o=this.width,l=this.height;this._lineView.visible&&(e?this._lineView.setHLineC(s?l:0,0,o):this._lineView.setVLineC(s?0:o,0,l),this._lineView2&&(e?this._lineView2.setHLineC(l,0,o):this._lineView2.setVLineC(0,0,l))),this._markContainer.visible&&(e?this._markViews.forEach(((t,e)=>{t.resize(1,h),t.layout().translate(n[e],s?l-h:0)})):this._markViews.forEach(((t,e)=>{t.resize(h,1),t.layout().translate(s?0:o-h,l-n[e])})));const c=h+(t.tick.gap||0);if(this._labelContainer.visible&&(e?this.$_layoutLabelsHorz(a,r,i,s,o,l,c):this.$_layoutLabelsVert(a,r,i,s,o,l,c)),!this._simpleMode){const i=this._titleView,r=this._scrollView,n=this._labelSize;let a=0,h=0;if(i.visible){const r=+t.title.offset||0,u=+t.title.gap||0;if(i.resizeByMeasured().layout(e),e){if(h+=s?0:c+n+u,t.reversed)switch(t.title.align){case xe.START:a=o-i.width/2-r;break;case xe.END:a=i.width/2+r;break;case xe.MIDDLE:default:a=o/2-r}else switch(t.title.align){case xe.START:a=i.width/2+r;break;case xe.END:a=o-i.width/2-r;break;case xe.MIDDLE:default:a=o/2+r}i.translate(a,h),h+=i.height}else{const e=0===i._angle?i.width:i.height;if(a=s?c+n+u+e/2:o-c-n-u-e/2,t.reversed)if(0===i._angle)switch(t.title.align){case xe.START:h=0+r;break;case xe.END:h=l-i.height-r;break;case xe.MIDDLE:default:h=(l-i.height)/2+r}else switch(t.title.align){case xe.START:h=i.width/2-i.height/2+r;break;case xe.END:h=l-i.width/2-i.height/2-r;break;case xe.MIDDLE:default:h=(l-i.height)/2+r}else if(0===i._angle)switch(t.title.align){case xe.START:h=l-i.height-r;break;case xe.END:h=0+r;break;case xe.MIDDLE:default:h=(l-i.height)/2-r}else switch(t.title.align){case xe.START:h=l-i.width/2-i.height/2-r;break;case xe.END:h=i.width/2-i.height/2+r;break;case xe.MIDDLE:default:h=(l-i.height)/2-r}i.translate(a,h)}}else h+=s?0:c+n;(null==r?void 0:r.visible)&&(e?(r.translate(0,h).resize(this.width,r.mh),r.setScroll(t._zoom,t.reversed)):(r.translate(0,0).resize(r.mw,this.height),r.setScroll(t._zoom,t.reversed)),r.layout())}}$_prepareTickMarks(t,e){const s=this._markContainer;if(s.visible=e.tick.visible){const i=e._markPoints.length,r=this._markViews;for(;r.length<i;){const e=new zn(t);s.add(e),r.push(e)}for(;r.length>i;)r.pop().remove();return!0}}_prepareLabel(t,e,s,i){const r=s.getLabelText(e,i),n=e.label;if(t.value=e.value,t.internalClearStyleAndClass(),t.internalSetStyleOrClass(s.style),t.internalSetStyleOrClass(s.getLabelStyle(e,i)),null!=r){n&&r.match(Wn)?t.setLabel(s,r.replace(Wn,n),1e3,1e3):(s.prepareRich(r),s._paramTick=e,t.setModel(this.doc,s,null),s.buildSvg(t._text,t._outline,NaN,NaN,s,s._domain))}else t.setLabel(s,n,1e3,1e3)}$_prepareLabels(t){const e=t.label;if(this._labelContainer.setVis(e.visible)){const s=t._ticks;return this._labelContainer.setStyleOrClass(e.style),this._labelViews.prepare(s.length,((t,i,r)=>{t.setVis(!0),this._prepareLabel(t,s[i],e,r)})).count}return 0}$_getRows(t){return 2}$_getStep(t){return 2}$_checkOverlappedHorz(t,e,s,i,r,n){const a=e.length,h=Math.max(1,i)*Math.max(1,r),o=n||0,l=Math.abs(o)*Math.PI/180;let c=!1;e.forEach((t=>t.rotation=o));for(let i=0;i<a-1;i+=h){let r=0,n=i;for(;n<i+h&&n<a-1;n++)r+=t.getLabelLength(s,e[i].value);if(n===i+h){if(0===o&&e[i].getBBounds().width>=r){c=!0;break}if(0!==o&&(e[i].getBBounds().width+e[i].getBBounds().height)*u(l)>=r){c=!0;break}}}return c}$_applyStep(t,e,s){const i=t.label,r=Math.max(0,i.startStep||0);e.forEach((t=>t.index=-1));for(let t=r;t<e.length;t+=s)e[t].index=t;return e.forEach((t=>t.setVis(t.index>=0))),e.filter((t=>t.visible))}$_measureLabelsHorz(t,e){const s=t.label;let i,r=this._labelViews._internalItems(),n=+s.step>>0,a=+s.rows>>0,h=+s.rotation%360,o=this.$_checkOverlappedHorz(t,r,e,n,a,h);if(r.forEach((t=>t.row=0)),this._labelRowPts=[0],o)if(s.autoArrange===be.NONE)r=this.$_applyStep(t,r,1);else{switch(n=a=h=0,s.autoArrange){case be.ROWS:a=this.$_getRows(r);break;case be.STEP:n=this.$_getStep(r);break;default:h=-45}if(n>1){const s=r.slice(0);for(;s.length>1&&(r=this.$_applyStep(t,s,n),this.$_checkOverlappedHorz(t,s,e,n,1,0));)n++}else if(a>1){for(;r.length>a&&(r.forEach(((t,e)=>{t.row=e%a,t.index=e})),this.$_checkOverlappedHorz(t,r,e,1,a,0));)a++;this._labelRowPts=[]}else h=-45,r.forEach(((t,e)=>{t.rotation=h,t.index=e})),this.$_checkOverlappedHorz(t,r,e,n,a,h)&&(n=Math.max(2,n++),r=this.$_applyStep(t,r,n),this.$_checkOverlappedHorz(t,r,e,n,a,0)&&r.forEach(((t,e)=>{t.rotation=h})))}else r=this.$_applyStep(t,r,n||1);if(a>1){const t=!isNaN(h)&&0!=h,e=this._labelRowPts;a>1&&r.forEach(((t,e)=>t.row=e%a));for(let t=0;t<a;t++)e.push(0);r.forEach((s=>{e[s.row]=Math.max(e[s.row],t?s.rotatedHeight():s.getBBounds().height)})),e.unshift(0);for(let t=2;t<e.length;t++)e[t]+=e[t-1];return e[e.length-1]}if(isNaN(h)||0==h){i=r[0].getBBounds().height;for(let t=1;t<r.length;t++)i=Math.max(i,r[t].getBBounds().height)}else{i=r[0].rotatedHeight();for(let t=1;t<r.length;t++)i=Math.max(i,r[t].rotatedHeight())}return i}$_checkOverlappedVert(t,e,s,i){const r=e.length,n=Math.max(1,i);e.forEach((t=>t.rotation=0));for(let i=0;i<r-1;i+=n){let a=0;for(let h=i;h<i+n&&h<r-1;h++)a+=t.getLabelLength(s,e[i].value);if(e[i].getBBounds().height>=a)return!0}}$_measureLabelsVert(t,e){const s=t.label;let i=this._labelViews._internalItems(),r=Math.max(1,+s.step>>0);if(this.$_checkOverlappedVert(t,i,e,r)){const s=i.slice(0);for(;s.length>1&&r<s.length/2&&(i=this.$_applyStep(t,s,++r),this.$_checkOverlappedHorz(t,s,e,r,1,0)););}else i=this.$_applyStep(t,i,r);let n=i[0].getBBounds().width;for(let t=1;t<i.length;t++)n=Math.max(n,i[t].getBBounds().width);return n}$_layoutLabelsHorz(t,e,s,i,r,n,a){const h=K.CENTER,o=this._labelRowPts;t.forEach((t=>{if(t.visible){const s=t.rotation,r=s*T,l=t.getBBounds();let c=e[t.index].pos,u=i?n-a-l.height-o[t.row]:a+o[t.row];s<-15&&s>=-90?i?(c-=l.width,u-=_(r)*l.height/2,t.setRotation(l.width,l.height/2,-s)):(c-=l.width,u+=_(r)*l.height/2,t.setRotation(l.width,l.height/2,s)):s>15&&s<=90?i?(u+=_(r)*l.height/2,t.setRotation(0,l.height/2,-s)):(u-=_(r)*l.height/2,t.setRotation(0,l.height/2,s)):(c-=l.width/2,t.setRotation(l.width/2,0,i?-s:s)),t.setContrast(null).layout(h).translate(c,u)}}))}$_layoutLabelsVert(t,e,s,i,r,n,a){const h=i?K.LEFT:s?K.CENTER:K.RIGHT,o=i?a:r-a;t.forEach(((t,a)=>{if(t.visible){const l=t.getBBounds(),c=i?o:s?(r-l.width)/2:o-l.width;t.setContrast(null).layout(h).translate(c,n-e[a].pos-l.height/2)}}))}}Yn.AXIS_CLASS="rct-axis",Yn.LINE_CLASS="rct-axis-line",Yn.TICK_CLASS="rct-axis-tick";class Xn extends St{constructor(t,e){super(t,e,"image"),this._dirty=!0,this._bounds=mt.Empty,this.dom.onload=()=>{this._dirty=!0,this.control.invalidateLayout()}}get url(){return this.getAttr("href")}set url(t){t!==this.url&&(this._dirty=!0,t?this.setAttr("href",t):this.unsetAttr("href"))}setImage(t,e,s){return!!t&&(this.url=t,this.resize(e,s),!0)}getBBounds(){return this._dirty&&(this._bounds=this.dom.getBBox(),this._dirty=!1),this._bounds}_doSizeChanged(){this._dirty=!0}}const Un=Math.pow,Zn=Math.sqrt,qn=Math.sin,Kn=Math.cos,Qn=Math.PI,Jn=1.70158,ta=1.525*Jn,ea=Jn+1,sa=2*Qn/3,ia=2*Qn/4.5,ra=function(t){const e=7.5625,s=2.75;return t<1/s?e*t*t:t<2/s?e*(t-=1.5/s)*t+.75:t<2.5/s?e*(t-=2.25/s)*t+.9375:e*(t-=2.625/s)*t+.984375},na={inQuad:t=>t*t,outQuad:t=>1-(1-t)*(1-t),inOutQuad:t=>t<.5?2*t*t:1-Un(-2*t+2,2)/2,inCubic:t=>t*t*t,outCubic:t=>1-Un(1-t,3),outCubic2:t=>1-Un(1-t,4),inOutCubic:t=>t<.5?4*t*t*t:1-Un(-2*t+2,3)/2,inQuart:t=>t*t*t*t,outQuart:t=>1-Un(1-t,4),inOutQuart:t=>t<.5?8*t*t*t*t:1-Un(-2*t+2,4)/2,inQuint:t=>t*t*t*t*t,outQuint:t=>1-Un(1-t,5),inOutQuint:t=>t<.5?16*t*t*t*t*t:1-Un(-2*t+2,5)/2,inSine:t=>1-Kn(t*Qn/2),outSine:t=>qn(t*Qn/2),inOutSine:t=>-(Kn(Qn*t)-1)/2,inExpo:t=>0===t?0:Un(2,10*t-10),outExpo:t=>1===t?1:1-Un(2,-10*t),inOutExpo:t=>0===t?0:1===t?1:t<.5?Un(2,20*t-10)/2:(2-Un(2,-20*t+10))/2,inCirc:t=>1-Zn(1-Un(t,2)),outCirc:t=>Zn(1-Un(t-1,2)),inOutCirc:t=>t<.5?(1-Zn(1-Un(2*t,2)))/2:(Zn(1-Un(-2*t+2,2))+1)/2,inBack:t=>ea*t*t*t-Jn*t*t,outBack:t=>1+ea*Un(t-1,3)+Jn*Un(t-1,2),inOutBack:t=>t<.5?Un(2*t,2)*(7.189819*t-ta)/2:(Un(2*t-2,2)*((ta+1)*(2*t-2)+ta)+2)/2,inElastic:t=>0===t?0:1===t?1:-Un(2,10*t-10)*qn((10*t-10.75)*sa),outElastic:t=>0===t?0:1===t?1:Un(2,-10*t)*qn((10*t-.75)*sa)+1,inOutElastic:t=>0===t?0:1===t?1:t<.5?-Un(2,20*t-10)*qn((20*t-11.125)*ia)/2:Un(2,-20*t+10)*qn((20*t-11.125)*ia)/2+1,inBounce:t=>1-ra(1-t),outBounce:ra,inOutBounce:t=>t<.5?(1-ra(1-2*t))/2:(1+ra(2*t-1))/2};class aa{constructor(){this.delay=0,this.duration=aa.DURATION,this.easing="inOutSine",this._handler=()=>{const t=+new Date-this._started-this.delay;let e=Math.min(1,Math.max(0,R(t/this.duration)));this._easing&&(e=this._easing(e));try{!1===this._doUpdate(e)&&this._stop()}finally{t>=this.duration?this._stop():this._started&&window.requestAnimationFrame(this._handler)}}}start(t){return t&&(this.endHandler=t),this._start(this.duration,this.delay,this.easing),this}stop(){this._stop()}_start(t,e=0,s=null){this._started&&this._stop(),this.duration=p(t,aa.DURATION),this.delay=e||0,this._easing=na[s],this._doStart(),this._started=+new Date,this._timer=setTimeout((()=>this._stop()),1.2*this.duration),this._handler()}_stop(){var t;this._started&&(clearTimeout(this._timer),this._timer=null,this._started=null,this._doStop(),null===(t=this.endHandler)||void 0===t||t.call(this,this))}_doStart(){}_doStop(){}}aa.DURATION=700,aa.SHORT_DURATION=300;class ha{static reveal(t,e){new la(t,e)}static fadeIn(t){new oa(t,{prop:"opacity",start:"0",end:"1"})}static grow(t,e){new ua(t,e)}constructor(t,e){const s=this._createAnimation(t,e);s instanceof Animation&&(s.addEventListener("finish",(()=>{t._animationFinished(s)})),t._animationStarted(s))}}class oa extends ha{constructor(t,e){super(t,e)}_createAnimation(t,e){const s={},i={};return s[e.prop]=e.start,i[e.prop]=e.end,t.dom.animate([s,i],{duration:aa.DURATION,fill:"none"})}}class la extends ha{constructor(t,e){super(t,e)}_createAnimation(t,e){const s=this.$_clipRect(t);let i;switch(e&&e.from){case"top":i=this.$_top(t,s,e);break;case"bottom":i=this.$_bottom(t,s,e);break;case"right":i=this.$_right(t,s,e);break;default:i=this.$_left(t,s,e)}return i.addEventListener("finish",(()=>{s.dom.remove()})),i}$_aniOptions(t){return{duration:aa.DURATION,fill:"none"}}$_clipRect(t){let e;if(t.model.needClip(!1))e=t.clipRect(.1*-t.width,.1*-t.height,1.2*t.width,1.2*t.height);else{const s=t.control;e=t.model.chart.isInverted()?t.clipRect(-s.width(),.1*-t.height,2*s.width(),1.2*t.height):t.clipRect(.1*-t.width,-s.height(),1.2*t.width,2*s.height())}return e.setTemporary()}$_left(t,e,s){return e.dom.firstElementChild.animate([{width:"0"},{width:D(t.width)}],this.$_aniOptions(s))}$_right(t,e,s){return e.dom.firstElementChild.animate([{transform:`translateX(${t.width}px)`},{transform:""}],this.$_aniOptions(s))}$_top(t,e,s){return e.dom.firstElementChild.animate([{height:"0"},{height:D(t.height)}],this.$_aniOptions(s))}$_bottom(t,e,s){return e.dom.firstElementChild.animate([{transform:`translateY(${t.height}px)`},{transform:""}],this.$_aniOptions(s))}}class ca extends aa{constructor(t,e){super(),this._series=t,this.endHandler=e,this.start()}_doStop(){this._series=null}}class ua extends ca{_doUpdate(t){return!!this._series.parent&&(this._series.setViewRate(t),!0)}_doStop(){this._series.parent&&this._series.setViewRate(NaN),super._doStop()}}class _a extends Rn{constructor(t){super(t,"rct-point-label")}}class da extends Vt{constructor(t){super(t,"rct-point-labels"),this._labels=[new Tn(this,_a),new Tn(this,_a)],this._maps=[],this.ignorePointer()}clear(){this._labels[0].prepare(0),this._labels[1].prepare(0)}prepareLabel(t,e,s,i,r,n){const a=r.getPointText(i,n.text),h=n.style;e.point=i,e.setModel(t,n,null),e.internalClearStyleAndClass(),e.internalSetStyleOrClass(h),e.internalSetStyleOrClass(r.getPointLabelStyle(i)),a?(n.prepareRich(a),n.buildSvg(e._text,e._outline,NaN,NaN,n,n.getTextDomain(i))):e.setText(n.getText(i.getLabel(s)))}prepare(t,e){const s=e.model,i=s.pointLabel;if(s.isPointLabelsVisible()){const r=s.pointLabelCount(),n=this._labels,a=s.getLabeledPoints(),h=this._maps,o=i.style;n[0].prepare(a.length),h[0]={},n[1].prepare(r>1?a.length:0),h[1]={},a.forEach(((r,a)=>{for(let o=0;o<r.labelCount();o++){const l=n[o].get(a);l.setVis(e.isPointVisible(r))&&(this.prepareLabel(t,l,o,r,s,i),h[o][r.pid]=l)}})),this.setStyleOrClass(o)}else this.clear()}get(t,e){const s=this._maps[e];return s&&s[t.pid]}removePoint(t,e){for(let s=0;s<2;s++){const i=this.get(t,s);if(i)return void this._labels[s].removeLater(i,e)}}}class ga extends Nn{constructor(t){super(t),this.add(this._line=new kt(t))}setLine(t){this._line.setPath(t)}}class pa extends Nn{constructor(t){super(t,"rct-point-label-lines"),this._lines=new Tn(this,ga)}prepare(t){const e=this._lines,s=t.getPoints(),i=t.pointLabel,r=this._map={};i.visible?e.prepare(s.count).forEach(((t,e)=>{const i=s.get(e);t.visible=i.visible,r[i.pid]=t})):e.prepare(0)}get(t){return this._map[t.pid]}}class ma extends Vt{constructor(){super(...arguments),this.inverted=!1}invert(t,e){return t!==this.inverted&&((this.inverted=t)?this.setAttr("transform",`translate(0,${e}) rotate(90) scale(-1,1)`):this.setAttr("transform","")),this.inverted}}class fa extends $n{constructor(t,e){super(t,"rct-series "+e),this._simpleMode=!1,this._viewRate=NaN,this._animations=[],this.add(this._pointContainer=new ma(t,"rct-series-points")),this._labelContainer=new da(t)}invertable(){return!0}getClipContainer(){return this._pointContainer}getClipContainer2(){return null}setViewRate(t){isNaN(t)&&isNaN(this._viewRate)||t===this._viewRate||(this._viewRate=t,isNaN(t)?this.control.invalidateLayout():this._doViewRateChanged(t))}setPositionRate(t){}isPointVisible(t){return t.visible&&!t.isNull&&this.model.isPointLabelVisible(t)}_doViewRateChanged(t){}_animationStarted(t){this._animations.push(t),this._labelContainer&&this._labelContainer.visible&&this._labelContainer.setVis(!1)}_animationFinished(t){const e=this._animations.indexOf(t);e>=0&&this._animations.splice(e,1),this._invalidate()}pointByDom(t){return this._getPointPool().elementOf(t)}findPointView(t){return this._getPointPool().find((e=>e.point===t))}clicked(t){const e=this.pointByDom(t);e&&!0!==this.model.pointClicked(e.point)&&this._doPointClicked(e)}_doPointClicked(t){}prepareSeries(t,e){this.setModel(e),this.setData("index",e.index%12),this.setData("pointcolors",e._colorByPoint()?"a":C),this.internalClearStyleAndClass(),this.internalSetStyleOrClass(e.style),e.color&&this._setModelColor(e.color),e._calcedColor=getComputedStyle(this.dom)[this._legendColorProp()],this._visPoints=this._collectVisPoints(e),this._prepareSeries(t,e)}_setModelColor(t){this.internalSetStyle("fill",t),this.internalSetStyle("stroke",t)}_legendColorProp(){return"fill"}needDecoreateLegend(){return!1}decoreateLegend(t){}afterLayout(){this._doAfterLayout()}_prepareStyleOrClass(t){}_prepareViewRanges(t){t.prepareViewRanges()}_doMeasure(t,e,s,i,r){return this.setClip(void 0),this._prepareViewRanges(e),!this._lazyPrepareLabels()&&this._labelContainer.prepare(t,this),e.trendline.visible?(this._trendLineView||this.add(this._trendLineView=new kt(t,"rct-series-trendline")),this._trendLineView.setVis(!0)):this._trendLineView&&this._trendLineView.setVis(!1),Mn.create(s,i)}_doLayout(){this._labelViews(),this._renderSeries(this.width,this.height),this._trendLineView&&this._trendLineView.visible&&this.$_renderTrendline(),this._afterRender(),this._animatable&&!this._simpleMode&&this._runShowEffect(!this.control.loaded)}_doAfterLayout(){}_collectVisPoints(t){return t.collectVisibles()}$_setColorIndex(t,e){t.setData("index",e.index%12)}_setPointColor(t,e){t.internalSetStyle("fill",e),t.internalSetStyle("stroke",e)}_setPointStyle(t,e,s,i){t.setAttrEx("aria-label",s.ariaHint()),this.$_setColorIndex(t,s),t.internalClearStyleAndClass(),e.pointStyle&&t.internalSetStyleOrClass(e.pointStyle),i&&i.forEach((e=>e&&t.internalSetStyleOrClass(e))),s.color&&this._setPointColor(t,s.color),s.range&&(s.range.color&&this._setPointColor(t,s.range.color),s.range.style&&t.internalSetStyleOrClass(s.range.style));const r=e.getPointStyle(s);r&&t.internalSetStyleOrClass(r)}_labelViews(){return this._labelContainer.setVis(this.model.isPointLabelsVisible()&&!this._animating()),this._labelContainer.visible&&this._labelContainer}_getViewRate(){return p(this._viewRate,1)}_animating(){return!isNaN(this._viewRate)||this._animations.length>0}_lazyPrepareLabels(){return!1}_afterRender(){}_getShowAnimation(){}_runShowEffect(t){}$_renderTrendline(){const t=this.model,e=t._xAxisObj,s=t._yAxisObj,i=t.trendline._points.map((t=>({x:e.getPosition(e._vlen,t.x),y:s._vlen-s.getPosition(s._vlen,t.y)})));if(this._trendLineView.setVis(i.length>1)){const t=new xr;t.move(i[0].x,i[0].y),t.lines(...i),this._trendLineView.setPath(t.end(!1))}}_layoutLabel(t,e,s){let{inverted:i,x:r,y:n,hPoint:a,labelView:h,labelOff:o}=t;if(!h.setVis(r>=0&&r<=e&&n>=0&&n<=s))return;const l=t.reversed?a<=0:a<0,c=h.getBBounds();let u=!0;switch(i?n-=c.height/2:r-=c.width/2,t.labelPos){case Ss.INSIDE:i?r-=(a+c.width)/2+(t.reversed?o:-o):n+=(a-c.height)/2+(t.reversed?o:-o);break;case Ss.HEAD:i?l?r+=c.width-o:r-=c.width+o:l?n-=c.height+o:n+=o;break;case Ss.FOOT:i?r-=l?a+c.width+o:a-o:n+=l?a+o:a-c.height-o;break;case Ss.OUTSIDE:default:i?l?r-=c.width+o:r+=o:l?n+=o:n-=c.height+o,u=!1}h.setContrast(u&&t.pointView.dom),h.layout(h.textAlign()).translate(r,n)}_clipRange(t,e,s,i,r,n){if(n){const s=t;t=e,e=s}const a="x"===s,h=a?this.model._xAxisObj:this.model._yAxisObj,o=h.reversed,l=h.getPosition(a?t:e,i.fromValue),c=h.getPosition(a?t:e,i.toValue);n?a?o?r.setBounds(c,-e,Math.abs(c-l),e):r.setBounds(l,-e,Math.abs(c-l),e):r.setBounds(0,-Math.max(l,c),t,Math.abs(c-l)):a?o?r.setBounds(c,0,Math.abs(c-l),e):r.setBounds(l,0,Math.abs(c-l),e):r.setBounds(0,e-Math.max(l,c),t,Math.abs(c-l))}_setFill(t,e){s(e)&&e[j]?t.internalSetStyle(j,e[j]):a(e)&&t.dom.classList.add(e)}}fa.POINT_CLASS="rct-point",fa.DATA_FOUCS="focus",fa.LEGEND_MARKER="rct-legend-item-marker";class wa extends kt{constructor(t){super(t,fa.POINT_CLASS)}}class xa extends wa{constructor(){super(...arguments),this.labelViews=[]}}let ya=class extends xa{layout(t,e,s,i){this.setPath(ps.bar(t-this.wPoint/2,e,this.wPoint,-this.hPoint,s,i))}};class ba extends fa{constructor(){super(...arguments),this._labelInfo={}}_prepareSeries(t,e){this._preparePointViews(t,e,this._visPoints)}_renderSeries(t,e){this._pointContainer.invert(this._inverted,e),this._layoutPointViews(t,e)}_runShowEffect(t){t&&ha.grow(this)}_doViewRateChanged(t){this._layoutPointViews(this.width,this.height)}}class va extends ba{_layoutPointViews(t,e){const s=this.model,i=this._inverted,r=this._getViewRate(),n=s.pointLabel,a=this._labelViews(),h=s._xAxisObj,l=s._yAxisObj,c=h instanceof ks?2*h.categoryPad():0,u=i?t:e,_=i?e:t,d=i?0:e,g=l.axisMin(),m=l.getPosition(u,g),f=s.getBaseValue(l),w=p(l.getPosition(u,Math.max(g,f)),m),x=!isNaN(f),y=a&&o(this._labelInfo,{inverted:i,reversed:l.reversed,labelPos:s.getLabelPosition(n.position),labelOff:s.getLabelOff(n.getOffset())});this._getPointPool().forEach(((n,o)=>{const g=n.point;if(n.setVis(!g.isNull)){const p=h.getUnitLength(_,g.xValue)*(1-c),m=s.getPointWidth(p),f=l.getPosition(u,g.yValue)-w,b=(l.getPosition(u,g.yGroup)-w-f)*r,v=f*r;let S,V;S=h.getPosition(_,g.xValue)-p/2,g.xPos=S+=s.getPointPos(p)+m/2,g.yPos=V=d-l.getPosition(u,g.yGroup)*r,this._layoutPointView(n,o,S,d-w-b,m,v),i&&(V=_-h.getPosition(_,g.xValue)+p/2,S=d,g.yPos=V-=s.getPointPos(p)+m/2,g.xPos=S+=x?l.getPosition(u,g.yGroup)*r:l.getPosition(u,g.yGroup*r)),y&&(y.labelView=a.get(g,0))&&(y.pointView=n,y.x=S,y.y=V,y.wPoint=m,y.hPoint=v,this._layoutLabel(y,t,e))}}))}}class Sa extends ba{_layoutPointViews(t,e){const s=this.model,i=s.chart.isInverted(),r=this._getViewRate(),n=s.pointLabel,a=this._labelViews(),h=s._xAxisObj,l=s._yAxisObj,c=h instanceof ks?2*h.categoryPad():0,u=i?t:e,_=i?e:t,d=i?0:e,g=a&&o(this._labelInfo,{inverted:i,labelPos:s.getLabelPosition(n.position),labelOff:s.getLabelOff(n.getOffset())});this._getPointPool().forEach(((n,o)=>{const p=n.point;if(n.setVis(!p.isNull)){const m=h.getUnitLength(_,p.xValue)*(1-c),f=s.getPointWidth(m),w=(l.getPosition(u,p.yValue)-l.getPosition(u,this._getLowValue(p)))*r;let x=h.getPosition(_,p.xValue)-m/2,y=d;p.xPos=x+=s.getPointPos(m)+f/2,p.yPos=y-=l.getPosition(u,p.yGroup)*r,this._layoutPointView(n,o,x,y,f,w),i&&(y=_-h.getPosition(_,p.xValue)+m/2,x=d,p.yPos=y-=s.getPointPos(m)+f/2,p.xPos=x+=l.getPosition(u,p.yGroup)*r),a&&(g.pointView=n,g.hPoint=w,g.x=x,g.y=y,(g.labelView=a.get(p,0))&&(g.hPoint=w,this._layoutLabel(g,t,e)),(g.labelView=a.get(p,1))&&(i?g.x-=w:g.y+=w,g.hPoint=-w,this._layoutLabel(g,t,e)))}}))}}class Va extends kt{constructor(t){super(t,fa.POINT_CLASS)}}class Pa extends fa{constructor(t,e){super(t,e),this._markers=new Tn(this._pointContainer,Va)}_getPointPool(){return this._markers}invertable(){return!1}_layoutLabelView(t,e,s,i,r,n){let a=t.getBBounds();e===Ss.AUTO&&(e=this._getAutoPos(a.width>=2*i*.9)),t.setVis(null!=e)&&(r-=a.width/2,e===Ss.INSIDE?t.translate(r,n-a.height/2):e&&t.translate(r,n-i-a.height-s))}}class Aa extends aa{constructor(t){super(),this.series=t,this.duration=300}_doUpdate(t){return!!this.series&&(this.series._zombieRate=this.series._zombie.visible?t:1-t,this.series._resizeZombie(),!0)}_doStop(){this.series&&(this.series._zombie=null,this.series._zombieAni=null,this.series.control.invalidateLayout(),this.series=null)}}class Ca extends fa{togglePointVisible(t){var e;this._willZombie=t,t.visible||null===(e=this._labelContainer.get(t,0))||void 0===e||e.hide(200)}isPointVisible(t){return t===this._zombie||super.isPointVisible(t)}_collectVisPoints(t){let e=super._collectVisPoints(t);return this._willZombie&&!this._willZombie.visible&&(e.push(this._willZombie),e=e.sort(((t,e)=>t.index-e.index))),e}_prepareSeries(t,e){var s;this._zombie&&(this._zombie=null,null===(s=this._zombieAni)||void 0===s||s.stop(),this._zombieAni=null),this._willZombie&&(this._zombie=this._willZombie,this._willZombie=null,this._zombieAni=new Aa(this),this._zombieAni.start()),this.setData("pointcolors","f")}_createPointLegendMarker(t,e,s){return ms.create(t,"rct-legend-item-marker",0,0,s,s,s/2)}_preparePoint(t,e,s,i){s._legendMarker||s.setLegendMarker(this._createPointLegendMarker(t,s,as.MARKER_SIZE)),this._setPointStyle(i,e,s),s._calcedColor=getComputedStyle(i.dom).fill}}class ka extends St{constructor(t,e){super(t,e,"circle")}setCircle(t,e,s){this.setAttrs({cx:t,cy:e,r:s})}}class Ea extends ka{constructor(t,e){super(t,e),this.setStyle("fill","none")}resetStyles(t){const e=super.resetStyles(t);return this.setStyle("fill","none"),e}}class La extends kt{setArc(t,e,s,i,r,n){this.setPath(ps.arc(t,e,s,s,i,close?i+r:i-r,n))}}class Ta extends kt{static create(t,e,s,i,r,n,a,h,o=!0){return new Ta(t,e,{cx:s,cy:i,rx:r,ry:n,innerRadius:0,start:a,angle:h,clockwise:o})}static createInner(t,e="",s,i,r,n,a,h,o,l=!0){return new Ta(t,e,{cx:s,cy:i,rx:r,ry:n,innerRadius:a,start:h,angle:o,clockwise:l})}constructor(t,e=C,s=C){super(t,e),this.cx=0,this.cy=0,this.rx=0,this.ry=0,this.innerRadius=0,this.start=0,this.angle=0,this.clockwise=!0,this.rate=1,s&&this._assignShape(s,!1),this.setAttr("role","img")}equals(t){return t.cx===this.cx&&t.cy===this.cy&&t.rx===this.rx&&t.ry===this.ry&&t.innerRadius===this.innerRadius&&t.start===this.start&&t.angle===this.angle&&t.clockwise===this.clockwise}setSector(t){this._assignShape(t,!1)}setSectorEx(t,e){this._assignShape(t,e)}_getShape(){return{cx:this.cx,cy:this.cy,rx:this.rx,ry:this.ry,innerRadius:this.innerRadius,start:this.start,angle:this.angle,clockwise:this.clockwise}}_assignShape(t,e){this.cx=t.cx,this.cy=t.cy,this.rx=t.rx,this.ry=t.ry,this.innerRadius=t.innerRadius,this.start=t.start,this.angle=t.angle,this.clockwise=t.clockwise,this.setPath(e?this.$_renderArc():this.$_renderSector())}$_renderSector(){return ps.sector(this.cx,this.cy,this.rx*this.rate,this.ry*this.rate,this.innerRadius||0,this.start,this.clockwise?this.start+this.angle:this.start-this.angle,this.clockwise)}$_renderArc(){return ps.arc(this.cx,this.cy,this.rx*this.rate,this.ry*this.rate,this.start,this.clockwise?this.start+this.angle:this.start-this.angle,this.clockwise)}}class Ma extends $n{constructor(t,e){super(t,e),this.dom.classList.add(this._defaultCalss()),this.add(this._paneElement=new ms(t,Ma.PANE_CLASS)),this.add(this._contentContainer=new Vt(t,null)),this._doInitContents(t,this._contentContainer)}_defaultCalss(){return Ma.GAUGE_CLASS}clicked(t){}prepareGauge(t,e){this._prepareGauge(t,e)}getPosition(t,e){const s=this.model;let i=s.getLeft(t),r=s.getTop(e);return isNaN(i)&&(i=s.getRight(t)-this.width,isNaN(i)&&(i=(t-this.width)/2)),isNaN(r)&&(r=s.getBottom(e)-this.height,isNaN(r)&&(r=(e-this.height)/2)),{x:i,y:r}}_prepareStyleOrClass(t){super._prepareStyleOrClass(t),this._paneElement.setStyleOrClass(t.paneStyle)}_doMeasure(t,e,s,i,r){return e.getSize(s,i)}_doLayout(){let t=this.width,e=this.height;this._paneElement.resizeRect(t,e);const s=o(at.getPadding(this.dom));t-=s.left+s.right,e-=s.top+s.bottom,this._renderGauge(t,e),this._contentContainer.translate(s.left,s.top)}_getGroupView(){let t=this.parent;for(;t;){if(t instanceof Fa)return t;t=t.parent}}}Ma.GAUGE_CLASS="rct-gauge",Ma.PANE_CLASS="rct-gauge-pane";class Na extends aa{constructor(t,e,s){super(),this.view=t,this.from=e,this.to=s}_doUpdate(t){return this.view._runValue=this.from+(this.to-this.from)*t,this.view._renderValue(),!0}}class Ra extends Ma{constructor(){super(...arguments),this.valueOf=(t,e,s)=>{const i=t.getParam(e);return h(i)?Bt.getFormatter(s||t.label.numberFormat).toStr(i):i},this._prevValue=0}_doLayout(){this._ani&&(this._ani.stop(),this._ani=null),super._doLayout(),this._checkValueAnimation()}_getValue(t){return Math.max(t.minValue,Math.min(t.maxValue,p(this._runValue,t.value)))}_checkValueAnimation(){const t=this.model;this._animatable&&t.animatable&&t.value!==this._prevValue&&(this._ani=new Na(this,this._prevValue,t.value).start((()=>this._runValue=NaN)),this._prevValue=t.value)}}class Oa extends Rn{}class Da extends Dn{constructor(t){super(t,"rct-gauge-scale"),this.add(this._line=this._createLine(t,"rct-gauge-scale-line")),this.add(this._tickContainer=new Vt(t,"rct-gauge-scale-ticks")),this._ticks=new Tn(this._tickContainer,er),this.add(this._labelContainer=new Vt(t,"rct-gauge-scale-tick-labels")),this._labels=new Tn(this._labelContainer,Oa)}}class Ba extends Da{_createLine(t,e){return new er(t,e)}_doMeasure(t,e,s,i,r){const n=e._reversed,a=e._vertical,h=e.label,o=e._steps,l=o.length;let c=a?e.gap:s,u=a?i:e.gap;if(this._tickContainer.setVis(e.tick.visible)&&(this._tickContainer.setStyleOrClass(e.tick.style),this._ticks.prepare(l)),a?c+=e.tick.length:u+=e.tick.length,this._labelContainer.setVis(e.label.visible)&&(this._labelContainer.setStyleOrClass(e.label.style),this._labels.prepare(l,(e=>{e.setModel(t,h,null)})),l>0))if(a){let t=0;this._labels.forEach(((e,s)=>{e.setText(h.getText(o[n?s:l-1-s])),t=Math.max(e.getBBounds().width)})),c+=t}else{let t=0;this._labels.forEach(((e,s)=>{e.setText(h.getText(o[n?l-1-s:s])),t=Math.max(e.getBBounds().height)})),u+=t}return{width:c,height:u}}_doLayout(){const t=this.model;t._vertical?this.$_layoutVert(t,this.width,this.height):this.$_layoutHorz(t,this.width,this.height)}$_layoutHorz(t,e,s){const i=this._line,r=t.tick,n=t._steps;n.length;const a=t.position===Si.OPPOSITE,h=a?-r.length:r.length;let o,l=a?s-t.gap:t.gap;if(i.setVis(t.line.visible)&&(i.setStyleOrClass(t.line.style),i.setHLineC(l,0,e)),this._tickContainer.setVis(r.visible)&&this._ticks.forEach(((s,i)=>{o=t.getRate(n[i])*e,s.setVLine(o,l,l+h)})),this._labelContainer.visible){let s=Number.MIN_SAFE_INTEGER;l=a?0:l+h,this._labels.forEach(((i,r)=>{const a=i.getBBounds();o=t.getRate(n[r])*e,i.setVis(o-a.width/2>s)&&(i.layout(K.CENTER).translate(o-a.width/2,l),s=o+a.width/2)}))}}$_layoutVert(t,e,s){const i=this._line,r=t.tick,n=t._steps;this.height,n.length;const a=t.position===Si.OPPOSITE,h=a?r.length:-r.length;let o,l=a?t.gap:e-t.gap;if(i.setVis(t.line.visible)&&(i.setStyleOrClass(t.line.style),i.setVLineC(l,0,s)),this._tickContainer.setVis(r.visible)&&this._ticks.forEach(((e,i)=>{o=t.getRate(n[i])*s,e.setHLine(o,l,l+h)})),this._labelContainer.visible){a?se.START:se.END;const i=a?K.LEFT:K.RIGHT;l=a?l+h:e-t.gap+h,this._labels.forEach(((e,r)=>{const h=e.getBBounds(),c=a?l:l-h.width;o=t.getRate(n[r])*s,e.layout(i).translate(c,o-h.height/2)}))}}}class Ia extends Ra{measureLabelSize(t,e,s){const i=t.label,r=this.labelView();return i.setText(t.getLabel(i,t.value)),r.text=i.text,i.buildSvg(r,null,e,s,t,i._domain),pt(r.getBBounds())}_renderGauge(t,e){const s=this.model,i=p(this._runValue,s.value);this._measureGauge(s,s.label,this.labelView(),i,s.isVertical(),t,e),this._renderValue()}_renderValue(){const t=this.model,e=t.label,s=t.scale,i=this.labelView(),r=p(this._runValue,t.value),n=o({},this._rBand);if(this._renderScale(n),n.height>0&&(this.background().setRect(n),this._renderBand(t,n,r)),"top"!==e._runPos&&"bottom"!==e._runPos||(this._rLabel.height=n.height),this._renderLabel(t,e,i,r),!this._vertical&&("left"===e._runPos||"right"===e._runPos)&&s.visible&&s.position===Si.OPPOSITE){const t=i.getBBounds();i.ty+t.height>this.height&&i.translateY(Math.max(0,this.height-t.height))}}_measureGauge(t,e,s,i,r,n,a){const h=this._rBand=mt.create(0,0,n,a);if(this._vertical=!t.group&&f(r,a>n),e.visible){const r=e._runPos=f(e.position,this._vertical?"top":"left"),o=e._runVert="top"===r||"bottom"===r,l=t.group?t.group.itemLabel.gap:e._runGap=e.getGap(o?a:n);let c=o?n:e.getWidth(n),u=o?e.getHeight(a):a;const _=o?n:e.getMaxWidth(n),d=o?e.getMaxHeight(a):a,g=this._rLabel=mt.create(0,0,n,a);e.setText(t.getLabel(e,e.animatable?i:t.value)),s.text=e.text,e.buildSvg(s,null,p(c,_),p(u,d),t,e._domain);const m=s.getBBounds();switch(o?(g.height=p(u,m.height),h.height=Math.max(0,h.height-(g.height+l))):(g.width=p(c,m.width),this._wLabel=t.group?t.group._labelWidth:g.width,h.width=Math.max(0,h.width-(this._wLabel+l))),r){case"top":h.y=g.height+l;break;case"bottom":g.y=h.height+l;break;case"right":g.x=h.width+l;break;default:h.x=this._wLabel+l}}else this._rLabel=null}_renderLabel(t,e,s,i){if(s.visible){const t=this._rLabel,i=s.getBBounds();let r=t.x,n=t.y;switch(e._runPos){case"top":case"bottom":r+=t.width/2;break;case"right":r=this.width-t.width,s.anchor=se.START,n+=Math.max(0,(t.height-i.height)/2);break;default:s.anchor=se.END,r+=this._wLabel,n+=Math.max(0,(t.height-i.height)/2)}s.translate(r,n)}}_renderScale(t){const e=this.model,s=e.label,i=e.scale,r=this.scaleView(),n=this._vertical?t.height:t.width;let a,h;if(i._vertical=this._vertical,i._reversed=e.reversed,isNaN(this._runValue)&&i.buildSteps(n,e.value),r.setVis(e.scaleVisible())){const e=r.measure(this.doc,i,t.width,t.height,1);this._vertical?(a=0,h=t.y,t.width=Math.max(0,t.width-e.width),i.position===Si.OPPOSITE?a=t.x+t.width:(s._runVert||(a=t.x),t.x+=e.width)):(a=t.x,t.height=Math.max(0,t.height-e.height),i.position===Si.OPPOSITE?s._runVert?(h=t.y,t.y+=e.height):(this._rLabel.y=t.y+=e.height,h=t.y-e.height):h=t.y+t.height),r.resizeByMeasured().layout().translate(a,h)}}}class $a extends Ra{}class Fa extends Ma{_defaultCalss(){return Fa.GAUGE_GROUP_CLASS}_doInitContents(t,e){e.add(this._gaugeContainer=new Vt(t,"rct-gauge-group-container")),this._gaugeViews=this._createPool(this._gaugeContainer)}_setChartOptions(t,e){super._setChartOptions(t,e),this._gaugeViews.forEach((s=>s._setChartOptions(t,e)))}_prepareGauge(t,e){this._gaugeViews.prepare(e.count()),this._doPrepareGauges(t,e,this._gaugeViews)}_renderGauge(t,e){this._doRenderGauges(this._gaugeContainer,this._gaugeViews,t,e)}_doPrepareGauges(t,e,s){s.forEach(((s,i)=>{s.prepareGauge(t,e.getVisible(i))}))}}Fa.GAUGE_GROUP_CLASS="rct-gauge-group";class za extends Da{setExtents(t,e){this._center=t,this._exts=e}_createLine(t,e){return new La(t,e)}_doMeasure(t,e,s,i,r){const n=e._steps.length-(360===e.gauge.sweepAngle?1:0);return this._line.setVis(e.line.visible)&&this._line.internalSetStyleOrClass(e.line.style),this._tickContainer.setVis(e.tick.visible)&&(this._tickContainer.internalSetStyleOrClass(e.tick.style),this._ticks.prepare(n)),this._labelContainer.setVis(e.label.visible)&&(this._labelContainer.internalSetStyleOrClass(e.label.style),this._labels.prepare(n,(t=>{}))),{width:s,height:i}}_doLayout(t){const e=this.model,s=e._steps,i=e.gauge,r=e.position===Si.OPPOSITE?-1:1,n=i.props,a=this._center.x,h=this._center.y,o=this._exts.scale,l=o+this.model.tick.length*r,c=n._sweepRad,d=n._startRad,g=i.maxValue-i.minValue;let p,m,f,w;if(this._line.visible&&this._line.setArc(a,h,o,d,c,!0),this._tickContainer.visible&&this._ticks.forEach(((t,i,r)=>{const n=e.getRate(s[i])*c+d;p=a+u(n)*o,m=h+_(n)*o,f=a+u(n)*l,w=h+_(n)*l,t.setLine(p,m,f,w)})),this._labelContainer.visible){this._labels.get(0).setText(String(i.maxValue));const t=l+.2*this._labels.get(0).getBBounds().height*r;this._labels.forEach(((n,o,l)=>{const p=e.getRate(s[o])*c+d;n.setText(String(R(i.minValue+e.getRate(s[o])*g)));const m=n.getBBounds();f=a+u(p)*(t+m.width/2*r)-m.width/2,w=h+_(p)*(t+m.height/2*r)-m.height/2,n.translate(f,w)}))}}}let Ha=class extends Dn{constructor(t){super(t,"rct-circle-gauge-band"),this._sectorViews=new Tn(this,Ta),this.add(this._labelContainer=new Vt(t,"rct-circle-gauge-band-tick-labels")),this._labels=new Tn(this._labelContainer,ne)}setExtends(t,e){this._center=t,this._exts=e}_doLayout(t){const e=this.model,s=e.gauge,i=s.scale,r=s.props,n=this._center.x,a=this._center.y,h=this._exts.band,o=s.clockwise,l=1-this._exts.bandThick/h,c=e.ranges,u=r._sweepRad;s.maxValue,s.minValue;let _=r._startRad;this._sectorViews.prepare(c.length).forEach(((t,e)=>{const s=i.getRate(c[e].toValue-c[e].fromValue)*u;t.setSector({cx:n,cy:a,rx:h,ry:h,innerRadius:l,start:_,angle:s,clockwise:o}),t.internalClearStyleAndClass(),t.setStyle("fill",c[e].color),c[e].style&&t.addStyleOrClass(c[e].style),_+=s}))}};class Ga extends kt{render(t,e){const s=t.getRadius(e);return s!==this._radius&&(this._radius=s,this.setPath((new xr).circle(0,0,s).end())),this.internalSetStyleOrClass(t.style),this}}class ja extends kt{render(t,e){const s=t.getExtents(e);if(s.radius!==this._radius||s.length!==this._length||s.offset!==this._offset){const t=this._radius=s.radius,e=this._offset=s.offset;if(this._length=s.length,this._radius>0&&this._length>0){const s=new xr;s.move(-t,e).line(0,-this._length+e).line(t,e),this.setPath(s.end())}else this.setPath("")}return this.internalSetStyleOrClass(t.style),this}}class Wa extends $a{constructor(t){super(t,"rct-circle-gauge")}_doInitContents(t,e){e.add(this._rimView=new Ta(t,"rct-circle-gauge-back")),e.add(this._valueView=new Ta(t,"rct-circle-gauge-value")),e.add(this._innerView=new Ta(t,"rct-circle-gauge-inner")),e.add(this._textView=new ne(t,"rct-circle-gauge-label")),e.add(this._handContainer=new Vt(t,void 0)),e.add(this._scaleView=new za(t)),e.add(this._bandView=new Ha(t))}_prepareGauge(t,e){this._rimView.setVis(e.rim.visible),this._scaleView.setVis(e.scale.visible),this._bandView.setVis(e.band.visible),this._valueView.setVis(e.valueRim.visible),e.hand.visible?(this._handView||this._handContainer.add(this._handView=new ja(t,"rct-circle-gauge-hand")),this._handView.visible=!0):this._handView&&(this._handView.visible=!1),e.pin.visible?(this._pinView||this._handContainer.add(this._pinView=new Ga(t,"rct-circle-gauge-pin")),this._pinView.visible=!0):this._pinView&&(this._pinView.visible=!1),this._textView.setVis(e.labelVisible())&&this._textView.setStyleOrClass(e.label.style)}_renderGauge(t,e){const s=this.model,i=s.getCenter(t,e),r=s.getExtents(Math.min(t,e));this.$_renderBackground(s,i,r),this._renderValue()}_renderValue(){const t=this.model,e=t.scale,s=t.getProps(),i=this._getValue(t),r=e.getRate(p(i,0)),n=this._center,a=this._exts,h=t.valueRim.getThickness(a.radiusThick),o=this._textView;if(this._valueView.visible){const e=t.valueRim,o=e.getRange(i),l=a.value+(e.stroked?0:h/2),c=this._valueView;c.setStyleOrClass(e.style),o&&(c.setStyle(e.stroked?"stroke":"fill",o.color),o.style&&c.addStyleOrClass(o.style)),e.stroked&&(c.setStyle("fill","none"),c.setStyle("strokeWidth",D(h))),c.setBoolData("stroked",e.stroked),c.setSectorEx({cx:n.x,cy:n.y,rx:l,ry:l,innerRadius:(l-h)/l,start:s._startRad,angle:s._sweepRad*r,clockwise:t.clockwise},t.valueRim.stroked)}if(this._handView){const e=(s._handRad+s._sweepRad*r)*M;this._handView.render(t.hand,a.radius).translatep(n).rotate(t.clockwise?e:-e)}if(o.visible)if(t.label.setText(t.getLabel(t.label,t.label.animatable?i:t.value)),o.text=t.label.text,t.label.buildSvg(o,null,NaN,NaN,t,t.label._domain),o.setBoolData("grouped",!!t.group),t.group)this.$_layoutGroupedLabel(t,o,a);else{const e=o.getBBounds(),s=t.label.getOffset(this.width,this.height);o.translate(n.x+s.x,n.y-e.height/2+s.y)}}$_renderBackground(t,e,s){const i=t.getProps(),r=i._startRad;this._center=e,this._exts=s,t.scale.buildSteps(s.scale*i._sweepRad,NaN),this._rimView.setVis(t.rim.visible)&&this._rimView.setSector({cx:e.x,cy:e.y,rx:s.radius,ry:s.radius,innerRadius:1-s.radiusThick/s.radius,start:r,angle:i._sweepRad,clockwise:t.clockwise}),this._scaleView.visible&&(this._scaleView.measure(this.doc,t.scale,this.width,this.height,0),this._scaleView.setExtents(e,s),this._scaleView.layout()),this._bandView.visible&&(this._bandView.measure(this.doc,t.band,this.width,this.height,0),this._bandView.setExtends(e,s),this._bandView.layout()),this._innerView.setStyleOrClass(t.innerStyle);let n=s.inner;const a=getComputedStyle(this._innerView.dom),h=parseFloat(a.strokeWidth);h>1&&(n-=h/2),this._innerView.setSector({cx:e.x,cy:e.y,rx:n,ry:n,innerRadius:0,start:0,angle:2*Math.PI,clockwise:!0}),this._pinView&&this._pinView.render(t.pin,n).translate(e.x,e.y)}$_layoutGroupedLabel(t,e,s){const i=e.getBBounds(),r=this._rimView.getBBounds(),n=+t.group.labelGap||0;e.anchor=se.END,e.translate(r.x+r.width/2-n,r.y+(s.radius-s.inner-i.height)/2)}}class Ya extends aa{constructor(t){super(),this.view=t}_doUpdate(t){return this.view._secRate=t,this.view.$_renderHands(this.view.model,this.view._exts),!0}}class Xa extends kt{constructor(t){super(t,fa.POINT_CLASS)}}class Ua extends ma{}class Za extends fa{constructor(t,e){super(t,e),this._needBelow=!1,this._rangeClips=[],this.insertFirst(this._lineContainer=new Ua(t,"rct-line-series-lines")),this._lineContainer.add(this._line=new kt(t,"rct-line-series-line")),this._markers=new Tn(this._pointContainer,Xa)}getClipContainer(){return this._lineContainer}_getPointPool(){return this._markers}needDecoreateLegend(){return!0}decoreateLegend(t){const e=getComputedStyle(this._line.dom);t._marker._line.setStyle("strokeWidth",e.strokeWidth),t._marker._line.setStyle("strokeDasharray",e.strokeDasharray)}_prepareSeries(t,e){e instanceof lr&&this._prepareBelow(e),!this._simpleMode&&this.$_prepareMarkers(e,this._visPoints)}_prepareViewRanges(t){super._prepareViewRanges(t),this._prepareRanges(t,t._runRanges)}_renderSeries(t,e){this._lineContainer.invert(this._inverted,e),this._layoutMarkers(this._visPoints,t,e),this.model.prepareLines(this._visPoints)}_doAfterLayout(){this._layoutLines()}_runShowEffect(t){this._polar?t&&ha.grow(this):t&&ha.reveal(this,{from:function(t){const e=t.model._xAxisObj.reversed;return t._inverted?e?"top":"bottom":e?"right":"left"}(this)})}_doViewRateChanged(t){this._layoutMarkers(this._visPoints,this.width,this.height),this._layoutLines()}_markersPerPoint(){return 1}_prepareBelow(t){var e,s;const i=this.control;let r=this._lowLine;if(this._needBelow=t.belowStyle&&t._minY<t.baseValue,this._needBelow)return r||(this._lineContainer.insertChild(r=this._lowLine=new kt(this.doc,"rct-line-series-line rct-line-series-line-below"),this._line),this._upperClip=i.clipBounds(),this._lowerClip=i.clipBounds(),this._upperClip.setAttr(St.ASSET_KEY,"1"),this._lowerClip.setAttr(St.ASSET_KEY,"1")),this._line.setClip(this._upperClip),r.setClip(this._lowerClip),!0;null==r||r.setClip(),this._line.setClip(),null===(e=this._upperClip)||void 0===e||e.remove(),null===(s=this._lowerClip)||void 0===s||s.remove()}_prepareRanges(t,e){const s=this._rangeClips;let i=this._rangeLines;if(e){for(i||(i=this._rangeLines=new Tn(this._lineContainer,kt)),i.prepare(e.length);s.length<e.length;){const t=new Ct(this.doc);t.setAttr(St.ASSET_KEY,"1"),this.control.clipContainer().append(t.dom),s.push(t)}for(;s.length>e.length;)s.pop().remove()}else i&&(i.freeAll(),s.forEach((t=>t.remove())),s.length=0)}$_resetClips(t,e,s,i){const r=this.model._yAxisObj.reversed;let n;(n=this._upperClip)&&(i?r?n.setBounds(0,-s,e,t):n.setBounds(0,-t,e,t-s):r?n.setBounds(0,0+s,t,e-s):n.setBounds(0,0,t,s)),(n=this._lowerClip)&&(this._inverted?r?n.setBounds(0,-t,e,t):n.setBounds(0,-s,e,t-s):r?n.setBounds(0,0,t,s):n.setBounds(0,0+s,t,e-s))}$_prepareMarkers(t,e){const s=t instanceof lr&&this._needBelow,i=s?t.baseValue:NaN,r=t.marker,n=[r.style,null];if(this._pointContainer.setStyle("opacity",r.visible?"1":"0"),this._pointContainer.setVis(!t._simpleMode)){const r=this._markersPerPoint(),a=e.length;this._markers.prepare(a*r,((r,h)=>{const o=e[h%a];o.isNull||(r.point=o,n[1]=s&&o.yValue<i?t.belowStyle:null,this._setPointStyle(r,t,o,n))}))}else this._markers.prepare(0)}_layoutMarker(t,e,s,i){const r=this.model,n=t.point,a=t._radius=r.getRadius(n);e&&t.internalSetStyleOrClass(e),ps.setShape(t,r.getShape(n),a,a),t.translate(s-=a,i-=a)}_layoutMarkers(t,e,s){const i=this.model,r=i.marker.style,n=this._inverted,a=i.needClip(!1),h=this._getViewRate(),o=i.marker.visible,l=i.pointLabel,c=l.position,d=l.align,g=l.getAlignOffset(),p=l.textAlign,m=l.getOffset(),f=this._labelViews(),w=i._xAxisObj,x=i._yAxisObj,y=this._polar=i.chart.body.getPolar(w),b=!!y,v=n?e:s,S=y?y.rd*E:n?s:e,V=n?0:s;t.forEach(((t,i)=>{let l,P;if(y){const e=y.start+w.getPosition(S,t.xValue),s=x.getPosition(y.rd,t.yGroup)*h;l=t.xPos=y.cx+s*u(e),P=t.yPos=y.cy+s*_(e)}else l=t.xPos=w.getPosition(S,t.xValue),P=t.yPos=V-x.getPosition(v,t.yGroup),n&&(l=x.getPosition(v,t.yGroup),P=s-w.getPosition(S,t.xValue));const A=this._markers.get(i),C=f&&f.get(t,0);if(A&&A.setVis(!t.isNull&&(b||!a||l>=0&&l<=e&&P>=0&&P<=s))){if(this._layoutMarker(A,r,l,P),C){const t=C.getBBounds();switch(C.visible=!0,C.setContrast(null),c){case Ss.INSIDE:P-=t.height/2+m;break;case Ss.FOOT:P+=m+(o?A._radius:0);break;default:P-=t.height+m+(o?A._radius:0)}switch(d){case K.LEFT:l-=t.width+(o?A._radius:0)+g;break;case K.RIGHT:l+=(o?A._radius:0)+g;break;default:l-=t.width/2+g}C.layout(p).translate(l,P)}}else C&&C.setVis(!1)}))}_layoutLines(){const t=this.model;if(!this._lineContainer.setVis(t._lines.length>0))return;const e=this.width,s=this.height,i=this._inverted,r=t instanceof lr&&this._needBelow,n=this._buildLines2(t._lines);if(t._runRanges)this._rangeLines.forEach(((r,a)=>{const h=t._runRanges[a];r.setPath(n),r.internalClearStyleAndClass(),r.internalSetStyle("stroke",h.color),r.internalSetStyleOrClass(h.style),at.setImportantStyle(r.dom.style,j,"none"),r.setClip(this._rangeClips[a]),this._clipRange(e,s,t._runRangeValue,h,this._rangeClips[a],i)}));else{const e=this._line;e.setPath(n),e.internalClearStyleAndClass(),e.internalSetStyle("stroke",t.color),e.internalSetStyleOrClass(t.style),at.setImportantStyle(e.dom.style,j,"none")}if(r){const r=this._lowLine,a=t._yAxisObj,h=t.baseValue;i?this.$_resetClips(e,s,a.getPosition(e,h),!0):this.$_resetClips(e,s,s-a.getPosition(s,h),!1),r.setPath(n),r.internalClearStyleAndClass(),r.internalSetStyle("stroke",t.color),r.internalSetStyleOrClass(t.style),r.internalSetStyleOrClass(t.belowStyle),at.setImportantStyle(r.dom.style,j,"none")}}_buildLine2(t,e,s,i){const r=this.model;e===ws.SPLINE?this._drawCurve2(t,s,i):r instanceof lr&&e===ws.STEP?this._drawStep2(t,s,i,s?r.backDir():r.stepDir):this._drawLine2(t,s,i)}_buildLines2(t){const e=this.model,s=e.getLineType(),i=new xr;return s===ws.SPLINE?this._drawCurves(t,i):e instanceof lr&&s===ws.STEP?this._drawSteps(t,i,e.stepDir):this._drawLines(t,i),i.end()}_drawLine2(t,e,s){if(t.length>1){s.moveOrLine(e,t[0].xPos,t[0].yPos);for(let e=1;e<t.length;e++)s.line(t[e].xPos,t[e].yPos)}}_drawLines(t,e){t.forEach((t=>this._drawLine2(t,!1,e)))}_drawStep2(t,e,s,i){if(t.length>1){s.moveOrLine(e,t[0].xPos,t[0].yPos);for(let e=1;e<t.length;e++)i===Vi.BACKWARD?(s.line(t[e-1].xPos,t[e].yPos),s.line(t[e].xPos,t[e].yPos)):(s.line(t[e].xPos,t[e-1].yPos),s.line(t[e].xPos,t[e].yPos))}}_drawSteps(t,e,s){t.forEach((t=>this._drawStep2(t,!1,e,s)))}_drawCurve2(t,e,s){t.length>1&&(s.moveOrLine(e,t[0].xPos,t[0].yPos),this.$_drawCurve(t,0,t.length-1,s))}_drawCurves(t,e){t.forEach((t=>this._drawCurve2(t,!1,e)))}_drawCurve(t,e,s){const i=t.length;let r;if(t&&t.length>1){let n=e;for(r=e;r<i;)if(t[r].isNull){r-1>n&&this.$_drawCurve(t,n,r-1,s);do{r++}while(r<i&&t[r].isNull);n=r,r<i&&(s.move(t[r].xPos,t[r].yPos),r++)}else r++;r-1>n&&this.$_drawCurve(t,n,r-1,s)}}$_drawCurve(t,e,s,i){let r=e;if(1===Math.abs(s-e))return void i.line(t[r+1].xPos,t[r+1].yPos);const n=.23,a={x:0,y:0},h={x:0,y:0},o={x:0,y:0},l={x:t[r+1].xPos-t[r].xPos,y:t[r+1].yPos-t[r].yPos},c={x:0,y:0},u={x:0,y:0},_={x:0,y:0};let d={x:0,y:0},g=Math.sqrt(l.x*l.x+l.y*l.y);l.x/=g,l.y/=g;let p=t[r+1].xPos-t[r].xPos,m=t[r].xPos,f=t[r].yPos;for(++r;r!=s;r++){o.x=-l.x,o.y=-l.y,l.x=t[r+1].xPos-t[r].xPos,l.y=t[r+1].yPos-t[r].yPos,g=Math.sqrt(l.x*l.x+l.y*l.y),l.x/=g,l.y/=g,l.x<o.x?(d.x=o.x-l.x,d.y=o.y-l.y):(d.x=l.x-o.x,d.y=l.y-o.y);const s=Math.sqrt(d.x*d.x+d.y*d.y);d.x/=s,d.y/=s,o.y*l.y>=0&&(d={x:1,y:0}),a.x=-d.x*p*n,a.y=-d.y*p*n,r===e+1?i.quad(t[r].xPos+a.x,t[r].yPos+a.y,t[r].xPos,t[r].yPos):(c.x=m+h.x,c.y=f+h.y,u.x=t[r].xPos+a.x,u.y=t[r].yPos+a.y,_.x=(c.x+u.x)/2,_.y=(c.y+u.y)/2,i.quad(c.x,c.y,_.x,_.y),i.quad(u.x,u.y,t[r].xPos,t[r].yPos)),p=t[r+1].xPos-t[r].xPos,h.x=d.x*p*n,h.y=d.y*p*n,m=t[r].xPos,f=t[r].yPos}i.quad(m+h.x,f+h.y,t[r].xPos,t[r].yPos)}_buildAreas(t,e,s){const i=new xr;s=s||e;for(let r=0;r<t.length;r+=2){const n=t[r],a=t[r+1];this._buildLine2(n,e,!1,i),this._buildLine2(a,s,!0,i)}return i.end(!0)}}class qa extends Za{constructor(t){super(t,qa.CLASS)}_legendColorProp(){return"stroke"}}qa.CLASS="rct-line-series";class Ka extends Za{constructor(t,e){super(t,e||"rct-area-series"),this._rangeAreaClips=[],this.insertFirst(this._areaContainer=new Ua(t,"rct-area-series-areas")),this._areaContainer.insertFirst(this._area=new kt(t,"rct-area-series-area"))}_collectVisPoints(t){const e=super._collectVisPoints(t),s=t.group;return s&&(s.layout===Ds.STACK||(s.layout,Ds.FILL)),e}getClipContainer2(){return this._areaContainer}_prepareBelow(t){let e=this._lowArea;if(super._prepareBelow(t))return e||this._areaContainer.add(e=this._lowArea=new kt(this.doc,"rct-area-series-area")),this._area.setClip(this._upperClip),e.setClip(this._lowerClip),!0;null==e||e.setClip(),this._area.setClip()}_prepareRanges(t,e){super._prepareRanges(t,e);let s=this._rangeAreas,i=this._rangeAreaClips;if(e){for(s||(s=this._rangeAreas=new Tn(this._areaContainer,kt,"rct-area-series-area")),s.prepare(e.length);i.length<e.length;){const t=new Ct(this.doc);t.setAttr(St.ASSET_KEY,"1"),this.control.clipContainer().append(t.dom),i.push(t)}for(;i.length>e.length;)i.pop().remove()}else s&&(s.freeAll(),i.forEach((t=>t.remove())),i.length=0)}_renderSeries(t,e){super._renderSeries(t,e),this.model.prepareAreas(),this._areaContainer.invert(this._inverted,e)}_layoutMarkers(t,e,s){super._layoutMarkers(t,e,s);const i=this.model._yAxisObj,r=i.reversed?-e:s;for(let e=0,n=t.length;e<n;e++){const n=t[e];n.yLow=r-i.getPosition(s,n.yGroup-n.yValue)}}_doAfterLayout(){var t;null===(t=this.model.group)||void 0===t||t.prepareLines(this.model),super._doAfterLayout(),this._polar?this._layoutPolar(this._area,this._visPoints):this.$_layoutArea(this._area)}$_layoutArea(t){const e=this.model;if(!this._areaContainer.setVis(e._areas.length>0))return;const s=this.width,i=this.height,r=e.chart.isInverted(),n=this._needBelow?this._lowArea:void 0,a=this._buildAreas(e._areas,e.getLineType());e._runRanges?this._rangeAreas.forEach(((t,n)=>{const h=e._runRanges[n];t.setBoolData("simple",this._simpleMode),t.setPath(a),t.internalClearStyleAndClass(),t.internalSetStyle("fill",h.color),this._setFill(t,h.style),h.areaStyle&&t.internalSetStyleOrClass(h.areaStyle),t.setClip(this._rangeAreaClips[n]),this._clipRange(s,i,e._runRangeValue,h,this._rangeAreaClips[n],r)})):(t.setPath(a),t.unsetData("polar"),t.setBoolData("simple",this._simpleMode),t.internalClearStyleAndClass(),e.color&&t.internalSetStyle(j,e.color),this._setFill(t,e.style),e.areaStyle&&t.internalSetStyleOrClass(e.areaStyle)),n&&(n.setBoolData("simple",this._simpleMode),n.setPath(a),n.internalClearStyleAndClass(),e.color&&n.internalSetStyle(j,e.color),e.areaStyle&&n.internalSetStyleOrClass(e.areaStyle),this._setFill(n,e.belowStyle),e.belowAreaStyle&&n.internalSetStyleOrClass(e.belowAreaStyle))}_layoutPolar(t,e){const s=this.model,i=s.group,r=s._yAxisObj,n=r instanceof ai?s.getBaseValue(r):NaN,a=this.height;r.getPosition(a,gt.isNotEmpty(n)?n:r.axisMax());const h=new xr;if(!i||i.layout!==Ds.STACK&&i.layout!==Ds.FILL){h.move(e[0].xPos,e[0].yPos);for(let t=1;t<e.length;t++)h.line(e[t].xPos,e[t].yPos);t.setPath(h.end())}else{h.move(e[0].xPos,e[0].yLow),h.line(e[0].xPos,e[0].yPos);for(let t=1;t<e.length;t++)h.line(e[t].xPos,e[t].yPos);h.line(e[e.length-1].xPos,e[e.length-1].yLow);for(let t=e.length-1;t>=0;t--)h.line(e[t].xPos,e[t].yLow);t.setPath(h.end())}t.setBoolData("polar",!0),t.clearStyleAndClass(),t.setStyle("fill",s.color),t.addStyleOrClass(s.style)}}class Qa extends Ta{constructor(t){super(t,fa.POINT_CLASS)}}class Ja extends va{constructor(){super(...arguments),this._labelInfo={}}_getPointPool(){return this.chart().isPolar()?this._sectors:this._bars}_preparePointViews(t,e,s){e.chart.isPolar()?this.$_parepareSectors(t,e,this._visPoints):this.$_parepareBars(t,e,this._visPoints)}_setPointStyle(t,e,s){super._setPointStyle(t,e,s),s.yValue<e.baseValue&&e.belowStyle&&t.addStyleOrClass(e.belowStyle)}_layoutPointViews(t,e){this.model.chart.isPolar()?this.$_layoutSectors():super._layoutPointViews(t,e)}$_parepareBars(t,e,s){this._bars||(this._bars=this._createBarPool(this._pointContainer)),this._bars.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}$_parepareSectors(t,e,s){this._sectors||(this._sectors=new Tn(this._pointContainer,Qa)),this._sectors.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}$_layoutSectors(){const t=this.model,e=this._getViewRate(),s=t.pointLabel,i=this._labelViews(),r=t.chart.body,n=t._xAxisObj,a=t._yAxisObj,h=r.getPolar(n),l=n.getTotalAngle(),c=i&&o(this._labelInfo,{labelPos:t.getLabelPosition(s.position),labelOff:t.getLabelOff(s.getOffset())});this._sectors.forEach(((s,r)=>{const o=s.point,d=a.getPosition(h.rd,o.yValue)*e;let g=a.getPosition(h.rd,o.yGroup)*e;const p=n.getUnitLength(l,o.xValue),m=t.getPointWidth(p);let f=h.start+n.getPosition(l,o.xValue);s.setSector({cx:h.cx,cy:h.cy,rx:g,ry:g,innerRadius:(g-d)/g,start:f-m/2,angle:m,clockwise:!0});const w=o.xPos=s.cx+.7*s.rx*u(f);if(f=s.start+s.angle/2,g=o.yPos=s.cy+.7*s.ry*_(f),i&&(c.labelView=i.get(o,0))){const t=c.labelView.getBBounds();c.labelView.layout(K.CENTER).translate(w-t.width/2,g-t.height/2)}}))}}class th extends Nn{constructor(t){super(t,fa.POINT_CLASS+" rct-boxplot-point")}layout(){const t=this.point,e=this.width,s=this.height,i=t.yValue-t.minValue,r=e/2;const n=0+s-s*(t.lowValue-t.minValue)/i,a=0+s-s*(t.highValue-t.minValue)/i,h=s*(t.highValue-t.lowValue)/i;t.color&&this._box.setStyle("fill",t.color),this._stemUp.setVLine(r,0,a),this._stemDown.setVLine(r,n,s),this._min.setHLine(0,e/4,3*e/4),this._max.setHLine(0+s,e/4,3*e/4),this._box.setBox(0,a,e,h),this._mid.setHLine(0+s-s*(t.midValue-t.minValue)/i,0,e)}_doInitChildren(t){this.add(this._stemUp=new er(t,"rct-boxplot-point-stem")),this.add(this._stemDown=new er(t,"rct-boxplot-point-stem")),this.add(this._box=new ms(t,"rct-boxplot-point-box")),this.add(this._mid=new er(t,"rct-boxplot-point-mid")),this.add(this._min=new er(t,"rct-boxplot-point-min")),this.add(this._max=new er(t,"rct-boxplot-point-max"))}}let eh=class extends Nn{constructor(t){super(t,fa.POINT_CLASS)}layout(){const t=this.point,e=this.width,s=this.height,i=t.highValue-t.lowValue;const r=0+s-s*(Math.min(t.openValue,t.closeValue)-t.lowValue)/i,n=0+s-s*(Math.max(t.openValue,t.closeValue)-t.lowValue)/i,a=Math.min(n,r),h=Math.max(1,Math.abs(r-n)),o=t.close<t.open;this._wickUpper.setVLine(0,0,n),this._wickLower.setVLine(0,r,s),this._body.setBox(-e/2,a,e,h),this.setBoolData("decline",o)}_doInitChildren(t){this.add(this._wickUpper=new er(t,"rct-candlestick-point-wick")),this.add(this._wickLower=new er(t,"rct-candlestick-point-wick")),this.add(this._body=new ms(t))}};class sh extends Nn{constructor(t){super(t,fa.POINT_CLASS),this.add(this._line=new er(t)),this.add(this._hmarker=new kt(t,"rct-dumbbell-point-marker")),this.add(this._lmarker=new kt(t,"rct-dumbbell-point-marker"))}layout(){const t=this.point,e=this.width,s=this.height,i=t.radius,r=e/2;t.color&&(this._line.setStyle("stroke",t.color),this._hmarker.setStyle("fill",t.color),this._lmarker.setStyle("fill",t.color)),this._line.setVLineC(r,0,s),ps.setShape(this._hmarker,t.shape,i,i),ps.setShape(this._lmarker,t.shape,i,i),this._hmarker.translate(r-i,0-i),this._lmarker.translate(r-i,s-i)}}let ih=class extends Nn{constructor(t){super(t,fa.POINT_CLASS),this._backs=new Tn(this,kt),this._segments=new Tn(this,kt),this._decimal=0}prepareSegments(t,e,s,i,r){this._decimal=i,this._backs.prepare(t?e:0).forEach(((t,e)=>{t.setClass(r)})),this._segments.prepare(Math.round(s)).forEach(((t,e)=>{}))}layout(t,e,s){const i=this.wPoint,r=this.hPoint,n=r<0?Math.max:Math.min;e-=i/2,r<0&&(t=t.map((t=>-t))),this._backs.forEach(((e,r)=>{e.setPath(ps.rectangle(0,s-t[2*r],i,n(-1,t[2*r]-t[2*r+1])))})),this._segments.forEach(((a,h,o)=>{h===o-1&&this._decimal>0?a.setPath(ps.rectangle(e,s-t[2*h],i,r<0?n(1,this._decimal):n(-1,-this._decimal))):a.setPath(ps.rectangle(e,s-t[2*h],i,n(-1,t[2*h]-t[2*h+1])))}))}};let rh=class extends Nn{constructor(t){super(t,fa.POINT_CLASS),this.add(this._stem=new er(t)),this.add(this._whiskerUp=new er(t)),this.add(this._whiskerDown=new er(t))}layout(){const t=this.width,e=this.height,s=t/2;this._stem.setVLine(s,0,e),this._whiskerUp.setHLine(0,0,t),this._whiskerDown.setHLine(e,0,t)}};class nh extends kt{constructor(t){super(t,fa.POINT_CLASS)}}class ah extends ms{constructor(t){super(t,fa.POINT_CLASS)}}let hh=class extends xa{layout(t,e){this.setPath(ps.rect({x:t-this.wPoint/2,y:e,width:this.wPoint,height:-this.hPoint}))}};class oh extends Nn{constructor(t){super(t,fa.POINT_CLASS),this.add(this._line=new er(t)),this.add(this._marker=new kt(t,"rct-lollipop-point-marker"))}layout(){const t=this.point.radius;this._line.setVLineC(0,0,this.height),ps.setShape(this._marker,this.point.shape,t,t),this._marker.translate(-t,-t)}}class lh extends Nn{constructor(t){super(t,fa.POINT_CLASS)}layout(){const t=this.point,e=this.width,s=this.height,i=t.highValue-t.lowValue,r=-e/2;const n=0+s-s*(Math.min(t.openValue,t.closeValue)-t.lowValue)/i,a=0+s-s*(Math.max(t.openValue,t.closeValue)-t.lowValue)/i,h=t.close<t.open;this._back.setBox(r,0,e,s),this._tickOpen.setHLine(n,r,0),this._tickClose.setHLine(a,0,this.width),this._bar.setVLine(0,0,0+s),this.setBoolData("decline",h)}_doInitChildren(t){this.add(this._tickOpen=new er(t,"rct-ohlc-point-tick")),this.add(this._tickClose=new er(t,"rct-ohlc-point-tick")),this.add(this._bar=new er(t)),this.add(this._back=new ms(t,"rct-ohlc-point-back")),at.setImportantStyle(this._back.dom.style,"fill","transparent")}}class ch extends Ta{constructor(t){super(t,fa.POINT_CLASS)}setPieSector(t,e,s){this._assignShape(s,!1)}}class uh extends ms{constructor(t){super(t,fa.POINT_CLASS)}get point(){return this.node.point}render(){this.setRect(this.node)}}class _h extends kt{constructor(t){super(t,fa.POINT_CLASS)}layout(t,e,s){const i=this.point._len,r=this.point._off,n=.5;let a;switch(t){case Ur.NONE:a=[0,-.5*i,0,n*i];break;case Ur.OPEN:const t=.15,e=.45,s=.2;a=[0,-e*i,-t*i,-s*i,0,-.5*i,t*i,-s*i,0,-e*i,0,n*i];break;default:const r=.1,h=.3;a=[0,-h*i,-r*i,-h*i,0,-.5*i,r*i,-h*i,0,-h*i,0,n*i]}const h=["M",a[0],a[1]+r];for(let t=2;t<a.length;t+=2)h.push("L",a[t],a[t+1]+r);this.rotation=e,this.setPath(h)}}class dh extends Dn{constructor(t){super(t,"rct-linear-gauge-band"),this._thick=0,this._gap=0,this._barViews=new Tn(this,ms),this.add(this._labelContainer=new Vt(t,"rct-linear-gauge-band-tick-labels")),this._labels=new Tn(this._labelContainer,ne)}_doMeasure(t,e,s,i,r){const n=e.gauge,a=this._vertical=n instanceof en?n.isVertical():!n.vertical,h=e.position,o=this._thick=e.getThickness(a?s:i)+(h===Si.INSIDE?0:this._gap=p(e.gap,0));let l=a?o:s,c=a?i:o;const u=this._ranges=e.ranges;if(this._labelContainer.setVis(e.tickLabel.visible&&u.length>0)){const t=[u[0].fromValue].concat(u.map((t=>t.toValue)));if(this._labelContainer.setStyleOrClass(e.tickLabel.style),this._labels.prepare(u.length+1),a){let e=0;this._labels.forEach(((s,i)=>{s.text=String(t[i]),e=Math.max(s.getBBounds().width)})),l+=e}else{let e=0;this._labels.forEach(((s,i)=>{s.text=String(t[i]),e=Math.max(s.getBBounds().height)})),c+=e}}return{width:l,height:c}}_doLayout(t){const e=this.model,s=e.gauge,i=s.scale,r=i._max-i._min;this._labelContainer.setVis(this.$_layoutBars(s,r,this._ranges)&&this._labelContainer.visible&&e.position!==Si.INSIDE)&&this.$_layoutLabels(s,r,this._ranges)}$_layoutBars(t,e,s){if(this._barViews.prepare(s.length),!this._barViews.isEmpty&&e>0){const t=this._vertical,i=this.model.position===Si.OPPOSITE,r=this.width,n=this.height,a=t?n:r,h=this._thick;let o=0;return this._barViews.prepare(s.length).forEach(((r,l)=>{const c=s[l],u=a*(c.toValue-c.fromValue)/e;if(t)r.setBounds(0,n-o-u,h,u);else{const t=i?n-h:0;r.setBounds(o,t,u,this._thick)}r.internalClearStyleAndClass(),r.setStyle("fill",c.color),c.style&&r.addStyleOrClass(c.style),o+=u})),!0}}$_layoutLabels(t,e,s){const i=this._vertical,r=this.model.position===Si.OPPOSITE,n=this.width,a=this.height,h=i?a:n,o=r?0:this._thick;let l=this._labels.get(0);i?l.translate(o,0):l.translate(0,o);for(let t=1;t<=s.length;t++){const r=h*s[t-1].toValue/e,n=this._labels.get(t);i?n.translate(o,r):n.translate(r,o)}}}class gh extends Ia{constructor(t){super(t,"rct-linear-gauge")}_doInitContents(t,e){e.add(this._background=new ms(t,"rct-linear-gauge-background")),e.add(this._bandView=new dh(t)),e.add(this._scaleView=new Ba(t)),e.add(this._valueView=new ms(t,"rct-linear-gauge-value")),e.add(this._labelView=new ne(t))}labelView(){return this._labelView}scaleView(){return this._scaleView}background(){return this._background}_prepareGauge(t,e){}_renderScale(t){const e=this.model.band,s=this._bandView;if(super._renderScale(t),s.setVis(e.visible)){const i=+e.gap||0,r=s.measure(this.doc,e,t.width,t.height,1);s.resizeByMeasured().layout(),this._vertical?e.position===Si.INSIDE?s.translate(t.x,t.y):e.position===Si.OPPOSITE?(s.translate(t.x+t.width-r.width,t.y),t.width-=r.width+i):(s.translate(t.x,t.y),t.width-=r.width+i,t.x+=r.width+i):e.position===Si.INSIDE?s.translate(t.x,t.y):e.position===Si.OPPOSITE?(s.translate(t.x,t.y),t.height-=r.height+i,t.y+=r.height+i):(s.translate(t.x,t.y+t.height-r.height),t.height-=r.height+i)}}_renderBand(t,e,s){const i=t.reversed,r=t.group?t.group.scale:t.scale;if(this._valueView.setVis(!r.isEmpty()&&!isNaN(t.value)))if(this._vertical){const t=e.height*r.getRate(s),n=i?e.y:e.y+e.height-t;this._valueView.setBounds(e.x,n,e.width,t)}else{const t=e.width*r.getRate(s),n=i?e.x+e.width-t:e.x;this._valueView.setBounds(n,e.y,t,e.height)}}}class ph extends Fa{constructor(t,e){super(t,e)}_doInitContents(t,e){super._doInitContents(t,e),e.insertFirst(this._scaleView=new Ba(t)),e.insertFirst(this._textView=new ne(t,"rct-linear-gauge-group-label"))}_prepareGauge(t,e){this._textView.setVis(e.label.visible)&&this._textView.setStyleOrClass(e.label.style),this._scaleView.setVis(e.scale.visible)&&this._scaleView.setStyleOrClass(e.scale.style),super._prepareGauge(t,e)}_doRenderGauges(t,e,s,i){const r=this.model,n=this._textView,a=mt.create(0,0,s,i);if(n.visible){n.text=r.label.text,r.label.buildSvg(n,null,NaN,NaN,r,null);const t=this._textView.getBBounds().height+r.label.getGap(i);a.y+=t,a.height-=t,n.translate(this.width/2,0)}r._labelWidth=r._labelHeight=0,this._gaugeViews.forEach(((t,e)=>{const n=t.measureLabelSize(r.get(e),s,i);r._labelWidth=Math.max(r._labelWidth,n.width),r._labelHeight=Math.max(r._labelHeight,n.height)}));const h=(l=a)&&o({},l);var l;const c=r.itemLabel.gap;r.vertical?(h.width-=r._labelWidth+c,r.itemLabel.opposite||(h.x+=r._labelWidth+c)):(h.height-=r._labelHeight+c,r.itemLabel.opposite||(h.x+=r._labelHeight+c)),this._renderScale(r,a,h),r.vertical?this.$_layoutVert(this.doc,r,e,a):this.$_layoutHorz(this.doc,r,e,a)}_renderScale(t,e,s){const i=this._scaleView,r=t.scale,n=t.vertical?e.width:e.height,a=[];let h,o;if(this._gaugeViews.forEach(((e,s)=>{a.push(p(e._runValue,t.get(s).value))})),r.buildGroupSteps(n,a),i.setVis(r.visible)){if(t.vertical){const t=i.measure(this.doc,r,s.width,s.height,1);s.height-=t.height,e.height-=t.height,h=s.x,r.position===Si.OPPOSITE?(o=s.y,s.y+=t.height,e.y+=t.height):o=s.y+s.height}i.resizeByMeasured().layout().translate(h,o)}}$_layoutHorz(t,e,s,i){i.height,i.width,s.count,i.y}$_layoutVert(t,e,s,i){const r=i.width,n=(i.height-e.itemGap*(s.count-1))/s.count,a=i.x;let h=i.y;s.forEach(((s,i)=>{s.measure(t,e.get(i),r,n,0),s.resize(r,n),s.layout(),s.translate(a,h),h+=n+e.itemGap}))}}class mh extends Ia{constructor(t){super(t,"rct-bullet-gage")}_doInitContents(t,e){e.add(this._background=new ms(t,"rct-bullet-gauge-background")),e.add(this._barContainer=new Vt(t,void 0)),this._barViews=new Tn(this._barContainer,ms),e.add(this._valueView=new ms(t,"rct-bullet-gauge-value")),e.add(this._targetView=new ms(t,"rct-bullet-gauge-target")),e.add(this._scaleView=new Ba(t)),e.add(this._labelView=new ne(t))}labelView(){return this._labelView}scaleView(){return this._scaleView}background(){return this._background}_prepareGauge(t,e){}_renderBand(t,e,s){const i=t.group,r=t.reversed,n=this._vertical,a=i?i.scale:t.scale,h=this._valueView,o=this._targetView;if(this._barContainer.setVis(!a.isEmpty())){const s=t.getRanges(a._min,a._max,!1)||(null==i?void 0:i.getRanges(a._min,a._max,!1));s&&(this._barContainer.setRect(e),this._barViews.prepare(s.length),n?this._barViews.forEach(((t,i)=>{const n=s[i],h=e.height*a.getRate(n.toValue-n.fromValue),o=e.height*a.getRate(n.fromValue);t.setBounds(0,r?o:e.height-o-h,e.width,h),t.internalClearStyleAndClass(),t.setStyle("fill",n.color),n.style&&t.addStyleOrClass(n.style)})):this._barViews.forEach(((t,i)=>{const n=s[i],h=e.width*a.getRate(n.toValue-n.fromValue),o=e.width*a.getRate(n.fromValue);t.setBounds(r?e.width-h-o:o,0,h,e.height),t.internalClearStyleAndClass(),t.setStyle("fill",n.color),n.style&&t.addStyleOrClass(n.style)})))}if(h.setVis(!a.isEmpty()&&!isNaN(s)))if(h.setStyleOrClass(t.actualBar.style),s<t.targetValue&&t.actualBar.belowStyle&&h.internalSetStyleOrClass(t.actualBar.belowStyle),h.internalSetStyleOrClass(t.actualBar.getStyle(s)),n){const t=e.height*a.getRate(s),i=r?e.y:e.y+e.height-t;h.setBounds(e.x+e.width/3,i,e.width/3,t)}else{const t=e.width*a.getRate(s),i=r?e.x+e.width-t:e.x;h.setBounds(i,e.y+e.height/3,t,e.height/3)}if(o.setVis(!a.isEmpty()&&!isNaN(t.targetValue)))if(o.setStyleOrClass(t.targetBar.style),n&&e.width>10){let s=e.height*a.getRate(t.targetValue);s=r?e.y+s:e.y+e.height-s,o.setBounds(e.x+5,s-1,e.width-10,3)}else if(!n&&e.height>10){let s=e.width*a.getRate(t.targetValue);s=r?e.x+e.width-s:e.x+s,o.setBounds(s-1,e.y+5,3,e.height-10)}}}class fh extends St{constructor(t,e,s){super(t,fh.STYLE),this.add(this._back=new ms(t,fh.BACK_STYLE)),this.add(this._textView=new ne(t)),s&&this.dom.classList.add(s),e&&this.setText(e)}setText(t){this._textView.text=t}layout(t){this.setStyleOrClass(t),this._textView.layoutText();const e=getComputedStyle(this._back.dom),s=(new On).applyPadding(e),i=this._textView.getBBounds();this._back.rect={x:0,y:0,width:i.width+s.left+s.right,height:i.height+s.top+s.bottom},this._textView.translate(i.width/2+s.left,s.top)}click(){return!1}setVis(t){if(super.setVis(t))return t&&this._textView.stain(),!0}}fh.STYLE="rct-button",fh.BACK_STYLE="rct-button-background";class wh extends Bn{constructor(t,e){super(t,wh.CLASS_NAME+" "+e,C)}update(t,e){this.measure(this.doc,this.model,t,e,0),this.layout()}_setBackgroundStyle(t){t.setStyle("fill","none")}_doLayout(t){const e=this.model.rotation;isNaN(e)||0===e?this.rotation=0:this.setRotation(this.width/2,this.height/2,e)}}wh.CLASS_NAME="rct-annotation";class xh extends wh{constructor(t){super(t,xh.CLASS_NAME),this.add(this._textView=new ne(t)),this._textView.anchor=se.START,this._richText=new _e}_setBackgroundStyle(t){super._setBackgroundStyle(t),t.internalSetStyleOrClass(this.model.backgroundStyle)}_doMeasure(t,e,s,i,r){const n=this._textView;return this._richText.setFormat(e.text),this._richText.build(n,s,i,null,e._domain),pt(this._textView.getBBounds())}_doLayout(t){this._richText.layout(this._textView,this.textAlign(),this.width,this.height,this._paddings),super._doLayout(t)}}xh.CLASS_NAME="rct-text-annotation";class yh extends wh{constructor(t){super(t,yh.CLASS_NAME),this.add(this._imageView=new Xn(t))}_doMeasure(t,e,s,i,r){const n=e.getSize(s,i);return this._imageView.url=this.model.imageUrl,this._imageView.resize(n.width,n.height),pt(this._imageView.getBBounds())}_doLayout(t){this._imageView.translate(this._paddings.left,this._paddings.top),super._doLayout(t)}}yh.CLASS_NAME="rct-image-annotation";class bh extends wh{constructor(t){super(t,bh.CLASS_NAME),this.add(this._shapeView=new kt(t))}_doMeasure(t,e,s,i,r){const n=e.getSize(s,i);return ps.setShape(this._shapeView,e.shape,n.width/2,n.height/2),n}_doLayout(t){this._shapeView.translate(this._paddings.left,this._paddings.top),super._doLayout(t)}}bh.CLASS_NAME="rct-shape-annotation";class vh extends wa{layout(t,e,s){const i=new xr;i.circle(t,e,s),this.setPath(i.end())}}const Sh={area:Ka,arearange:class extends Za{constructor(t){super(t,"rct-arearange-series"),this.insertFirst(this._areaContainer=new Ua(t,"rct-arearange-series-areas")),this._areaContainer.add(this._area=new kt(t,"rct-arearange-series-area")),this._lineContainer.add(this._lowerLine=new kt(t,"rct-areanrange-series-line")),at.setImportantStyle(this._lowerLine.dom.style,"fill","none")}_markersPerPoint(){return 2}_renderSeries(t,e){this._areaContainer.invert(this.model.chart.isInverted(),e),super._renderSeries(t,e)}_layoutMarkers(t,e,s){super._layoutMarkers(t,e,s);const i=this.model,r=i.marker.style,n=this._inverted,a=i._yAxisObj,h=n?e:s,o=s;for(let e=0,s=t.length;e<s;e++){const s=t[e];s.yLow=o-a.getPosition(h,s.lowValue)}const l=this._markers;for(let i=0,o=t.length;i<o;i++){const c=t[i],u=l.get(i+o);let _,d;n?(_=a.getPosition(h,c.lowValue),d=l.get(i).ty):(_=c.xPos,d=c.yLow),u&&u.setVis(!c.isNull&&_>=0&&_<=e&&d>=0&&d<=s)&&this._layoutMarker(u,r,_,d)}}_layoutLines(){super._layoutLines(),this.$_layoutArea(this._area)}$_layoutArea(t){const e=this.model;if(!this._areaContainer.setVis(e._lines.length>0))return;const s=this._buildAreas(e._lines,e.getLineType());t.setPath(s),t.unsetData("polar"),t.setBoolData("simple",this._simpleMode),t.internalClearStyleAndClass(),e.color&&t.internalSetStyle(j,e.color),this._setFill(t,e.style),e.areaStyle&&t.internalSetStyleOrClass(e.areaStyle)}},bar:class extends Ja{constructor(t){super(t,"rct-bar-series")}_createBarPool(t){return new Tn(t,ya)}_prepareSeries(t,e){super._prepareSeries(t,e),this._rdTop=+e.topRadius||0,this._rdBottom=+e.bottomRadius||0}_layoutPointView(t,e,s,i,r,n){t.wPoint=r,t.hPoint=n,t.layout(s,i,this._rdTop,this._rdBottom)}},barrange:class extends Sa{constructor(t){super(t,"rct-barrange-series"),this._bars=new Tn(this._pointContainer,ya)}_getPointPool(){return this._bars}_prepareSeries(t,e){super._prepareSeries(t,e),this._rd=+e.cornerRadius||0}_preparePointViews(t,e,s){this._bars.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}_getLowValue(t){return t.lowValue}_layoutPointView(t,e,s,i,r,n){t.wPoint=r,t.hPoint=n,t.layout(s,i+n,this._rd,this._rd)}},bellcurve:class extends Ka{constructor(t){super(t,"rct-bellcurve-series")}},boxplot:class extends Sa{constructor(t){super(t,"rct-boxplot-series"),this._boxes=new Tn(this._pointContainer,th)}_getPointPool(){return this._boxes}_getLowValue(t){return t.minValue}_preparePointViews(t,e,s){this._boxes.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}_layoutPointView(t,e,s,i,r,n){t.setBounds(s-r/2,i,r,n),t.layout()}},bubble:class extends Pa{constructor(t){super(t,"rct-bubble-series")}_prepareSeries(t,e){this.$_prepareMarkers(e,this._visPoints)}_renderSeries(t,e){this.$_layoutMarkers(t,e)}_runShowEffect(t){t&&ha.grow(this)}_doViewRateChanged(t){this.$_layoutMarkers(this.width,this.height)}$_prepareMarkers(t,e){const s=(t._xAxisObj._vlen<t._yAxisObj._vlen?t._xAxisObj:t._yAxisObj)._vlen,i=e.length;t.getPixelMinMax(s),this._markers.prepare(i,((s,i)=>{const r=s.point=e[i];r.shape=t.shape,this._setPointStyle(s,t,r)}))}_getAutoPos(t){return t?Ss.OUTSIDE:Ss.INSIDE}$_layoutMarkers(t,e){const s=this.model,i=this._inverted,r=s.needClip(!1),n=this._getViewRate(),a=s.pointLabel,h=a.position,o=a.getOffset(),l=this._labelViews(),c=s._xAxisObj,d=s._yAxisObj,g=this._polar=s.chart.body.getPolar(c),p=i?t:e,m=i?e:t,f=(s._xAxisObj._vlen<s._yAxisObj._vlen?s._xAxisObj:s._yAxisObj)._vlen,{min:w,max:x}=s.getPixelMinMax(f),y=e;let b;this._markers.forEach(((a,f)=>{const v=a.point,S=l&&(b=l.get(v,0));if(a.setVis(!v.isNull&&!isNaN(v.zValue))){const l=(v.radius=s.getRadius(v.zValue,w,x))*n;let f,V,P;if(g){const t=g.start+c.getPosition(E,v.xValue),e=d.getPosition(g.rd,v.yValue);V=v.xPos=g.cx+e*u(t),P=v.yPos=g.cy+e*_(t)}else V=v.xPos=c.getPosition(m,v.xValue),P=v.yPos=y-d.getPosition(p,v.yValue),i&&(V=d.getPosition(p,v.yGroup),P=y-c.getPosition(m,v.xValue));a.setVis(!r||V>=0&&V<=t&&P>=0&&P<=e)?(f=ps.circle(0,0,l),a.setPath(f),a.translate(V,P),S&&(b.setContrast(a.dom),b.layout(K.CENTER),this._layoutLabelView(b,h,o,l,V,P))):S&&S.setVis(!1)}else S&&S.setVis(!1)}))}},candlestick:class extends Sa{constructor(t){super(t,"rct-candlestick-series"),this._sticks=new Tn(this._pointContainer,eh)}_getPointPool(){return this._sticks}_getLowValue(t){return t.lowValue}_preparePointViews(t,e,s){this._sticks.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}_setPointColor(t,e){t._body.setStyle("fill",e),t._body.setStyle("stroke",e)}_setPointStyle(t,e,s,i){super._setPointStyle(t,e,s,i),s.closeValue<s.openValue&&e.declineStyle&&t.addStyleOrClass(e.declineStyle)}_layoutPointView(t,e,s,i,r,n){t.setBounds(s,i,r,n),t.layout()}},circlebar:class extends Ja{constructor(t){super(t,"rct-circlebar-series")}_createBarPool(t){return new Tn(t,vh)}_layoutPointView(t,e,s,i,r,n){t.layout(s,i-n/2,n/2)}},dumbbell:class extends Sa{constructor(t){super(t,"rct-dumbbell-series"),this._bars=new Tn(this._pointContainer,sh)}_getPointPool(){return this._bars}_getLowValue(t){return t.lowValue}_preparePointViews(t,e,s){this._bars.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}_layoutPointView(t,e,s,i,r,n){t.setBounds(s-r/2,i,r,n),t.layout()}},equalizer:class extends va{constructor(t){super(t,"rct-equalizer-series"),this._bars=new Tn(this._pointContainer,ih)}_getPointPool(){return this._bars}_preparePointViews(t,e,s){this.$_parepareBars(e,s)}_layoutPointViews(t,e){const s=(this._inverted?t:e)*this._getViewRate();this.$_buildSegments(this.model,s),super._layoutPointViews(t,e)}_layoutPointView(t,e,s,i,r,n){t.wPoint=r,t.hPoint=n,t.layout(this._pts,s,i)}$_parepareBars(t,e){this._bars.prepare(e.length,((s,i)=>{const r=s.point=e[i];this._setPointStyle(s,t,r)}))}$_buildSegments(t,e){const s=t.backSegments,i=t._yAxisObj.axisMax(),r=t.segmented,n=t.segmentGap||0,a=this._pts=[];let h,o,l=0;for(o=t.maxCount>0?t.maxCount:Math.round(e/(t.getSegmentSize(e)+n/2)),h=(e-n*(o-1))/o;a.length<2*o;)a.push(l,l+h),l+=h+n;a[a.length-1]=e;const c=a.length/2;this._bars.forEach((n=>{const o=n.point;if(n.setVis(!o.isNull)){const l=o.yValue/i;let u=-1,_=0;for(let t=0;t<c-1;t++)if(l>=a[2*t]/e&&l<a[2*(t+1)]/e){u=t+1,_=!r&&l<a[2*t+1]/e?l*e-a[2*t]:h;break}u<0&&(u=c,_=h),n.prepareSegments(s,c,u,_,t.backStyle)}}))}},errorbar:class extends Sa{constructor(t){super(t,"rct-errorbar-series"),this._bars=new Tn(this._pointContainer,rh)}_getPointPool(){return this._bars}_getLowValue(t){return t.lowValue}_preparePointViews(t,e,s){this._bars.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}_layoutPointView(t,e,s,i,r,n){t.setBounds(s-r/2,i,r,n),t.layout()}},funnel:class extends Ca{constructor(t){super(t,"rct-funnel-series"),this._segments=new Tn(this._pointContainer,nh),this.add(this._lineContainer=new pa(t))}_getPointPool(){return this._segments}_prepareSeries(t,e){super._prepareSeries(t,e),this.$_prepareSegments(t,e,this._visPoints),this._lineContainer.prepare(e)}_renderSeries(t,e){this.$_calcRates(this._visPoints),this.$_layoutSegments(t,e)}_runShowEffect(t){t&&ha.reveal(this,{from:this.model.reversed?"bottom":"top"})}_resizeZombie(){this._renderSeries(this.width,this.height)}_animationStarted(t){super._animationStarted(t),this._lineContainer.setVis(this._labelContainer.visible)}$_prepareSegments(t,e,s){this._segments.prepare(s.length,((i,r)=>{const n=i.point=s[r];this._preparePoint(t,e,n,i)}))}$_calcRates(t){const e=t.length;let s=0,i=0;if(t.forEach((t=>{s+=t.yValue*(t===this._zombie?this._zombieRate:1)})),e>1||e>0&&!this._zombie){let r=0;for(;r<e-1;r++){const e=t[r],n=R(e.yValue*(e===this._zombie?this._zombieRate:1)/s)||0;e.yRate=100*n,e.yPos=i,e.height=n,i+=n}t[r].yPos=i,t[r].height=1-i}else if(1==e){const e=t[0],s=R(this._zombieRate);i=1-s,e.yRate=100*s,e.yPos=i,e.height=s,e.yPos=i,e.height=1-i}}$_layoutSegments(t,e){function s(t){return c?p+(y-p)*(f-t)/(f-b):p+(y-p)*(t-m)/(b-m)}const i=this.model,r=this._labelViews(),n=i.getLabelPosition()===Ss.INSIDE,a=i.pointLabel,h=a.getOffset(),o=r&&a.distance||0,l=this._lineContainer,c=i.reversed,u=i.getSize(t,e),_=i.getNeckSize(u.width,u.height),d=new xr,g=i.getCenter(t,e),p=g.x-u.width/2,m=g.y-u.height/2,f=m+u.height,w=p+u.width/2,x=u.height-_.height,y=p+(u.width-_.width)/2,b=c?f-x:m+x;let v;this._lineContainer.setVis(r&&!n),this._segments.forEach((t=>{var e;const i=t.point;if(t.setVis(!i.isNull)){const a=i.yPos*u.height,g=(i.yPos+i.height)*u.height,p=c?f-a:m+a,S=c?f-g:m+g;let V,P,A,C;if(a>=x?(V=y,P=V+_.width,d.move(V,p).lines(P,p,P,S,V,S),t.ny=t.nx1=NaN):g<x?(V=s(p),P=V+2*(w-V),A=s(S),C=A+2*(w-A),d.move(V,p).lines(P,p,C,S,A,S),t.ny=NaN,t.nx1=A-V,t.nx2=C-V):(V=s(p),P=V+2*(w-V),A=y,C=A+_.width,d.move(V,p).lines(P,p,C,b,C,S,A,S,A,b),t.ny=b-p,t.nx1=A-V,t.nx2=C-V),t.setPath(d.close(!0)),i.xPos=w,i.yPos=p+(S-p)/2,r&&(v=r.get(i,0))){const e=l.get(i);if(e.setVis(!n)){const s=t.getBBounds();let r=i.xPos,n=i.yPos;isNaN(t.ny)?isNaN(t.nx1)||(r-=t.nx1*s.height/2/s.height):Math.abs(t.ny)>s.height/2&&(r-=t.nx1*s.height/2/Math.abs(t.ny)),this.$_layoutLabel(v,s,e,h,o,r,n)}else this.$_layoutLabelInner(v,i.xPos,i.yPos);v.setContrast(n&&t.dom)}else null===(e=l.get(i))||void 0===e||e.setVis(!1)}}))}$_layoutLabel(t,e,s,i,r,n,a){const h=t.getBBounds();n+=e.width/2,s.setLine((new xr).move(0,0).line(r,0).end()),s.translate(n,a),n+=r+i,t.translate(n,a-h.height/2)}$_layoutLabelInner(t,e,s){const i=t.getBBounds();t.translate(e-i.width/2,s-i.height/2)}},heatmap:class extends fa{constructor(t){super(t,"rct-heatmap-series"),this._cells=new Tn(this._pointContainer,ah)}_getPointPool(){return this._cells}_prepareSeries(t,e){this.$_parepareCells(e,this._visPoints)}_renderSeries(t,e){this._pointContainer.invert(this._inverted,e),this.$_layoutCells(t,e)}_runShowEffect(t){t&&ha.reveal(this)}$_parepareCells(t,e){const s=new ee(t._calcedColor),i=[{fill:C}];this._cells.prepare(e.length,((r,n)=>{const a=r.point=e[n];i[0].fill=s.brighten(1-a.heatValue/t._heatMax).toString(),this._setPointStyle(r,t,a,i)}))}$_layoutCells(t,e){const s=this.model,i=s.chart.isInverted();s.pointLabel.getOffset();const r=this._labelViews(),n=s._xAxisObj,a=s._yAxisObj,h=i?t:e,o=i?e:t,l=i?0:e;this._cells.forEach((t=>{const e=t.point;if(t.setVis(!e.isNull)){const s=n.getUnitLength(o,e.xValue),c=s,u=a.getUnitLength(h,e.yValue),_=u;let d,g=(e.xPos=n.getPosition(o,e.xValue))-s/2,p=(e.yPos=l-a.getPosition(h,e.yValue))-u/2;if(t.setBounds(g,p,c,_),r&&(d=r.get(e,0))){const t=d.getBBounds();i?(p=o-n.getPosition(o,e.xValue),g=l,p-=t.height/2,g+=a.getPosition(h,e.yValue)):(g+=c/2,p+=(_-t.height)/2),g-=t.width/2,d.layout(K.CENTER).translate(g,p)}}}))}},histogram:class extends ba{constructor(t){super(t,"rct-histogram-series"),this._bars=new Tn(this._pointContainer,hh)}_getPointPool(){return this._bars}_preparePointViews(t,e,s){this.$_parepareBars(t,e,s)}_layoutPointView(t,e,s,i,r,n){t.wPoint=r,t.hPoint=n,t.layout(s,i)}_layoutPointViews(t,e){const s=this.model,i=this._inverted,r=this._getViewRate(),n=s.pointLabel,a=this._labelViews(),h=s._xAxisObj,l=s._yAxisObj,c=i?t:e,u=i?e:t,_=l.getPosition(c,s.getBaseValue(l)),d=i?0:e,g=a&&o(this._labelInfo,{inverted:i,labelPos:s.getLabelPosition(n.position),labelOff:s.getLabelOff(n.getOffset())});this._getPointPool().forEach(((s,n)=>{const o=s.point,p=h.getPosition(u,o.min),m=h.getPosition(u,o.max),f=l.getPosition(c,o.yValue),w=m-p+(m>p?-1:1),x=f-_;let y=p+(m-p)/2,b=d;o.xPos=y,o.yPos=b-=f,this._layoutPointView(s,n,y,b+x,w,x*r),g&&(g.labelView=a.get(o,0))&&(i&&(b=u-y,y=d,o.yPos=b,o.xPos=y+=l.getPosition(c,o.yGroup)),g.pointView=s,g.x=y,g.y=b,g.wPoint=w,g.hPoint=x,this._layoutLabel(g,t,e))}))}$_parepareBars(t,e,s){this._bars.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}$_layoutBars(t,e){const s=this.model._xAxisObj,i=this.model._yAxisObj,r=this.height,n=this._getViewRate();this._bars.forEach(((a,h)=>{const o=a.point,l=s.getPosition(t,o.min),c=s.getPosition(t,o.max),u=l+(c-l)/2,_=i.getPosition(e,a.point.yValue)*n,d=Math.max(1,c-l-1);o.xPos=u,o.yPos=r-_,a.wPoint=d,a.hPoint=_,a.layout(u,r)}))}},line:qa,lollipop:class extends va{constructor(t){super(t,"rct-lollipop-series")}_getPointPool(){return this._bars}_preparePointViews(t,e,s){this.$_parepareBars(t,e,s)}_layoutPointView(t,e,s,i,r,n){t.setBounds(s,i-n,0,n),t.layout()}$_parepareBars(t,e,s){this._bars||(this._bars=new Tn(this._pointContainer,oh)),this._bars.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r)}))}},ohlc:class extends Sa{constructor(t){super(t,"rct-ohlc-series"),this._sticks=new Tn(this._pointContainer,lh)}_getPointPool(){return this._sticks}_getLowValue(t){return t.lowValue}_preparePointViews(t,e,s){this.$_prepareSticks(e,s)}_layoutPointView(t,e,s,i,r,n){t.setBounds(s,i,r,n),t.layout()}_setPointStyle(t,e,s,i){super._setPointStyle(t,e,s,i),s.closeValue<s.openValue&&e.declineStyle&&t.addStyleOrClass(e.declineStyle)}$_prepareSticks(t,e){this._sticks.prepare(e.length,((s,i)=>{const r=s.point=e[i];this._setPointStyle(s,t,r)}))}$_layoutSticks(t,e){const s=this.model;this._inverted;const i=this._getViewRate(),r=s.pointLabel.getOffset(),n=this._labelViews(),a=s._xAxisObj,h=s._yAxisObj,o=this.height;this._sticks.forEach(((l,c)=>{const u=l.point;if(l.setVis(!u.isNull)){const c=a.getUnitLength(t,u.xValue),_=s.getPointWidth(c),d=(u.xPos=a.getPosition(t,u.xValue))-_/2,g=u.yPos=o-h.getPosition(e,u.yValue)*i,p=_,m=Math.abs(o-h.getPosition(e,u.lowValue)-g)*i;let f;if(l.setBounds(d,g,p,m),l.layout(),n&&(f=n.get(u,0))){const t=f.getBBounds();f.translate(d+(p-t.width)/2,g-t.height-r)}}}))}},pareto:class extends Za{constructor(t){super(t,"rct-pareto-series")}},pie:class extends Ca{constructor(t){super(t,"rct-pie-series"),this._sectors=new Tn(this._pointContainer,ch,null,.5),this._cx=0,this._cy=0,this._rd=0,this._rdInner=0,this._slicedOff=0,this.add(this._circle=new ka(t)),this._circle.setStyles({stroke:"#aaa",fill:"none",strokeDasharray:"2"}),this.add(this._textView=new Rn(t,"rct-pie-series-inner")),this._textView._text.anchor=se.MIDDLE,this.add(this._lineContainer=new pa(t))}_getPointPool(){return this._sectors}_setPointColor(t,e){t.internalSetStyle("fill",e)}_prepareSeries(t,e){super._prepareSeries(t,e),this.$_prepareSectors(t,e,this._visPoints),this._lineContainer.prepare(e),this._textView.setVis(e.hasInner()&&e.innerText.isVisible())&&(this._textView.setModel(t,e.innerText,null),e.innerText.buildSvg(this._textView._text,this._textView._outline,NaN,NaN,e,null))}_renderSeries(t,e){isNaN(this.model._groupPos)?this.$_calcNormal(t,e):this.$_calcGroup(t,e),this.$_layoutSectors(this._visPoints,t,e)}$_calcNormal(t,e){this._rd=this.model.getRadius(t,e),this._rdInner=this.model.getInnerRadius(this._rd)}$_calcGroup(t,e){const s=this.model,i=s.group,r=Math.floor(i?i.getPolarSize(t,e)/2:s.getRadius(t,e)),n=i?i.getInnerRadius(r)*r:s.getInnerRadius(r),a=r-n;this._rd=n+(s._groupPos+s._groupSize)*a,this._rdInner=(n+s._groupPos*a)/this._rd}_runShowEffect(t){t&&ha.grow(this,(t=>{const e=this._sectors.find((t=>t.point.sliced));e&&(e.translate(0,0),this.$_slice(e,!0,!1))}))}_doPointClicked(t){if(t instanceof ch){const e=this._sectors.find((t=>t.point.sliced));e&&this.$_slice(e,!1,!0),t!==e&&this.$_slice(t,!0,!0),!this.model.autoSlice&&this.control.invalidateLayout()}}_doViewRateChanged(t){this.$_layoutSectors(this._visPoints,this.width,this.height)}_resizeZombie(){this._renderSeries(this.width,this.height)}getClipContainer(){return null}$_prepareSectors(t,e,s){this._sectors.prepare(s.length,((i,r)=>{const n=i.point=s[r];this._preparePoint(t,e,n,i)}))}$_calcAngles(t){const e=t.length,s=this.model.clockwise?1:-1,i=t.filter((t=>(t.visible||t===this._zombie)&&!t.isNull)).map((t=>t===this._zombie?t.yValue*this._zombieRate:t.yValue)).reduce(((t,e)=>t+e),0),r=this.model._totalRad*this._getViewRate();let n=this.model._startRad;if(e>1||e>0&&!this._zombie)t.forEach((t=>{t.isNull||(t.yRate=R(t===this._zombie?t.yValue*this._zombieRate:t.yValue)/i||0,t.startAngle=n,n+=t.angle=s*t.yRate*r)}));else if(1==e){const e=t[0];e.startAngle=n,e.angle=s*this._zombieRate*r}}$_layoutSectors(t,e,s){const i=this.model,r=i.clockwise,n=this._getViewRate(),a=i.getCenter(e,s),h=this._cx=a.x,o=this._cy=a.y,l=this._rd,c=this._rdInner,d=i.pointLabel,g=this._labelViews(),p=i.getLabelPosition()===Ss.INSIDE,m=d.getOffset(),f=d.distance||0,w=this._lineContainer,x=this._slicedOff=i.getSliceOffset(l)*n;let y;if(this._textView.visible){const t=this._textView.getBBounds();this._textView.translate(h,o-t.height/2)}(this._circle.visible=this._sectors.isEmpty)&&this._circle.setCircle(this._cx,this._cy,this._rd),this.$_calcAngles(t),this._sectors.forEach((t=>{var e,s;const a=t.point;if(a.isNull)t.setVis(!1),g&&(y=g.get(a,0))&&y.setVis(!1),null===(s=w.get(a))||void 0===s||s.setVis(!1);else{const s=a.startAngle;let d=0,b=0;if(a.sliced&&n>=1&&!t.isDomAnimating()){const t=s+a.angle/2;d+=u(t)*x,b+=_(t)*x}t.translate(d,b).setVis(!0);const v=a.startAngle+a.angle/2;if(a.xPos=h+u(v)*(x+.7*l),a.yPos=o+_(v)*(x+.7*l),t.setPieSector(g,null,{cx:h,cy:o,rx:l,ry:l,innerRadius:c,start:s,angle:Math.abs(a.angle),clockwise:i.clockwise}),g&&(y=g.get(a,0))){const e=w.get(a);e.setVis(!p)?this.$_layoutLabel(a,y,e,m,f,a.sliced?x:0,r):(e.visible=!1,this.$_layoutLabelInner(a,y,m,0,a.sliced?x:0)),y.setContrast(p&&t.dom).setVis(!0)}else null===(e=w.get(a))||void 0===e||e.setVis(!1)}}))}$_layoutLabel(t,e,s,i,r,n,a){const h=e.getBBounds(),o=t.startAngle+t.angle/2;let l=this._cx,c=this._cy,d=this._rd+.8*r,g=u(o)*n,p=_(o)*n,m=l+u(o)*this._rd,f=c+_(o)*this._rd,w=l+u(o)*d,x=c+_(o)*d;const y=w<l;let b;b=y?w-.2*r:w+.2*r,s&&s.setVis(d>0)&&(s.setLine((new xr).move(0,0).quad(w-m,x-f,b-m,x-f).end()),s.move(m,f),!e.isDomAnimating()&&s.translate(m+g,f+p)),y?(b-=h.width+i,x-=h.height/2):(b+=i,x-=h.height/2),e.move(b,x),!e.isDomAnimating()&&e.layout(K.CENTER).translate(b+g,x+p)}$_layoutLabelInner(t,e,s,i,r){const n=e.getBBounds(),a=this._rdInner*this._rd,h=a>0?a+(this._rd-a)/2:.7*this._rd,o=t.startAngle+t.angle/2;let l=this._cx+u(o)*h,c=this._cy+_(o)*h;e.move(l-n.width/2,c-n.height/2),l=this._cx+u(o)*(r+h),c=this._cy+_(o)*(r+h),e.layout(K.CENTER).translate(l-n.width/2,c-n.height/2)}$_slice(t,e,s){const i=this.model,r=i.autoSlice?i.sliceDuration:0,n=t.point,a=n.startAngle+n.angle/2;(n.sliced=e)?t.translateEx(u(a)*this._slicedOff,_(a)*this._slicedOff,r):t.translateEx(0,0,r);const h=this._labelViews();if(h){const t=i.pointLabel,a=this._lineContainer,o=i.getLabelPosition()===Ss.INSIDE,l=h.get(n,0);if(l){const h=!o&&a.get(n);if(s&&(o?this.$_layoutLabelInner(n,l,t.getOffset(),t.distance,this._slicedOff):this.$_layoutLabel(n,l,h,t.getOffset(),t.distance,this._slicedOff,i.clockwise)),e){let t=l.tx,e=l.ty;l.translate(l.x,l.y),l.translateEx(t,e,r),h&&(t=h.tx,e=h.ty,h.translate(h.x,h.y),h.translateEx(t,e,r))}else l.translate(l.tx,l.ty),l.translateEx(l.x,l.y,r),h&&(h.translate(h.tx,h.ty),h.translateEx(h.x,h.y,r))}}}},scatter:class extends Pa{constructor(t){super(t,"rct-scatter-series")}_prepareSeries(t,e){this.$_prepareMarkers(e,this._visPoints)}_renderSeries(t,e){this.$_layoutMarkers(t,e)}_runShowEffect(t){t&&(this._polar?ha.grow(this):ha.reveal(this))}$_prepareMarkers(t,e){const s=t.color,i=e.length;this._pointContainer.setStyle("fill",s),this._markers.prepare(i,((s,i)=>{const r=s.point=e[i];this._setPointStyle(s,t,r)}))}_getAutoPos(t){return Ss.OUTSIDE}_doViewRateChanged(t){this.$_layoutMarkers(this.width,this.height)}$_layoutMarkers(t,e){const s=this.model,i=this._inverted,r=s.needClip(!1),n=s._xAxisObj,a=s._yAxisObj,h=this._polar=s.chart.body.getPolar(n),o=!!h,l=h?this._getViewRate():1,c=s.jitterX,d=s.jitterY,g=s.pointLabel,p=g.position,m=g.getOffset(),f=this._labelViews(),w=i?t:e,x=i?e:t,y=e;let b;this._markers.forEach(((g,v)=>{const S=g.point,V=f&&(b=f.get(S,0));if(g.setVis(!S.isNull)){const f=s.getShape(S),v=s.radius*l,P=gt.jitter(S.xValue,c),A=gt.jitter(S.yGroup,d);let C,k,L;if(h){const t=h.start+n.getPosition(E,P),e=a.getPosition(h.rd,A)*l;k=S.xPos=h.cx+e*u(t),L=S.yPos=h.cy+e*_(t)}else k=S.xPos=n.getPosition(x,P),L=S.yPos=y-a.getPosition(w,A),i&&(k=a.getPosition(w,A),L=y-n.getPosition(x,P));if(g.setVis(o||!r||k>=0&&k<=t&&L>=0&&L<=e)){switch(f){case"square":case"diamond":case"triangle":case"itriangle":case"star":case"rectangle":C=ps[f](0-v,0-v,2*v,2*v);break;default:C=ps.circle(0,0,v)}g.setPath(C),g.translate(k,L),V&&this._layoutLabelView(b,p,m,v,k,L)}else V&&V.setVis(!1)}else V&&V.setVis(!1)}))}},treemap:class extends fa{constructor(t){super(t,"rct-treemap-series"),this._nodeViews=new Tn(this._pointContainer,uh)}_lazyPrepareLabels(){return!0}_getPointPool(){return this._nodeViews}_prepareSeries(t,e){}_renderSeries(t,e){this._pointContainer.invert(this._inverted,e),this._rootView?this.$_renderGroups(t,e):this.$_renderLeafs(t,e)}_runShowEffect(t){t&&ha.reveal(this)}$_renderLeafs(t,e){const s=this.model,i=s.chart.isInverted();s.pointLabel;const r=this._labelViews(),n=i?t:e,a=i?e:t,{roots:h,leafs:o}=s.buildMap(a,n),l=new ee(s._calcedColor);let c;r.prepare(this.doc,this),this._nodeViews.prepare(o.length,((t,e,s)=>{const h=o[e],u=h.point,_=h.parent;let d=l;_&&(!_._color&&_.point.color?d=_._color=new ee(_.point.color):_._color&&(d=_._color)),t.node=h,t.setStyle("fill",d.brighten(h.index/s).toString()),i&&(h.y=h.y-n),t.render();let g=u.xPos=h.x+h.width/2,p=u.yPos=h.y+h.height/2;if(r&&(c=r.get(u,0))){const t=c.getBBounds();c.setVis(h.width>=t.height&&h.height>=t.height)&&(i?(g=-h.y-h.height/2-t.width/2,p=a-h.x-(h.width+t.height)/2):(g-=t.width/2,p-=t.height/2),c.layout(K.CENTER).translate(g,p))}}))}$_renderGroups(t,e){}},vector:class extends fa{constructor(t){super(t,"rct-vector-series"),this._arrows=new Tn(this._pointContainer,_h)}_getPointPool(){return this._arrows}_prepareSeries(t,e){this.$_prepareArrows(e,this._visPoints)}_renderSeries(t,e){const s=this.model,i=s.startAngle,r=s.arrowHead,n=s._xAxisObj,a=s._yAxisObj;this._arrows.forEach((t=>{const e=t.point;if(t.setVis(!e.isNull)){const s=e.xPos=n.getPosition(this.width,e.xValue),h=e.yPos=this.height-a.getPosition(this.height,e.yValue);t.translate(s,h),t.layout(r,e.angleValue+i,!1)}}))}_runShowEffect(t){t&&ha.fadeIn(this)}$_prepareArrows(t,e){this._arrows.prepare(e.length,((s,i)=>{const r=s.point=e[i];this._setPointStyle(s,t,r)}))}},waterfall:class extends Sa{constructor(t){super(t,"rct-waterfall-series"),this._bars=new Tn(this._pointContainer,ya),this.add(this._lineContainer=new Vt(t,"rct-waterfall-series-lines")),this._lines=new Tn(this._lineContainer,er)}_getPointPool(){return this._bars}_getLowValue(t){return t.low}_prepareSeries(t,e){super._prepareSeries(t,e),this._rd=+e.cornerRadius||0}_preparePointViews(t,e,s){this.$_parepareBars(t,e,s)}_layoutPointView(t,e,s,i,r,n){const a=t.point;if(t.wPoint=r,t.hPoint=n,i+=n,t.layout(s,i,this._rd,this._rd),e>0){const t=this._lines.get(e-1),h=a._isSum?i-n:a.y>=0?i:i-n;t.setHLine(h,this._xPrev+this._wPrev/2,s-r/2)}this._xPrev=s,this._wPrev=r}_layoutPointViews(t,e){this._inverted?this._lineContainer.dom.style.transform=`translate(0px, ${e}px) rotate(90deg) scale(-1, 1)`:this._lineContainer.dom.style.transform="",super._layoutPointViews(t,e)}$_parepareBars(t,e,s){this._bars.prepare(s.length,((t,i)=>{const r=t.point=s[i];this._setPointStyle(t,e,r),t.setStyleOrClass(r._isSum?"rct-waterfall-point-sum":r.y<0?"rct-waterfall-point-negative":"")})),this._lines.prepare(s.length-1,((t,e)=>{t.visible=!s[e].isNull&&!s[e+1].isNull}))}}},Vh={circle:Wa,linear:gh,bullet:mh,clock:class extends Ma{constructor(t){super(t,"rct-clock-gauge"),this._rimThick=0,this._secRate=1}_doInitContents(t,e){e.add(this._faceView=new ka(t,"rct-clock-gauge-face")),e.add(this._rimView=new Ta(t,"rct-clock-gauge-rim")),e.add(this._labelView=new ne(t,"rct-clock-gauge-label")),this._labelView.layout=ie.MIDDLE,e.add(this._tickContainer=new Vt(t,"rct-clock-gauge-ticks")),e.add(this._tickLabelContainer=new Vt(t,"rct-clock-gauge-tick-labels")),e.add(this._hourView=new kt(t,"rct-clock-gauge-hour")),e.add(this._minuteView=new kt(t,"rct-clock-gauge-minute")),e.add(this._secondView=new kt(t,"rct-clock-gauge-second")),e.add(this._pinView=new ka(t,"rct-clock-gauge-pin")),this._tickViews=new Tn(this._tickContainer,er,"rct-clock-gauge-tick"),this._minorTickViews=new Tn(this._tickContainer,er,"rct-clock-gauge-minor-tick"),this._tickLabelViews=new Tn(this._tickLabelContainer,ne,"rct-clock-gauge-tick-label")}_prepareGauge(t,e){this._tickViews.prepare(e.tick.visible?12:0),this._minorTickViews.prepare(e.minorTick.visible?48:0);const s=Math.round(12/Math.max(1,Math.floor(e.tickLabel.step)||1));this._tickLabelViews.prepare(e.tickLabel.visible?s:0,(t=>{t.layout=ie.MIDDLE}))}_renderGauge(t,e){const s=this.model,i=this._exts=s.getExtendts(t,e);this._secRate=1,this.$_renderFace(s,i),this.$_renderHands(s,i),s.active&&!s.getTime()?this._runner||(this._runner=setInterval((()=>{const t=this._prevSec;this.$_renderHands(this.model,this._exts),Math.abs(t-this._prevSec)>=1&&this._secondView.visible&&s.chart.animatable()&&s.secondHand.animatable&&this.$_moveSecond(t)}),1e3)):this._runner&&(clearInterval(this._runner),this._runner=void 0)}$_renderFace(t,e){const s=this._labelView,{cx:i,cy:r,rd:n}=e,a=this._rimThick=this._rimView.visible?this.model.rim.getThickness(n):0;this._faceView.setCircle(i,r,n),this._rimView.visible&&(this._rimView.internalSetStyleOrClass(t.rim.style),this._rimView.setSector({cx:i,cy:r,rx:n,ry:n,innerRadius:1-a/n,start:0,angle:2*Math.PI,clockwise:!0}));const h=n-a;let o=h-this.model.tick.length,l=L,c=E/12;if(this._tickViews.forEach(((t,e)=>{t.setLine(i+u(l)*h,r+_(l)*h,i+u(l)*o,r+_(l)*o),l+=c})),!this._minorTickViews.isEmpty){let t=0;o=h-this.model.minorTick.length,l=L,c=E/60,this._minorTickViews.forEach((e=>{t%5==0&&(l+=c,t++),e.setLine(i+u(l)*h,r+_(l)*h,i+u(l)*o,r+_(l)*o),l+=c,t++}))}if(!this._tickLabelViews.isEmpty){const t=12/this._tickLabelViews.count,e=E/12*t;l=L,this._tickLabelViews.get(0).text="12",o=h-(this.model.tick.length+this.model.tickLabel.offset||0),o-=.5*this._tickLabelViews.get(0).getBBounds().height,this._tickLabelViews.forEach(((s,n,a)=>{s.text=String(0===n?12:n*t),s.translate(i+u(l)*o,r+_(l)*o),l+=e}))}this._pinView.setCircle(i,r,t.pin.raidus),s.setVis(t.label.visible)&&(s.internalSetStyleOrClass(t.label.style),t.label.buildSvg(s,null,NaN,NaN,null,null),"bottom"===t.label.position?s.translate(i,r+o/2):s.translate(i,r-o/2))}$_getNow(){const t=this.model.timezone;let e=this.model.getTime()||new Date;if(!isNaN(t)){const s=e.getMinutes()+(e.getTimezoneOffset()+t);e.setMinutes(s)}return e}$_renderHands(t,e){const s=this.$_getNow(),i=s.getHours(),r=s.getMinutes(),n=s.getSeconds(),{cx:a,cy:h,rd:o}=e,l=new xr;let c,u,_,d;c=t.hourHand,u=this._hourView,u.setVis(c.visible)&&(d=E*(i/12+r/60/12+n/60/60/12),_=c.getLength(o-this._rimThick),l.rect(-c.thickness/2,-_,c.thickness,_),u.internalSetStyleOrClass(c.style),u.setPath(l.close(!0)).translate(a,h).rotate(d*M)),c=t.minuteHand,u=this._minuteView,u.setVis(c.visible)&&(d=E*(r/60+n/60/60),_=c.getLength(o-this._rimThick),l.rect(-c.thickness/2,-_,c.thickness,_),u.internalSetStyleOrClass(c.style),u.setPath(l.close(!0)).translate(a,h).rotate(d*M)),c=t.secondHand,u=this._secondView,u.setVis(c.visible)&&(d=this._secRate<1?E*(this._aniSec+this._secRate)/60:E*n/60,_=c.getLength(o-this._rimThick),l.rect(-c.thickness/2,-_,c.thickness,_),u.internalSetStyleOrClass(c.style),u.setPath(l.close(!0)).translate(a,h).rotate(d*M),this._prevSec=n)}$_moveSecond(t){if(!isNaN(t)){this._aniSec=t;const e=new Ya(this);e.duration=this.model.secondHand.duration||200,e.start()}}},circlegroup:class extends Fa{constructor(t){super(t,"rct-circle-gauge-group")}_createPool(t){return new Tn(t,Wa)}_doRenderGauges(t,e,s,i){const r=this.doc,n=this.model,a=n.getCenter(s,i),h=n.getExtents(Math.min(s,i));n.setChildExtents(h),s=i=2*h.radius,e.forEach(((t,e)=>{t.measure(r,n.getVisible(e),s,i,0),t.resize(s,i),t.layout()})),t.translate(a.x-h.radius,a.y-h.radius)}},lineargroup:class extends ph{constructor(t){super(t,"rct-linear-gauge-group")}_doInitContents(t,e){super._doInitContents(t,e),e.insertChild(this._bandView=new dh(t),this._scaleView)}_createPool(t){return new Tn(t,gh)}_renderScale(t,e,s){super._renderScale(t,e,s);const i=this._bandView,r=t.band;let n,a;if(i.setVis(r.visible)){const h=+r.gap||0;if(t.vertical){const t=i.measure(this.doc,r,s.width,s.height,1).height+h;s.height-=t,e.height-=t,n=s.x,r.position===Si.OPPOSITE?(a=s.y,s.y+=t,e.y+=t):a=s.y+s.height+h}i.resizeByMeasured().layout().translate(n,a)}}},bulletgroup:class extends ph{constructor(t){super(t,"rct-bullet-gauge-group")}_createPool(t){return new Tn(t,mh)}}},Ph={text:xh,image:yh,shape:bh};function Ah(t,e){return new(Ph[e._type()])(t)}function Ch(t,e){return new(Sh[e._type()])(t)}class kh extends Dn{constructor(t){super(t,"rct-axis-grid"),this._lines=new Tn(this,er)}_doMeasure(t,e,s,i,r){return Mn.create(s,i)}_doLayout(){const t=this.model,e=t.axis,s=e.reversed,i=this.width,r=this.height,n=t.getPoints(e._isHorz?i:r),a=this._lines.prepare(n.length,(t=>{t.internalClearStyleAndClass(),t.internalSetStyleOrClass(e.grid.style),t.setClass("rct-axis-grid-line")})),h=a.count-1;let o,l;a.forEach(((t,s)=>{t.setBoolData("first",0===s),t.setBoolData("last",n[s]===(e._isHorz?i:r))})),e._isHorz?a.forEach(((e,a)=>{l=0===a?t.startVisible||!s&&n[a]>0||s&&n[a]<i:a!==h||(t.endVisible||!s&&n[a]<i||s&&n[a]>0),e.setVis(!0)&&e.setVLineC(n[a],0,r)})):a.forEach(((e,a)=>{o=r-n[a],l=0===a?t.startVisible||!s&&o<r||s&&o>0:a!==h||(t.endVisible||!s&&o>0||s&&o<r),e.setVis(l)&&e.setHLineC(r-n[a],0,i)}))}}class Eh extends St{constructor(t){super(t,"rct-axis-break"),this.add(this._mask=new kt(t)),this._mask.setStyle("stroke","none"),this.add(this._upLine=new kt(t)),this._upLine.setStyle("fill","none"),this.add(this._downLine=new kt(t)),this._downLine.setStyle("fill","none")}setModel(t){this._model=t}layout(t,e,s){this._clip?this._clip.resize(t,e):this._clip=this.control.clipBounds(0,0,t,e),this.setClip(this._clip);const i=this._model._sect.len,r=new xr;if(s){let t=0,s=0,n=i/2,a=i;for(r.move(s,t);t<e;)t+=20,r.line(n,t),t+=20,r.line(s,t);for(this._downLine.setPath(r.end(!1)),t=0,r.clear().move(n,t);t<e;)t+=20,r.line(a,t),t+=20,r.line(n,t);for(this._upLine.setPath(r.end(!1)),t=0,r.clear().move(s,t);t<e;)t+=20,r.line(n,t),t+=20,r.line(s,t);for(r.line(n,t);t>=0;)t-=20,r.line(a,t),t-=20,r.line(n,t);this._mask.setPath(r.end())}else{let e=0,s=0,n=i/2,a=i;for(r.move(e,n);e<t;)e+=20,r.line(e,s),e+=20,r.line(e,n);for(this._upLine.setPath(r.end(!1)),e=0,r.clear().move(e,a);e<t;)e+=20,r.line(e,n),e+=20,r.line(e,a);for(this._downLine.setPath(r.end(!1)),e=0,r.clear().move(e,n);e<t;)e+=20,r.line(e,s),e+=20,r.line(e,n);for(r.line(e,a);e>=0;)e-=20,r.line(e,n),e-=20,r.line(e,a);this._mask.setPath(r.end())}}}class Lh extends St{constructor(t){super(t,"rct-axis-guide"),this.add(this._labelView=new Rn(t,"rct-axis-guide-label"))}vertical(){return this.model.axis._isHorz}prepare(t,e){this.model=e,this._labelView.setVis(!!e.label.text)&&(this._labelView.setModel(t,e.label,null),this._labelView.setStyles(e.label.style))}layout(t,e,s){this._labelView.visible&&(this.model.label.buildSvg(this._labelView._text,this._labelView._outline,t,e,null,null),this._labelView.layout(K.CENTER)),s?this._doLayoutPolar(t,e,s):this._doLayout(t,e)}}class Th extends Lh{constructor(t){super(t),this.insertFirst(this._line=new er(t,"rct-axis-guide-line"))}prepare(t,e){super.prepare(t,e),this._line.setStyles(e.style)}_doLayout(t,e){const s=this.model,i=s.label,r=this._line,n=this._labelView.setVis(i.visible)&&this._labelView,a=n.getBBounds(),h=p(i.offsetX,0),o=p(i.offsetY,0);let l,c;if(this.vertical()){const u=s.axis.getPosition(t,s.value,!0);if(r.setVLineC(u,0,e),n){switch(i.align){case K.CENTER:l=u-a.width/2+h;break;case K.RIGHT:l=u+h;break;default:l=u-a.width-h}switch(i.verticalAlign){case Q.BOTTOM:c=e-a.height-o;break;case Q.MIDDLE:c=(e-a.height)/2-o;break;default:c=o}}}else{const u=e-s.axis.getPosition(e,s.value,!0);if(r.setHLineC(u,0,t),n){switch(i.align){case K.CENTER:l=(t-a.width)/2-h;break;case K.RIGHT:l=t-a.width-h;break;default:l=h}switch(i.verticalAlign){case Q.BOTTOM:c=u+o;break;case Q.MIDDLE:c=u-a.height/2-o;break;default:c=u-a.height-o}}}n&&n.translate(l,c)}_doLayoutPolar(t,e,s){}}class Mh extends Lh{constructor(t){super(t),this.insertFirst(this._box=new fs(t,"rct-axis-guide-range"))}prepare(t,e){super.prepare(t,e)}_doLayout(t,e){const s=this.model,i=s.label,r=this._box,n=Math.min(s.startValue,s.endValue),a=Math.max(s.startValue,s.endValue),h=this._labelView.setVis(i.visible)&&this._labelView,o=h.getBBounds(),l=p(i.offsetX,0),c=p(i.offsetY,0);if(this.vertical()){const u=s.axis.getPosition(t,n,!0),_=s.axis.getPosition(t,a,!0);let d,g;if(r.setVis(_!==u)){switch(i.align){case K.CENTER:d=u+(_-u-o.width)/2+l;break;case K.RIGHT:d=_-o.width-l;break;default:d=u+l}switch(i.verticalAlign){case Q.BOTTOM:g=e-o.height-c;break;case Q.MIDDLE:g=(e-o.height)/2-c;break;default:g=c}r.setBox(u,0,_,e),h&&h.translate(Math.max(0,Math.min(t,d)),g)}}else{const u=e-s.axis.getPosition(e,n,!0),_=e-s.axis.getPosition(e,a,!0);let d,g;switch(i.align){case K.CENTER:d=(t-o.width)/2-l;break;case K.RIGHT:d=t-o.width-l;break;default:d=l}switch(i.verticalAlign){case Q.BOTTOM:g=u-o.height-c;break;case Q.MIDDLE:g=_+(u-_-o.height)/2-c;break;default:g=_+c}h&&h.translate(d,g),r.setBox(0,_,t,u)}}_doLayoutPolar(t,e,s){}}class Nh extends Vt{constructor(){super(...arguments),this._linePool=[],this._rangePool=[],this._views=[]}prepare(){const t=this._views;for(let e=t.length-1;e>=0;e--){const e=t.pop();e.remove(),e instanceof Mh?this._rangePool.push(e):this._linePool.push(e)}U(0===t.length,"GuideContainer.prepare")}addAll(t,e){e.forEach((e=>{if(e instanceof We){let s=this._rangePool.pop()||new Mh(t);this.add(s),s.prepare(t,e),this._views.push(s)}else if(e instanceof je){let s=this._linePool.pop()||new Th(t);this.add(s),s.prepare(t,e)}}))}add(t){return this._views.push(t),super.add(t)}}class Rh extends kt{constructor(t){super(t),this.ignorePointer()}setModel(t){t!=this._model&&(this._model=t,this._bar=t.isBar(),this.setClass(this._bar?"rct-crosshair-bar":"rct-crosshair-line"))}layout(t,e,s,i,r){const n=this._model.axis,a=n._isHorz,h=new xr;if(this._bar){const o=n._isHorz?i:r;let l=-1;if(t?l=t.point.xValue:this._model.showAlways&&n instanceof ks&&(l=n.reversed?n.xValueAt(a?i-e:s):n.xValueAt(a?e:r-s)),l>=0){const t=n.getPosition(o,l),e=n.getUnitLength(o,l);isNaN(t)&&console.log(n.getPosition(o,l)),a?h.rect(t-e/2,0,e,r):h.rect(0,r-t-e/2,i,e)}}else(t||this._model.showAlways)&&(a?h.vline(e,0,r):h.hline(s,0,i));this.setPath(h.end())}}class Oh extends fh{constructor(t){super(t,"Reset Zoom","rc-reset-zoom"),this.visible=!1}}class Dh extends Dn{constructor(t,e){super(t,Dh.BODY_CLASS),this._gridViews=new Map,this._breakViews=[],this._seriesViews=[],this._seriesMap=new Map,this._annotationViews=[],this._annotationMap=new Map,this._gaugeViews=[],this._gaugeMap=new Map,this._focused=null,this._owner=e,this.add(this._hitTester=new ms(t)),this._hitTester.setStyle("fill","transparent"),this.add(this._background=new ms(t,"rct-body-background")),this.add(this._image=new Xn(t,"rct-body-image")),this.add(this._gridContainer=new Vt(t,"rct-grids")),this.add(this._guideContainer=new Nh(t,"rct-guides")),this.add(this._annotationContainer=new Vt(t,"rct-annotations")),this.add(this._seriesContainer=new Vt(t,"rct-series-container")),this.add(this._axisBreakContainer=new Vt(t,"rct-axis-breaks")),this.add(this._labelContainer=new Vt(t,"rct-label-container")),this.add(this._frontGuideContainer=new Nh(t,"rct-front-guides")),this.add(this._frontAnnotationContainer=new Vt(t,"rct-front-annotations")),this.add(this._feedbackContainer=new Vt(t,"rct-feedbacks")),this.add(this._zoomButton=new Oh(t)),this._crosshairViews=new Tn(this._feedbackContainer,Rh)}prepareRender(t,e){this._animatable=vt._animatable&&e.animatable(),this._prepareSeries(t,e,e._getSeries().getVisibleSeries()),this._prepareGauges(t,e,e._getGauges().getVisibles()),this._prepareAnnotations(t,e.body.getAnnotations())}prepareGuideContainers(){this._guideContainer.prepare(),this._frontGuideContainer.prepare()}pointerMoved(t,e){const s=this.width,i=this.height,r=t.x>=0&&t.x<s&&t.y>=0&&t.y<i;let n,a;if(e instanceof SVGElement&&(e.classList.contains(fa.POINT_CLASS)||e.parentElement instanceof SVGElement&&e.parentElement.classList.contains(fa.POINT_CLASS)))for(let t=this._seriesViews.length-1;t>=0;t--)if(a=this._seriesViews[t].pointByDom(e),a){n=this._seriesViews[t];break}return this._zoomRequested||this._crosshairViews.forEach((e=>{e.setVis(r)&&e.layout(a,t.x,t.y,s,i)})),a?this.$_setFocused(n.model,a):this.$_setFocused(null,null),r}$_setFocused(t,e){if(e!=this._focused)return this._focused&&this._focused.unsetData(fa.DATA_FOUCS),this._focused=e,this._focused?(this._focused.setData(fa.DATA_FOUCS),this._owner.showTooltip(t,e.point,this)):this._owner.hideTooltip(),!0}seriesByDom(t){return this._seriesViews.find((e=>e.dom.contains(t)))}findSeries(t){return this._seriesViews.find((e=>e.model===t))}isConnected(t){return!!this._seriesViews.find((e=>e.model._xAxisObj==t||e.model._yAxisObj==t))}getButton(t){if(this._zoomButton.contains(t))return this._zoomButton}buttonClicked(t){t===this._zoomButton&&(this.model.chart._getXAxes().resetZoom(),this.model.chart._getYAxes().resetZoom())}addFeedback(t){t&&this._feedbackContainer.add(t)}setZoom(t,e,s,i){const r=this.chart(),n=r.isInverted(),a=r.xAxis,h=n?this.height:this.width;let o=a.getValueAt(h,n?h-i:t),l=a.getValueAt(h,n?h-e:s);a.zoom(o,l)&&(this._zoomRequested=!0)}getBounds(){return this._hitTester.getBounds()}_doMeasure(t,e,s,i,r){const n=e.chart;if(this._polar=n.isPolar(),this._zoomRequested=!1,this._background.setStyleOrClass(e.style),this._background.setBoolData("polar",this._polar||n.isWidget()),this._seriesViews.forEach(((e,n)=>{e.measure(t,this._series[n],s,i,r)})),!this._polar){this.$_prepareGrids(t,n);for(const e of this._gridViews.keys())this._gridViews.get(e).measure(t,e.grid,s,i,r);this.$_prepareAxisBreaks(t,n)}return this._gaugeViews.forEach(((e,n)=>{e.measure(t,this._gauges[n],s,i,r)})),this._annotationViews.forEach(((e,n)=>{e.measure(t,this._annotations[n],s,i,r)})),this._zoomButton.setVis(e.zoomButton.isVisible())&&this._zoomButton.layout(),Mn.create(s,i)}_doLayout(){this.model.chart;const t=this.width,e=this.height,s=this._image;if(this._hitTester.resize(t,e),this._background.resize(t,e),s.setVis(s.setImage(this.model.image.url,t,e))&&s.setStyleOrClass(this.model.image.style),this._seriesViews.forEach((s=>{s.model.needClip(!1)&&this._owner.clipSeries(s.getClipContainer(),s.getClipContainer2(),0,0,t,e,s.invertable()),s.resize(t,e),s.layout()})),this._seriesViews.forEach((t=>{t.afterLayout()})),!this._polar){for(const s of this._gridViews.values())s.resize(t,e),s.layout();this._breakViews.forEach((s=>{const i=s._model,r=i.axis;r._isHorz?r.reversed?s.translate(t-i._sect.pos,0):s.translate(i._sect.pos,0):r.reversed?s.translate(0,i._sect.pos):s.translate(0,e-i._sect.pos-i._sect.len),s.layout(t,e,i.axis._isHorz)})),this._guideClip?this._guideClip.resize(t,e):this._guideClip=this.control.clipBounds(0,0,t,e),[this._guideContainer,this._frontGuideContainer].forEach((s=>{s._views.forEach((s=>s.layout(t,e))),s.setClip(this._guideClip)}))}this.$_preppareCrosshairs(this.chart()),this._gaugeViews.forEach((s=>{s.resizeByMeasured(),s.layout().translatep(s.getPosition(t,e))})),this._layoutAnnotations(this._inverted,t,e),this._zoomButton.visible&&this._zoomButton.translate(t-this._zoomButton.getBBounds().width-10,10)}$_createGaugeView(t,e){return new(Vh[e._type()])(t)}$_prepareGrids(t,e){const s=e.needAxes(),i=this._gridContainer,r=this._gridViews;for(const t of r.keys())s&&e.containsAxis(t)&&t.grid.isVisible(!1)||(r.get(t).remove(),r.delete(t));[e._getXAxes(),e._getYAxes()].forEach((e=>e.forEach((e=>{if(s&&e.grid.isVisible(!1)&&!r.has(e)){const s=new kh(t);r.set(e,s),i.add(s)}}))))}_prepareSeries(t,e,s){const i=this._inverted=e.isInverted(),r=this._seriesMap,n=this._seriesViews;for(const t of r.keys())s.indexOf(t)<0&&r.delete(t);this._series=s,n.forEach((t=>{t.remove(),t._labelContainer.remove()})),n.length=0,s.forEach((e=>{const s=r.get(e)||Ch(t,e);s._setChartOptions(i,this._animatable),this._seriesContainer.add(s),this._labelContainer.add(s._labelContainer),r.set(e,s),n.push(s),s.prepareSeries(t,e)}))}_prepareGauges(t,e,s){const i=this._seriesContainer,r=e.isInverted(),n=this._gaugeMap,a=this._gaugeViews;for(const t of n.keys())s.indexOf(t)<0&&n.delete(t);this._gauges=s,a.forEach((t=>t.remove())),a.length=0,s.forEach((e=>{const s=n.get(e)||this.$_createGaugeView(t,e);i.add(s),n.set(e,s),a.push(s),s.prepareGauge(t,e),s._setChartOptions(r,this._animatable)}))}_prepareAnnotations(t,e){const s=this._annotationContainer,i=this._frontAnnotationContainer,r=this._annotationMap,n=this._annotationViews;for(const t of r.keys())e.indexOf(t)<0&&r.delete(t);n.forEach((t=>t.remove())),n.length=0,(this._annotations=e).forEach((e=>{const a=r.get(e)||Ah(t,e);(e.front?i:s).add(a),r.set(e,a),n.push(a)}))}$_prepareAxisBreaks(t,e){const s=this._axisBreakContainer,i=this._breakViews,r=[];for([e._getXAxes(),e._getYAxes()].forEach((t=>t.forEach((t=>{t instanceof ai&&r.push(...t.runBreaks()||[])}))));i.length<r.length;){const e=new Eh(t);s.add(e),i.push(e)}for(;i.length>r.length;)i.pop().remove();i.forEach(((t,e)=>t.setModel(r[e])))}$_preppareCrosshairs(t){const e=this._crosshairViews,s=[];[t._getXAxes(),t._getYAxes()].forEach((t=>t.forEach((t=>{t.crosshair.visible&&s.push(t.crosshair)})))),e.prepare(s.length,((t,e)=>{t.setModel(s[e])}))}_layoutAnnotations(t,e,s){this._annotationViews.forEach((i=>{i.resizeByMeasured(),i.layout().translatep(i.model.getPosition(t,0,0,e,s,i.width,i.height))}))}}Dh.BODY_CLASS="rct-body";class Bh extends St{constructor(t){super(t,Ih.HANDLE_STYLE),this.add(this._back=new ms(t)),this.add(this._shape=new kt(t)),this._shape.setStyle("fill","white")}layout(t,e,s){if(t!==this._w||e!==this._h||s!==this._vertical){let i=1.3*Math.min(t,e);const r=new xr;this._back.rect={x:-i/2,y:-i/2,width:i,height:i,rx:i/2},i/=3,r.polygon(-i-1,0,-1,-i,-1,i),r.polygon(i+1,0,1,-i,1,i),this._shape.setPath(r.end()),this._w=t,this._h=e,this._vertical=s}}}class Ih extends Dn{static isHandle(t){return t.parentElement.classList.contains(Ih.HANDLE_STYLE)}static isMask(t){return t.classList.contains(Ih.MASK_STYLE)}constructor(t){super(t,Ih.CLASS_NAME),this.add(this._back=new ms(t,Ih.BACK_STYLE)),this.add(this._container=new Vt(t,null)),this.add(this._mask=new ms(t,Ih.MASK_STYLE)),this.add(this._trackView=new ms(t,Ih.TRACK_CLASS)),this.add(this._thumbView=new ms(t,Ih.THUMB_CLASS)),this.add(this._startHandle=new Bh(t)),this.add(this._endHandle=new Bh(t)),this._startHandle.setStyle("cursor","ew-resize"),this._endHandle.setStyle("cursor","ew-resize"),this._mask.setStyle("cursor","ew-resize"),this._mask.dom.addEventListener("dblclick",(()=>{this.model.axis()._zoom&&this.model.axis().resetZoom()}))}dblClick(t){const e=this.model.axis();return this._startHandle.contains(t)?(e.zoom(e._zoom.min,e._zoom.end),!0):this._endHandle.contains(t)?(e.zoom(e._zoom.start,e._zoom.max),!0):void(this.contains(t)&&e.resetZoom())}svgToElement(t,e){return this.control.svgToElement(this._back,t,e)}_doMeasure(t,e,s,i,r){const n=e._naviChart;n.firstSeries;let a=s,h=i;return e._vertical?a=e.thickness+e.gap+e.gapFar:h=e.thickness+e.gap+e.gapFar,e._naviChart.layoutAxes(a,h,!1,1),this.$_prepareSeriesView(t,n),this.$_prepareXAxisView(t,n),this.$_prepareYAxisView(t,n),e._naviChart.xAxis.calcPoints(a,1),e._naviChart.yAxis.calcPoints(h,1),{width:a,height:h}}_doLayout(t){const e=this.model,s=e.axis()._zoom,i=this.width,r=this.height;if(this._back.resize(i,r),e._vertical);else{const t=s?(s.start-s.min)*i/s.total():0,e=s?(s.end-s.min)*i/s.total():i;this._mask.setBounds(t,0,e-t,r),this._trackView.setBounds(-2,r,i+4,6),this._trackView.setRadius(4),this._thumbView.setBounds(t,r,e-t,6),this._startHandle.layout(r/3,r/3,!1),this._startHandle.translate(t,r+3),this._endHandle.layout(r/3,r/3,!1),this._endHandle.translate(e,r+3)}this._seriesView&&(this._seriesView.measure(this.doc,e._naviChart.firstSeries,i,r,1),this._seriesView.resize(i,r),this._seriesView.layout()),this._xAxisView&&(this._xAxisView.measure(this.doc,e._naviChart.xAxis,i,r,1),this._xAxisView.resize(i,r),this._xAxisView.layout()),this._yAxisView.setVis(!1)}$_prepareSeriesView(t,e){const s=e.firstSeries;let i=this._seriesView;i&&i.model!==s&&(i.remove(),i=this._seriesView=null),i||(this._container.add(i=this._seriesView=Ch(t,s)),i._simpleMode=!0),i&&i.prepareSeries(t,s)}$_prepareXAxisView(t,e){const s=e.xAxis;let i=this._xAxisView;i&&i.model!==s&&(i.remove(),i=this._xAxisView=null),i||(this._container.add(i=this._xAxisView=new Yn(t)),i._simpleMode=!0)}$_prepareYAxisView(t,e){const s=e.yAxis;let i=this._yAxisView;i&&i.model!==s&&(i.remove(),i=this._yAxisView=null),i||(this._container.add(i=this._yAxisView=new Yn(t)),i._simpleMode=!0)}}Ih.CLASS_NAME="rct-navigator",Ih.BACK_STYLE="rct-navigator-back",Ih.MASK_STYLE="rct-navigator-mask",Ih.HANDLE_STYLE="rct-navigator-handle",Ih.HANDLE_BACK_STYLE="rct-navigator-handle-back",Ih.TRACK_CLASS="rct-navigator-track",Ih.THUMB_CLASS="rct-navigator-thumb";class $h extends Tt{constructor(t){super(),this.chart=t}}class Fh extends $h{constructor(t,e,s){super(t),this._body=e,this._vertical=s}_doStart(t,e,s,i,r){const n=this.chart.getBounds(),a=this._body.getBounds();return this._xStart=e-(a.x-n.x),this._yStart=s-(a.y-n.y),this._body.addFeedback(this._feedback=new ms(this.chart.doc(),"rct-zoom-tracker")),!0}_doEnded(t,e){const s=this.chart.getBounds(),i=this._body.getBounds();this._vertical?(e-=i.y-s.y,this._body.setZoom(0,Math.min(this._yStart,e),this._body.width,Math.max(this._yStart,e))):(t-=i.x-s.x,this._body.setZoom(Math.min(this._xStart,t),0,Math.max(this._xStart,t),this._body.height)),this._feedback.remove()}_doDrag(t,e,s,i,r){const n=this.chart.getBounds(),a=this._body.getBounds();return this._vertical?(r-=a.y-n.y,this._feedback.setBounds(0,Math.min(this._yStart,r),this._body.width,Math.abs(this._yStart-r))):(i-=a.x-n.x,this._feedback.setBounds(Math.min(this._xStart,i),0,Math.abs(this._xStart-i),this._body.height)),!0}}class zh extends $h{constructor(t,e){super(t),this._view=e}_doStart(t,e,s,i,r){const n=this._view,a=n._thumbView.elementToSvg(0,0);return this._startOff=n._vertical?s-a.y:e-a.x,this._zoomLen=n.model.axis._zoom.length(),!0}_doDrag(t,e,s,i,r){const n=this._view;let a;return n._vertical?(a=n.svgToElement(i,r).y-this._startOff,a=n.getZoomPos(n.height-a-n._thumbView.height),n.model.axis.zoom(a,a+this._zoomLen)):(a=n.svgToElement(i,r).x-this._startOff,a=n.getZoomPos(a),n.model.axis.zoom(a,a+this._zoomLen),console.log(a)),!0}}class Hh extends $h{constructor(t,e,s){super(t),this._view=e,(this._isStart=e._startHandle.contains(s))?this._handleView=e._startHandle:this._handleView=e._endHandle}_doStart(t,e,s,i,r){const n=this._handleView,a=n.elementToSvg(0,0);return this._startOff=n._vertical?s-a.y:e-a.x,this._handleView.setBoolData("select",!0),!0}_doEnded(t,e){this._handleView.setBoolData("select",!1)}_doDrag(t,e,s,i,r){const n=this._view,a=n.model.axis();a._prepareZoom();let h=n.svgToElement(i,r).x-this._startOff;const o=a._zoom.total(),l=a._zoom.min;return this._handleView._vertical?this._isStart:this._isStart?h>0?a.zoom(h*o/n.width+l,NaN):a.zoom(l,NaN):h>0&&h<n.width?a.zoom(NaN,h*o/n.width+l):h>=n.width&&a.zoom(NaN,a._zoom.max),!0}}class Gh extends $h{constructor(t,e,s){super(t),this._view=e,this._maskView=e._mask}_doStart(t,e,s,i,r){const n=this._view.model.axis(),a=this._maskView.elementToSvg(0,0);return this._startOff=this._view.model._vertical?s-a.y:e-a.x,this._totalLen=n._zoom.total(),this._zoomLen=n._zoom.length(),!0}_doEnded(t,e){}_doDrag(t,e,s,i,r){const n=this._view,a=n.svgToElement(i,r).x-this._startOff;return n.model._vertical?this.$_moveZoom(a*this._totalLen/n.height):this.$_moveZoom(a*this._totalLen/n.width),!0}$_moveZoom(t){const e=this._view.model;t=Math.max(0,Math.min(t,this._totalLen-this._zoomLen))+e.axis()._zoom.min,e.axis().zoom(t,t+this._zoomLen)}}class jh{constructor(t){this._chart=t}handleDown(t){if(!t.isPrimary)return;const e=this._clickElement=t.target;if(!e)return;const s=this.$_pointerToPoint(t);this._dragTracker&&this.$_stopDragTracker(e,s.x,s.y),this._prevX=this._clickX=s.x,this._prevY=this._clickY=s.y}handleUp(t){this.isDragging()&&this.$_stopDragTracker(t.target,this._prevX,this._prevY)}handleMove(t){const e=this._chart.chartView(),{x:s,y:i}=this.$_pointerToPoint(t);if(t.buttons>=1||0===t.buttons&&0===t.button){const r=this.isDragging(),n=this._clickElement;s<0||s>=e.control.dom().offsetWidth||i<0||i>=e.control.dom().offsetHeight||(r?this.$_doDrag(t,n,s,i):(!this._dragTracker&&(Math.abs(this._clickX-s)>3||Math.abs(this._clickY-i)>3)||this._dragTracker&&!r)&&this.$_startMove(t,n,s,i))}this._prevX=s,this._prevY=i,this.isDragging()?(e.pointerMoved(-1,-1,null),this._stopEvent(t)):e.getButton(t.target)||e.pointerMoved(t.pointX,t.pointY,t.target)}handleClick(t){const e=this._chart.chartView(),s=this._clickElement,i=e.getButton(s);let r,n,a;if(i)!0!==i.click()&&e.buttonClicked(i);else if(n=e.legendByDom(s))if(n.source instanceof ys){const t=n.source,e=this._chart.model.seriesByPoint(t);if(e){e.setPointVisible(t,!t.visible);const s=this._chart.chartView().findSeriesView(e);s instanceof Ca&&s.togglePointVisible(t)}}else n.source.visible=!n.source.visible;else(a=e.seriesByDom(s))?a.clicked(s):(r=e.creditByDom(s))&&r.clicked(s)}handleDblClick(t){const e=this._chart.chartView()._navigatorView,s=this._clickElement;!e.visible||e.dblClick(s)}handleWheel(t){}get dragTracker(){return this._dragTracker}setDragTracker(t){t!=this._dragTracker&&(this._dragTracker&&this._dragTracker.cancel(),this._dragTracker=t)}isDragging(){return this._dragTracker&&this._dragTracker.dragging}_stopEvent(t){t.cancelable&&t.preventDefault(),t.stopImmediatePropagation()}$_pointerToPoint(t){const e=this._chart.svg().getBoundingClientRect();return{x:t.pageX-e.left,y:t.pageY-e.top}}_getDragTracker(t,e,s){const i=this._chart.chartView(),r=i.bodyOf(t);return jn.isThumb(t)?new zh(this._chart,i.getScrollView(t)):Ih.isHandle(t)?new Hh(this._chart,i._navigatorView,t):Ih.isMask(t)&&r&&r.model.isZoomed()?new Gh(this._chart,i._navigatorView,t):r&&r.model.canZoom()&&r.contains(t)?new Fh(this._chart,r,i._inverted):void 0}$_doDrag(t,e,s,i){if(!this.$_drag(e,this._prevX,this._prevY,s,i))return this.$_stopDragTracker(e,s,i,!0),this._stopEvent(t),!0}$_startMove(t,e,s,i){this.$_startDrag(e,this._prevX,this._prevY,s,i)&&(s!==this._prevX||i!==this._prevY?this.$_doDrag(t,e,s,i):this._stopEvent(t))}$_startDrag(t,e,s,i,r){return this._dragTracker||this.setDragTracker(this._getDragTracker(t,i-e,r-s)),!!this._dragTracker&&this._dragTracker.start(t,e,s,i,r)}$_drag(t,e,s,i,r){return this._dragTracker.drag(t,e,s,i,r)}$_stopDragTracker(t,e,s,i=!1){this.isDragging()&&(i?this._dragTracker.cancel():this._dragTracker.drop(null,e,s),this._dragTracker=null)}}class Wh{static empty(){return new Wh}static create(t=0,e=0){return new Wh(t,e)}constructor(t=0,e=0){this.x=t,this.y=e}get isEmpty(){return 0===this.x||0===this.y}clone(){return new Wh(this.x,this.y)}equals(t){return t===this||t&&this.x===t.x&&this.y===t.y}setEmpty(){return this.x=this.y=0,this}set(t,e){return this.x=t,this.y=e,this}round(){const t=this.clone();return t.x>>>=0,t.y>>>=0,t}toString(){return"{x: "+this.x+", y: "+this.y+"}"}}class Yh extends Vt{constructor(t){super(t,Yh.TITLE_CLASS),this._itemViews=[],this._separators=[],this.itemGap=8,this.setVis(!1)}setHistory(t,e){if(this.setVis(e&&e.length>0)){const s=this._itemViews,i=this._separators;for(;s.length<e.length;){const e=new ne(t,"rct-history-item");e.anchor=se.START,s.push(e)}for(;s.length>e.length;)s.pop().remove();for(;i.length<e.length-1;){const e=new ne(t);e.anchor=se.START,e.text=">",i.push(e)}for(;i.length>e.length-1;)i.pop().remove();this.$_layout(e)}}$_layout(t){const e=this._itemViews,s=this._separators,i=this.itemGap,r=t.length;let n=0;for(let a=0;a<r;a++)e[a].text=t[a].name,e[a].translateX(n),a<r-1&&(n+=e[a].width+i,s[a].translateX(n),n+=s[a].width+i)}}Yh.TITLE_CLASS="rct-history";class Xh extends Dn{constructor(t){super(t,"rct-legend-item"),this.add(this._label=new ne(t,"rct-legend-item-label")),this._label.anchor=se.START}setMarker(t){t!==this._marker&&(this._marker&&this._marker.remove(),this.insertFirst(this._marker=t))}_doMeasure(t,e,s,i,r){at.setData(this._label.dom,"hidden",e.source.visible?"":1),at.setData(this._marker.dom,"hidden",e.source.visible?"":1),this._label.text=e.text();const n=this._marker.setVis(e.legend.markerVisible)?this._marker.getBBounds():mt.Empty,a=pt(this._label.getBBounds());return this._gap=p(e.legend.markerGap,0),Mn.create(n.width+this._gap+a.width,Math.max(n.height,a.height))}_doLayout(){const t=this._marker.visible?this._marker.getBBounds():mt.Empty;this._marker.visible&&this._marker.translate(0,(this.height-t.height)/2),this._label.translate(t.width+this._gap,(this.height-this._label.getBBounds().height)/2)}}class Uh extends Bn{constructor(t){super(t,Uh.LEGEND_CLASS,"rct-legend-background"),this._itemViews=new Tn(this,Xh)}legendByDom(t){const e=this._itemViews.elementOf(t);return e&&e.model}legendOfSeries(t){return this._itemViews.find((e=>e.model.source===t))}_setBackgroundStyle(t){t.setStyleOrClass(this.model.backgroundStyle)}_doMeasure(t,e,s,i,r){const n=e.items(),a=this._vertical=e.getLayout()===os.VERTICAL;return this._ipr=p(e.itemsPerLine,Number.MAX_SAFE_INTEGER),this._gap=e.location!==hs.BODY&&e.location!==hs.PLOT?p(e.gap,0):0,a?i=e.getMaxHeight(i):s=e.getMaxWidth(s),this.$_prepareItems(t,n),this.$_measure(t,e,a,this._ipr,s,i)}_doLayout(){const t=this.model,e=this._rowViews,s=t.useTextColor,i=this._sizes,r=t.itemsAlign,n=t.lineGap||0,a=t.itemGap||0,h=this._margins,o=this._paddings,l=this._vertical,c=h.left+o.left,u=h.top+o.top;let _,d=c,g=u;this._itemViews.forEach((t=>{const e=t.model.source.legendColor();t._marker.setStyle("fill",e),t._marker.setStyle("stroke",e),s&&t.model.source.visible?t._label.setStyle("fill",e):t._label.setStyle("fill",""),t.resizeByMeasured().layout()})),e.forEach(((t,e)=>{l?(g=u,r!==ls.CENTER&&r!==ls.END||(_=t.map((t=>t.height)).reduce(((t,e)=>t+e))+a*(t.length-1)+h.top+h.bottom+o.top+o.bottom,r===ls.CENTER?g+=(this.height-_)/2:g+=this.height-_),t.forEach((t=>{t.translate(d,g),g+=t.height+a})),d+=i[e]+n):(d=c,r!==ls.CENTER&&r!==ls.END||(_=t.map((t=>t.width)).reduce(((t,e)=>t+e))+a*(t.length-1)+h.left+h.right+o.left+o.right,r===ls.CENTER?d+=(this.width-_)/2:d+=this.width-_),t.forEach((t=>{t.translate(d,g),d+=t.width+a})),g+=i[e]+n)}))}$_prepareItems(t,e){this._itemViews.prepare(e.length)}$_measure(t,e,s,i,r,n){const a=e.items(),h=this._itemViews,o=e.itemGap||0,l=e.lineGap||0,c=h.count,u=this._rowViews=[],_=this._sizes=[];let d,g,p,m;h.forEach(((s,i)=>{s.setMarker(a[i].source.legendMarker(t,e.markerSize)),s.measure(t,a[i],r,n,1)}));let f=0,w=0;if(s){for(;f<c;)m=h.get(f),w%i==0?(u.push(p=[m]),g=m.mh,w++,f++):(g+=o+m.mh,g<=n?(p.push(m),w++,f++):w=0);d=g=0,u.forEach((t=>{let e=0,s=0;t.forEach((t=>{s+=t.mh,e=Math.max(e,t.mw)})),s+=o*(t.length-1),g=Math.max(g,s),d+=e,_.push(e)})),d+=l*(u.length-1)}else{for(;f<c;)m=h.get(f),w%i==0?(u.push(p=[m]),d=m.mw,w++,f++):(d+=o+m.mw,d<=r?(p.push(m),w++,f++):w=0);d=g=0,u.forEach((t=>{let e=0,s=0;t.forEach((t=>{e+=t.mw,s=Math.max(s,t.mh)})),e+=o*(t.length-1),d=Math.max(d,e),g+=s,_.push(s)})),g+=l*(u.length-1)}return Mn.create(d,g)}}Uh.LEGEND_CLASS="rct-legend";let Zh=class extends In{constructor(){super(...arguments),this.views=[],this._gap=0}prepare(t,e,s,i,r){const n=this.views,a=[];for(this.isX=e,s&&s._axes.forEach((t=>{a.push(t)}));n.length<a.length;){const e=new Yn(t);this.add(e),n.push(e)}for(;n.length>a.length;)n.pop().remove();if(n.forEach(((e,s)=>{const r=a[s];r._runPos,e.model=a[s],i.forEach((s=>{s.forEach((s=>{s.isConnected(r)&&e.prepareGuides(t,s.row,s.col,s._guideContainer,s._frontGuideContainer)}))}))})),this.axes=a,this.setVis(n.length>0)){const t=n[0].model;this._gap=t.chart.getAxesGap()}}checkHeights(t,e,s){return this.views.length>0?this.$_checkHeights(this.views,t,e,s):0}$_checkHeights(t,e,s,i){let r=0;return t&&(t.forEach((t=>{r+=t.checkHeight(e,s,i)})),r+=(this.views.length-1)*this._gap),r}checkWidths(t,e,s){return this.views.length>0?this.$_checkWidths(this.views,t,e,s):0}$_checkWidths(t,e,s,i){let r=0;return t&&(t.forEach((t=>{r+=t.checkWidth(e,s,i)})),r+=(this.views.length-1)*this._gap),r}getScrollView(t){var e;for(const s of this.views)if(null===(e=s._scrollView)||void 0===e?void 0:e.contains(t))return s._scrollView}_setInverted(t){super._setInverted(t),this.isHorz=t&&!this.isX||!t&&this.isX}_doMeasure(t,e,s,i,r){const n=this.axes;if(this.isHorz){let e=0;return this.views.forEach(((a,h)=>{e+=a.measure(t,n[h],s,i,r).height})),{width:s,height:e}}{let e=0;return this.views.forEach(((a,h)=>{e+=a.measure(t,n[h],s,i,r).width})),{width:e,height:i}}}_doLayout(t){this.isHorz?this.views.forEach((t=>{t.resize(this.width,t.mh),t.layout()})):this.views.forEach((t=>{t.resize(t.mw,this.height),t.layout()}))}};class qh extends In{constructor(t,e){super(t,"rct-axis-container"),this.isX=e,this.sections=[]}prepare(t,e,s,i){const r=this.isX?s.getRow(i):s.getColumn(i);for(;this.sections.length<r.length;){const e=new Zh(t);this.add(e),this.sections.push(e)}for(;this.sections.length>r.length;)this.sections.pop().remove();this.sections.forEach(((n,a)=>{this.isX?(n.row=i,n.col=a):(n.col=i,n.row=a),n.prepare(t,this.isX,r[a],e,s)}))}checkWidths(t,e,s){return this.sections.length>0?this.sections.reduce(((i,r)=>i+r.checkWidths(t,e,s)),0):0}checkHeights(t,e,s){return this.sections.length>0?this.sections.reduce(((i,r)=>i+r.checkHeights(t,e,s)),0):0}_setInverted(t){super._setInverted(t),this._isHorz=t&&!this.isX||!t&&this.isX}_doMeasure(t,e,s,i,r){let n=0,a=0;return this._isHorz?this.sections.forEach((n=>{a=Math.max(a,n.measure(t,e,s,i,r).height)})):this.sections.forEach((a=>{n=Math.max(n,a.measure(t,e,s,i,r).width)})),{width:n,height:a}}_doLayout(t){this._isHorz?this.sections.forEach(((e,s)=>{this.height>0&&(e.resize(t[2*(s+1)]-t[2*(s+1)-1],this.height).translate(t[2*s+1]-t[1],0),e.layout())})):this.sections.forEach(((e,s)=>{this.width>0&&(e.resize(this.width,t[2*(s+1)]-t[2*(s+1)-1]).translate(0,this.height-(t[2*(s+1)]-t[1])),e.layout())}))}}class Kh extends Dh{constructor(){super(...arguments),this.row=0,this.col=0}prepareRender(t,e){const s=this.row,i=this.col,r=e.split.getPane(s,i).body,n=e._getSeries().getPaneSeries(s,i),a=e._getGauges().getPaneVisibles(s,i);this._animatable=vt._animatable&&e.animatable(),this._prepareSeries(t,e,n),this._prepareGauges(t,e,a),this._prepareAnnotations(t,r.getAnnotations())}}class Qh extends Vt{constructor(t,e){super(t,Qh.STYLE_NAME),this._bodies=[],this._xContainers=[],this._yContainers=[],this._owner=e}bodyViewOf(t){return this._bodies.find((e=>e.contains(t)))}prepare(t,e){e.chart,this.$_init(t),this._model=e,this.$_prepareBodies(t,e)}measure(t,e,s,i,r,n,a){const h=e.chart,o=this._inverted=e.chart.isInverted(),l=r,c=n;this.$_prepareAxes(t,s,!0),this.$_prepareAxes(t,i,!1),e.layoutAxes(r,n,o,a),o?(r-=this._xContainers.reduce(((e,s)=>e+s.checkWidths(t,r,n)),0),n-=this._yContainers.reduce(((e,s)=>e+s.checkHeights(t,r,n)),0)):(n-=this._xContainers.reduce(((e,s)=>e+s.checkHeights(t,r,n)),0),r-=this._yContainers.reduce(((e,s)=>e+s.checkWidths(t,r,n)),0)),e.layoutAxes(r,n,o,a),this._xContainers.forEach((e=>e.measure(t,h,r,n,a))),this._yContainers.forEach((e=>e.measure(t,h,r,n,a))),r=l,n=c,o?(r-=this._xContainers.reduce(((t,e)=>t+e.mw),0),n-=this._yContainers.reduce(((t,e)=>t+e.mh),0)):(n-=this._xContainers.reduce(((t,e)=>t+e.mh),0),r-=this._yContainers.reduce(((t,e)=>t+e.mw),0)),e.layoutAxes(r,n,o,a),this._xContainers.forEach((e=>e.measure(t,h,r,n,a))),this._yContainers.forEach((e=>e.measure(t,h,r,n,a)));const u=e.getXLens(o?n:r),_=e.getYLens(o?r:n);e.calcAxesPoints(u,_)}layout(){const t=this._model,e=this.width,s=this.height;this._back.resize(e,s),this.$_calcExtents(t,e,s),this.$_layoutAxes(t,!0,e,s),this.$_layoutAxes(t,!1,e,s),this.$_layoutBodies(t,e,s)}seriesByDom(t){for(const e of this._bodies){const s=e.seriesByDom(t);if(s)return s}}$_init(t){this._back||(this.add(this._back=new ms(t)),this._back.setStyles({fill:"none"}),this.add(this._bodyContainer=new Vt(t,C)),this.add(this._axisContainer=new Vt(t,C)))}$_prepareBodies(t,e){const s=e.chart,i=e.paneCount(),r=this._bodies,n=this._bodyMap=[];for(;r.length<i;){const e=new Kh(t,this._owner);this._bodyContainer.add(e),r.push(e)}for(;r.length>i;)r.pop().remove();for(let t=0;t<e.rowCount();t++){const s=[];for(let i=0;i<e.colCount();i++){const n=r[t*e.colCount()+i];s.push(n),n.row=t,n.col=i}n.push(s)}r.forEach((e=>{e.prepareRender(t,s),e.prepareGuideContainers()}))}$_prepareAxes(t,e,s){const i=s?this._xContainers:this._yContainers,r=s?e.rows():e.cols();for(;i.length<r;){const e=new qh(t,s);this._axisContainer.add(e),i.push(e)}for(;i.length>r;)i.pop().remove();i.forEach(((s,i)=>{s.prepare(t,this._bodyMap,e,i)}))}$_calc(t,e,s,i){const r=new Array(2*(e+1)),n=s-t.reduce(((t,e)=>t+e[i]),0),a=new Array(e);let h=0,o=0;for(o=0;o<e;o++)a[o]=n/e;for(o=0;o<e;o++)r[2*o]=h,r[2*o+1]=h+=t[o][i],h+=a[o];return r[2*o]=h,r[2*o+1]=h+t[o][i],r}$_calcExtents(t,e,s){this._inverted?(this._rowPoints=this.$_calc(this._xContainers,t.rowCount(),e,"mw"),this._colPoints=this.$_calc(this._yContainers,t.colCount(),s,"mh")):(this._rowPoints=this.$_calc(this._xContainers,t.rowCount(),s,"mh"),this._colPoints=this.$_calc(this._yContainers,t.colCount(),e,"mw"))}$_layoutAxes(t,e,s,i){const r=this._rowPoints,n=this._colPoints,a=e?this._xContainers:this._yContainers;if(this._inverted)if(e){const t=n[1],e=n[n.length-2]-t;a.forEach(((t,s)=>{t.resize(t.mw,e).translate(r[2*s],i-n[n.length-2]),t.layout(n)}))}else{const t=r[1],e=r[r.length-2]-t;a.forEach(((s,a)=>{s.resize(e,s.mh).translate(t,i-n[2*a+1]),s.layout(r)}))}else if(e){const t=n[1];s=n[n.length-2]-t,a.forEach(((e,a)=>{e.resize(s,e.mh).translate(t,i-r[2*a+1]),e.layout(n)}))}else{const t=r[r.length-2],e=t-r[1];a.forEach(((s,a)=>{s.resize(s.mw,e).translate(n[2*a],i-t),s.layout(r)}))}}$_layoutBodies(t,e,s){t.chart.body;const i=t.rowCount(),r=t.colCount(),n=this._rowPoints,a=this._colPoints,h=this._bodies;if(this._inverted)for(let e=0;e<i;e++){const s=n[2*(e+1)-1],i=n[2*(e+1)];for(let n=0;n<r;n++){const o=h[e*r+n],l=a[2*n+1],c=a[2*(n+1)];o.measure(this.doc,t.getPane(e,n).body,i-s,c-l,1),o.resize(i-s,c-l).translate(s,this.height-c),o.layout()}}else for(let e=0;e<i;e++){const i=n[2*(e+1)-1],o=n[2*(e+1)];for(let n=0;n<r;n++){const l=h[e*r+n],c=a[2*(n+1)-1],u=a[2*(n+1)];l.measure(this.doc,t.getPane(e,n).body,u-c,o-i,1),l.resize(u-c,o-i).translate(c,s-o),l.layout()}}}}Qh.STYLE_NAME="rct-panes";class Jh extends St{constructor(t){super(t,"rct-polar-axis-tick-mark"),this.add(this._lineView=new ka(t))}layout(){}}class to extends St{constructor(t,e,s,i){super(t,e),this.add(this._markContainer=new Vt(t,"rct-polar-axis-markers")),this._markViews=new Tn(this._markContainer,Jh),this.add(this._gridContainer=new St(t,"rct-polar-axis-grids")),this._labelViews=new Tn(this._labelContainer=s,Hn,i?"rct-polar-xaxis-label":"rct-polar-yaxis-label")}prepare(t,e,s,i){this._model=e,this._markLen=e.tick.length,this.$_prepareTickMarks(t,e),this.$_prepareLabels(t,e),this._doPrepare(e,e._ticks,s,i)}layout(t,e,s,i){const r=this._model._ticks;return this._doLayout(this._model,e,s,i,r,t),this}$_prepareTickMarks(t,e){this._markViews.prepare(e._ticks.length)}_prepareLabel(t,e,s,i){const r=s.getLabelText(e,i),n=e.label;if(t.value=e.value,t.internalClearStyleAndClass(),t.internalSetStyleOrClass(s.style),t.internalSetStyleOrClass(s.getLabelStyle(e,i)),null!=r){n&&r.match(Wn)?t.setLabel(s,r.replace(Wn,n),1e3,1e3):(s.prepareRich(r),s._paramTick=e,s.buildSvg(t._text,t._outline,NaN,NaN,s,s._domain))}else t.setLabel(s,n,1e3,1e3)}$_prepareLabels(t,e){const s=e.label;if(this._labelContainer.setVis(s.visible)){const t=e._ticks;this._labelContainer.setStyleOrClass(s.style),this._labelViews.prepare(t.length,((e,i,r)=>{e.setVis(!0),this._prepareLabel(e,t[i],s,r)}))}}prepareGuides(t,e,s){let i=this._model.guides.filter((t=>!t.front));e.addAll(t,i),i=this._model.guides.filter((t=>t.front)),s.addAll(t,i)}}class eo extends to{constructor(t,e,s){super(t,"rct-polar-xaxis",s,!0),this._gridLines=new Tn(this._gridContainer,er,eo.GRID_CLASS),e.insertFirst(this._startView=new er(t,eo.SECTOR_LINE_CLASS)),e.insertFirst(this._endView=new er(t,eo.SECTOR_LINE_CLASS)),e.insertFirst(this._lineView=new Ea(t,eo.LINE_CLASS))}_doPrepare(t,e,s){let i=this._lineView;if(this._gridContainer.setVis(t.grid.isVisible(!0))&&this._gridLines.prepare(e.length),i.setVis(t.line.visible)){const e=i.parent;s?t.isArced()?i instanceof La||(i.remove(),e.add(i=this._lineView=new La(this.doc,eo.LINE_CLASS))):i instanceof Ea||(i.remove(),e.add(i=this._lineView=new Ea(this.doc,eo.LINE_CLASS))):i instanceof sr||(i.remove(),e.add(i=this._lineView=new sr(this.doc,eo.LINE_CLASS))),i.setStyleOrClass(t.line.style),i.setStyle("fill","none")}this._startView.setVis(s&&t.isArced()&&t.sectorLine.visible)?(this._startView.setStyleOrClass(t.sectorLine.style),this._endView.setVis(!0),this._endView.setStyleOrClass(t.sectorLine.style)):this._endView.setVis(!1)}_doLayout(t,e,s,i,r,n){const a=t.getStartAngle(),h=t.getTotalAngle();if(r.forEach((t=>t.pos=t.pos/i*h/E)),this._gridContainer.visible&&this._gridLines.forEach(((t,n)=>{const h=r[n].pos,o=e+u(a+h)*i,l=s+_(a+h)*i;t.setLine(e,s,o,l)})),this._labelContainer.visible){const n=this._labelViews.count,h=Math.ceil(9/(360/n)),o=i+t.tick.length,l=K.CENTER;this._labelViews.forEach(((t,i)=>{if(t.setVis(i%h==0)){const n=r[i],h=t.getBBounds(),c=a+n.pos,d=e+u(c)*(o+h.width/2)-h.width/2,g=s+_(c)*(o+h.height/2)-h.height/2;t.layout(l).translate(d,g)}})),n>2&&Math.abs(r[n-1].pos-r[n-2].pos)<E/24&&this._labelViews.get(n-1).setVis(!1)}if(this._lineView.visible)if(this._lineView instanceof ka)this._lineView.setCircle(e,s,i);else if(this._lineView instanceof La)this._lineView.setArc(e,s,i,a,t.getTotalAngle(),!0);else{const t=[];r.forEach((r=>{const n=r.pos;t.push(e+u(a+n)*i,s+_(a+n)*i)})),this._lineView.setPoints(...t)}this._startView.visible&&(this._startView.setLine(e,s,e+u(a)*i,s+_(a)*i),this._endView.setLine(e,s,e+u(a+h)*i,s+_(a+h)*i))}}eo.LINE_CLASS="rct-polar-xaxis-line",eo.SECTOR_LINE_CLASS="rct-polar-xaxis-sector-line",eo.GRID_CLASS="rct-polar-xaxis-grid-line";class so extends to{constructor(t,e,s){super(t,"rct-polar-yaxis",s,!1),this._gridLines=new Tn(this._gridContainer,Ea,so.GRID_LINE_STYLE),this._gridLines.circular=!1,this._gridLines.arced=!1,e.add(this._lineView=new er(t,"rct-polar-yaxis-line"))}_doPrepare(t,e,s,i){const r=this._gridContainer;r.setVis(!1!==t.grid.visible)&&(s===r.circular&&i===r.arced||(this._gridLines.destroy(),this._gridLines=new Tn(r,s?i?La:Ea:sr,so.GRID_LINE_STYLE),r.circular=s,r.arced=i),this._gridLines.prepare(e.length,null)),(this._lineView.visible=t.line.visible)&&this._lineView.setStyleOrClass(t.line.style)}_doLayout(t,e,s,i,r,n){const a=n.getStartAngle(),h=n.getTotalAngle();if(this._gridContainer.visible&&this._gridLines.forEach(((i,o)=>{const l=r[o].pos;if(i instanceof Ea)i.setCircle(e,s,l);else if(i instanceof La)i.setArc(e,s,l,a,h,!0),i.setStyle("fill","none");else if(i instanceof sr){const r=t.getStartAngle(),a=[];n._ticks.forEach((t=>{const i=t.pos;a.push(e+u(r+i)*l,s+_(r+i)*l)})),i.setPoints(...a)}})),this._labelContainer.visible)if(n.isArced()){const t=n.getStartAngle();this._labelViews.forEach(((i,n)=>{const a=e+u(t)*r[n].pos-i.getBBounds().width/2,h=s+_(t)*r[n].pos-i.getBBounds().height/2;i.setContrast(null).translate(a,h)}))}else this._labelViews.forEach(((t,i)=>{t.setContrast(null).translate(e+2,s-r[i].pos-t.getBBounds().height/2)}));this._lineView.visible&&this._lineView.setVLine(e,s,s-i)}}so.GRID_LINE_STYLE="rct-polar-yaxis-grid-line";class io extends Dh{constructor(t,e){super(t,e),this._yAxisViews=[]}_doMeasure(t,e,s,i,r){const n=e.chart,a=super._doMeasure(t,e,s,i,r);return this.$_prepareAxes(t,n.xAxis,n._getYAxes().items,this.model.circular,n.xAxis.isArced()),a}_doLayout(){const t=this.model.setPolar(this.width,this.height),{cx:e,cy:s,rd:i}=t.getPolar(null);this._seriesViews.forEach((t=>{var r;t.model.needClip(!0)&&(this._polarClip||(this._polarClip=this.control.clipCircle()),this._polarClip.setCircle(e,s,i),t.getClipContainer().setClip(this._polarClip),null===(r=t.getClipContainer2())||void 0===r||r.setClip(this._polarClip)),t.resize(2*i,2*i),t.layout()})),this._xAxisView.layout(t.chart.yAxis,e,s,i),this._yAxisViews.forEach((r=>{r.layout(t.chart.xAxis,e,s,i)})),[this._guideContainer,this._frontGuideContainer].forEach((e=>{e._views.forEach((e=>e.layout(this.width,this.height,t.getPolar(e.model.axis))))})),this._layoutAnnotations(!1,this.width,this.height)}$_prepareAxes(t,e,s,i,r){this._axisContainer||(this.insertFirst(this._axisLabelContainer=new Vt(t,"rct-polar-axis-labels")),this.insertFirst(this._lineContainer=new Vt(t,"rct_axis-lines")),this.insertFirst(this._axisContainer=new Vt(t,"rct-polar-axes")));const n=this._yAxisViews;for(;n.length<s.length;){const e=new so(t,this._lineContainer,this._axisLabelContainer);this._axisContainer.add(e),n.push(e)}for(;n.length>s.length;)n.pop().remove();n.forEach(((e,n)=>{e.prepare(t,s[n],i,r),e.prepareGuides(t,this._guideContainer,this._frontGuideContainer)})),this._xAxisView||this._axisContainer.add(this._xAxisView=new eo(t,this._lineContainer,this._axisLabelContainer)),this._xAxisView.prepare(t,e,i,r)}}class ro extends Bn{constructor(t,e){super(t,e?ro.SUBTITLE_CLASS:ro.TITLE_CLASS,e?"rct-subtitle-background":"rct-title-background"),this.isSub=e,this.add(this._textView=new ne(t)),this._richText=new _e}_marginable(){return!1}_setBackgroundStyle(t){t.setStyleOrClass(this.model.backgroundStyle)}_doMeasure(t,e,s,i,r){return this._richText.setFormat(e.text),this._richText.build(this._textView,s,i,null,null),pt(this._textView.getBBounds())}_doLayout(){this._richText.layout(this._textView,this.textAlign(),this.width,this.height,this._paddings)}}var no;ro.TITLE_CLASS="rct-title",ro.SUBTITLE_CLASS="rct-subtitle",function(t){t.TOP="top",t.RIGHT="right"}(no||(no={}));class ao extends St{constructor(t){super(t,"rct-tooltip"),this._topHeight=7,this._tailSize=10,this._radius=5,this._hideHandler=()=>{this.$_hide(),this._hideTimer=void 0},this.add(this._back=new kt(t,"rct-tooltip-back")),this.add(this._top=new kt(t,"rct-tooltip-top")),this.add(this._textView=new ne(t,"rct-tooltip-text")),this._back.setAttr("filter","url(#"+vt.SHADOW_FILTER+")"),this._textView.anchor=se.START,this._richText=new _e,this.close(!0,!1)}show(t,e,s,i,r){const n=this._model=t.chart.tooltip,a=n.setTarget(t,e);if(!a)return;const h=this.control.contentWidth(),o=this.control.contentHeight(),l=this._textView,c=t.chart.isInverted();this._richText.setFormat(a.getTooltipText(t,e)),this._richText.build(l,NaN,NaN,null,n.getTextDomain());const u=l.getBBounds();let _=Math.max(n.minWidth||0,u.width+16),d=Math.max(n.minHeight||0,u.height+12);this._top.setStyle("fill",t._calcedColor);const g="visible"===this.getStyle("visibility")?300:0;let p=0;c?(d+=this._topHeight,p=i-d/2-Math.max(0,Math.min(i-d/2,o-d)),this.drawTooltip(0,-this._topHeight/2,_,d,no.RIGHT,p),s+=n.offset,i-=d/2):(d+=this._topHeight,p=s-_/2-Math.max(0,Math.min(s-_/2,h-_)),this.drawTooltip(0,-this._topHeight,_,d,no.TOP,p),s-=_/2,i=i-d-n.offset),s=Math.max(0,Math.min(s,h-_)),i=Math.max(0,Math.min(i,o-d)),this.translateEx(s,i,g,!1),0===g&&this.setStyle("visibility","visible"),this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=void 0)}close(t,e){t?(this._hideTimer&&(clearTimeout(this._hideTimer),this._hideTimer=void 0),this.$_hide()):this._hideTimer||(this._hideTimer=setTimeout(this._hideHandler,this._model?this._model.hideDelay:bn.HIDE_DELAY))}$_hide(){!function(t,e,s,i,r,n){const a=null!=s?F(e,s):{},h=F(e,i),o=t.animate([a,h],{duration:r,fill:"none"});o&&n&&o.addEventListener("finish",n)}(this.dom,"opacity",void 0,0,200,(()=>{this.setStyle("visibility","hidden")}))}drawTooltip(t,e,s,i,r,n){const a=this._tailSize,h=this._radius,o=this._topHeight;this._model,r===no.RIGHT?t+=a:r===no.TOP&&(e-=a);let l=["M",t+h,e,"L",t+s-2*h,e,"Q",t+s-h,e,t+s,e+h,"L",t+s,e+i-h,"Q",t+s,e+i,t+s-h,e+i,"L",t+h,e+i,"Q",t,e+i,t,e+i-h,"L",t,e+h,"Q",t,e,t+h,e];l=r===no.RIGHT?l.concat(["M",t,e+i/2-a/2+n,"L",t-a,e+i/2+n,"L",t,e+i/2+a/2+n]):r===no.TOP&&l.concat(["M",t+s/2-a/2+n,e+i,"L",t+s/2+n,e+i+a,"L",t+s/2+a/2+n,e+i]);const c=["M",t+h,e,"l",s-2*h,0,"q",h,0,h,h,"l",0,o-h,"l",-s,0,"l",0,h-o,"q",0,-h,h,-h],u=this._textView,_=u.getBBounds();u.translate(t+(s-_.width)/2,e+(i-_.height+o)/2),this._top.setPath(c),this._back.setPath(l)}}class ho extends In{constructor(){super(...arguments),this._hTitle=0,this._wTitle=0,this._hSub=0,this._wSub=0}_doInitChildren(t){this.add(this.titleView=new ro(t,!1)),this.add(this.subtitleView=new ro(t,!0))}_doMeasure(t,e,s,i,r){const n=e.title,a=e.subtitle;let h,o=0,l=0,c=0,u=0,_=this.titleView,d=s,g=0,m=0;switch(_.setVis(n.isVisible())?(h=_.measure(t,n,s,i,r),l=this._hTitle=h.height,o=this._wTitle=h.width):_.setModel(n),(_=this.subtitleView).setVis(a.isVisible())?(h=_.measure(t,a,s,i,r),u=this._hSub=h.height,c=this._wSub=h.width,m=+e.subtitle.titleGap||0):_.setModel(a),a.position){case Is.LEFT:case Is.RIGHT:g=Math.max(l,u),d=o+m+c;break;default:g=l+m+u,d=Math.max(d,o+c)}return g>0&&(g+=this.titleView.visible?p(n.gap,0):p(a.gap,0)),{width:d,height:g}}_doLayout(t){const e=this.titleView,s=this.subtitleView,i=e.model,r=s.model,n=i&&i.visible?this._wTitle>t.wPlot||i.alignBase===tt.CHART?t.wChart:t.wPlot:0,a=r&&r.visible?this._wSub>t.wPlot||i.alignBase===tt.CHART?t.wChart:t.wPlot:0;let h=this._wTitle>t.wPlot||i&&i.alignBase===tt.CHART?0:t.xPlot,o=this._wSub>t.wPlot||r&&r.alignBase===tt.CHART?0:t.xPlot;if(n>0&&a>0){const t=(t,e,s)=>{switch(t.verticalAlign){case Q.MIDDLE:return(e-s)/2;case Q.BOTTOM:return e-s;default:return 0}},l=()=>{const e=Math.max(this._hTitle,this._hSub);d=Math.max(d,d+t(i,e,this._hTitle)),m=Math.max(m,m+t(r,e,this._hSub))},c=(t,e,s)=>{switch(t.align){case K.CENTER:return(e-s)/2;case K.RIGHT:return e-s;default:return 0}},u=()=>{g=Math.max(g,g+c(i,n,this._wTitle)),f=Math.max(f,f+c(r,a,this._wSub))},_=p(r.titleGap,0);let d=0,g=h,m=0,f=o;switch(i.align){case K.LEFT:switch(r.position){case Is.LEFT:g=f+this._wSub+_,l();break;case Is.RIGHT:switch(f=g+this._wTitle+_,r.align){case K.CENTER:f=Math.max(f,f+(a-this._wTitle-this._wSub)/2);break;case K.RIGHT:f=Math.max(f,o+a-this._wSub)}l();break;case Is.TOP:d=m+this._hSub+_,u();break;default:m=d+this._hTitle+_,u()}break;case K.RIGHT:switch(r.position){case Is.LEFT:switch(g+=n-this._wTitle,r.align){case K.CENTER:f+=(n-this._wTitle-this._wSub)/2;break;case K.RIGHT:f=g-_-this._wSub}l();break;case Is.RIGHT:f+=a-this._wSub,g=f-_-this._wTitle,l();break;case Is.TOP:u(),d=m+this._hSub+_;break;default:u(),m=d+this._hTitle+_}break;default:switch(r.position){case Is.LEFT:switch(g+=(n-this._wTitle)/2,r.align){case K.LEFT:break;case K.CENTER:f+=(g-f-this._wSub)/2;break;case K.RIGHT:f=g-_-this._wSub}l();break;case Is.RIGHT:switch(g+=(n-this._wTitle)/2,r.align){case K.LEFT:f=g+this._wTitle+_;break;case K.CENTER:f=g+this._wTitle+_,f+=(a-f-this._wSub)/2;break;case K.RIGHT:f+=a-_-this._wSub}l();break;case Is.TOP:u(),d=m+this._hSub+_;break;default:u(),m=d+this._hTitle+_}}e.resizeByMeasured().layout().translate(g,d),s.resizeByMeasured().layout().translate(f,m)}else if(n>0||a>0){const t=n?i:r,l=n?e:s,c=n||a,u=n?this._wTitle:this._wSub;let _=n?h:o;switch(l.resizeByMeasured().layout(),t.align){case K.LEFT:break;case K.RIGHT:_+=c-u;break;default:_+=(c-u)/2}l.translate(_,0)}}}class oo extends In{_doInitChildren(t){this.add(this._legendView=new Uh(t))}_doMeasure(t,e,s,i,r){const n=e.legend,a=this._legendView.measure(t,n,s,i,r),h=this._pos=n.getLocatiion();return h===hs.LEFT||h===hs.RIGHT?a.width+=this._legendView._gap:a.height+=this._legendView._gap,a}_doLayout(){const t=this._legendView,e=t._gap;let s=this.width,i=this.height,r=0,n=0;switch(this._pos){case hs.LEFT:s-=e;break;case hs.RIGHT:s-=e,r+=e;break;case hs.TOP:i-=e;break;default:n+=e,i-=e}t.resize(s,i).translate(r,n),t.layout()}}class lo extends In{constructor(t,e){super(t),this.dir=e,this.views=[],this.visibles=[],this._gap=0}prepare(t,e,s,i){const r=this.views;let n=r.length;for(;r.length<e.length;){const s=new Yn(t);e[n++].visible&&this.add(s),r.push(s)}for(;r.length>e.length;){const t=r.pop();t.parent&&t.remove()}if(r.forEach(((r,n)=>{r.model=e[n],r.prepareGuides(t,NaN,NaN,s,i)})),this.setVis(r.filter((t=>t.model.visible)).length>0)){const t=r[0].model;this.isX=t._isX,this.isHorz=t._isHorz,this._gap=t.chart.getAxesGap()}}checkHeights(t,e,s){return this.views.length>0?this.$_checkHeights(this.views,t,e,s):0}$_checkHeights(t,e,s,i){let r=0;return t&&(t.forEach((t=>{r+=t.checkHeight(e,s,i)})),r+=(this.views.length-1)*this._gap),r}checkWidths(t,e,s){return this.views.length>0?this.$_checkWidths(this.views,t,e,s):0}$_checkWidths(t,e,s,i){let r=0;return t&&(t.forEach((t=>{r+=t.checkWidth(e,s,i)})),r+=(this.views.length-1)*this._gap),r}getScrollView(t){var e;for(const s of this.views)if(null===(e=s._scrollView)||void 0===e?void 0:e.contains(t))return s._scrollView}_doMeasure(t,e,s,i,r){this._inverted;let n=0,a=0;return[this.views].forEach((e=>{if(e){const h=(this.isX,s),o=(this.isX,i);let l=0,c=0;e.forEach((e=>{if(e.visible){const s=e.measure(t,e.model,h,o,r);e.setAttr("xy",e.model._isX?"x":"y"),l+=s.width,c+=s.height}})),this.isHorz?c+=(e.length-1)*this._gap:l+=(e.length-1)*this._gap,n=Math.max(n,l),a=Math.max(a,c)}})),Mn.create(n,a)}_doLayout(t){let e=this.width,s=this.height,i=0,r=0;t=+t||0,[this.views].forEach((n=>{if(n){let a=0;n.forEach((t=>{t.visible&&(this.isHorz?t.resize(e,t.mh):t.resize(t.mw,s),t.layout(),this.isHorz?(t.translate(i,this.dir===J.TOP?s-a-t.mh:a),a+=t.mh+this._gap):(t.translate(this.dir===J.RIGHT?a:e-a-t.mw,r),a+=t.mw+this._gap))})),this.isHorz?i+=e+t:r+=s+t}}))}}class co extends Dn{constructor(t){super(t,"rct-credits"),this.add(this._textView=new ne(t)),this._textView.anchor=se.START}clicked(t){this.model.url&&window.open(this.model.url,"new")}_doMeasure(t,e,s,i,r){return this._textView.text=e.text,this.setCursor(e.url?"pointer":""),this._textView.getBBounds()}}class uo extends Vt{constructor(t){super(t,"rct-chart"),this._inverted=!1,this._axisSectionMap={},this._annotationViews=[],this._annotationMap=new Map,this.add(this._annotationContainer=new Vt(t,"rct-annotations")),this.add(this._plotContainer=new Vt(t,"rct-plot-container")),this._plotContainer.add(this._currBody=this._bodyView=new Dh(t,this));for(const e in J){const s=new lo(t,J[e]);this._plotContainer.add(s),this._axisSectionMap[J[e]]=s}this.add(this._paneContainer=new Qh(t,this)),this.add(this._titleSectionView=new ho(t)),this.add(this._legendSectionView=new oo(t)),this.add(this._frontAnnotationContainer=new Vt(t,"rct-front-annotations")),this.add(this._creditView=new co(t)),this.add(this._navigatorView=new Ih(t)),this.add(this._historyView=new Yh(t)),this.add(this._tooltipView=new ao(t))}titleView(){return this._titleSectionView.titleView}subtitleView(){return this._titleSectionView.subtitleView}bodyView(){return this._bodyView}measure(t,e,s,i,r){e&&e.prepareRender();const n=this._model=e,a=n.isPolar(),h=n.options.credits,o=n.legend,l=n.seriesNavigator;let c,u=s,_=i;if(this._inverted=n.isInverted(),n.isSplitted()?(this._plotContainer.setVis(!1),this._paneContainer.setVis(!0),this.$_preparePanes(t,n.split)):(this._plotContainer.setVis(!0),this._paneContainer.setVis(!1),this.$_prepareBody(t,a)),this._creditView.setVis(h.visible)&&(c=this._creditView.measure(t,h,u,_,r),h.isFloating()||(_-=c.height+(+h.offsetY||0)+(+h.gap||0))),c=this._titleSectionView.measure(t,n,u,_,r),_-=c.height,this._legendSectionView.setVis(o.isVisible()))switch(c=this._legendSectionView.measure(t,n,u,_,r),o.getLocatiion()){case hs.TOP:case hs.BOTTOM:_-=c.height;break;case hs.RIGHT:case hs.LEFT:u-=c.width}this._navigatorView.setVis(l.isVisible()),this._paneContainer.visible?this._paneContainer.measure(t,n.split,n.xPaneAxes,n.yPaneAxes,u,_,1):a?this.$_measurePolar(t,n,u,_,1):this.$_measurePlot(t,n,u,_,1),this._navigatorView.visible&&(n.seriesNavigator._vertical?_=this._bodyView.mh:u=this._bodyView.mw,this._navigatorView.measure(t,l,u,_,r)),this.$_prepareAnnotations(t,e.getAnnotations()),this._annotationViews.forEach(((e,n)=>{e.measure(t,this._annotations[n],s,i,r)}))}layout(){const t=this.width,e=this.height;let s=t,i=e;const r=this._model,n=r.isPolar(),a=r.legend,h=r.options.credits,o=this._creditView,l=+h.offsetY||0,c=+h.gap||0;let u=0,_=0,d=0,g=0;o.visible&&(o.resizeByMeasured(),h.isFloating()||(h.verticalAlign===Q.TOP?i-=u=o.height+l+c:i-=_=o.height+l+c));const p=this._titleSectionView;let m=0;const f=g+u;p.visible&&(p.resizeByMeasured(),i-=m=p.height),g=e-_;const w=this._navigatorView;let x=0;w.visible&&(w.model._vertical||(w.resize(w.mw,w.mh-w.model.gap-w.model.gapFar),i-=x=w.mh));const y=this._legendSectionView;let b,v,S=0,V=0;if(y.visible)switch(y.resizeByMeasured().layout(),S=y.height,V=y.width,a.getLocatiion()){case hs.TOP:b=m+u,i-=S;break;case hs.BOTTOM:i-=S,b=g-S,g-=S;break;case hs.RIGHT:s-=V,v=t-V;break;case hs.LEFT:s-=V,d+=V,v=0}w.visible&&(g-=x,w.layout().translateY(g+w.model.gap));let P,A=0,C=0,k=0,E=0;if(this._paneContainer.visible)this._paneContainer.resize(s,i).translate(d,f+m),this._paneContainer.layout(),k=i,E=s,P=this._paneContainer.getRect();else{const t=this._axisSectionMap,e=t[J.CENTER],r=t[J.MIDDLE];let a;n||(e&&e.visible&&(A=e.mw),r&&r.visible&&(C=r.mh),[J.LEFT,J.RIGHT].forEach((e=>{(a=t[e])&&a.visible&&(s-=a.mw)})),[J.TOP,J.BOTTOM].forEach((e=>{(a=t[e])&&a.visible&&(i-=a.mh)})),(a=t[J.LEFT])&&a.visible&&(a.resize(a.mw,i),a.layout(C),d+=a.mw),(a=t[J.RIGHT])&&a.visible&&(a.resize(a.mw,i),a.layout(C)),A>0&&(e.resize(a.mw,i),e.layout()),(a=t[J.BOTTOM])&&a.visible&&(a.resize(s,a.mh),a.layout(A),g-=a.mh),(a=t[J.TOP])&&a.visible&&(a.resize(s,a.mh),a.layout(A)),C>0&&(r.resize(s,a.mh),r.layout())),w.visible&&w.layout().translateX(d);const h=this._org=Wh.create(d,g);this._plotWidth=s,this._plotHeight=i,n||((a=t[J.LEFT])&&a.visible&&a.translate(h.x-a.mw,h.y-a.height),(a=t[J.RIGHT])&&a.visible&&a.translate(h.x+s,h.y-a.height),A>0&&e.translate(h.x+(s-A)/2,h.y-e.height),(a=t[J.BOTTOM])&&a.visible&&a.translate(h.x,h.y),(a=t[J.TOP])&&a.visible&&a.translate(h.x,h.y-i-a.height),C>0&&r.translate(h.x,h.y-(i-C)/2-C)),k=this._plotHeight-C,E=this._plotWidth-A,d=h.x,g=h.y-this._plotHeight,this._currBody.resize(E,k),this._currBody.layout().translate(d,g),P=this._currBody.getRect(),this._currBody._seriesViews.forEach((t=>{if(t.needDecoreateLegend()){const e=this._legendSectionView._legendView.legendOfSeries(t.model);e&&t.decoreateLegend(e)}}))}if(o.visible){const s=+h.offsetX||0,i=l;let r,n;switch(o.layout(),h.verticalAlign){case Q.TOP:break;case Q.MIDDLE:n=(e-o.height)/2+i;break;default:n=e-_+c}switch(h.align){case K.LEFT:r=s;break;case K.CENTER:r=(t-o.width)/2+s;break;default:r=t-o.width-s}o.translate(r,n)}if(E+=A,p.visible&&p.layout({xPlot:d,wPlot:E,wChart:t}).translate(0,f),y.visible){if(a.location===hs.BODY||a.location===hs.PLOT){let t=+a.offsetX||0;switch(a.align){case K.RIGHT:d+=E-V-t;break;case K.CENTER:d+=(E-V)/2+t;break;default:d+=t}switch(t=+a.offsetY||0,a.verticalAlign){case Q.BOTTOM:g+=k-S-t;break;case Q.MIDDLE:g+=(k-S)/2+t;break;default:g+=t}}else if(isNaN(b)){const t=+a.offsetY||0;if(d=v,a.alignBase===tt.CHART){switch(a.verticalAlign){case Q.TOP:g=t;break;case Q.BOTTOM:g=e-S-t;break;default:g=(e-S)/2+t}g+S>e&&(g=(e-S)/2)}else switch(a.verticalAlign){case Q.TOP:g+=t;break;case Q.BOTTOM:g=g+i-S-t;break;default:g=g+(i-S)/2+t}g+S>e&&(g=(e-S)/2),g<0&&(g=0)}else{const e=+a.offsetX||0;if(g=b,a.alignBase===tt.CHART)switch(a.align){case K.LEFT:d=e;break;case K.RIGHT:d=t-V-e;break;default:d=(t-V)/2+e}else switch(a.align){case K.LEFT:d+=e;break;case K.RIGHT:d=d+s-V-e;break;default:d+=(s-V)/2+e}d+V>t&&(d=(t-V)/2),d<0&&(d=0)}y.translate(d,g)}this.$_layoutAnnotations(this._inverted,t,e,P),this._tooltipView.close(!0,!1)}showTooltip(t,e,s){const{x:i,y:r}=e.getTooltipPos();this._tooltipView.show(t,e,i+s.tx,r+s.ty,!0)}hideTooltip(){this._tooltipView.close(!1,!0)}legendByDom(t){return this._legendSectionView._legendView.legendByDom(t)}seriesByDom(t){return this._paneContainer.visible?this._paneContainer.seriesByDom(t):this._currBody.seriesByDom(t)}findSeriesView(t){return this._currBody.findSeries(t)}creditByDom(t){return this._creditView.dom.contains(t)?this._creditView:null}clipSeries(t,e,s,i,r,n,a){function h(t){o?l.setBounds(0,-r,n,r):l.setBounds(0,0,r,n),t.setClip(l)}const o=this._model.inverted&&a,l=this._seriesClip;t&&h(t),e&&h(e)}bodyOf(t){return this._model.isSplitted()?this._paneContainer.bodyViewOf(t):this._currBody}pointerMoved(t,e,s){const i=this._model&&this.bodyOf(s);if(i){const r=i.controlToElement(t,e),n=i.pointerMoved(r,s);for(const t in this._axisSectionMap)this._axisSectionMap[t].views.forEach((t=>{const e=t.model.crosshair,s=t.model._isHorz?i.width:i.height,a=t.model._isHorz?r.x:r.y,h=n&&e.visible&&e.flag.visible&&!e.isBar()&&e.getFlag(s,a);h?(t.showCrosshair(a,h),t.model.crosshair.moved(a,h)):t.hideCrosshiar()}))}}getAxis(t){for(const e in this._axisSectionMap){const s=this._axisSectionMap[e].views.find((e=>e.model===t));if(s)return s}}getButton(t){return this._currBody.getButton(t)}buttonClicked(t){this._currBody.buttonClicked(t)}getScrollView(t){for(const e in J){const s=this._axisSectionMap[J[e]].getScrollView(t);if(s)return s}}updateAnnotation(t){let e=this._annotationViews.find((e=>e.model===t));e?e.update(this.width,this.height):this._model.isSplitted()||(e=this._currBody._annotationViews.find((e=>e.model===t)),e&&e.update(this._currBody.width,this._currBody.height))}_doAttached(t){this._seriesClip=this.control.clipBounds()}$_preparePanes(t,e){this._paneContainer.prepare(t,e)}$_prepareBody(t,e){var s,i;e?(this._polarView||(this._polarView=new io(t,this),this._plotContainer.insertChild(this._polarView,this._bodyView)),this._currBody=this._polarView,null===(s=this._bodyView)||void 0===s||s.setVis(!1),this._polarView.setVis(!0)):(null===(i=this._polarView)||void 0===i||i.setVis(!1),this._bodyView.setVis(!0),this._currBody=this._bodyView),this._currBody.prepareRender(t,this._model)}$_prepareAxes(t,e){const s=this._currBody._guideContainer,i=this._currBody._frontGuideContainer,r=!e.isPolar()&&e.needAxes(),n=this._axisSectionMap;for(const a in n){const h=n[a];r?h.prepare(t,e.getAxes(a,!1),s,i):h.visible=!1}}$_measurePlot(t,e,s,i,r){const n=this._axisSectionMap;if(this._navigatorView.visible){const t=e.seriesNavigator;t._vertical?s-=t.thickness+t.gap+t.gapFar:i-=t.thickness+t.gap+t.gapFar}const a=s,h=i;let o=0,l=0;this._bodyView.prepareGuideContainers(),this.$_prepareAxes(t,e),e.layoutAxes(s,i,this._inverted,r),s-=n[J.LEFT].checkWidths(t,s,i),s-=n[J.RIGHT].checkWidths(t,s,i),i-=n[J.BOTTOM].checkHeights(t,s,i),i-=n[J.TOP].checkHeights(t,s,i),this._inverted?s-=o=n[J.CENTER].checkWidths(t,s,i):i-=l=n[J.MIDDLE].checkHeights(t,s,i),s-=o,i-=l,e.layoutAxes(s,i,this._inverted,r);for(const a in n){const h=n[a];h.visible&&h.measure(t,e,s,i,r)}s=a,i=h,o=0,l=0;for(const t in n){const e=n[t];e.visible&&(t===J.LEFT||t===J.RIGHT?s-=e.mw:t!==J.BOTTOM&&t!==J.TOP||(i-=e.mh),this._inverted?t===J.CENTER&&(s-=o=e.mw):t===J.MIDDLE&&(i-=l=e.mh))}e.layoutAxes(s,i,this._inverted,r);for(const a in n){const h=n[a];h.visible&&h.measure(t,e,s,i,r)}s=a,i=h,o=0,l=0;for(const t in n){const e=n[t];e.visible&&(t===J.LEFT||t===J.RIGHT?s-=e.mw:t!==J.BOTTOM&&t!==J.TOP||(i-=e.mh),this._inverted?t===J.CENTER&&(s-=o=e.mw):t===J.MIDDLE&&(i-=l=e.mh))}e.axesLayouted(s,i,this._inverted),this._bodyView.measure(t,e.body,s,i,r)}$_measurePolar(t,e,s,i,r){const n=e.body.calcRadius(s,i),a=2*Math.PI*n,h=n;this._polarView.prepareGuideContainers(),this.$_prepareAxes(t,e),e.layoutAxes(a,h,!1,r),e.axesLayouted(a,h,!1),this._polarView.measure(t,e.body,s,i,r)}$_prepareAnnotations(t,e){const s=this._annotationContainer,i=this._frontAnnotationContainer,r=this._annotationMap,n=this._annotationViews;for(const t of r.keys())e.indexOf(t)<0&&r.delete(t);n.forEach((t=>t.remove())),n.length=0,(this._annotations=e).forEach((e=>{const a=r.get(e)||Ah(t,e);(e.front?i:s).add(a),r.set(e,a),n.push(a)}))}$_layoutAnnotations(t,e,s,i){const r=this.control._padding;let n,a,h,o;this._annotationViews.forEach((i=>{if(i.model.scope===fe.CONTAINER)n=-r.left,a=-r.top,h=e+r.left+r.right,o=s+r.top+r.bottom;else n=a=0,h=e,o=s;i.resizeByMeasured(),i.layout().translatep(i.model.getPosition(t,n,a,h,o,i.width,i.height))}))}}class _o extends vt{constructor(t,e){super(t,e),this.addElement(this._chartView=new uo(t)),this.setPointerHandler(new jh(this))}onModelChanged(t,e,s){e instanceof Ce&&s===ge.UPDATED?this._chartView.updateAnnotation(e):this.invalidateLayout()}onVisibleChanged(t,e){this.invalidateLayout()}onPointVisibleChanged(t,e,s){this.invalidateLayout()}get model(){return this._model}set model(t){t!==this._model&&(this._model&&(this._model.assets.unregister(this.doc(),this),this._model.removeListener(this)),this._model=t,this._model&&(this._model.addListener(this),this._model.assets.register(this.doc(),this)),this.invalidateLayout())}chartView(){return this._chartView}load(t,e=!1){this.loaded=!e,this.clearAssetDefs(),this.model=new Ln(t)}refresh(t){t?this._render():this.invalidateLayout()}scroll(t,e){var s;null===(s=this._chartView.getAxis(t))||void 0===s||s.scroll(e)}_doRender(t){const e=this._model,s=this._chartView;this.clearTemporaryDefs(),e&&(this.setData("theme",e.options.theme,!0),this.setData("palette",e.options.palette)),s.measure(this.doc(),e,t.width,t.height,1),s.setRect(t),s.layout()}_doRenderBackground(t,e,i,r){if(this._model){const i=this._model.options.style;if(s(i))for(const s in i)s.startsWith("padding")?e.setStyle(s,i[s]):t.style[s]=i[s]}}}class go{constructor(t){this._doInit(this.$_p=t)}_createObjects(...t){for(const e of t)this["_"+e]=new go(this.$_p[e])}_doInit(t){}get(t){const e=this.$_p.getProp(t);if(e instanceof ge){const e=this[t];return e instanceof go?e:void 0}return e}set(t,e,s=!0){return this.$_p.setProp(t,e,s),this}setAll(t,e=!0){return this.$_p.setProps(t,e),this}toggle(t,e=!0){return this.$_p.setProp(t,!this.$_p.getProp(t),e),this}_changed(){this.$_p.chart._modelChanged(this.$_p)}}class po extends go{_doInit(t){this._createObjects("title","line","grid","tick","label","crosshair")}get xy(){return this.$_p._isX?"x":"y"}get isX(){return this.$_p._isX}get title(){return this._title}get line(){return this._line}get grid(){return this._grid}get tick(){return this._tick}get label(){return this._label}get crosshair(){return this._crosshair}get scrollBar(){return this._scrollBar}get isEmpty(){return this.$_p.isEmpty()}resetZoom(){this.$_p.resetZoom()}zoom(t,e){this.$_p.zoom(t,e)}}class mo extends po{}class fo extends po{}class wo extends fo{}class xo extends fo{}class yo extends fo{}class bo extends go{get name(){return this.$_p.name}}class vo extends bo{_doInit(t){this._createObjects("pointLabel","trendline","tooltip")}get pointLabel(){return this._pointLabel}get trendLine(){return this._trendLine}get tooltip(){return this._tooltip}getValueAt(t){const e=this.$_p.getPointAt(t);return e?e.yValue:C}updateData(t){this.$_p.updateData(t)}}class So extends bo{}class Vo extends vo{}class Po extends Vo{}class Ao extends vo{}class Co extends vo{}class ko extends vo{}class Eo extends vo{}class Lo extends vo{}class To extends vo{}class Mo extends vo{}class No extends vo{}class Ro extends vo{}class Oo extends vo{}class Do extends vo{}class Bo extends vo{}class Io extends vo{}class $o extends vo{}class Fo extends vo{}class zo extends vo{}class Ho extends vo{}class Go extends vo{}class jo extends vo{}class Wo extends vo{}class Yo extends bo{}class Xo extends Yo{}class Uo extends Xo{updateValue(t,e=!0){this.$_p.updateValue(t,e)}}class Zo extends go{_doInit(t){this._createObjects("line","tick","tickLabel")}get line(){return this._line}get tick(){return this._tick}get tickLabel(){return this._tickLabel}}class qo extends Uo{_doInit(t){this._createObjects("label")}get label(){return this._label}}class Ko extends go{_doInit(t){this._createObjects("rangeLabel","thickLabel")}get rangeLabel(){return this._rangeLabel}get tickLabel(){return this._tickLabel}}class Qo extends qo{_doInit(t){this._createObjects("scale","rim","valueRim","marker","hand","pin"),this._band=new Ko(t.band)}get band(){return this._band}get scale(){return this._scale}get rim(){return this._rim}get valueRim(){return this._valueRim}get marker(){return this._marker}get hand(){return this._hand}get pin(){return this._pin}}class Jo extends Uo{_doInit(t){this._createObjects("label"),this._scale=new Zo(t.scale)}get label(){return this._label}get scale(){return this._scale}}class tl extends Jo{}class el extends Jo{}class sl extends Xo{}class il extends Yo{}class rl extends go{}class nl extends go{}class al extends go{}class hl extends go{}class ol extends bo{update(){this.$_p.update()}}const ll={category:mo,linear:wo,time:xo,log:yo},cl={area:Ao,arearange:Co,bar:ko,barrange:Eo,bellcurve:Lo,boxplot:To,bubble:Mo,candlestick:Ro,dumbbell:Oo,equalizer:Do,errorbar:class extends vo{},funnel:Bo,heatmap:Io,histogram:Fo,line:Po,lollipop:zo,ohlc:class extends vo{},pareto:Ho,pie:Go,scatter:No,treemap:$o,vector:jo,waterfall:Wo},ul={circle:Qo,linear:tl,bullet:el,clock:sl},_l={text:class extends ol{},image:class extends ol{},shape:class extends ol{}};function dl(t,e){if(e){let s=t.get(e);return s||(e instanceof Ns?s=new(cl[e._type()])(e):e instanceof mi?s=new(ul[e._type()])(e):e instanceof qe?s=new(ll[e._type()])(e):e instanceof Ce?s=new(_l[e._type()])(e):e instanceof ti?s=new rl(e):e instanceof ei?s=new nl(e):e instanceof us?s=new al(e):e instanceof rs&&(s=new hl(e)),t.set(e,s)),s}}class gl{constructor(t){this._objects=new Map,this._proxy={getChartObject:t=>dl(this._objects,t)},this.$_p=t}load(t,e){this.$_p.load(t,e),this.$_p.model._proxy=this._proxy,this._objects.clear()}render(t=!1){this.$_p.refresh(t)}get xAxis(){return dl(this._objects,this.$_p.model.xAxis)}getXAxis(t){return dl(this._objects,this.$_p.model.getXAxis(t))}get yAxis(){return dl(this._objects,this.$_p.model.yAxis)}getYAxis(t){return dl(this._objects,this.$_p.model.getYAxis(t))}get series(){return dl(this._objects,this.$_p.model.firstSeries)}getSeries(t){return dl(this._objects,this.$_p.model.seriesByName(t))}get gauge(){return dl(this._objects,this.$_p.model.firstGauge)}getGauge(t){return dl(this._objects,this.$_p.model.gaugeByName(t))}getAnnotation(t){return dl(this._objects,this.$_p.model.annotationByName(t))}get title(){return dl(this._objects,this.$_p.model.title)}get subtitle(){return dl(this._objects,this.$_p.model.subtitle)}get legend(){return dl(this._objects,this.$_p.model.legend)}get body(){return dl(this._objects,this.$_p.model.legend)}get type(){return this.$_p.model.type}get gaugeType(){return this.$_p.model.gaugeType}get inverted(){return this.$_p.model.inverted}get polar(){return this.$_p.model.polar}scroll(t,e){this.$_p.scroll(t.$_p,e)}setParam(t,e,s){var i;null===(i=this.$_p.model)||void 0===i||i.setParam(t,e,s)}}class pl{static getVersion(){return"0.9.26"}static setDebugging(t){St.DEBUGGING=y._debugging=t}static setLogging(t){gt.LOGGING=t}static setAnimatable(t){vt._animatable=t}static createChart(t,e,s,i=!0){const r=new gl(new _o(t,e));return r.load(s,!0),r}}const ml=pl.getVersion,fl=pl.setDebugging,wl=pl.setLogging,xl=pl.setAnimatable,yl=pl.createChart;t.RcAreaRangeSeries=Co,t.RcAreaSeries=Ao,t.RcAreaSeriesGroup=class extends So{},t.RcBarRangeSeries=Eo,t.RcBarSeries=ko,t.RcBarSeriesGroup=class extends So{},t.RcBellCurveSeries=Lo,t.RcBody=hl,t.RcBoxPlotSeries=To,t.RcBubbleSeries=Mo,t.RcBulletGauge=el,t.RcBulletGaugeGroup=class extends il{},t.RcBumpSeriesGroup=class extends So{},t.RcCandlestickSeries=Ro,t.RcCategoryAxis=mo,t.RcChartAxis=po,t.RcChartControl=gl,t.RcChartGauge=Xo,t.RcChartGaugeBase=Yo,t.RcChartObject=go,t.RcChartSeries=vo,t.RcCircleGauge=Qo,t.RcCircleGaugeGroup=class extends il{},t.RcCircularGauge=qo,t.RcClockGauge=sl,t.RcContinuousAxis=fo,t.RcDumbbellSeries=Oo,t.RcEqualizerSeries=Do,t.RcFunnelSeries=Bo,t.RcGaugeGroup=il,t.RcGaugeRangeBand=Ko,t.RcGaugeScale=Zo,t.RcHeatmapSeries=Io,t.RcHistogramSeries=Fo,t.RcLegend=al,t.RcLineSeries=Po,t.RcLineSeriesGroup=class extends So{},t.RcLinearAxis=wo,t.RcLinearGauge=tl,t.RcLinearGaugeGroup=class extends il{},t.RcLinerGaugeBase=Jo,t.RcLogAxis=yo,t.RcLollipopSeries=zo,t.RcParetoSeries=Ho,t.RcPieSeries=Go,t.RcPieSeriesGroup=class extends So{},t.RcPointLabel=class extends po{},t.RcScatterSeries=No,t.RcSeriesGroup=So,t.RcSubtitle=nl,t.RcTimeAxis=xo,t.RcTitle=rl,t.RcTreemapSeries=$o,t.RcValueGauge=Uo,t.RcVectorSeries=jo,t.RcWaterfallSeries=Wo,t.createChart=yl,t.getVersion=ml,t.setAnimatable=xl,t.setDebugging=fl,t.setLogging=wl}));
