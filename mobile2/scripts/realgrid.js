/** 
 * RealGridJS v2.0.1.0001
 * Copyright (C) 2013-2020 WooriTech Inc.
 * All Rights Reserved.
 */
var RealGrid=function(){"use strict";var le="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}var H=e(function(t,e){var i,o,r,n,s,a,l,u,h,c;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.ValueType||(e.ValueType={})).TEXT="text",i.NUMBER="number",i.BOOLEAN="boolean",i.DATETIME="datetime",i.OBJECT="object",i.CHAR="char",i.UNUM="unum",i.INT="int",i.UINT="uint",i.DATE="date",(o=e.SortDirection||(e.SortDirection={})).ASCENDING="ascending",o.DESCENDING="descending",o.NONE="none",(r=e.SortCase||(e.SortCase={})).SENSITIVE="sensitive",r.INSENSITIVE="insensitive",(n=e.PagingSource||(e.PagingSource={})).ROWS="rows",n.ITEMS="items",(s=e.SortMode||(e.SortMode={})).AUTO="auto",s.EXPLICIT="explicit",(a=e.FilterMode||(e.FilterMode={})).AUTO="auto",a.EXPLICIT="explicit",(u=l=e.RowGroupAdornments||(e.RowGroupAdornments={})).NONE="none",u.HEADER="header",u.FOOTER="footer",u.SUMMARY="summary",u.BOTH="both",e.isHeaderAdornment=function(t){return t==l.BOTH||t==l.HEADER},e.isFooterAdornment=function(t){return t==l.BOTH||t==l.FOOTER},e.isFooterOnlyAdornment=function(t){return t==l.FOOTER||t==l.SUMMARY},(h=e.ValidationMode||(e.ValidationMode={})).ALWAYS="always",h.UPDATE="update",h.INSERT="insert",(c=e.ValidationLevel||(e.ValidationLevel={})).ERROR="error",c.WARNING="warning",c.INFO="info",c.IGNORE="ignore";var p,d,_,f,y,m,g,v,b,C,w,x,I,E,S,O,R,D,P,T={error:1,warning:2,info:3,ignore:4};e.ValidationLevel_compare=function(t,e){return T[t]-T[e]},(p=e.SummaryMode||(e.SummaryMode={})).NONE="none",p.AGGREGATE="aggregate",p.STATISTICAL="statistical",(d=e.ColumnHeaderItemLocation||(e.ColumnHeaderItemLocation={})).NONE="none",d.LEFT_EDGE="leftEdge",d.RIGHT_EDGE="rightEdge",d.TOP_EDGE="topEdge",d.BOTTOM_EDGE="bottomEdge",d.LEFT="left",d.RIGHT="right",d.TOP="top",d.BOTTOM="bottom",d.CENTER="center",(_=e.ClickBehavior||(e.ClickBehavior={})).NONE="none",_.SORT="sort",(f=e.BlankState||(e.BlankState={})).NONE="none",f.HEAD="head",f.BODY="body",f.TAIL="tail",(y=e.GridFitStyle||(e.GridFitStyle={})).NONE="none",y.EVEN="even",y.EVEN_FILL="evenFill",y.FILL="fill",(m=e.Keys||(e.Keys={}))[m.BACK=8]="BACK",m[m.TAB=9]="TAB",m[m.ENTER=13]="ENTER",m[m.ESC=27]="ESC",m[m.ESCAPE=27]="ESCAPE",m[m.SPACE=32]="SPACE",m[m.PAGEUP=33]="PAGEUP",m[m.PAGEDOWN=34]="PAGEDOWN",m[m.END=35]="END",m[m.HOME=36]="HOME",m[m.LEFT=37]="LEFT",m[m.UP=38]="UP",m[m.RIGHT=39]="RIGHT",m[m.DOWN=40]="DOWN",m[m.INSERT=45]="INSERT",m[m.DELETE=46]="DELETE",m[m.F2=113]="F2",m[m.F3=114]="F3",m[m.A=65]="A",m[m.D=68]="D",m[m.I=73]="I",m[m.T=84]="T",m[m.U=85]="U",m[m.V=86]="V",m[m.W=87]="W",m[m.X=88]="X",m[m.Y=89]="Y",m[m.Z=90]="Z",(g=e.Cursor||(e.Cursor={})).DEFAULT="default",g.AUTO="auto",g.POINTER="pointer",g.WAIT="wait",g.MOVE="move",g.COL_RESIZE="col-resize",g.ROW_RESIZE="row-resize",g.CROSSHAIR="crosshair",g.HORZ_RESIZE="ew-resize",g.VERT_RESIZE="ns-resize",g.NESW_RESIZE="nesw-resize",g.NWSE_RESIZE="nwse-resize",g.NO_DROP="no-drop",g.NOT_ALLOWED="not-allowed",(v=e.TableCellType||(e.TableCellType={})).DATA="data",v.HEADER="header",v.FOOTER="footer",v.INDICATOR="indicator",v.STATE="state",v.CHECK="check",v.HEAD="head",v.FOOT="foot",v.SUM="sum",v.FIXED_BAR="fixedbar",(b=e.RowMaskType||(e.RowMaskType={})).NONE="none",b.ROW="row",b.DATA="data",b.FILL="fill",b.CELL="cell",(C=e.TextInputCase||(e.TextInputCase={})).NORMAL="normal",C.UPPER="upper",C.LOWER="lower",C.DEFAULT="default",(w=e.Alignment||(e.Alignment={})).NEAR="near",w.CENTER="center",w.FAR="far",(x=e.DefaultShowDate||(e.DefaultShowDate={})).NORMAL="normal",x.TODAY="today",x.TODAY_WHEN_NULL="todayWhenNull",(I=e.SortStyle||(e.SortStyle={})).NONE="none",I.EXCLUSIVE="exclusive",I.INCLUSIVE="inclusive",I.REVERSE="reverse",(E=e.MenuItemType||(e.MenuItemType={})).NORMAL="normal",E.CHECK="check",E.RADIO="radio",E.SEPARATOR="separator",(S=e.HandleVisibility||(e.HandleVisibility={})).VISIBLE="visible",S.HOVERED="hovered",S.ALWAYS="always",S.HIDDEN="hidden",(O=e.CellButton||(e.CellButton={})).NONE="none",O.ACTION="action",O.POPUP="popup",O.IMAGE="image",(R=e.ButtonVisibility||(e.ButtonVisibility={})).ALWAYS="always",R.DEFAULT="default",R.VISIBLE="visible",R.HIDDEN="hidden",R.ROWFOCUSED="rowfocused",(D=e.IconPosition||(e.IconPosition={})).LEFT="left",D.RIGHT="right",D.LEFT_EDGE="leftEdge",D.RIGHT_EDGE="rightEdge",D.TOP="top",D.BOTTOM="bottom",D.TOP_EDGE="topEdge",D.BOTTOM_EDGE="bottomEdge",D.CENTER="center",(P=e.RefreshMode||(e.RefreshMode={})).ALL="all",P.VISIBLE_ONLY="visibleOnly"});t(H);H.ValueType,H.SortDirection,H.SortCase,H.PagingSource,H.SortMode,H.FilterMode,H.RowGroupAdornments,H.isHeaderAdornment,H.isFooterAdornment,H.isFooterOnlyAdornment,H.ValidationMode,H.ValidationLevel,H.ValidationLevel_compare,H.SummaryMode,H.ColumnHeaderItemLocation,H.ClickBehavior,H.BlankState,H.GridFitStyle,H.Keys,H.Cursor,H.TableCellType,H.RowMaskType,H.TextInputCase,H.Alignment,H.DefaultShowDate,H.SortStyle,H.MenuItemType,H.HandleVisibility,H.CellButton,H.ButtonVisibility,H.IconPosition,H.RefreshMode;var w=e(function(t,e){var i,o;Object.defineProperty(e,"__esModule",{value:!0}),(o=i=e.RowState||(e.RowState={})).NONE="none",o.CREATED="created",o.UPDATED="updated",o.DELETED="deleted",o.CREATE_AND_DELETED="createAndDeleted",e.isDeletedState=function(t){return t==i.DELETED||t==i.CREATE_AND_DELETED}});t(w);w.RowState,w.isDeletedState;var R=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(Object.defineProperty(o.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=t,this.parse(t))},enumerable:!0,configurable:!0}),o.prototype.toBool=function(t){if(this._values&&t){var e=this._sensitive?t:t.toLowerCase();if(e in this._values)return this._values[e]}return!1},o.prototype.toBoolEx=function(t){var e=this._sensitive?t:t.toLowerCase();return this._values&&e in this._values?this._values[e]:e?Boolean(e):void 0},o.prototype.toBoolStrict=function(t){if(this._values&&t){var e=this._sensitive?t:t.toLowerCase();if(e in this._values)return this._values[e]}},o.prototype.toText=function(t){return t?this._trueText:this._falseText},o.prototype.parse=function(t){if(t){var e,i,o,r,n=t.split(/[;\:]/),s=!0;for(o=(e=n[0])?e.split(","):null,1<n.length&&(r=(e=n[1])?e.split(","):null),2<n.length&&"0"==(e=n[2].trim())&&(s=!1),this._values={},this._sensitive=s,i=0;i<o.length;i++)e=o[i],this._values[s?e:e.toLowerCase()]=!1;for(i=0;i<r.length;i++)e=r[i],this._values[s?e:e.toLowerCase()]=!0;this._trueText=r&&0<r.length?r[0]:"true",this._falseText=o&&0<o.length?o[0]:"false"}else this._values={},this._values.true=!0,this._values.false=!1,this._trueText="true",this._falseText="false"},o.Default=new o("false,f,0:true,t,1:0"),o);function o(t){this._format="",this.format=t}e.BooleanConverter=i});t(R);R.BooleanConverter;var G=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(Object.defineProperty(o.prototype,"left",{get:function(){return this.x},set:function(t){var e=t-this.x;this.x+=e,this.width-=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"right",{get:function(){return this.x+this.width},set:function(t){var e=t-(this.x+this.width);this.width+=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"top",{get:function(){return this.y},set:function(t){var e=t-this.y;this.y+=e,this.height-=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){var e=t-(this.y+this.height);this.height+=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isEmpty",{get:function(){return 0===this.width||0===this.height},enumerable:!0,configurable:!0}),o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height)},o.prototype.getInner=function(){return new o(0,0,this.width,this.height)},o.prototype.equals=function(t){return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},o.prototype.leftBy=function(t){return this.x+=t,this.width-=t,this},o.prototype.rightBy=function(t){return this.width+=t,this},o.prototype.topBy=function(t){return this.y+=t,this.height-=t,this},o.prototype.bottomBy=function(t){return this.height+=t,this},o.prototype.shrink=function(t,e){return this.width-=t,this.height-=e,this},o.prototype.expand=function(t,e){return this.width+=t,this.height+=e,this},o.prototype.contains=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},o.prototype.setEmpty=function(){return this.width=this.height=0,this},o.prototype.move=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e,this},o.prototype.set=function(t,e,i,o){return this.x=t,this.y=e,this.width=i,this.height=o,this},o.prototype.setWidth=function(t){return this.width=t,this},o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},o.prototype.copyHorz=function(t){return this.x=t.x,this.width=t.width,this},o.prototype.copyVert=function(t){return this.y=t.y,this.height=t.height,this},o.prototype.inflate=function(t,e,i,o){return void 0===t&&(t=0),void 0===e&&(e=void 0),void 0===i&&(i=void 0),void 0===o&&(o=void 0),e=void 0!==e?e:0,i=void 0!==i?i:t,o=void 0!==o?o:e,t&&(this.left=this.x-t),e&&(this.top=this.y-e),i&&(this.right=this.right+i),o&&(this.bottom=this.bottom+o),this},o.prototype.offset=function(t,e){return this.x+=t,this.y+=e,this},o.prototype.round=function(){var t=this.clone();return t.x>>>=0,t.y>>>=0,t.width>>>=0,t.height>>>=0,t},o.prototype.union=function(t){var e=this.clone();return e.left=Math.min(this.x,t.x),e.right=Math.max(this.right,t.right),e.top=Math.min(this.y,t.y),e.bottom=Math.max(this.bottom,t.bottom),e},o.prototype.normalize=function(){return this.width<0&&(this.x-=this.width,this.width*=-1),this.height<0&&(this.y-=this.height,this.height*=-1),this},o.prototype.toString=function(){return"{x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+"}"},o.Temp=new o,o);function o(t,e,i,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=0),this.x=t,this.y=e,this.width=i,this.height=o}e.Rectangle=i});t(G);G.Rectangle;var v=e(function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.LicenseType||(e.LicenseType={})).Developer="developer",i.Evaluation="evaluation",i.Limited="limited",i.Enterprise="enterprise",e.globalRealGridInfo={name:"RealGridJs",version:"2.0.0.2020026",license:"enterprise",vender:null},e.licenseNo=""});t(v);v.LicenseType,v.globalRealGridInfo,v.licenseNo;var U=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i,o=0<=navigator.platform.toUpperCase().indexOf("MAC"),r=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),n=(window.whale,!!window.chrome&&!r),s=void 0!==window.InstallTrigger,a=0<Object.prototype.toString.call(HTMLElement).indexOf("Constructor")||!n&&!r&&0<=navigator.userAgent.indexOf("Safari"),l=a&&("Win32"==navigator.platform||0<=navigator.userAgent.indexOf("Windows")),u=!!document.documentMode,h=0<=navigator.userAgent.toLowerCase().indexOf("edge/"),c=(/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,function(){for(var t=3,e=document.createElement("div"),i=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",i[0];);return 4<t?t:void 0}()),p=void 0!==c&&c<=9,d=void 0!==c&&c<=8,_=-1!==navigator.appVersion.indexOf("MSIE 10"),f=(navigator.appVersion.indexOf("MSIE 9"),(new Date).getTime()),y=void 0,m=(g.stopEvent=function(t,e){void 0===e&&(e=!1),t.preventDefault?(t.preventDefault(),t.stopPropagation()):t.returnValue=!1,e&&t.stopImmediatePropagation()},g.$_getActiveGrid=function(){return i},g.$_setActiveGrid=function(t){i!=t&&t&&t._fireGridActivated(),i=t},g.isArray=function(t){return Array.isArray(t)},g.makeArray=function(t,e){return void 0===e&&(e=!1),null!=t?g.isArray(t)?t:[t]:e?[]:void 0},g.isNumber=function(t){return"number"==typeof t},g.getTimer=function(){return(new Date).getTime()-f},g.isWhiteSpace=function(t){return!t||!t.trim()},g.pad=function(t,e,i){return e=Math.max(e||2,1),i=i||"0",new Array(e-String(t).length+1).join(i)+t},g.pick=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i,o=t.length,r=0;r<o;r++)if(null!=(i=t[r]))return i},g.included=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var o=e.length,r=0;r<o;r++)if(e[r]==t)return!0;return!1},g.compareTextValue=function(t,e,i,o){if(t===e)return!0;var r=String(t),n=null==e?void 0:String(e);return!r&&!n||!(!r||!n)&&(i||(r=r.toLowerCase(),n=n.toLowerCase()),o?0<=n.indexOf(r):r==n)},g.cast=function(t,e){return t instanceof e?t:null},g.irandom=function(t,e){if(void 0!==e){var i=Math.floor(t),o=Math.floor(e);return Math.floor(Math.random()*(o-i)+i)}var r=Math.floor(t);return Math.floor(Math.random()*r)},g.brandom=function(){return.5<Math.random()},g.erandom=function(t){return Object.keys(t)},g.alert=function(t){window.alert(t)},g.toInt=function(t,e){return null!=t?parseInt(t,e||10):0},g.toFloat=function(t){return null!=t?parseFloat(t):0},g.toArray=function(t){return t instanceof Array?t:null!=t?[t]:null},g.hex=function(t,e,i){void 0===e&&(e=2),void 0===i&&(i="0"),e=Math.max(e||2,1);var o=t.toString(16);return i=i||"0",new Array(e-o.length+1).join(i)+o},g.getBounds=function(t){var e=new G.Rectangle;return e.x=t.offsetLeft,e.y=t.offsetTop,e.width=t.offsetWidth,e.height=t.offsetHeight,e},g.toStr=function(t){return"number"==typeof t?isNaN(t)?"":String(t):null!=t?String(t):""},g._included=function(t){for(var e=arguments,i=e.length,o=1;o<i;o++)if(e[o]==t)return!0;return!1},g.setBounds=function(t,e,i,o,r){var n=t.style;n.left=e+"px",n.top=i+"px",n.width=o+"px",n.height=r+"px"},g.getClientRect=function(t){var e=t.getBoundingClientRect();return e.cx=t.offsetLeft,e.cy=t.offsetTop,e},g.getChildIndex=function(t){if(t){var e=t.parentNode;if(e)for(var i=e.childNodes,o=0;o<i.length;o++)if(i[o]===t)return o}return-1},g.clearChildren=function(t){for(var e;e=t.lastChild;)t.removeChild(e)},g.clearElements=function(t){for(var e;e=t.lastChild;)g.clearElements(e),t.removeChild(e)},g.addChild=function(t,e){return!(!t||!e||e.parentNode===t||(t.appendChild(e),0))},g.removeChild=function(t,e){return!(!t||!e||e.parentNode!==t||(t.removeChild(e),0))},g.disableSelection=function(t){var e=t.style;e["-moz-user-select"]="-moz-none",e["-khtml-user-select"]="none",e["-webkit-user-select"]="none",e["-o-user-select"]="none",e["-ms-user-select"]="none",e["user-select"]="none"},g.setMobile=function(t){y=t},g.isMobile=function(){if(null!=y)return!!y;var t,e=!1;return(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))&&(e=!0),e||(t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)),e},g.getBrowserSize=function(t){var e=(t?t.ownerDocument:document).defaultView;return{width:e.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:e.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},g.move=function(t,e,i){t.style.left=e+"px",t.style.top=i+"px"},g.htmlEncode=function(t){return document.createElement("a").appendChild(document.createTextNode(t)).parentNode.innerHTML},g.detach=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},g.getSize=function(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height}},g.getScrolled=function(){var t=document.body,e=document.documentElement;return{sx:window.pageXOffset||e.scrollLeft||t.scrollLeft,sy:window.pageYOffset||e.scrollTop||t.scrollTop}},g.getOffset=function(t){var e=t.getBoundingClientRect(),i=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||i.scrollTop,n=window.pageXOffset||o.scrollLeft||i.scrollLeft,s=o.clientTop||i.clientTop||0,a=o.clientLeft||i.clientLeft||0,l=e.left+n-a,u=e.top+r-s;return{x:Math.round(l),y:Math.round(u)}},g.isAncestorOf=function(t,e){for(var i=e.parentElement;i;){if(i==t)return!0;i=i.parentElement}return!1},g.equalArrays=function(t,e){if(t===e)return!0;if(null==t||null==e)return!1;var i=t.length;if(i!=e.length)return!1;for(var o=0;o<i;++o)if(t[o]!==e[o])return!1;return!0},g.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},g.incMonth=function(t,e){var i=t.getDate();return t.setDate(1),t.setMonth(t.getMonth()+e),t.setDate(Math.min(i,g.month_days[g.isLeapYear(t.getFullYear())?1:0][t.getMonth()])),t},g.minDate=function(t,e){return null!==t?t:null!==e?e:t.getTime()<e.getTime()?t:e},g.maxDate=function(t,e){return null!==t?e:null!==e?t:t.getTime()>e.getTime()?t:e},g.setClassName=function(t,e){e!=t.className&&(t.className=e)},g.addClassName=function(t,e){if(t.classList)t.classList.add(e);else{var i=t.className.split(" ");i.indexOf(e)<0&&i.push(e),t.className=i.join(" ")}},g.removeClassName=function(t,e){if(t.classList)t.classList.remove(e);else{var i,o=t.className.split(" ");0<=(i=o.indexOf(e))&&o.splice(i,1),t.className=o.join(" ")}},g.getBoundingClientRect2=function(t){var e=t.getBoundingClientRect();return{left:e.left,right:e.right,width:e.right-e.left,top:e.top,bottom:e.bottom,height:e.bottom-e.top}},g.isDebugging=function(){return v.globalRealGridInfo.license==v.LicenseType.Developer},g.getDocuemnt=function(t){return t&&t.ownerDocument},g.getWindow=function(t){return t&&t.ownerDocument&&(t.ownerDocument.defaultView||t.ownerDocument.parentWindow)},g.getTextLength=function(t){for(var e=0,i=0,o=0;o=t.charCodeAt(i++);e+=o>>7?2:1);return e},g.getClassName=function(t){if(t&&t.constructor)return t.constructor.name||(e=t.constructor,i=(i=(i=e.toString()).substr("function ".length)).substr(0,i.indexOf("(")));var e,i},g.isIE=u,g.isEdge=h,g.isMac=o,g.ieOld=p,g.isSafari=a,g.isWinSafari=l,g.isChrome=n,g.isFirefox=s,g.isOpera=r,g.ieLeg=d,g.ieTen=_,g.week_days=window.RG_CONST&&window.RG_CONST.WEEKDAYS?window.RG_CONST.WEEKDAYS:["일","월","화","수","목","금","토"],g.month_days=[[31,28,31,30,31,30,31,31,30,31,30,31],[31,29,31,30,31,30,31,31,30,31,30,31]],g.colonreg=/;(?=(?:[^"]*"[^"]*")*(?![^"]*"))/,g.$_INVISIBLE_EDIT_BOUNDS=new G.Rectangle(-1e4,-1e4,100,100),g);function g(){}e.Utils=m});t(U);U.Utils;var r=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(Object.defineProperty(m.prototype,"format",{get:function(){return this._format},set:function(t){if(t!=this._format){if(!t)throw new Error("Invalid empty date format");this._format=t,this.parseFormat(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"baseYear",{get:function(){return this._baseYear},set:function(t){t!=this._baseYear&&(this._baseYear=t)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"amText",{get:function(){return this._amText},set:function(t){t!=this._amText&&(this._amText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"pmText",{get:function(){return this._pmText},set:function(t){t!=this._pmText&&(this._pmText=t)},enumerable:!0,configurable:!0}),m.prototype.parse=function(t){try{for(var e=0,i=1,o=1,r=0,n=0,s=0,a=0,l=0,u=0,h=this._patterns.length,c=0,p=t.length,d=0;d<h&&c<p;d++){var _=this._patterns[d],f=_.c,y=_.len;switch(f){case"y":e=parseInt(t.substr(c,y));break;case"M":i=parseInt(t.substr(c,y));break;case"d":o=parseInt(t.substr(c,y));break;case"a":if(this._amText&&t.indexOf(this._amText,c)==c)l=12,y=this._amText.length;else{if(!this._pmText||t.indexOf(this._pmText,c)!=c)return null;u=12,y=this._pmText.length}break;case"H":case"h":r=parseInt(t.substr(c,y));break;case"m":n=parseInt(t.substr(c,y));break;case"s":s=parseInt(t.substr(c,y));break;case"S":a=parseInt(t.substr(c,y));break;case".":case"/":case"-":case":":case" ":if(m.DATE_SEPARATORS.indexOf(t.charAt(c))<0)return null;break;default:return null}c+=y}return e<100&&(e+=this._baseYear),0<l?12==r&&(r=0):0<u&&r<12&&(r+=12),new Date(e,i-1,o,r,n,s,a)}catch(t){return null}},m.prototype.parseFormat=function(t){var e,i,o,r=t,n=r.length,s=0;for(this._patterns=[];s<n;)if(e=s,i=r.charAt(s),U.Utils.isWhiteSpace(i)){for(s++;s<n&&U.Utils.isWhiteSpace(r.charAt(s));)s++;this._patterns.push({c:" ",p:e,len:s-e})}else{switch(o=0,i){case"y":4!=(o=this.getPattern(r,s,i))&&2!=o&&this.throwInvalidFormat(r);break;case"M":case"d":case"H":case"h":case"m":case"s":2!=(o=this.getPattern(r,s,i))&&this.throwInvalidFormat(r);break;case"S":3!=(o=this.getPattern(r,s,i))&&this.throwInvalidFormat(r);break;case"a":case".":case"/":case"-":case":":1!=(o=this.getPattern(r,s,i))&&this.throwInvalidFormat(r);break;default:this.throwInvalidFormat(r)}0<o&&(this._patterns.push({c:i,p:s,len:o}),s+=o)}},m.prototype.throwInvalidFormat=function(t){throw new Error("Invalid date format: "+t)},m.prototype.throwInvalidValue=function(t){throw new Error("Invalid date format: "+t)},m.prototype.getPattern=function(t,e,i){for(var o=1;++e<t.length&&t.charAt(e)==i;)o++;return o},m.DATE_SEPARATORS="./-: ",m);function m(t){this._format=null,this._baseYear=2e3,this._patterns=[],this._amText="AM",this._pmText="PM",t&&(this.format=t)}e.DateTimeParser=i});t(r);r.DateTimeParser;var n=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(x.parse=function(e,i){var t=null;try{var o,r,n,s,a=e.indexOf("T"),l=e.substring(0,a),u=e.substring(a+1),h=l.split("-"),c=h.length,p=parseInt(h[0]),d=1<c?parseInt(h[1]):1,_=2<c?parseInt(h[2]):1;-1!=u.indexOf("Z")?(o=1,n=r=0,u=u.replace("Z","")):-1!=u.indexOf("+")?(o=1,s=u.substring(u.indexOf("+")+1,u.length),r=Number(s.substring(0,s.indexOf(":"))),n=Number(s.substring(s.indexOf(":")+1,s.length)),u=u.substring(0,u.indexOf("+"))):-1!=u.indexOf("-")?(o=-1,s=u.substring(u.indexOf("-")+1,u.length),r=Number(s.substring(0,s.indexOf(":"))),n=Number(s.substring(s.indexOf(":")+1,s.length)),u=u.substring(0,u.indexOf("-"))):o=0;var f=u.split(":"),y=0<(c=f?f.length:0)?parseInt(f[0]):0,m=1<c?parseInt(f[1]):0,g=2<c?String(f[2]).split("."):null,v=g&&0<g.length?parseInt(g[0]):0,b=g&&1<g.length?1e3*parseFloat("0."+g[1]):0,C=Date.UTC(p,d-1,_,y,m,v,b);if(t=new Date(C-(o?(36e5*r+6e4*n)*o:x._zoneOffset)),i&&isNaN(t.getTime()))throw"Invalidate date text: "+e}catch(t){if(i){var w="Invalid date Text: "+e;throw w+="\nError: "+t.toString()}}return t},x._zoneOffset=60*(new Date).getTimezoneOffset()*1e3,x);function x(){}e.ISODateTimeParser=i});t(n);n.ISODateTimeParser;var x=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(o.initialize=function(){o.Default.amText="AM",o.Default.pmText="PM",o.Default.baseYear=2e3},Object.defineProperty(o.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=t,this.parse(t))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"amText",{get:function(){return this._parser.amText},set:function(t){this._parser.amText=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pmText",{get:function(){return this._parser.pmText},set:function(t){this._parser.pmText=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"baseYear",{get:function(){return this._parser.baseYear},set:function(t){this._parser.baseYear=t},enumerable:!0,configurable:!0}),o.prototype.toDate=function(t){if(!t)return null;var e=null;switch(this._type){case 0:e=this._parser.parse(t);break;case 1:e=n.ISODateTimeParser.parse(t,!1);break;case 2:var i=parseInt(t);e=new Date(i);break;case 3:default:e=new Date(t)}return e},o.prototype.parse=function(t){if(t){var e=t.toLowerCase();this._type=Math.max(0,o.Formats.indexOf(e)),0==this._type&&(this._parser.format=t)}},o.Formats=["custom","iso","timestamp","platform"],o.Default=new o("yyyy/MM/dd HH:mm:ss"),o);function o(t){this._format="",this._type=0,this._parser=new r.DateTimeParser(null),this.format=t}(e.DateTimeReader=i).initialize()});t(x);x.DateTimeReader;var ue=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=0,o=(d.prototype.dispose=function(){return this.$_disposed||this.$_disposing||(this.$_disposed=!0,this.$_disposing=!0,this._doDispose()),null},d.prototype._doDispose=function(){},Object.defineProperty(d.prototype,"disposing",{get:function(){return this.$_disposing},enumerable:!0,configurable:!0}),d.prototype.isMe=function(t){return t==this.$_hash},d.prototype.$_getters=function(t){var e=t.$$_getters_$$;if(!e){var i=Object.getOwnPropertyNames(t);e=t.$$_getters_$$=[];for(var o=0,r=i;o<r.length;o++){var n=r[o],s=Object.getOwnPropertyDescriptor(t,n);s&&s.get&&e.push(n)}}return e},d.prototype.assignSimple=function(t){return!1},d.prototype.assignFrom=function(t){var e=Object.getPrototypeOf(this);if(t instanceof d)for(var i=Object.getPrototypeOf(t),o={};i&&i.constructor!=d;){for(var r=this.$_getters(i),n=0,s=r.length;n<s;n++)if(!((h=r[n])in o))if(o[h]=null,c=Object.getOwnPropertyDescriptor(e,h))c.set&&(l=Object.getOwnPropertyDescriptor(i,h).get)&&c.set.call(this,l.call(t));else for(var a=Object.getPrototypeOf(e);a;){var l,u=Object.getOwnPropertyDescriptor(a,h);if(u)u.set&&(l=Object.getOwnPropertyDescriptor(i,h).get)&&u.set.call(this,l.call(t)),a=null;else a=Object.getPrototypeOf(a)}i=Object.getPrototypeOf(i)}else if(!this.assignSimple(t))for(var h in t){var c;if(c=Object.getOwnPropertyDescriptor(e,h))c.set&&c.set.call(this,t[h]);else for(a=Object.getPrototypeOf(e);a;){var p=Object.getOwnPropertyDescriptor(a,h);a=p?(p.set&&p.set.call(this,t[h]),null):Object.getPrototypeOf(a)}}},d.prototype.extend=function(t){for(var e in t)this.hasOwnProperty(e)&&(this[e]=t[e])},d.prototype.toProxy=function(){for(var t={},e=Object.getPrototypeOf(this);e&&e.constructor!=d;){for(var i=this.$_getters(e),o=0,r=i.length;o<r;o++){var n=i[o],s=Object.getOwnPropertyDescriptor(e,n);if(s)s.get&&s.set&&(t[n]=s.get.call(this));else for(var a=Object.getPrototypeOf(e);a;){var l=Object.getOwnPropertyDescriptor(a,n);a=l?(l.get&&l.set&&(t[n]=l.get.call(this)),null):Object.getPrototypeOf(a)}}e=Object.getPrototypeOf(e)}return t},d);function d(){this.$_hash=i++,this.$_disposed=!1}e.Base=o});t(ue);ue.Base;var f=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),Object.defineProperty(s.prototype,"hash",{get:function(){return this._fieldName},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fieldName",{get:function(){return this._fieldName},set:function(t){if(!(t=t&&t.trim()))throw new Error("Field name must be exists.");t!=this._orgFieldName&&(this._orgFieldName=t,this._orgAttrName="@"+t,this._fieldName=t.toUpperCase(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"orgFieldName",{get:function(){return this._orgFieldName},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"orgAttrName",{get:function(){return this._orgAttrName},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataType",{get:function(){return this._dataType},set:function(t){t!=this._dataType&&(this._dataType=t,this.resetTypes(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"runType",{get:function(){return this._runType},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"subType",{get:function(){return this._subType},set:function(t){(t=t||null)!=this._subType&&(this._subType=t,this.resetTypes(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"subTypeEnabled",{get:function(){return this._subTypeEnabled},set:function(t){t!=this._subTypeEnabled&&(this._subTypeEnabled=t,this.resetTypes(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"baseField",{get:function(){return this._baseField},set:function(t){t!=this._orgBaseField&&(this._orgBaseField=t,this._baseField=t&&t.toUpperCase(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"length",{get:function(){return this._length},set:function(t){(t=t||0)!=this._length&&(this._length=t,this.resetTypes(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"set",{get:function(){return this._set},set:function(t){t!==this._set&&(this._set=t,this.resetTypes(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minimum",{get:function(){return this._minimum},set:function(t){t!=this._minimum&&(this._minimum=t,this.resetTypes(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t!=this._maximum&&(this._maximum=t,this.resetTypes(),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"required",{get:function(){return this._required},set:function(t){t!=this._required&&(this._required=t,this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=t,this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(t){t!=this._defaultValue&&(this._defaultValue=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nullValue",{get:function(){return this._nullValue},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"booleanForamt",{get:function(){return this._booleanFormat},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"booleanFormat",{set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._boolParser=t?new R.BooleanConverter(t):null,this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&((this._datetimeFormat=t)?(this._dateParser=new x.DateTimeReader(t),this._dateParser.amText=this._amText,this._dateParser.pmText=this._pmText,this._dateParser.baseYear=this._baseYear):this._dateParser=null,this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"amText",{get:function(){return this._amText},set:function(t){t!=this._amText&&(this._amText=t,this._dateParser&&(this._dateParser.amText=t),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pmText",{get:function(){return this._pmText},set:function(t){t!=this._pmText&&(this._pmText=t,this._dateParser&&(this._dateParser.pmText=t),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"baseYear",{get:function(){return this._baseYear},set:function(t){t!=this._baseYear&&(this._baseYear=t,this._dateParser&&(this._dateParser.baseYear=t),this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"valueExpression",{get:function(){return this._valueExpression},set:function(t){t!=this._valueExpression&&(this._valueExpression=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"valueCallback",{get:function(){return this._valueCallback},set:function(t){t!=this._valueCallback&&(this._valueCallback=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"calculated",{get:function(){return!!this._valueExpression||!!this._valueCallback},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"updatable",{get:function(){return!this._valueExpression&&!this._valueCallback&&this._updatable},set:function(t){t!=this._updatable&&(this._updatable=t)},enumerable:!0,configurable:!0}),s.prototype.isEmpty=function(t){var e=null==t||""==t;return e||this._dataType!=H.ValueType.NUMBER||(e=isNaN(t)),e},s.prototype.isNull=function(t){if(null==t)return!0;switch(this._runType){case H.ValueType.TEXT:case H.ValueType.CHAR:if(0==t.length)return!0;break;case H.ValueType.NUMBER:case H.ValueType.UNUM:case H.ValueType.INT:case H.ValueType.UINT:if(isNaN(t))return!0}return!1},s.prototype.equalValues=function(t,e){return this._equalValues(t,e)},s.prototype.sameValues=function(t,e){return this._sameValues(t,e)},s.prototype.readValue=function(t){return this._readValue(t)},s.prototype.getBool=function(t,e){if("boolean"==typeof e)return e;var i=e;return this._boolParser?this._boolParser.toBool(i):t.toBool(i)},s.prototype.getDate=function(t,e){return e instanceof Date?new Date(e.getTime()):"number"==typeof e?new Date(e):this._dateParser?this._dateParser.toDate(e):t.toDate(e)},s.prototype.clone=function(){var t=new s(this.fieldName,this.dataType,this.length);return t._orgFieldName=this._orgFieldName,t._orgAttrName=this._orgAttrName,t._boolParser=this._boolParser,t._dateParser=this._dateParser,t._orgBaseField=this._orgBaseField,t._baseField=this._baseField,t._defaultValue=this._defaultValue,t._valueCallback=this._valueCallback,t._valueExpression=this._valueExpression,t},s.prototype.$_resetTypes=function(t){this.resetTypes(t)},s.prototype.assignFrom=function(t){"fieldName"in t&&(this.fieldName=t.fieldName),"subType"in t&&(this._subType=t.subType),"set"in t&&(this._set=t.set instanceof Array?t.set.slice():null),"defaultValue"in t&&(this._defaultValue=t.defaultValue),"baseField"in t&&(this.baseField=t.baseField),"booleanFormat"in t&&(this.booleanFormat=t.booleanFormat),"amText"in t&&(this._amText=t.amText),"pmText"in t&&(this._pmText=t.pmText),"baseYear"in t&&(this._baseYear=t.baseYear),"header"in t&&(this._header=t.header),"datetimeFormat"in t&&(this.datetimeFormat=t.datetimeFormat),"objectKey"in t&&(this._objectKey=t.objectKey),"objectCallback"in t&&(this._objectCallback=t.objectCallback),"required"in t&&(this._required=t.required),"minimum"in t&&(this._minimum=t.minimum),"maximum"in t&&(this._maximum=t.maximum),"valueExpression"in t&&(this.valueExpression=t.valueExpression),"valueCallback"in t&&(this._valueCallback=t.valueCallback)},s.prototype.$_setIndex=function(t){this._index=t},s.prototype.$_prepare=function(t){this._owner=t},s.prototype.changed=function(){this._owner},s.prototype.resetTypes=function(t){if(!this._typeLock){t&&(this._ownerBoolParser=t.boolParser,this._ownerDateParser=t.dateParser);var e=this._dataType,i=this._subType;if(this._runType=e,this._ranged=!1,(!this._owner||this._owner.subTypeEnabled)&&this._subTypeEnabled){if(i)switch(e){case H.ValueType.TEXT:i==H.ValueType.CHAR&&0<this._length&&(e=i);break;case H.ValueType.NUMBER:i!=H.ValueType.UNUM&&i!=H.ValueType.INT&&i!=H.ValueType.UINT||(e=i);break;case H.ValueType.DATETIME:i==H.ValueType.DATE&&(e=i)}if(this._runType=e,this._runSet=null,this._set&&this._set.length){if(this._runType==H.ValueType.DATETIME){this._runSet=[];for(var o=0;o<this._set.length;o++)(r=this.getDate(this._ownerDateParser,this._set[o]))&&this._runSet.push(r.getTime());this._runSet.length<1&&(this._runSet=null)}else if(this._runType==H.ValueType.DATE){for(this._runSet=[],o=0;o<this._set.length;o++){var r;if(r=this.getDate(this._ownerDateParser,this._set[o])){var n=new Date(r.getDate());this._runSet.push(n.setHours(0,0,0,0))}}this._runSet.length<1&&(this._runSet=null)}else this._runSet=this._set;this._ranged=!0}if(!this._ranged)switch(this._dataType){case H.ValueType.NUMBER:this._runMin=Number(this._minimum),this._runMax=Number(this._maximum),isNaN(this._runMin)||isNaN(this._runMax)?this._ranged=!isNaN(this._runMin)||!isNaN(this._runMax):this._ranged=this._runMin<=this._runMax;break;case H.ValueType.DATETIME:case H.ValueType.DATE:this._runMin=this.getDate(this._ownerDateParser,this._minimum),this._runMax=this.getDate(this._ownerDateParser,this._maximum),this._runMin&&this._runMax?this._ranged=this._runMin.getTime()<=this._runMax.getTime():this._ranged=this._runMin||this._runMax}switch(this._runType){case H.ValueType.TEXT:this._equalValues=this.equalTextValues,this._sameValues=this.sameTextValues,this._readValue=this.readTextValue,this._nullValue=null;break;case H.ValueType.CHAR:this._equalValues=this.equalTextValues,this._sameValues=this.sameTextValues,this._readValue=this.readCharValue,this._nullValue=null;break;case H.ValueType.NUMBER:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readNumberValue,this._nullValue=NaN;break;case H.ValueType.UNUM:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readUnumValue,this._nullValue=NaN;break;case H.ValueType.INT:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readIntValue,this._nullValue=NaN;break;case H.ValueType.UINT:this._equalValues=this.equalNumberValues,this._sameValues=this.sameNumberValues,this._readValue=this.readUintValue,this._nullValue=NaN;break;case H.ValueType.DATETIME:this._equalValues=this.equalDateValues,this._sameValues=this.sameDateValues,this._readValue=this.readDatetimeValue,this._nullValue=null;break;case H.ValueType.DATE:this._equalValues=this.equalDateValues,this._sameValues=this.sameDateValues,this._readValue=this.readDateValue,this._nullValue=null;break;case H.ValueType.BOOLEAN:this._equalValues=this.equalBoolValues,this._sameValues=this.sameBoolValues,this._readValue=this.readBooleanValue,this._nullValue=!1;break;case H.ValueType.OBJECT:this._equalValues=this.equalObjectValues,this._sameValues=this.sameObjectValues,this._readValue=this.readObjectValues,this._nullValue=!1;break;default:this._equalValues=this.equalDummyValues,this._sameValues=this.sameDummyValues,this._readValue=this.readDummyValue,this._nullValue=void 0}}}},s.prototype.$_refreshFormats=function(t){this._owner=t,this._dateParser&&(this._dateParser.baseYear||(this._dateParser.baseYear=t.baseYear),this._dateParser.amText||(this._dateParser.amText=t.amText),this._dateParser.pmText||(this._dateParser.pmText=t.pmText)),this._ownerBoolParser=t.boolParser,this._ownerDateParser=t.dateParser},s.prototype.equalDummyValues=function(t,e){return void 0===t?void 0===e:void 0!==e&&t==e},s.prototype.sameDummyValues=function(t,e){return null==t?null==e:null!=e&&t==e},s.prototype.equalTextValues=function(t,e){return void 0===t?void 0===e:void 0!==e&&t==e},s.prototype.sameTextValues=function(t,e){return null==t||""==t?null==e||""==e:null!=e&&""!=e&&t==e},s.prototype.equalNumberValues=function(t,e){return void 0===t?void 0===e:void 0!==e&&(isNaN(t)?isNaN(e):!isNaN(e)&&t==e)},s.prototype.sameNumberValues=function(t,e){return isNaN(t)?isNaN(e):!isNaN(e)&&t==e},s.prototype.equalDateValues=function(t,e){return void 0===t?void 0===e:void 0!==e&&(t instanceof Date?e instanceof Date&&t.getTime()==e.getTime():!(e instanceof Date))},s.prototype.sameDateValues=function(t,e){return t instanceof Date?e instanceof Date&&t.getTime()==e.getTime():!(e instanceof Date)},s.prototype.equalBoolValues=function(t,e){return void 0===t?void 0===e:void 0!==e&&Boolean(t)==Boolean(e)},s.prototype.sameBoolValues=function(t,e){return void 0===t?void 0===e:void 0!==e&&Boolean(t)==Boolean(e)},s.prototype.equalObjectValues=function(t,e){return void 0===t||void 0===e?void 0===t==(void 0===e):t===e},s.prototype.sameObjectValues=function(t,e){return null==t||null==e?null==t&&null==e:t==e},s.prototype.readDummyValue=function(t){return t},s.prototype.readTextValue=function(t){if(void 0===t)return t;var e=null===t?null:String(t);return this._ranged&&this._runSet&&this._runSet.indexOf(e)<0?void 0:e},s.prototype.readCharValue=function(t){if(void 0===t)return t;var e=null===t?null:String(t);return e=e&&e.substr(0,this._length),this._ranged&&this._runSet&&this._runSet.indexOf(e)<0?void 0:e},s.prototype.readNumberValue=function(t){if(null!=t&&""!==t){var e=Number(t);if(this._ranged)if(this._runSet){if(this._runSet.indexOf(e)<0)return}else isNaN(this._runMin)||(e=Math.max(this._runMin,e)),isNaN(this._runMax)||(e=Math.min(this._runMax,e));return e}},s.prototype.readUnumValue=function(t){if(null!=t&&""!==t){var e=Math.max(0,Number(t));if(this._ranged){if(this._runSet){if(this._runSet.indexOf(e)<0)return}else isNaN(this._runMin)||(e=Math.max(this._runMin,e)),isNaN(this._runMax)||(e=Math.min(this._runMax,e));e=Math.max(0,e)}return e}},s.prototype.readIntValue=function(t){if(null!=t&&""!==t){var e=0<=t?Math.floor(t):Math.ceil(t);if(this._ranged){if(this._runSet){if(this._runSet.indexOf(e)<0)return}else isNaN(this._runMin)||(e=Math.max(this._runMin,e)),isNaN(this._runMax)||(e=Math.min(this._runMax,e));e=0<=e?Math.floor(e):Math.ceil(e)}return e}},s.prototype.readUintValue=function(t){if(null!=t&&""!==t){var e=Math.max(0,Math.floor(Math.floor(t)));if(this._ranged){if(this._runSet){if(this._runSet.indexOf(e)<0)return}else isNaN(this._runMin)||(e=Math.max(this._runMin,e)),isNaN(this._runMax)||(e=Math.min(this._runMax,e));e=Math.max(0,Math.floor(Math.floor(e)))}return e}},s.prototype.readDatetimeValue=function(t){if(void 0!==t){if(null===t)return this._nullValue;var e=this.getDate(this._ownerDateParser,t);if(e&&this._ranged)if(this._runSet){for(var i=!1,o=this._runSet.length;o--;)if(e.getTime()==this._runSet[o]){i=!0;break}if(!i)return}else this._runMin&&e.getTime()<this._runMin.getTime()&&(e=new Date(this._runMin)),this._runMax&&e.getTime()>this._runMax.getTime()&&(e=new Date(this._runMax));return e}},s.prototype.readDateValue=function(t){if(void 0!==t){if(null===t)return this._nullValue;var e=this.getDate(this._ownerDateParser,t);if(e&&(e.setHours(0,0,0,0),this._ranged))if(this._runSet){for(var i=!1,o=this._runSet.length;o--;)if(e.getTime()==this._runSet[o]){i=!0;break}if(!i)return}else this._runMin&&e.getTime()<this._runMin.getTime()&&(e=new Date(this._runMin)),this._runMax&&e.getTime()>this._runMax.getTime()&&(e=new Date(this._runMax));return e}},s.prototype.readBooleanValue=function(t){return void 0===t?t:null!==t&&this.getBool(this._ownerBoolParser,t)},s.prototype.readObjectValues=function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){throw new Error("Invalid Object String "+t+"\r\n"+e)}else if("object"!=typeof e)try{e=JSON.parse(e)}catch(t){}return e},s.prototype.$_compareObject=function(t,e,i,o){var r=this._objectKey,n=this._objectCallback,s=n?n(this.orgFieldName,i,t):r&&t.hasOwnProperty(r)?t[r]:null;return(n?n(this.orgFieldName,o,e):r&&e.hasOwnProperty(r)?e[r]:null)<s?1:s<e?0:-1},s.prototype.$_calculateValue=function(t,e,i,o,r,n){if(this._valueCallback)return this._valueCallback(e,i,r,n);this._valueExpression},s);function s(t,e,i){void 0===e&&(e=H.ValueType.TEXT),void 0===i&&(i=0);var o=r.call(this)||this;return o._index=-1,o._dataType=H.ValueType.TEXT,o._subType=null,o._runType=H.ValueType.TEXT,o._length=0,o._subTypeEnabled=!0,o._required=!1,o._updatable=!0,o._ranged=!1,o._runSet=null,o._typeLock=!1,o._calculated=!1,o._objectKey=null,o._objectCallback=null,t&&(o.fieldName=t),null!=e&&(e===H.ValueType.DATE&&(e=H.ValueType.DATETIME,o._subType=H.ValueType.DATE,o._subTypeEnabled=!0),o._dataType=e),o._length=i,o}e.DataField=n});t(f);f.DataField;var $=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function c(t){return t<10?"0"+t:String(t)}var l=["yy","yyyy","M","MM","d","dd","a","H","HH","h","hh","m","mm","s","ss","S","SS","SSS"],u=[".","/","-",":"],h="Z".charCodeAt(0),p="z".charCodeAt(0),d="A".charCodeAt(0),_="a".charCodeAt(0),f="y".charCodeAt(0),y="M".charCodeAt(0),m="m".charCodeAt(0),g="d".charCodeAt(0),v="H".charCodeAt(0),b="h".charCodeAt(0),C="S".charCodeAt(0),w="s".charCodeAt(0),i=(o.getFormatter=function(t){var e=o.Formatters[t];return e||(o.Formatters[t]=e=new o(t)),e},Object.defineProperty(o,"Default",{get:function(){return o.getFormatter(o.DEFAULT_FORMAT)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formatString",{get:function(){return this._formatString},set:function(t){(t=t||o.DEFAULT_FORMAT)!=this._formatString&&(this._tokens=[],this.parse(t),this._formatString=t)},enumerable:!0,configurable:!0}),o.prototype.getText=function(t){if(!this._tokens)return"";for(var e,i=t instanceof Date?t:new Date(t),o=this._tokens,r="",n=0,s=o.length;n<s;n++){var a=o[n],l=a.length;switch(a.charCodeAt(0)){case f:r+=2<l?i.getFullYear():c(i.getFullYear()%100);break;case y:r+=1<l?c(i.getMonth()+1):i.getMonth()+1;break;case g:r+=1<l?c(i.getDate()):i.getDate();break;case v:r+=1<l?c(i.getHours()):i.getHours();break;case b:if(this._hasAmPm){var u=i.getHours();0==u?u=12:12<u&&(u-=12),r+=1<l?c(u):u}else r+=1<l?c(i.getHours()):i.getHours();break;case m:r+=1<l?c(i.getMinutes()):i.getMinutes();break;case w:r+=1<l?c(i.getSeconds()):i.getSeconds();break;case _:case d:i.getHours()<12?r+=this._amText:r+=this._pmText;break;case C:var h=i.getMilliseconds();r+=3==l?(e=h)<10?"00"+e:e<100?"0":String(e):2==l?c(h):h.toString().substr(0,l);break;default:r+=a}}return r},o.prototype.parseDateFormatTokens=function(t){var e=[];if(t)for(var i=t.trim(),o=i.length,r=0;r<o;){var n=i.charAt(r);if(0<=u.indexOf(n))e.push(n),r++;else{for(var s=r++;r<o&&i.charAt(r)==n;)r++;if(n=i.substring(s,r),l.indexOf(n)<0){var a=n.charCodeAt(0);if(d<=a&&a<=h||_<=a&&a<=p)throw new Error("Invalid datetime write format: "+t)}e.push(n)}if(r<o&&U.Utils.isWhiteSpace(n=i.charAt(r)))for(e.push(n);r<o&&U.Utils.isWhiteSpace(i.charAt(r));)r++}return e},o.prototype.parse=function(t){if(this._amText="AM",this._pmText="PM",t){var e=t.split(";");if(this._format=e[0]||o.DEFAULT_FORMAT,this._tokens=this.parseDateFormatTokens(this._format),this._hasAmPm=0<=this._tokens.indexOf("a")||0<=this._tokens.indexOf("A"),1<e.length&&e[1]){var i=e[1].split(",");0<i.length&&i[0]&&(this._amText=i[0]),1<i.length&&i[1]&&(this._pmText=i[1])}}},o.DEFAULT_FORMAT="yyyy/MM/dd",o.Formatters={},o);function o(t){this._baseYear=2e3,this._preserveTime=!1,this._hasAmPm=!1,this._formatString="",this.formatString=t}e.DateTimeWriter=i});t($);$.DateTimeWriter;var W=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(o.getFormatter=function(t){var e=o.Formatters[t];return e||(o.Formatters[t]=e=new o(t)),e},Object.defineProperty(o.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0}),o.prototype.formatValue=function(t){return void 0===t?this._nullText:t?this._trueText:this._falseText},o.prototype.$_parse=function(t){if(this._falseText=this._trueText=null,t){var e=t.split(/[;\:]/);this._falseText=e[0],0<e.length&&(this._trueText=e[1]),1<e.length&&(this._nullText=e[2])}},o.Formatters={},o);function o(t){this.$_parse(this._format=t)}e.BooleanFormatter=i});t(W);W.BooleanFormatter;var z=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});function c(t){return U.Utils.included(t,"c","f","C","F","a","A")}var i=(o.getFormatter=function(t){var e=o.Formatters[t];return e||(o.Formatters[t]=e=new o(t)),e},Object.defineProperty(o,"Default",{get:function(){return o.getFormatter(o.DEFAULT_FORMAT)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"separator",{get:function(){return this._seperator},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"groupSep",{get:function(){return this._groupSep},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"minDigits",{get:function(){return this._minDigits},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"maxDigits",{get:function(){return this._maxDigits},enumerable:!0,configurable:!0}),o.prototype.parse=function(t){this._minDigits=0,this._maxDigits=0,this._minInts=0,this._maxInts=0,this._parse(t)},o.prototype.getText=function(t){var e=Number(t);if(isNaN(e))return"";var i=this._minDigits,o=0;if(this._optDecimal){var r=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}(e);i=Math.min(Math.max(r,this._minDigits),this._maxDigits)}if(0<i&&this._round)switch(o=Math.pow(10,i),this._round){case"c":e=Math.ceil(o*e)/o;break;case"f":e=Math.floor(o*e)/o}e="a"===this._round?Math.abs(e):e;var n=(e=Number(e.toPrecision(15))).toFixed(i);try{this._displayMinusZero||(o=parseFloat(n))!==Math.abs(parseFloat(n))||0!==o||(n=Math.abs(e).toFixed(i))}catch(t){}return this._seperator&&(n=n.replace(".",this._seperator)),this._reg?i?n.replace(this._regDecimal,this._replacement):n.replace(this._reg,this._replacement):n},o.prototype._parse=function(t){if(t=t&&t.trim()){var e=".",i=",";if(-1<t.indexOf(";")){var o=t.split(";");t=o[0],1<o.length&&o[1]&&!c(o[1])&&(e=o[1]),2<o.length&&o[2]&&!c(o[2])&&(i=o[2]),this._round=o[3]||o[2]||o[1],this._round=c(this._round)?this._round.toLowerCase():this._round}this._seperator="."==e?null:e,this._groupSep=","==i?null:i;var r=t.length,n=t.indexOf(".");if(this._optDecimal=0<t.indexOf("#",n),0<=n){for(var s=n+1;s<r&&"0"==t.charAt(s);s++)this._minDigits++,this._maxDigits++;for(;s<r&&"#"==t.charAt(s);s++)this._maxDigits++;t=t.substr(0,n)}if(t){var a=t.length;","==t.charAt(a-1)&&(this._groupPos=3,t=t.substr(0,a-1))}if(t){var l=t.length,u=!0;for(s=l-1;0<=s;s--){var h=t.charAt(s);if("0"==h&&u)this._minInts++,this._maxInts++;else if(0==this._groupPos&&","==h)this._groupPos=l-s-1;else{if("#"!=h)break;u=!1}}}0<this._groupPos&&(this._replacement="$&"+i,this._reg=new RegExp("\\d(?=(\\d{"+this._groupPos+"})+($|\\"+e+"))","g"),this._regDecimal=new RegExp("\\d(?=(\\d{"+this._groupPos+"})+\\"+e+")","g"))}},o.DEFAULT_FORMAT="#,##0.0",o.Formatters={},o);function o(t){this._optDecimal=!1,this._groupPos=0,this._replacement="$&,",this._displayMinusZero=!0,this._minDigits=0,this._maxDigits=0,this._minInts=0,this._maxInts=0,this.parse(this._format=t)}e.DecimalFormatter=i});t(z);z.DecimalFormatter;var I=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),Object.defineProperty(s.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&(this._datetimeFormat=t,this._datetimeWriter=t?$.DateTimeWriter.getFormatter(t):null)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._booleanFormatter=t?W.BooleanFormatter.getFormatter(t):null)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){t!=this._numberFormat&&(this._numberFormat=t,this._numberFormatter=t?z.DecimalFormatter.getFormatter(t):null)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"datetimeCallback",{get:function(){return this._datetimeCallback},set:function(t){this._datetimeCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"booleanCallback",{get:function(){return this._booleanCallback},set:function(t){this._booleanCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numberCallback",{get:function(){return this._numberCallback},set:function(t){this._numberCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nullDateText",{get:function(){return this._nullDateText},set:function(t){this._nullDateText=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nullText",{get:function(){return this._nullText},set:function(t){this._nullText=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"nanText",{get:function(){return this._nanText},set:function(t){this._nanText=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"booleanFormatter",{get:function(){return this._booleanFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this)||this;return e._datetimeWriter=null,e._booleanFormatter=null,e._numberFormatter=null,e.assignFrom(t),e}e.DataOutputOptions=n});t(I);I.DataOutputOptions;var K=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Error,i(s,r),s);function s(t,e){var i=r.call(this,t)||this;return i.message=t,i.tokenPos=e,i}e.ExpressionStatementError=n;var h=(a.prototype.evaluate=function(t){return this.literal},a);function a(t){this.literal=t}var c=(l.prototype.evaluate=function(t){return this.idKey<0&&(this.idKey=t.isIdentifier(this.ident)),t.evaluateIdentifier(this.idKey)},l);function l(t,e){void 0===e&&(e=-1),this.ident=t,this.idKey=e}var p=(u.prototype.evaluate=function(t){var e=this.ident,i=e.indexOf("["),o=e.indexOf("]");if(i<o){var r=e.substr(0,i).trim(),n=e.substring(i+1,o).replace(/'|"/g,"").trim();return this.idKey<0&&(this.idKey=t.isIdentifier(r)),t.evaluateIndexerS(this.idKey,n,this.capital)}},u);function u(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=!1),this.ident=t,this.idKey=e,this.capital=i}var d=(Object.defineProperty(_.prototype,"source",{get:function(){return this._source},set:function(t){t!=this._source&&(this._source=t,this._parse(t))},enumerable:!0,configurable:!0}),_.prototype.evaluate=function(t){try{for(var e=this._tokens,i="",o=0,r=e.length;o<r;o++)i+=e[o].evaluate(t)||"";return i}catch(t){if(!this._silentError)throw new t}return null},_.prototype._parse=function(t){if(this._tokens=[],t)for(var e,i=t.length,o=0;o<i;){var r=t.indexOf("${",o);if(0<=r){var n=t.indexOf("}",r+2);if(0<=n){if(o<r){var s=t.substring(o,r);e=new h(s),this._tokens.push(e)}if(u=t.substring(r+2,n).trim()){var a,l=void 0;e=(a=u.indexOf("["))&&(l=u.indexOf("]"))&&a<l?new p(u):new c(u),this._tokens.push(e)}o=n+1}else r=-1}if(r<0){var u=t.substr(o,i);e=new h(u),this._tokens.push(e);break}}},_);function _(t,e){void 0===e&&(e=!1),this._silentError=!1,this._tokens=[],this._source=t,this._silentError=e,t&&this._parse(t)}e.ExpressionStatement=d});t(K);K.ExpressionStatementError,K.ExpressionStatement;var Y=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){return this._listeners=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"listenerCount",{get:function(){return this._listeners.length},enumerable:!0,configurable:!0}),s.prototype.addListener=function(t){return null!=t&&this._listeners.indexOf(t)<0&&this._listeners.push(t),this},s.prototype.removeListener=function(t){if(null!=t){var e=this._listeners.indexOf(t);0<=e&&this._listeners.splice(e,1)}return this},s.prototype.clearListener=function(){this._listeners.length=0},s.prototype.fireEvent=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var o=Array.prototype.slice.call(arguments,0),r=0,n=(o[0]=this)._listeners.length;r<n;r++){var s=this._listeners[r],a=s[t];a&&a.apply(s,o)}},s.prototype.fireConfirmEvent=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var o=Array.prototype.slice.call(arguments,0),r=0,n=(o[0]=this)._listeners.length;r<n;r++){var s=this._listeners[r],a=s[t];if(a){var l=a.apply(s,o);if("boolean"==typeof l&&!l)return!1}}return!0},s.prototype.fireMessageEvent=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var o=Array.prototype.slice.call(arguments,0),r=0,n=(o[0]=this)._listeners.length;r<n;r++){var s=this._listeners[r],a=s[t];if(a){var l=a.apply(s,o);if("string"==typeof l&&l)return l}}return null},s.prototype.fireObjectEvent=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];for(var o=Array.prototype.slice.call(arguments,0),r=0,n=(o[0]=this)._listeners.length;r<n;r++){var s=this._listeners[r],a=s[t];if(a){var l=a.apply(s,o);if(null!=l)return l}}return null},s);function s(){var t=r.call(this)||this;return t._listeners=[],t}e.EventAware=n});t(Y);Y.EventAware;var q=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Error,i(s,r),s);function s(t,e){var i=r.call(this,t)||this;return i.message=t,i.tokenPos=e,i}e.ExpressionSyntaxError=n;var a,l=(a=Error,i(u,a),u);function u(t){var e=a.call(this,t)||this;return e.message=t,e}e.ExpressionEvaluationError=l;function h(t,e,i){return e=Math.max(e||2,1),i=i||"0",new Array(e-String(t).length+1).join(i)+t}function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=[],o=0,r=t;o<r.length;o++){i[r[o]]=!0}return i}var p=c(26,27),d=c(40,45,46,47,48,49,50,51,52,53,41,42,43,44),_=c(4,5,18,19),f=c(11,3,2,14,15,16,17),y=(m.prototype.clear=function(){this._source=null},m.prototype.next=function(){var t=this._source.charCodeAt(this._run);this._tokenPos=this._run,t<256?this._procs[t].call(this):this.identProc()},m.prototype.unkownProc=function(){this._tokenId=0,this._run++},m.prototype.symbolProc=function(){this._tokenId=80,this._run++},m.prototype.commaProc=function(){this._tokenId=32,this._run++},m.prototype.crProc=function(){this._tokenId=33,10==this._source.charCodeAt(this._run+1)?this._run+=2:this._run++,this._lineNo++,this._linePos=this._run},m.prototype.lfProc=function(){this._tokenId=33,this._run++,this._lineNo++,this._linePos=this._run},m.prototype.equalProc=function(){this._tokenId=40,this._run++},m.prototype.greaterProc=function(){"="==this._source.charAt(this._run+1)?(this._tokenId=42,this._run+=2):(this._tokenId=41,this._run++)},m.prototype.lowerProc=function(){"="==this._source.charAt(this._run+1)?(this._tokenId=44,this._run+=2):">"==this._source.charAt(this._run+1)?(this._tokenId=45,this._run+=2):(this._tokenId=43,this._run++)},m.prototype.nextIdent=function(){for(var t=this._run;t<this._len&&!this.IS_IDENT[this._source.charCodeAt(t)];)t++;for(var e=t;t<this._len&&this.IS_IDENT[this._source.charCodeAt(t)];)t++;return e<t?(this._nextRun=t,this._source.substr(e,t-e).toLowerCase()):null},m.prototype.identProc=function(){for(var t=this._run;this._run<this._len&&(this.IS_IDENT[this._source.charCodeAt(this._run)]||255<this._source.charCodeAt(this._run));)this._run++;var e=this._source.substr(t,this._run-t).toLowerCase();if(this.Keywords.hasOwnProperty(e))switch(this._tokenId=this.Keywords[e],this._tokenId){case 13:if(e=this.nextIdent())switch(e){case"like":this._tokenId=47,this._run=this._nextRun;break;case"ilike":this._tokenId=49,this._run=this._nextRun;break;case"match":this._tokenId=51,this._run=this._nextRun;break;case"imatch":this._tokenId=53,this._run=this._nextRun}break;case 26:"not"==(e=this.nextIdent())&&(this._tokenId=27,this._run=this._nextRun)}else this._tokenId=10},m.prototype.integerProc=function(){for(this._tokenId=64,this._run++;this._run<this._len&&this.IS_INTEGER[this._source.charCodeAt(this._run)];)this._run++},m.prototype.numberProc=function(){for(this._tokenId=64,this._run++;this._run<this._len&&this.IS_NUMBER[this._source.charCodeAt(this._run)];){if("."==this._source.charAt(this._run)){if("."==this._source.charAt(this._run+1))break;this._tokenId=63}this._run++}},m.prototype.minusProc=function(){this._tokenId=4,this._run++},m.prototype.plusProc=function(){this._tokenId=5,this._run++},m.prototype.pointProc=function(){"."==this._source.charAt(this._run+1)?(this._tokenId=68,this._run+=2):(this._tokenId=65,this._run++)},m.prototype.roundOpenProc=function(){this._tokenId=66,this._run++},m.prototype.roundCloseProc=function(){this._tokenId=67,this._run++},m.prototype.slashProc=function(){this._tokenId=2,this._run++},m.prototype.spaceProc=function(){for(this._tokenId=71,this._run++;this._run<this._len&&this.IS_WHITE[this._source.charCodeAt(this._run)];)this._run++},m.prototype.bracketOpenProc=function(){this._tokenId=69,this._run++},m.prototype.bracketCloseProc=function(){this._tokenId=70,this._run++},m.prototype.starProc=function(){this._tokenId=3,this._run++},m.prototype.modProc=function(){this._tokenId=15,this._run++},m.prototype.stringProc=function(){this._tokenId=61;do{var t=this._source.charCodeAt(this._run);if(this.IS_END[t])throw new n("Untermintated string",t);t==this.BACKSLASH&&this._run++,this._run++}while(this._run<this._len&&this._source.charCodeAt(this._run)!=this.QUOTATION);this._run++},m.prototype.smallStringProc=function(){this._tokenId=61;do{var t=this._source.charCodeAt(this._run);if(this.IS_END[t])throw new n("Untermintated string",t);t==this.BACKSLASH&&this._run++,this._run++}while(this._run<this._len&&this._source.charCodeAt(this._run)!=this.SQUOTATION);this._run++},m.prototype.initProcs=function(){this._procs=[];for(var t=1;t<=255;t++)this._procs[t]=this.symbolProc;for(t=1;t<=32;t++)this._procs[t]=this.spaceProc;for(this._procs[10]=this.lfProc,this._procs[13]=this.crProc,this._procs["$".charCodeAt(0)]=this.integerProc,this._procs[this.QUOTATION]=this.stringProc,this._procs[this.SQUOTATION]=this.smallStringProc,t=0;t<=9;t++)this._procs["0".charCodeAt(0)+t]=this.numberProc;for(t="A".charCodeAt(0);t<="Z".charCodeAt(0);t++)this._procs[t]=this.identProc;for(t="a".charCodeAt(0);t<="z".charCodeAt(0);t++)this._procs[t]=this.identProc;this._procs["_".charCodeAt(0)]=this.identProc,this._procs["(".charCodeAt(0)]=this.roundOpenProc,this._procs[")".charCodeAt(0)]=this.roundCloseProc,this._procs["*".charCodeAt(0)]=this.starProc,this._procs["+".charCodeAt(0)]=this.plusProc,this._procs[",".charCodeAt(0)]=this.commaProc,this._procs["-".charCodeAt(0)]=this.minusProc,this._procs[".".charCodeAt(0)]=this.pointProc,this._procs["/".charCodeAt(0)]=this.slashProc,this._procs["%".charCodeAt(0)]=this.modProc,this._procs["<".charCodeAt(0)]=this.lowerProc,this._procs["=".charCodeAt(0)]=this.equalProc,this._procs[">".charCodeAt(0)]=this.greaterProc,this._procs["[".charCodeAt(0)]=this.bracketOpenProc,this._procs["]".charCodeAt(0)]=this.bracketCloseProc},Object.defineProperty(m.prototype,"tokenId",{get:function(){return this._tokenId},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"tokenLoc",{get:function(){return{x:this._tokenPos-this._linePos,y:this._lineNo}},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"tokenLen",{get:function(){return this._run-this._tokenPos},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"token",{get:function(){return this._source.substr(this._tokenPos,this.tokenLen)},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isSpace",{get:function(){return 71==this._tokenId},enumerable:!0,configurable:!0}),m.prototype.init=function(t){this._source=t,this._len=t.length,this._lineNo=0,this._linePos=0,this._tokenPos=0,this._runAhead=this._run=0,this._tokenId=0},m.prototype.charAhread=function(){for(this._runAhead=this._run;this._runAhead<this._len&&0<this._source.charCodeAt(this._runAhead)&&this._source.charCodeAt(this._runAhead)<=32;)this._runAhead++;return this._source.charCodeAt(this._runAhead)},m.prototype.nextId=function(t){for(;this.next(),this._run<this._len&&this._tokenId!=t;);},m.prototype.nextNoSpace=function(){if(this._run<this._len)for(;this.next(),this._run<this._len&&this.isSpace;);},m.prototype.isFirstInLine=function(){if(0==this._tokenPos)return!0;var t,e=this._tokenPos;for(e--;0<e&&this.IS_WHITE[this._source.charCodeAt(e)];)e--;return 0==e||10==(t=this._source.charCodeAt(e))||13==t},m);function m(){this.IS_IDENT=[],this.IS_INTEGER=[],this.IS_NUMBER=[],this.IS_WHITE=[],this.IS_END=[],this.QUOTATION='"'.charCodeAt(0),this.SQUOTATION="'".charCodeAt(0),this.BACKSLASH="\\".charCodeAt(0),this.Keywords={str:20,num:21,bool:23,not:13,len:24,and:11,in:12,mod:15,or:18,div:14,shl:16,shr:17,xor:19,is:26,like:46,ilike:48,match:50,imatch:52,defined:35,null:34,empty:36,nan:37,datestr:90,year:91,month:92,day:93,hour:94,rounddown:95},this._procs=null,this._source=null,this._len=0,this._tokenId=0,this._run=0,this._runAhead=0,this._nextRun=0,this._lineNo=0,this._linePos=0;for(var t=this._tokenPos=0;t<256;t++)this.IS_IDENT[t]=t=="_".charCodeAt(0)||t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="a".charCodeAt(0)&&t<="z".charCodeAt(0)||t>="A".charCodeAt(0)&&t<="Z".charCodeAt(0),this.IS_INTEGER[t]=t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t>="a".charCodeAt(0)&&t<="f".charCodeAt(0)||t>="A".charCodeAt(0)&&t<="F".charCodeAt(0),this.IS_NUMBER[t]=t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)||t==".".charCodeAt(0)||t=="e".charCodeAt(0)||t=="E".charCodeAt(0),this.IS_WHITE[t]=1<=t&&t<=9||11==t||14<=t&&t<=32,this.IS_END[t]=0==t;this.initProcs()}var g,v=(g=ue.Base,i(b,g),b.prototype.isIdentifier=function(t){throw new Error("Token is not a valid Identifier: "+t)},b.prototype.evaluateIdentifier=function(t){throw new Error("Invalid identifier key: "+t)},b.prototype.evaluateIndexerI=function(t,e){throw new Error("Invalid identifier indexer: "+t)},b.prototype.evaluateIndexerS=function(t,e,i){throw new Error("Invalid identifier indexer: "+t)},b);function b(){return g.call(this)||this}e.ExpressionRuntime=v;var C=(Object.defineProperty(w.prototype,"value",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"asLiteral",{get:function(){return null},enumerable:!0,configurable:!0}),w.prototype.prepareValue=function(){},w.prototype.getLiteral=function(){},w.prototype.isIdentifier=function(t){return!1},w.prototype.toString=function(){return String(this)},w);function w(){}e.ExpressionNode=C;var x,I=(i(E,x=C),E);function E(){return null!==x&&x.apply(this,arguments)||this}var S;i(O,S=C),O.prototype.evaluate=function(t){},O.prototype.toString=function(){return""},O.Default=new O;function O(){return S.call(this)||this}var R;i(D,R=C),D.prototype.evaluate=function(t){};function D(t){var e=R.call(this)||this;return e._func=t,e}var P,T=(i(k,P=C),k.prototype.evaluate=function(t){if(this._literal)return this._literal.value;if(!this._rightExpr)return this._leftExpr.evaluate(t);var e=this._leftExpr.evaluate(t),i=this._rightExpr.evaluate(t);switch(this._operator){case 40:return e==i;case 45:return e!=i;case 41:return i<e;case 42:return i<=e;case 43:return e<i;case 44:return e<=i;case 46:return this.calcLike(e,i,!1);case 47:return!this.calcLike(e,i,!1);case 48:return this.calcLike(e,i,!0);case 49:return!this.calcLike(e,i,!0);case 50:return this.calcMatch(e,i,!1);case 51:return!this.calcMatch(e,i,!1);case 52:return this.calcMatch(e,i,!0);case 53:return!this.calcMatch(e,i,!0);default:throw new l("Unknown operator: "+this._operator)}},k.prototype.toString=function(){var t="";if(this._literal)t=this._literal.toString();else if(this._rightExpr){var e,i=this._leftExpr.toString(),o=this._rightExpr.toString();switch(this._operator){case 40:e="=";break;case 45:e="<>";break;case 41:e=">";break;case 42:e=">=";break;case 43:e="<";break;case 44:e="<=";break;case 46:e="like";break;case 47:e="not like";break;case 48:e="ilike";break;case 49:e="not ilike";break;case 50:e="match";break;case 51:e="not match";break;case 52:e="imatch";break;case 53:e="not imatch";break;case 32:e=",";break;default:e="<<ERROR>>"}t="("+i+" "+e+" "+o+")"}else t=this._leftExpr.toString();return t},k.prototype.isIdentifier=function(t){return this._leftExpr&&!this._rightExpr&&this._leftExpr.isIdentifier(t)},k.prototype.prepareValue=function(){this._leftExpr.prepareValue(),null==this._rightExpr?this._literal=this._leftExpr.getLiteral():this._rightExpr.prepareValue()},k.prototype.getLiteral=function(){return this._literal},k.prototype.calcLike=function(t,e,i){var o=String(t),r=String(e);if(o&&r){i&&(o=o.toLowerCase(),r=r.toLowerCase());var n=r.length;if(1<n){var s="%"==r.charAt(0),a="%"==r.charAt(n-1);return s&&a?(r=r.substr(1,n-2),0<=o.indexOf(r,0)):s?(r=r.substr(1,n-1),o.lastIndexOf(r)==o.length-r.length):a?(r=r.substr(0,n-1),0==o.indexOf(r,0)):o==r}return"%"!=r&&o==r}return!1},k.prototype.calcMatch=function(t,e,i){return new RegExp(e,"m"+(i?"i":"")).test(t)},k);function k(){var t=P.call(this)||this;return t._operator=0,t}var M,L=(i(F,M=C),Object.defineProperty(F.prototype,"value",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"asLiteral",{get:function(){return this},enumerable:!0,configurable:!0}),F.prototype.evaluate=function(t){},F);function F(){return null!==M&&M.apply(this,arguments)||this}var A,V=(i(N,A=L),N.prototype.toString=function(){return"defined"},N);function N(){return null!==A&&A.apply(this,arguments)||this}var j,B=(i($,j=L),$.prototype.toString=function(){return"empty"},$);function $(){return null!==j&&j.apply(this,arguments)||this}var H,G=(i(U,H=L),Object.defineProperty(U.prototype,"value",{get:function(){return NaN},enumerable:!0,configurable:!0}),U.prototype.toString=function(){return"null"},U);function U(){return null!==H&&H.apply(this,arguments)||this}var W,z=(i(K,W=L),K.prototype.toString=function(){return"NaN"},K);function K(){return null!==W&&W.apply(this,arguments)||this}var Y,q=(i(X,Y=T),X.prototype.prepareValue=function(){this._leftExpr.prepareValue(),this._literal=this._leftExpr.getLiteral()},X.prototype.getLiteral=function(){return null},X.prototype.evaluate=function(t){var e,i=this._literal?this._literal.value:this._leftExpr.evaluate(t);switch(this._value){case X.DEFINED:e=void 0!==i;break;case X.NULL:e=null==i;break;case X.EMPTY:e=null==i||0==String(i).length;break;case X.NAN:e=null===i||isNaN(i);break;default:return}return this._isNot?!e:e},X.prototype.toString=function(){var t="<<ERROR>>";switch(this._value){case X.DEFINED:t="defined";break;case X.NULL:t="null";break;case X.EMPTY:t="empty";break;case X.NAN:t="NaN"}return"("+(this._isNot?"is not ":"is ")+t+")"},X.DEFINED=0,X.NULL=1,X.EMPTY=2,X.NAN=3,X);function X(t,e,i){var o=Y.call(this)||this;return o._leftExpr=t,o._operator=e,o._isNot=27==e,o._value=-1,i instanceof V?o._value=X.DEFINED:i instanceof G?o._value=X.NULL:i instanceof B?o._value=X.EMPTY:i instanceof z&&(o._value=X.NAN),o}var J,Z=(i(Q,J=I),Object.defineProperty(Q.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(Q.prototype,"asLiteral",{get:function(){return this},enumerable:!0,configurable:!0}),Q.prototype.evaluate=function(t){return this._value},Q.prototype.toString=function(){return String(this._value)},Q);function Q(t){var e=J.call(this)||this;return e._value=Number(t),e}var tt,et=(i(it,tt=I),Object.defineProperty(it.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(it.prototype,"asLiteral",{get:function(){return this},enumerable:!0,configurable:!0}),it.prototype.evaluate=function(t){return this._value},it.prototype.toString=function(){return String(this._value)},it);function it(t){var e=tt.call(this)||this;return e._value="string"==typeof t?parseInt(t):Math.floor(t),e}var ot,rt=(i(nt,ot=I),Object.defineProperty(nt.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(nt.prototype,"asLiteral",{get:function(){return this},enumerable:!0,configurable:!0}),nt.prototype.evaluate=function(t){return this._value},nt.prototype.toString=function(){return"'"+this._value+"'"},nt);function nt(t){var e=ot.call(this)||this;e._value=t.substr(1,t.length-2);for(var i="",o=0,r=!1;o<e._value.length;)"\\"!=e._value[o]||r?(r=!1,i+=e._value[o++]):(r=!0,o++);return e._value=i,e}var st,at=(i(lt,st=C),Object.defineProperty(lt.prototype,"identifier",{get:function(){return this._literal},enumerable:!0,configurable:!0}),lt.prototype.evaluate=function(t){return-651212==this._idKey&&(this._idKey=t.isIdentifier(this._literal)),t.evaluateIdentifier(this._idKey)},lt.prototype.toString=function(){return this._literal},lt);function lt(t){var e=st.call(this)||this;return e._idKey=-651212,e._literal=t,e}var ut,ht=(i(ct,ut=T),ct.prototype.prepareValue=function(){var t=this._indexer.asLiteral;if(t||this._indexer instanceof T&&(this._indexer.prepareValue(),t=this._indexer.getLiteral()),t){var e=t.value;"string"==typeof e?this._strIndex=e:this._intIndex=parseInt(e),this._capital&&this._strIndex&&(this._strIndex=this._strIndex.toUpperCase())}},ct.prototype.getLiteral=function(){return null},ct.prototype.evaluate=function(t){if(-1490313==this._idKey&&(this._idKey=t.isIdentifier(this._ident)),this._strIndex)return t.evaluateIndexerS(this._idKey,this._strIndex,this._capital);if(isNaN(this._intIndex)){var e=this._indexer.evaluate(t);return"string"==typeof e?t.evaluateIndexerS(this._idKey,e,this._capital):t.evaluateIndexerI(this._idKey,e)}return t.evaluateIndexerI(this._idKey,this._intIndex)},ct.prototype.toString=function(){return this._ident+"["+this._indexer.toString()+"]"},ct);function ct(t,e,i){var o=ut.call(this)||this;return o._idKey=-1490313,o._intIndex=NaN,o._strIndex=null,o._ident=t,o._indexer=e,o._capital=i,o}var pt,dt=(i(_t,pt=C),_t.prototype.prepareValue=function(){this._literal=this._factor.asLiteral,!this._literal&&this._factor instanceof C&&(this._factor.prepareValue(),this._literal=this._factor.getLiteral())},_t.prototype.getLiteral=function(){return null},_t);function _t(t){var e=pt.call(this)||this;return e._factor=t,e}var ft,yt=(i(mt,ft=dt),mt.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return e?e.length:0},mt.prototype.toString=function(){return"(len "+this._factor+")"},mt);function mt(t){return ft.call(this,t)||this}var gt,vt=(i(bt,gt=dt),bt.prototype.evaluate=function(t){return-(this._literal instanceof I?this._literal.value:this._factor.evaluate(t))},bt.prototype.toString=function(){return"-"+this._factor},bt);function bt(t){return gt.call(this,t)||this}var Ct,wt=(i(xt,Ct=dt),xt.prototype.evaluate=function(t){return this._literal instanceof I?this._literal.value:this._factor.evaluate(t)},xt.prototype.toString=function(){return"+"+this._factor},xt);function xt(t){return Ct.call(this,t)||this}var It,Et=(i(St,It=dt),St.prototype.evaluate=function(t){return!(this._literal instanceof I?this._literal.value:this._factor.evaluate(t))},St.prototype.toString=function(){return"(not "+this._factor+")"},St);function St(t){return It.call(this,t)||this}var Ot,Rt=(i(Dt,Ot=dt),Dt.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return Boolean(e)},Dt.prototype.toString=function(){return"(bool "+this._factor+")"},Dt);function Dt(t){return Ot.call(this,t)||this}var Pt,Tt=(i(kt,Pt=dt),kt.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return Number(e)},kt.prototype.toString=function(){return"(num "+this._factor+")"},kt);function kt(t){return Pt.call(this,t)||this}var Mt,Lt=(i(Ft,Mt=dt),Ft.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return String(e)},Ft.prototype.toString=function(){return"(str "+this._factor+")"},Ft);function Ft(t){return Mt.call(this,t)||this}var At,Vt=(i(Nt,At=dt),Nt.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return e instanceof Date&&(e=h(e.getFullYear(),4)+h(e.getMonth()+1,2)+h(e.getDate(),2)+h(e.getHours(),2)+h(e.getMinutes(),2)+h(e.getSeconds(),2)+h(e.getMilliseconds(),3)),String(e)},Nt.prototype.toString=function(){return"(datestr "+this._factor+")"},Nt);function Nt(t){return At.call(this,t)||this}var jt,Bt=(i($t,jt=dt),$t.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return e instanceof Date?e.getFullYear():null},$t.prototype.toString=function(){return"(year "+this._factor+")"},$t);function $t(t){return jt.call(this,t)||this}var Ht,Gt=(i(Ut,Ht=dt),Ut.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return e instanceof Date?e.getMonth()+1:null},Ut.prototype.toString=function(){return"(month "+this._factor+")"},Ut);function Ut(t){return Ht.call(this,t)||this}var Wt,zt=(i(Kt,Wt=dt),Kt.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return e instanceof Date?e.getDate():null},Kt.prototype.toString=function(){return"(day "+this._factor+")"},Kt);function Kt(t){return Wt.call(this,t)||this}var Yt,qt=(i(Xt,Yt=dt),Xt.prototype.evaluate=function(t){var e=this._literal instanceof I?this._literal.value:this._factor.evaluate(t);return e instanceof Date?e.getHours():null},Xt.prototype.toString=function(){return"(hour "+this._factor+")"},Xt);function Xt(t){return Yt.call(this,t)||this}var Jt,Zt=(i(Qt,Jt=dt),Qt.prototype.evaluate=function(t){var e=this._factor,i=e.getLiteral();if(e.getLiteral())return i.value;if(!e._rightExpr)return e._leftExpr.evaluate(t);var o=e._leftExpr.evaluate(t),r=e._rightExpr.evaluate(t);switch(e._operator){case 32:var n=Math.pow(10,r);return Math.floor(o*n)/n;default:throw new l("Unknown operator: "+e._operator)}},Qt.prototype.toString=function(){return"(rounddown "+this._factor+")"},Qt);function Qt(t){return Jt.call(this,t)||this}var te,ee=(i(ie,te=C),ie.prototype.addFactor=function(t){this._factors.push(t)},ie.prototype.addOperator=function(t){this._operators.push(t)},ie.prototype.isIdentifier=function(t){return 1==this._factors.length&&this._factors[0]instanceof at&&this._factors[0].identifier==t},ie.prototype.prepareValue=function(){var t,e,i;for(t=0,e=this._factors.length;t<e;t++)this._factors[t].prepareValue();0==this._operators.length&&(i=this._factors[0],this._literal=i.asLiteral,this._literal||(this._literal=i.getLiteral()))},ie.prototype.getLiteral=function(){return this._literal},ie.prototype.evaluate=function(t){if(this._literal)return this._literal.value;for(var e=this._factors.length,i=this._factors[0].evaluate(t),o=1;o<e;o++){var r=this._factors[o].evaluate(t);switch(this._operators[o-1]){case 11:i=i&&r;break;case 3:i*=r;break;case 2:i/=r;break;case 14:i=Math.floor(Math.floor(i)/Math.floor(r));break;case 15:i%=r;break;case 16:i<<=r;break;case 17:i>>=r}}return i},ie.prototype.toString=function(){var t="";if(this._literal)t=this._literal.toString();else if(1==this._factors.length)t=this._factors[0].toString();else{var e,i=this._factors.length;for(t="("+this._factors[0].toString(),e=1;e<i;e++){switch(this._operators[e-1]){case 11:t+=" and ";break;case 3:t+=" * ";break;case 2:case 14:t+=" / ";break;case 15:t+=" mod ";break;case 16:t+=" shl ";break;case 17:t+=" shr "}t+=this._factors[e].toString()}t+=")"}return t},ie);function ie(){var t=te.call(this)||this;return t._factors=[],t._operators=[],t._literal=null,t}var oe,re=(i(ne,oe=C),ne.prototype.addTerm=function(t){this._terms.push(t)},ne.prototype.addOperator=function(t){this._operators.push(t)},ne.prototype.isIdentifier=function(t){return 1==this._terms.length&&this._terms[0].isIdentifier(t)},ne.prototype.prepareValue=function(){for(var t=0,e=this._terms.length;t<e;t++)this._terms[t].prepareValue();0==this._operators.length&&(this._literal=this._terms[0].getLiteral())},ne.prototype.getLiteral=function(){return this._literal},ne.prototype.evaluate=function(t){if(this._literal)return this._literal.value;for(var e=this._terms.length,i=this._terms[0].evaluate(t),o=1;o<e;o++){var r=this._terms[o].evaluate(t);switch(this._operators[o-1]){case 4:i-=r;break;case 5:i+=r;break;case 18:i=i||r;break;case 19:i^=r}}return i},ne.prototype.toString=function(){var t="";if(this._literal)t=this._literal.toString();else if(1==this._terms.length)t=this._terms[0].toString();else{var e,i=this._terms.length;for(t="("+this._terms[0].toString(),e=1;e<i;e++){switch(this._operators[e-1]){case 4:t+=" - ";break;case 5:t+=" + ";break;case 18:t+=" or ";break;case 19:t+=" xor ";break;default:t+=" <<ERROR>> "}t+=this._terms[e].toString()}t+=")"}return t},ne);function ne(){var t=oe.call(this)||this;return t._terms=[],t._operators=[],t._literal=null,t}var se=(ae.prototype.syntaxError=function(t,e){throw new n(t,e)},ae.prototype.expected=function(t){if(t!=this._lexer.tokenId)throw new n("Token is not a expected kind ["+t+"]: "+this._lexer.tokenId,this._lexer.tokenLoc);this.nextToken()},ae.prototype.nextToken=function(){this._lexer.nextNoSpace()},ae.prototype.doExpression=function(){var t,e=null,i=this.doSimpleExpression();if(p[t=this._lexer.tokenId]){this.nextToken();var o=this.doSimpleExpression();o.prepareValue();var r=o.getLiteral();if(!(r instanceof L))throw new n("is operator's operand must be defined, null or empty: "+this._lexer.tokenId,null);e=new q(i,t,r)}else(e=new T)._leftExpr=i,d[this._lexer.tokenId]?(e._operator=this._lexer.tokenId,this.nextToken(),e._rightExpr=this.doSimpleExpression()):32==this._lexer.tokenId&&(e._operator=this._lexer.tokenId,this.nextToken(),e._rightExpr=this.doSimpleExpression());return e},ae.prototype.doSimpleExpression=function(){var t=new re;for(t.addTerm(this.doTerm());_[this._lexer.tokenId];)t.addOperator(this._lexer.tokenId),this.nextToken(),t.addTerm(this.doTerm());return t},ae.prototype.doTerm=function(){var t=new ee;for(t.addFactor(this.doFactor());f[this._lexer.tokenId];)t.addOperator(this._lexer.tokenId),this.nextToken(),t.addFactor(this.doFactor());return t},ae.prototype.doFactor=function(){var t=this._lexer.tokenId;switch(t){case 61:return this.doCharString();case 66:return this.doRoundOpen();case 10:return this.doIdentifier();case 64:return this.doInteger();case 63:return this.doNumber();case 4:return this.doMinus();case 5:return this.doPlus();case 13:return this.doNot();case 35:return this.doDefined();case 34:return this.doNull();case 36:return this.doEmpty();case 37:return this.doNaN();case 23:return this.doToBool();case 21:return this.doToNumber();case 20:return this.doToString();case 24:return this.doLength();case 90:return this.doToDateString();case 91:return this.doToYear();case 92:return this.doToMonth();case 93:return this.doToDay();case 94:return this.doToHour();case 95:return this.doRoundDown()}throw new n("Unkown token: "+t,this._lexer.tokenLoc)},ae.prototype.doCharString=function(){var t=this._lexer.token;return this.nextToken(),new rt(t)},ae.prototype.doRoundOpen=function(){this.nextToken();var t=this.doExpression();return this.expected(67),t},ae.prototype.doIdentifier=function(){var t=this._lexer.token;if(this.nextToken(),69!=this._lexer.tokenId)return new at(t);this.nextToken();var e=this.doExpression();return this.expected(70),new ht(t,e,0<=this._capitalIndexers.indexOf(t))},ae.prototype.doNumber=function(){var t=this._lexer.token;return this.nextToken(),new Z(t)},ae.prototype.doInteger=function(){var t=this._lexer.token;return this.nextToken(),new et(t)},ae.prototype.doMinus=function(){return this.nextToken(),new vt(this.doFactor())},ae.prototype.doPlus=function(){return this.nextToken(),new wt(this.doFactor())},ae.prototype.doNot=function(){return this.nextToken(),new Et(this.doFactor())},ae.prototype.doDefined=function(){return this.nextToken(),new V},ae.prototype.doNull=function(){return this.nextToken(),new G},ae.prototype.doEmpty=function(){return this.nextToken(),new B},ae.prototype.doNaN=function(){return this.nextToken(),new z},ae.prototype.doToBool=function(){return this.nextToken(),new Rt(this.doFactor())},ae.prototype.doToNumber=function(){return this.nextToken(),new Tt(this.doFactor())},ae.prototype.doToString=function(){return this.nextToken(),new Lt(this.doFactor())},ae.prototype.doLength=function(){return this.nextToken(),new yt(this.doFactor())},ae.prototype.doToDateString=function(){return this.nextToken(),new Vt(this.doFactor())},ae.prototype.doToYear=function(){return this.nextToken(),new Bt(this.doFactor())},ae.prototype.doToMonth=function(){return this.nextToken(),new Gt(this.doFactor())},ae.prototype.doToDay=function(){return this.nextToken(),new zt(this.doFactor())},ae.prototype.doToHour=function(){return this.nextToken(),new qt(this.doFactor())},ae.prototype.doRoundDown=function(){return this.nextToken(),new Zt(this.doFactor())},ae.prototype.parse=function(t,e){if(t){this._capitalIndexers=e||[],this._lexer.init(t),this.nextToken();var i=this.doExpression();return i&&i.prepareValue(),this._lexer.clear(),this._capitalIndexers=null,i}return null},ae.prototype.evaluate=function(t,e,i){return this.parse(t,i).evaluate(e)},ae.Default=new ae,ae);function ae(){this._node=null,this._capitalIndexers=null,this._lexer=new y}e.ExpressionParser=se});t(q);q.ExpressionSyntaxError,q.ExpressionEvaluationError,q.ExpressionRuntime,q.ExpressionNode,q.ExpressionParser;var X=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,a=(r=Y.EventAware,i(n,r),n.prototype._doDispose=function(){this._criteria=null,r.prototype._doDispose.call(this)},Object.defineProperty(n.prototype,"name",{get:function(){return this._name},set:function(t){this._name=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"criteria",{get:function(){return this._criteria},set:function(t){t!=this._criteria&&(this._criteria=t,this.criteriaChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t,this.changed()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"description",{get:function(){return this._description},set:function(t){this._description=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"active",{get:function(){return this._active},set:function(t){t!=this._active&&(this._active=t,this.changed())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t,this.changed()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"tag",{get:function(){return this._tag},set:function(t){this._tag=t},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this._text||this._name},n.prototype.changed=function(){this.fireEvent(n.CHANGED)},n.prototype.criteriaChanged=function(){},n.CHANGED="onColumnFilterChanged",n);function n(t){var e=r.call(this)||this;return e._active=!1,e._visible=!0,e.criteria=t,e}e.ColumnFilter=a;var s,l=(i(u,s=a),u.prototype._doDispose=function(){this._exprNode=null,this._model=null,s.prototype._doDispose.call(this)},u.prototype.prepare=function(t,e){t.setDataSource(e)},u.prototype.select=function(t,e,i){return!this._exprNode||(t.setData(e,i),this._exprNode.evaluate(t))},u.prototype.criteriaChanged=function(){this.parse()},u.prototype.parse=function(){this.criteria?this._exprNode=q.ExpressionParser.Default.parse(this.criteria,null):this._exprNode=null},u);function u(t){var e=s.call(this,t.criteria)||this;return e._model=t,e.parse(),e}e.ColumnFilterRun=l;var h,c=(h=Y.EventAware,i(p,h),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"activeCount",{get:function(){for(var t=0,e=0,i=this._items;e<i.length;e++)i[e].active&&t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"items",{get:function(){return this._items.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isVisible",{get:function(){for(var t=0,e=this._items;t<e.length;t++)if(e[t].visible)return!0;return!1},enumerable:!0,configurable:!0}),p.prototype.getOwner=function(){return this._owner},p.prototype.getItem=function(t){return this._items[t]},p.prototype.itemByName=function(t){return this._names[t]},p.prototype.indexOf=function(t){for(var e=this._items.length-1;0<=e;e--)if(this._items[e].name==t)return e;return-1},p.prototype.getActiveItems=function(t){for(var e=[],i=this._items.length-1;0<=i;i--)this._items[i].active==t&&e.push(this._items[i]);return e},p.prototype.assignFrom=function(t){if(t!==this){var e=this.clear(!1);if(t)for(var i=t instanceof Array?t:[t],o=i.length,r=0;r<o;r++)if((t=i[r])&&t.name){this.$_checkName(t.name);var n=new a(null);n.assignFrom(t),this._items.push(n),(this._names[t.name]=n).addListener(this)}(e||0<this.count)&&this.changed(null)}},p.prototype.clear=function(t){void 0===t&&(t=!0);var e=this._items.length;if(0<e){for(var i=0;i<e;i++)this._items[i].removeListener(this);return this._items.length=0,this._names={},t&&this.changed(null),!0}return!1},p.prototype.add=function(t,e){void 0===e&&(e=!0);var i=U.Utils.cast(t,a);i?this._items.indexOf(i)<0&&i.name&&this.$_checkName(i.name):t&&t.name&&(this.$_checkName(t.name),(i=new a(null)).assignFrom(t)),i&&(this._items.push(i),(this._names[i.name]=i).addListener(this),e&&this.changed(null))},p.prototype.addAll=function(t,e){if(t instanceof Array||!t||(t=[t]),t&&0<t.length){for(var i=0,o=t.length,r=0;r<o;r++){var n=U.Utils.cast(t[r],a);if(n?this._items.indexOf(n)<0&&n.name&&(e||this.$_checkName(n.name)):t[r]&&t[r].name&&(e||this.$_checkName(t[r].name),(n=new a(null)).assignFrom(t[r])),n){var s=this.indexOf(n.name);0<=s?(this._items[s]&&this._items[s].removeListener(this),this._items[s]=n):this._items.push(n),n.addListener(this),this._names[n.name]=n,i++}}0<i&&this.changed(null)}},p.prototype.remove=function(t){if(t){for(var e=this._items.length-1;0<=e;e--){var i=this._items[e];if(i.name==t)return this._items.splice(e,1),delete this._names[i.name],i.removeListener(this),this.changed(null),!0}return!1}},p.prototype.removeItems=function(t){if(t){for(var e=0,i=t.length-1;0<=i;i--){var o=this.indexOf(t[i]);if(0<=o){var r=this._items[o];this._items.splice(o,1),delete this._names[r.name],r.removeListener(this),e++}}0<e&&this.changed(null)}},p.prototype.activateItems=function(t,e){if(t){var i=0;this._updating=!0;try{for(var o=t.length-1;0<=o;o--){var r=this._names[t[o]];r&&r.active!=e&&(r._active=e,i++)}}finally{this._updating=!1}0<i&&this.changed(null)}},p.prototype.activateAll=function(t){var e=!1;this._updating=!0;try{for(var i=0,o=this._items.length;i<o;i++){var r=this._items[i];r.active!=t&&(r._active=t,e=!0)}}finally{this._updating=!1}e&&this.changed(null)},p.prototype.hideFilters=function(t,e){if(t)for(var i=0,o=t.length;i<o;i++){var r=this._names[t[i]];r&&(r.visible=!e)}},p.prototype.hideAllFilters=function(t){for(var e=0,i=this._items.length;e<i;e++){var o=this._items[e];o&&(o.visible=!t)}},p.prototype.toggleItems=function(t){if(t){var e=0;this._updating=!0;try{for(var i=t.length-1;0<=i;i--){var o=this._names[t[i]];o&&(o._active=!o.active,e++)}}finally{this._updating=!1}0<e&&this.changed(null)}},p.prototype.toggleAll=function(){var t=!1;this._updating=!0;try{for(var e=0,i=this._items.length;e<i;e++){var o=this._items[e];o._active=!o.active,t=!0}}finally{this._updating=!1}t&&this.changed(null)},p.prototype.changed=function(t){this._updating||this.fireEvent(a.CHANGED,t)},p.prototype.$_checkName=function(t){if(this._names.hasOwnProperty(t))throw new Error("Column filter already existes: "+t)},p.prototype.$_userFilterAdd=function(t,e){var i=t instanceof a?t:null;return i||(this.$_checkName(t.name),(i=new a(null)).assignFrom(t)),this.add(i,e),i},p.prototype.onColumnFilterChanged=function(t){this.changed(t)},p.prototype.onColumnFilterSelectorChanged=function(){this.changed(null)},p.prototype.onColumnFilterUserAdd=function(t,e,i){},p);function p(t){var e=h.call(this)||this;return e._items=[],e._names={},e._updating=!1,e._nextId=1,e._owner=t,e}e.ColumnFilterCollection=c;var d,_=(d=q.ExpressionRuntime,i(f,d),f.prototype._doDispose=function(){this._item=this._ds=null,d.prototype._doDispose.call(this)},f.prototype.setDataSource=function(t){this._ds=t,this._fieldCount=this._ds?this._ds.fieldCount:0},f.prototype.setData=function(t,e){this._item=t,this._field=e},f.prototype.isIdentifier=function(t){return t=t.toLowerCase(),f.IDENTS.hasOwnProperty(t)?f.IDENTS[t]:d.prototype.isIdentifier.call(this,t)},f.prototype.evaluateIdentifier=function(t){switch(t){case f.ID_VALUE:return this._item.getData(this._field);case f.ID_STATE:switch(this._item.rowState){case w.RowState.CREATED:return"c";case w.RowState.UPDATED:return"u";case w.RowState.DELETED:return"d";case w.RowState.CREATE_AND_DELETED:return"x"}return;case f.ID_CHANGED_CELL:var e=this._item.dataRow,i=this._field;return 0<=i&&this._item.rowState==w.RowState.UPDATED&&this._ds.isDataChanged(e,i);case f.ID_FIELD:return this._field;case f.ID_MAX:case f.ID_MIN:case f.ID_MEAN:return 0}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},f.prototype.evaluateIndexerI=function(t,e){if(this._item){if(t!=f.ID_VALUE&&t!=f.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);return this._item.getData(e)}},f.prototype.evaluateIndexerS=function(t,e,i){if(t!=f.ID_VALUE&&t!=f.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(this._ds){var o=i?this._ds.getFieldIndexC(e):this._ds.getFieldIndex(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);return this._item.getData(o)}},f.IDENTS={value:f.ID_VALUE=0,field:f.ID_FIELD=1,values:f.ID_VALUES=2,state:f.ID_STATE=3,changedcell:f.ID_CHANGED_CELL=4,min:f.ID_MAX=10,max:f.ID_MIN=11,mean:f.ID_MEAN=12},f);function f(){var t=d.call(this)||this;return t._field=-1,t._fieldCount=0,t}e.ColumnFilterRuntime=_});t(X);X.ColumnFilter,X.ColumnFilterRun,X.ColumnFilterCollection,X.ColumnFilterRuntime;var J=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Y.EventAware,i(s,r),s.prototype._doDispose=function(){this._grid=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"owner",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dirty",{get:function(){return this._dirty},enumerable:!0,configurable:!0}),s.prototype.clean=function(){this._dirty&&(this._dirty=!1)},s.prototype.invalidate=function(){this._grid&&this._grid.invalidate()},s.prototype.refreshOwner=function(){this._grid&&this._grid.refreshView()},s.prototype._changed=function(){this._doChanged(),this._dirty||(this._dirty=!0,this.refreshOwner())},s.prototype._doChanged=function(){},s);function s(t){var e=r.call(this)||this;return e._dirty=!1,e._grid=t,e}e.GridObject=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"visible",{get:function(){return this._visible},set:function(t){this._setVisible(t)},enumerable:!0,configurable:!0}),u.prototype._setVisible=function(t){t!=this._visible&&(this._visible=t,this._visibleChanged())},u.prototype._doChanged=function(){this._grid&&this._grid._visualObjectChanged(this)},u.prototype._visibleChanged=function(){this._changed()},u);function u(t){var e=a.call(this,t)||this;return e._visible=!0,e}e.VisualObject=l});t(J);J.GridObject,J.VisualObject;var E=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(o.prototype.clear=function(){this.count=0,this.sum=this.max=this.min=this.avg=this.vars=this.varsp=NaN},o);function o(t){this.field=t,this.count=0,this.sum=NaN,this.max=NaN,this.min=NaN,this.avg=NaN,this.vars=NaN,this.varsp=NaN,this.dataCount=0,this.dataAvg=NaN}e.FieldSummary=i});t(E);E.FieldSummary;var y=e(function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),(i=e.RestoreMode||(e.RestoreMode={})).NONE="none",i.EXPLICIT="explicit",i.AUTO="auto"});t(y);y.RestoreMode;var m=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=q.ExpressionRuntime,i(s,r),s.prototype.setValues=function(t,e){this._values=t,this._fields=e,this._fieldCount=e?e.length:0},s.prototype.isIdentifier=function(t){return t=t.toLowerCase(),s.IDENTS.hasOwnProperty(t)?s.IDENTS[t]:r.prototype.isIdentifier.call(this,t)},s.prototype.evaluateIdentifier=function(t){throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},s.prototype.evaluateIndexerI=function(t,e){if(this._values){if(t!=s.ID_VALUE&&t!=s.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);return this._values[e]}},s.prototype.evaluateIndexerS=function(t,e,i){if(t!=s.ID_VALUE&&t!=s.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(this._values&&this._fields){var o=this._fields.indexOf(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);return this._values[o]}},s.IDENTS={value:s.ID_VALUE=0,values:s.ID_VALUES=1},s);function s(){var t=r.call(this)||this;return t._values=null,t._fields=null,t._fieldCount=0,t}e.CalculateExpressionRuntime=n});t(m);m.CalculateExpressionRuntime;var g=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=(n.prototype.compare=function(t,e,i){return t.dataType==H.ValueType.NUMBER?Number(e)-Number(i):i<e?1:e<i?-1:0},n);function n(){}var s,a=(s=Error,i(l,s),l);function l(t){return s.call(this,t)||this}e.DataSourceError=a;var u,h=(u=Error,i(c,u),c);function c(){return u.call(this,"Client is editing (call grid.commit() or grid.cancel() first)")||this}e.ClientEditingError=h;var p,d=(p=Y.EventAware,i(_,p),_.prototype._doDispose=function(){try{this.$_internalClearFields(),this._fieldMap=null}catch(t){}this._fields=null,this._calcFields=null,this._fieldNames=null,this._fieldMap=null,this._boolParser=this._dateParser=null,this._comparers=null,this._clients=null,this._defComparer=null,p.prototype._doDispose.call(this)},Object.defineProperty(_.prototype,"subTypeEnabled",{get:function(){return this._subTypeEnabled},set:function(t){if(t!=this._subTypeEnabled){this._subTypeEnabled=t;for(var e=0,i=this._fields;e<i.length;e++)i[e].$_resetTypes()}},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"undoable",{get:function(){return this._undoable},set:function(t){this._undoable=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"insertable",{get:function(){return this._insertable},set:function(t){this._insertable=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"updatable",{get:function(){return this._updatable},set:function(t){this._updatable=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"deletable",{get:function(){return this._deletable},set:function(t){this._deletable=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"softDeleting",{get:function(){return this._softDeleting},set:function(t){this._softDeleting=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"deleteCreated",{get:function(){return this._deleteCreated},set:function(t){this._deleteCreated=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"checkStates",{get:function(){return this._checkStates},set:function(t){t!=this._checkStates&&(this._checkStates=t,this._doCheckStatesChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"restoreMode",{get:function(){return this._restoreMode},set:function(t){if(t!=this._restoreMode){var e=this._restoreMode;this._restoreMode=t,this._doRestoreModeChanged(e,t)}},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"strictRestore",{get:function(){return this._strictRestore},set:function(t){this._strictRestore=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._boolParser=t?new R.BooleanConverter(t):R.BooleanConverter.Default)},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&(this._datetimeFormat=t,this.$_createDateReader())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"baseYear",{get:function(){return this._baseYear},set:function(t){this._baseYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"amText",{get:function(){return this._amText},set:function(t){t!=this._amText&&(this._amText=t,this.$_createDateReader())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"pmText",{get:function(){return this._pmText},set:function(t){t!=this._pmText&&(this._pmText=t,this.$_createDateReader())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"alertClientError",{get:function(){return this._alertClientError},set:function(t){this._alertClientError=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"throwClientError",{get:function(){return this._throwClientError},set:function(t){this._throwClientError=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"commitBeforeDataEdit",{get:function(){return this._commitBeforeDataEdit},set:function(t){this._commitBeforeDataEdit=t},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"calculateRuntime",{get:function(){return this._calculateRuntime||(this._calculateRuntime=new m.CalculateExpressionRuntime),this._calculateRuntime},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"local",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"immediateUpdate",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"summarized",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"fieldCount",{get:function(){return this._fields.length},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"boolParser",{get:function(){return this._boolParser},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"dateParser",{get:function(){return this._dateParser},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"eventLocked",{get:function(){return 0<this._eventLock},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"canUndo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"canRedo",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"undoing",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"redoing",{get:function(){return!1},enumerable:!0,configurable:!0}),_.prototype.registerClient=function(t){t&&this._clients.indexOf(t)<0&&this._clients.push(t)},_.prototype.unregisterClient=function(t){if(t){var e=this._clients.indexOf(t);0<=e&&this._clients.splice(e,1)}},_.prototype.cancelClients=function(){for(var t=0,e=this._clients;t<e.length;t++)e[t].cancelDataEditing()},_.prototype.commitClients=function(){for(var t=0,e=this._clients;t<e.length;t++)e[t].commitDataEditing()},_.prototype.beginUpdate=function(){this._checkClientState(),this._eventLock++},_.prototype.endUpdate=function(t){void 0===t&&(t=!0),this._checkClientState(),this._eventLock=Math.max(0,this._eventLock-1),0==this._eventLock&&(t&&(0<this._resetLock?this._fireReset():this._fireRefresh(),0<this._countLock&&this._fireRowCountChanged()),this._resetLock=this._countLock=0)},_.prototype.addField=function(t,e,i){if(this._checkClientState()){var o=null;this.beginUpdate();try{(o=this.$_internalAddField(t))&&o.$_resetTypes(this)}finally{e&&this._doFieldsReset(),this.endUpdate()}return o}},_.prototype.clearFields=function(){this._checkClientState()&&0<this._fields.length&&(this.$_internalClearFields(),this._doFieldsReset())},_.prototype.setFields=function(t){if(this._checkClientState()){this.beginUpdate();try{if(this.$_internalClearFields(),t)for(var e=0,i=t.length;e<i;e++){var o=this.$_internalAddField(t[e]);o&&o.$_resetTypes(this)}}finally{this.endUpdate(),this._doFieldsReset()}}},_.prototype.getField=function(t){return this._fields[t]},_.prototype.getFields=function(){return this._fields.slice()},_.prototype.fieldByName=function(t){if(t)for(var e=t.toUpperCase(),i=0,o=this._fields;i<o.length;i++){var r=o[i];if(r.fieldName==e)return r}return null},_.prototype.getFieldNames=function(){var t,e=this._fields.length,i=[];for(t=0;t<e;t++)i.push(this._fields[t].fieldName);return i},_.prototype.getOrgFieldNames=function(){var t,e=this._fields.length,i=[];for(t=0;t<e;t++)i.push(this._fields[t].orgFieldName);return i},_.prototype.getFieldName=function(t){return this._checkFieldIndex(t),this._fields[t].fieldName},_.prototype.getOrgFieldName=function(t){return this._checkFieldIndex(t),this._fields[t].orgFieldName},_.prototype.getFieldIndex=function(t){if(t){var e=t.toUpperCase();if(e in this._fieldMap)return this._fieldMap[e]}return-1},_.prototype.getFieldIndexC=function(t){return t in this._fieldMap?this._fieldMap[t]:-1},_.prototype.getBaseField=function(t){return 0<=t&&t<this._fields.length?this.getFieldIndex(this._fields[t].baseField):-1},_.prototype.getValueType=function(t){return this._fields[t].dataType},_.prototype.getDefaultValue=function(t){return this._fields[t].defaultValue()},_.prototype.hasData=function(t){return!1},_.prototype.canUpdateField=function(t,e){if(0<=e&&e<this._fields.length){if(!this._fields[e].updatable&&0<=t)try{var i=this.getRowState(t);return!i||i==w.RowState.CREATED||i==w.RowState.CREATE_AND_DELETED}catch(t){return!1}return!0}return!1},_.prototype.getDataComparer=function(t){if(0<=t){var e=this._comparers[t];return e||null}},_.prototype.setDataComparer=function(t,e){this._comparers[t]=e||void 0},_.prototype.canSummarize=function(t){if(0<=t&&t<this.fieldCount){var e=this.getValueType(t);if(e==H.ValueType.BOOLEAN||e==H.ValueType.NUMBER||H.ValueType.DATE)return!0}return!1},_.prototype.findRow=function(t,e){},_.prototype.getDistinctValues=function(t,e,i){return void 0===i&&(i=H.SortDirection.ASCENDING),null},_.prototype.exportToJson=function(){},_.prototype.exportToCsv=function(t){},_.prototype.exportToXml=function(){},_.prototype.canUpdateRow=function(t){return!1},_.prototype.canAppendRow=function(){return!1},_.prototype.canInsertRow=function(t){return!1},_.prototype.canDeleteRow=function(t){return!1},_.prototype.undo=function(){},_.prototype.redo=function(){},_.prototype.clearCommandStack=function(){},_.prototype.getClientsBusy=function(){var t={busy:!1,cnt:0,client:null};if(this.disposing)return t;for(var e=this._clients.length;e--;)this._clients[e].isDataEditing()&&(t.busy=!0,t.cnt++,t.client=this._clients[e]);return t},_.prototype._checkClientState=function(){if(this.getClientsBusy().busy){if(this._throwClientError)throw new h;return this._alertClientError&&U.Utils.alert((new h).message),!1}return!0},_.prototype._checkFieldIndex=function(t){if(t<0||t>=this._fields.length)throw new a("Invalid field index: "+t)},_.prototype.$_internalClearFields=function(){this._checkClientState();for(var t=0,e=this._fields;t<e.length;t++)e[t].$_setIndex(-1);this._fields.splice(0,this._fields.length),this._calcFields.splice(0,this._calcFields.length),this._fieldNames.splice(0,this._fieldNames.length),this._fieldMap={}},_.prototype.$_internalInsertField=function(t,e){this._checkClientState();var i=this._fields.length;if(t<0||i<t)throw new a("index is out of bounds:"+t);if(e){e.$_prepare(this),this._fields.splice(t,0,e),this._fieldNames.splice(t,0,e.fieldName),e.calculated&&this._calcFields.push(e),e.$_setIndex(t);for(var o=(this._fieldMap[e.fieldName]=t)+1;o<=i;o++)(e=this._fields[o]).$_setIndex(o),this._fieldMap[e.fieldName]=o;return t}return-1},_.prototype.$_addField=function(t,e,i){if(!t)throw new a("fieldName must be exists.");if(0<=this.getFieldIndex(t))throw new a("fieldName is already exists: "+t);var o=new f.DataField(t,e,i);return this.$_internalInsertField(this._fields.length,o),o},_.prototype.$_internalAddField=function(t){var e=null;return"string"==typeof t?e=this.$_addField(t,H.ValueType.TEXT,0):t instanceof f.DataField?(e=t.clone(),this.$_internalInsertField(this._fields.length,e)):t&&(e=this.$_addField(t.fieldName,t.dataType||H.ValueType.TEXT,t.length)).assignFrom(t),e},_.prototype._internalCalculateValues=function(t,e){var i=this._calcFields;if(0<i.length){for(var o=[],r=0;r<t.length;r++)o[r]=this.getField(r).readValue(t[r]);r=0;for(var n=i.length;r<n;r++){var s=i[r],a=this._fieldMap[s.fieldName];t[a]=o[a]=s.readValue(s.$_calculateValue(this._calculateRuntime,e,s.orgFieldName,this._fieldNames,this.getOrgFieldNames(),o))}}},_.prototype.refreshFieldFormats=function(){for(var t=0,e=this._fields;t<e.length;t++)e[t].$_refreshFormats(this)},_.prototype.refreshFieldFormat=function(t){t&&t.$_refreshFormats(this)},_.prototype.$_createOutputRows=function(t,e,i){void 0===i&&(i=0);var o=this.fieldCount,r=t.length;e instanceof I.DataOutputOptions||(e=new I.DataOutputOptions(e));for(var n=e.nullDateText,s=e.nullText,a=e.nanText,l=0;l<o;l++){var u=this.getField(l),h=u.dataType,c=u.orgFieldName,p=void 0,d=void 0;if(h==H.ValueType.DATETIME&&((p=e.datetimeCallback)||(d=e.datetimeWriter)||null!=n&&null!=n))if(p)for(var _=0;_<r;_++)(m=t[_])[c]=p(_+i,c,m[c]);else for(_=0;_<r;_++){var f=(m=t[_])[c];m[c]=f?d?d.getText(m[c]):f:n}else if(h==H.ValueType.BOOLEAN&&((p=e.booleanCallback)||(d=e.booleanFormatter)))if(p)for(_=0;_<r;_++)(m=t[_])[c]=p(_+i,c,m[c]);else for(_=0;_<r;_++)(m=t[_])[c]=d.formatValue(m[c]);else if(h==H.ValueType.NUMBER&&((p=e.numberCallback)||(d=e.numberFormatter)||null!=a&&null!=a))if(p)for(_=0;_<r;_++)(m=t[_])[c]=p(_+i,c,m[c]);else for(_=0;_<r;_++){var y=(m=t[_])[c];m[c]=null==y||isNaN(y)?a:d?d.format(y):y}else if(null!=s&&null!=s)for(_=0;_<r;_++){var m,g=(m=t[_])[c];m[c]=null==g||null==g?s:g}}},_.prototype.$_sortRows=function(t,e,i,o,r){do{var n=o,s=r,a=t[Math.floor((o+r)/2)];do{for(;n<=s&&!(i(e,a,t[n])<=0);)n++;for(;n<=s&&!(0<=i(e,a,t[s]));)s--;if(n<=s){if(n!=s){var l=t[n];t[n]=t[s],t[s]=l}n++,s--}}while(n<=s);o<s&&this.$_sortRows(t,e,i,o,s),o=n}while(o<r)},_.prototype.$_createDateReader=function(){this._datetimeFormat?(this._dateParser=new x.DateTimeReader(this._datetimeFormat),this._dateParser.amText=this._amText,this._dateParser.pmText=this._pmText,this._dateParser.baseYear=this._baseYear):this._dateParser=x.DateTimeReader.Default},_.prototype._doCheckStatesChanged=function(){},_.prototype._doRestoreModeChanged=function(t,e){},_.prototype._doFieldsReset=function(){},_.prototype._refreshClients=function(){},_.prototype._fireReset=function(){},_.prototype._fireRowCountChanged=function(){},_.prototype._fireRefresh=function(){},_.prototype._fireCommandStackChanged=function(t,e){this._eventLock<=0&&this.fireEvent(_.COMMAND_STACK_CHANGED,t,e)},_.COMMAND_STACK_CHANGED="onDataSourceCommandStackChanged",_);function _(){var t=p.call(this)||this;return t._subTypeEnabled=!0,t._undoable=!1,t._insertable=!0,t._updatable=!0,t._deletable=!0,t._softDeleting=!1,t._deleteCreated=!1,t._checkStates=!0,t._restoreMode=y.RestoreMode.NONE,t._strictRestore=!1,t._booleanFormat=null,t._datetimeFormat=null,t._baseYear=2e3,t._amText="AM",t._pmText="PM",t._alertClientError=!0,t._throwClientError=!1,t._commitBeforeDataEdit=!1,t._fields=[],t._calcFields=[],t._fieldNames=[],t._fieldMap={},t._defComparer=new r,t._comparers=[],t._boolParser=R.BooleanConverter.Default,t._dateParser=x.DateTimeReader.Default,t._eventLock=0,t._resetLock=0,t._countLock=0,t._clients=[],t}e.DataSource=d});t(g);g.DataSourceError,g.ClientEditingError,g.DataSource;var d=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype.connect=function(t){},s.prototype.disconnect=function(){},s.prototype.clearRows=function(){},s.prototype.setRows=function(){},s.prototype.setRowCount=function(t){},s.prototype.insertRow=function(t){},s.prototype.insertRows=function(t,e){},s.prototype.removeRow=function(t){},s.prototype.removeRows=function(t){},s.prototype.updateRow=function(t){},s.prototype.updateRows=function(t,e){},s.prototype.setValue=function(t,e){},s.prototype.moveRow=function(t,e){},s.prototype.moveRows=function(t,e,i){},s.prototype.changeStates=function(t){},s);function s(){return r.call(this)||this}e.DataTag=n;var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){this._owner=null,this._tags=null,a.prototype._doDispose.call(this)},u.prototype.add=function(t){null!=this._tags&&t&&this._tags.indexOf(t)<0&&(this._tags.push(t),t.connect(this._owner))},u.prototype.remove=function(t){if(null!=this._tags&&t){var e=this._tags.indexOf(t);0<=e&&(this._tags.splice(e,1),t.disconnect())}},u.prototype.clearRows=function(){if(null!=this._tags)for(var t=0,e=this._tags;t<e.length;t++)e[t].clearRows()},u.prototype.setRows=function(){if(null!=this._tags)for(var t=0,e=this._tags;t<e.length;t++)e[t].setRows()},u.prototype.setRowCount=function(t){if(null!=this._tags)for(var e=0,i=this._tags;e<i.length;e++)i[e].setRowCount(t)},u.prototype.insertRow=function(t){if(null!=this._tags)for(var e=0,i=this._tags;e<i.length;e++)i[e].insertRow(t)},u.prototype.insertRows=function(t,e){if(null!=this._tags)for(var i=0,o=this._tags;i<o.length;i++)o[i].insertRows(t,e)},u.prototype.removeRow=function(t){if(null!=this._tags)for(var e=0,i=this._tags;e<i.length;e++)i[e].removeRow(t)},u.prototype.removeRows=function(t){if(null!=this._tags)for(var e=0,i=this._tags;e<i.length;e++)i[e].removeRows(t)},u.prototype.updateRow=function(t){if(null!=this._tags)for(var e=0,i=this._tags;e<i.length;e++)i[e].updateRow(t)},u.prototype.updateRows=function(t,e){if(null!=this._tags)for(var i=0,o=this._tags;i<o.length;i++)o[i].updateRows(t,e)},u.prototype.setValue=function(t,e){if(null!=this._tags)for(var i=0,o=this._tags;i<o.length;i++)o[i].setValue(t,e)},u.prototype.moveRow=function(t,e){if(null!=this._tags)for(var i=0,o=this._tags;i<o.length;i++)o[i].moveRow(t,e)},u.prototype.moveRows=function(t,e,i){if(null!=this._tags)for(var o=0,r=this._tags;o<r.length;o++)r[o].moveRows(t,e,i)},u);function u(t){var e=a.call(this)||this;return e._tags=[],e._owner=t,e}e.DataTagCollection=l});t(d);d.DataTag,d.DataTagCollection;var a=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=(r.prototype.dispose=function(){this._exprNode=null},Object.defineProperty(r.prototype,"criteria",{get:function(){return this._criteria},set:function(t){t!=this._criteria&&(this._criteria=t,this._exprNode=t?q.ExpressionParser.Default.parse(t,r.CAPITAL_INDEXERS):null)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isActive",{get:function(){return this._active},set:function(t){this._active=t},enumerable:!0,configurable:!0}),r.prototype.select=function(t,e,i){return!this._exprNode||(t.setRow(e,i),this._exprNode.evaluate(t))},r.CAPITAL_INDEXERS=["value","values","len"],r);function r(t){this._active=!1,this._exprNode=null,this.criteria=t}e.DataFilter=n;var s=(a.prototype.dispose=function(){return this._filters&&this._filters.forEach(function(t,e){t.dispose()}),this._filters=null},Object.defineProperty(a.prototype,"filterMode",{get:function(){return this._filterMode},set:function(t){var e=t?t.toLocaleLowerCase():t;e!=this._filterMode&&(this._filterMode=e,this._or=this._filterMode==a.FILTER_OR)},enumerable:!0,configurable:!0}),a.prototype.load=function(t){if(!t||t instanceof Array||(t=[t]),this._filters=[],t instanceof Array)for(var e=0,i=t.length;e<i;e++){var o=null,r=t[e];r&&("string"==typeof r?o=new n(r):r.criteria&&(o=new n(r.criteria))),o&&this._filters.push(o)}},a.prototype.prepare=function(t,e){t.prepare(e)},a.prototype.select=function(t,e,i){var o=this._filters,r=o.length;if(this._or){for(var n=0;n<r;n++)if(1==o[n].select(t,e,i))return!0;return!1}for(n=0;n<r;n++)if(0==o[n].select(t,e,i))return!1;return!0},a.FILTER_AND="and",a.FILTER_OR="or",a);function a(t,e){this._filterMode=a.FILTER_AND,this._or=!1,this.load(t),e&&(this._filterMode=e)}e.DataFilterCollection=s;var l,u=(l=q.ExpressionRuntime,i(h,l),h.prototype._doDispose=function(){this._ds=null,l.prototype._doDispose.call(this)},h.prototype.prepare=function(t){this._ds=t,this._fieldCount=t?t.fieldCount:0},h.prototype.setRow=function(t,e){this._row=t,this._values=e},h.prototype.isIdentifier=function(t){return t=t.toLowerCase(),h.IDENTS.hasOwnProperty(t)?h.IDENTS[t]:l.prototype.isIdentifier.call(this,t)},h.prototype.evaluateIdentifier=function(t){switch(t){case h.ID_ROW:return this._row}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},h.prototype.evaluateIndexerI=function(t,e){if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);switch(t){case h.ID_VALUE:case h.ID_VALUES:return this._values[e]}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},h.prototype.evaluateIndexerS=function(t,e,i){switch(t){case h.ID_VALUE:case h.ID_VALUES:var o=this.getField(e,i);return this._values[o]}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},h.prototype.getField=function(t,e){var i=e?this._ds.getFieldIndexC(t):this._ds.getFieldIndex(t);if(i<0||i>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exits:"+t);return i},h.IDENTS={row:h.ID_ROW=0,value:h.ID_VALUE=1,values:h.ID_VALUES=2},h);function h(){var t=l.call(this)||this;return t._ds=null,t._fieldCount=0,t._row=-1,t._values=null,t}e.DataFilterRuntime=u});t(a);a.DataFilter,a.DataFilterCollection,a.DataFilterRuntime;var C=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=g.DataSource,i(s,r),s.prototype._doDispose=function(){this._tags=this._tags.dispose(),this._filters=this._filters&&this._filters.dispose(),this._filterRuntime=this._filterRuntime.dispose(),this._commandListeners=null,r.prototype._doDispose.call(this)},s.prototype.editCommandStackChanged=function(t,e,i){this._fireCommandStackChanged(e,i)},Object.defineProperty(s.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterRuntime",{get:function(){return this._filterRuntime},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"deletedCount",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tags",{get:function(){return this._tags},enumerable:!0,configurable:!0}),s.prototype.addTag=function(t){this._tags.add(t)},s.prototype.removeTag=function(t){this._tags.remove(t)},s.prototype.setFilters=function(t,e){!t||t instanceof a.DataFilterCollection?(this._filters=t,this._filters&&e&&(this._filters.filterMode=e)):this._filters=new a.DataFilterCollection(t,e)},s.prototype.getRowObject=function(t){if(t<0||t>=this.rowCount)throw new g.DataSourceError("row is out of range: "+t);for(var e={},i=0,o=this.fieldCount;i<o;i++){var r=this.getOrgFieldName(i),n=this.getValue(t,i);e[r]=n}return e},s.prototype.objectToRow=function(t){var e=[];if(t)for(var i=0,o=this.fieldCount;i<o;i++){var r=this.getOrgFieldName(i);t.hasOwnProperty(r)&&(e[i]=t[r])}return e},s.prototype.equalValues=function(t,e,i){if(e===i)return!0;var o=this.getField(t),r=this.getValue(e,t),n=this.getValue(i,t);return o.equalValues(r,n)},s.prototype.equalTexts=function(t,e,i){if(e===i)return!0;this.getField(t);var o=this.getValue(e,t),r=this.getValue(i,t);return null==o?null==r:null!=r&&o.toLowerCase()==r.toLowerCase()},s.prototype.sameValues=function(t,e,i){if(e===i)return!0;var o=this.getField(t),r=this.getValue(e,t),n=this.getValue(i,t);return o.sameValues(r,n)},s.prototype.compareValues=function(t,e,i){return 0},s.prototype.compareTexts=function(t,e,i){return 0},s.prototype.compareNumbers=function(t,e,i){return 0},s.prototype.compareBools=function(t,e,i){return 0},s.prototype.compareObjects=function(t,e,i){return 0},s.prototype.summarize=function(t,e){return!1},s.prototype.summarizeRange=function(t,e,i){return!1},s.prototype.copyRows=function(t,e,i,o){},Object.defineProperty(s.prototype,"hiddenCount",{get:function(){return 0},enumerable:!0,configurable:!0}),s.prototype.isHiddenRow=function(t){return!1},s.prototype.registerCommandListener=function(t){t&&this._commandListeners.indexOf(t)<0&&this._commandListeners.push(t)},s.prototype.unregisterCommandListener=function(t){var e=this._commandListeners.indexOf(t);0<=e&&this._commandListeners.splice(e,1)},s.prototype._doFieldsReset=function(){this._fireReset()},s.prototype._refreshClients=function(){this.fireRefreshClients()},s.prototype._keepCommandStates=function(t){if(0<this._commandListeners.length)return this._commandListeners[0].getCommandStates(t)},s.prototype._yieldCommandStates=function(t,e){if(0<this._commandListeners.length)return this._commandListeners[0].setCommandStates(t,e)},s.prototype.fireDisposed=function(){this._eventLock<=0&&this.fireEvent(s.DISPOSED)},s.prototype._fireReset=function(){this._eventLock<=0?this.fireEvent(s.RESET):this._resetLock++},s.prototype._fireRefresh=function(){this._eventLock<=0&&this.fireEvent(s.REFRESH)},s.prototype.fireRefreshClients=function(){this._eventLock<=0&&this.fireEvent(s.REFRESH)},s.prototype._fireRowCountChanged=function(){this._eventLock<=0?this.fireEvent(s.ROW_COUNT_CHANGED):this._countLock++},s.prototype.fireRowInserting=function(t,e){return!(this._eventLock<=0)||this.fireConfirmEvent(s.ROW_INSERTING,t,e)},s.prototype.fireRowInserted=function(t){this._eventLock<=0&&(this.fireEvent(s.ROW_INSERTED,t),this.fireEvent(s.DATA_CHANGED))},s.prototype.fireRowsInserted=function(t,e){this._eventLock<=0&&(this.fireEvent(s.ROWS_INSERTED,t,e),this.fireEvent(s.DATA_CHANGED))},s.prototype.fireRowRemoving=function(t){return!(this._eventLock<=0)||this.fireConfirmEvent(s.ROW_REMOVING,t)},s.prototype.fireRowRemoved=function(t){this._eventLock<=0&&(this.fireEvent(s.ROW_REMOVED,t),this.fireEvent(s.DATA_CHANGED))},s.prototype.fireRowsRemoving=function(t){return!(this._eventLock<=0)||this.fireConfirmEvent(s.ROWS_REMOVING,t)},s.prototype.fireRowsRemoved=function(t){this._eventLock<=0&&(this.fireEvent(s.ROWS_REMOVED,t),this.fireEvent(s.DATA_CHANGED))},s.prototype.fireRowUpdating=function(t,e){return!(this._eventLock<=0)||this.fireConfirmEvent(s.ROW_UPDATING,t,e)},s.prototype.fireRowUpdated=function(t){this._eventLock<=0&&(this.fireEvent(s.ROW_UPDATED,t),this.fireEvent(s.DATA_CHANGED))},s.prototype.fireRowsUpdated=function(t,e){this._eventLock<=0&&(this.fireEvent(s.ROWS_UPDATED,t,e),this.fireEvent(s.DATA_CHANGED))},s.prototype.fireRowMoving=function(t,e){return!(this._eventLock<=0)||this.fireConfirmEvent(s.ROW_MOVING,t,e)},s.prototype.fireRowMoved=function(t,e){this._eventLock<=0&&this.fireEvent(s.ROW_MOVED,t,e)},s.prototype.fireRowsMoving=function(t,e,i){return!(this._eventLock<=0)||this.fireConfirmEvent(s.ROWS_MOVING,t,e,i)},s.prototype.fireRowsMoved=function(t,e,i){this._eventLock<=0&&this.fireEvent(s.ROWS_MOVED,t,e,i)},s.prototype.fireValueChanging=function(t,e,i){return!(this._eventLock<=0)||this.fireConfirmEvent(s.VALUE_CHANGING,t,e,i)},s.prototype.fireValueChanged=function(t,e){this._eventLock<=0&&(this.fireEvent(s.VALUE_CHANGED,t,e),this.fireEvent(s.DATA_CHANGED))},s.prototype.fireRowStateChanged=function(t){this._eventLock<=0&&this.fireEvent(s.STATE_CHANGED,t)},s.prototype.fireRowStatesChanged=function(t){this._eventLock<=0&&this.fireEvent(s.STATES_CHANGED,t)},s.prototype.fireRowStatesCleared=function(){this._eventLock<=0&&this.fireEvent(s.STATES_CLEARED)},s.prototype.fireRestoreRows=function(t){this._eventLock<=0&&this.fireEvent(s.RESTOREROWS,t)},s.prototype.fireRowHided=function(t,e){this._eventLock<=0&&this.fireEvent(s.ROW_HIDED,t,e)},s.DISPOSED="onDataProvderDisposed",s.RESET="onDataProviderReset",s.REFRESH="onDataProviderRefresh",s.REFRESH_CLIENT="onDataProviderRefreshClient",s.ROW_COUNT_CHANGED="onDataProviderRowCountChanged",s.ROW_INSERTING="onDataProviderRowInserting",s.ROW_INSERTED="onDataProviderRowInserted",s.ROWS_INSERTED="onDataProviderRowsInserted",s.ROW_REMOVING="onDataProviderRowRemoving",s.ROW_REMOVED="onDataProviderRowRemoved",s.ROWS_REMOVING="onDataProviderRowsRemoving",s.ROWS_REMOVED="onDataProviderRowsRemoved",s.ROW_UPDATING="onDataProviderRowUpdating",s.ROW_UPDATED="onDataProviderRowUpdated",s.ROWS_UPDATED="onDataProviderRowsUpdated",s.ROW_MOVING="onDataProviderRowMoving",s.ROW_MOVED="onDataProviderRowMoved",s.ROWS_MOVING="onDataProviderRowsMoving",s.ROWS_MOVED="onDataProviderRowsMoved",s.VALUE_CHANGING="onDataProviderValueChanging",s.VALUE_CHANGED="onDataProviderValueChanged",s.DATA_CHANGED="onDataProviderDataChanged",s.STATE_CHANGED="onDataProviderStateChanged",s.STATES_CHANGED="onDataProviderStatesChanged",s.STATES_CLEARED="onDataProviderStatesCleared",s.RESTOREROWS="onDataProviderRestoreRows",s.ROW_HIDED="onDataProviderRowHided",s);function s(){var t=r.call(this)||this;return t._tags=new d.DataTagCollection(t),t._filterRuntime=new a.DataFilterRuntime,t._commandListeners=[],t}e.DataProvider=n});t(C);C.DataProvider;var Z=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ITEM_EXT_CHECKED=1,e.ITEM_UNCHECKABLE=4;e.ITEM_EXT_SAVEEXPAND=16,e.ITEM_EXT_FILTERED=32;var r,n,s="_parent";(n=r=e.ItemState||(e.ItemState={})).NORMAL="normal",n.FOCUSED="focused",n.UPDATING="updating",n.INSERTING="inserting",n.APPENDING="appending",n.DUMMY="dummy",e.ItemState_isEditing=function(t){return t==r.UPDATING||t==r.INSERTING||t==r.APPENDING},e.ItemState_isInserting=function(t){return t==r.INSERTING||t==r.APPENDING};var a=(l.prototype.dispose=function(){this._parent=null},Object.defineProperty(l.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parentIndex",{get:function(){return this._parent?this._parent._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){for(var t=this._parent;t&&1<t.level;)t=t._parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"childIndex",{get:function(){return this._parent?this._parent.indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"level",{get:function(){return this._parent?this._parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isData",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isDataRow",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._parent&&0<=this._index},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"displayLevel",{get:function(){return this.level},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"provider",{get:function(){return this._parent&&this._parent.provider},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataSource",{get:function(){return this._parent&&this._parent.dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataRow",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataId",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rowState",{get:function(){var t=this.dataRow;if(0<=t){var e=this.dataSource;return e?e.getRowState(t):w.RowState.NONE}return w.RowState.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"itemState",{get:function(){return r.NORMAL},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"checked",{get:function(){return 0!=(this._extents&e.ITEM_EXT_CHECKED)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"checkable",{get:function(){return 0==(this._extents&e.ITEM_UNCHECKABLE)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"editable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"readOnly",{get:function(){return 0!=(8&this._extents)},set:function(t){this._extents=t?8|this._extents:-9&this._extents},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"resizable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"merged",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return 65536&this._extents?(4294836224&this._extents)>>>17:NaN},set:function(t){t=Math.floor(t),isNaN(t)?this._extents&=-65537:(t=Math.max(0,Math.min(65534,t))<<17,this._extents=t|131071&this._extents|65536)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"heights",{get:function(){return this._heights},set:function(t){this._heights=t},enumerable:!0,configurable:!0}),l.prototype.getHeight=function(t){return this._heights[t]},l.prototype.setChecked=function(t,e){var i=this.provider;i&&i.checkItem(this,t,void 0,e)},l.prototype.setCheckable=function(t){var e=this.provider;e&&e.setCheckable(this,t)},l.prototype.getAncestor=function(t){if(t<this.level){for(var e=this._parent;e.level>t;)e=e._parent;return e}return this instanceof d?this:null},l.prototype.getAncestors=function(){var t=null,e=this._parent;if(e)for(t=[];t.push(e),e=e._parent;);return t},l.prototype.isDescendantOf=function(t){if(t){for(var e=this._parent;e&&e!=t;)e=e._parent;return e===t}return!1},l.prototype.getData=function(t){var e=this.dataSource;return e?e.getValue(this.dataRow,t):void 0},l.prototype.setData=function(t,e){var i=this.dataSource;i&&i.setValue(this.dataRow,t,e)},l.prototype.getRowData=function(){var t=this.dataRow;if(0<=t){var e=this.dataSource;if(e)return e.getRow(t)}return null},l.prototype.getRowObject=function(){var t=this.dataRow;if(0<=t){var e=this.dataSource;if(e)return e.getRowObject(t)}return null},l.prototype.isChanged=function(t){var e=this.dataSource;return e?e.isDataChanged(this.dataRow,t):void 0},l.prototype.canEdit=function(){return!1},l.prototype._setIndex=function(t){this._index=t},l.prototype._setChecked=function(t){this._extents=t?this._extents|e.ITEM_EXT_CHECKED:this._extents&~e.ITEM_EXT_CHECKED},l.prototype._setCheckable=function(t){this._extents=t?this._extents&~e.ITEM_UNCHECKABLE:this._extents|e.ITEM_UNCHECKABLE},l);function l(){this._id=0,this._index=-1,this._extents=0}e.GridItem=a;var u,h=(i(c,u=a),Object.defineProperty(c.prototype,"dataRowId",{get:function(){return this._dataRowId},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isData",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isDataRow",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dataRow",{get:function(){return this._dataRow},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dataId",{get:function(){return this.dataSource.getRowId(this._dataRow)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isLeaf",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"resizable",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"displayLevel",{get:function(){return 0<=this._displayLevel?this._displayLevel:this.level},enumerable:!0,configurable:!0}),c.prototype.canEdit=function(){return!0},c.prototype.$_setDisplayLevel=function(t){this._displayLevel=t},c);function c(t){var e=u.call(this)||this;return e._displayLevel=-1,e._dataRow=t,e}e.GridRow=h;var p,d=(i(_,p=a),Object.defineProperty(_.prototype,"expanded",{get:function(){return this._expanded},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"collapsed",{get:function(){return!this.expanded},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"count",{get:function(){return this._children.length},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"children",{get:function(){return this._children.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"first",{get:function(){return 0<this._children.length?this._children[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"last",{get:function(){var t=this._children.length;return 0<t?this._children[t-1]:null},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"firstItem",{get:function(){if(0<this._children.length){var t=this._children[0];return t instanceof _?t.firstItem:t}return null},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"firstDataItem",{get:function(){if(0<this._children.length)for(var t=0,e=this._children.length;t<e;t++){if(this._children[t]instanceof _)return this._children[t].firstDataItem;if(this._children[t]instanceof h)return this._children[t]}return null},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"lastItem",{get:function(){return this.getLastItem(!1)},enumerable:!0,configurable:!0}),_.prototype.getLastItem=function(t){return null},Object.defineProperty(_.prototype,"lastDataItem",{get:function(){var t=this._children.length;if(0<t)for(;0<t;t--){var e=this._children[t-1];if(e instanceof _)return e.lastDataItem;if(e instanceof h)return e}return null},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"descendantCount",{get:function(){return this._descendantCount},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"expandable",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"collapsable",{get:function(){return!0},enumerable:!0,configurable:!0}),_.prototype.getItem=function(t){if(t<0||t>=this._children.length)throw new RangeError("index is invalid: "+t);return this._children[t]},_.prototype.getRows=function(){var t=[];return this.$_collectRows(this,t),t},_.prototype.getFooterIndex=function(t){return 0},_.prototype.itemOfRow=function(t){for(var e=this._children.length;e--;)if(this._children[e].dataRow==t)return this._children[e];return null},_.prototype.indexOf=function(t){for(var e=this._children.length-1;0<=e;e--)if(this._children[e]==t)return e;return-1},_.prototype.isDescendant=function(t){if(t&&t!==this){for(var e=t._parent;e&&e!==this;)e=e._parent;return e===this}return!1},_.prototype.getDescendants=function(s){if((!s||this._expanded)&&this._children&&0<this._children.length){var t=[];return function t(e,i){for(var o=e.count,r=0;r<o;r++){var n=e.getItem(r);i.push(n),n instanceof _&&(!s||n.expanded)&&t(n,i)}}(this,t),t}return null},_.prototype.clear=function(){this._summaries=null,this._children.length=0,this._descendantCount=0},_.prototype.insert=function(t,e){this._addChild(e,t)},_.prototype.add=function(t){this._addChild(t,-1)},_.prototype.addAll=function(t){this._addChildren(t)},_.prototype.remove=function(t){var e=this.indexOf(t);0<=e&&(this._children.splice(e,1),t instanceof a&&(t[s]=null))},_.prototype.setItem=function(t,e){if(t&&e&&t!==e){var i=this._removeChild(t);this._insertChild(i,e),e._index=t.index}},_.prototype.setExpanded=function(t,e,i){t==this._expanded&&!i||(t?this.provider.expand(this,e,i,0):this.provider.collapse(this,e,i))},_.prototype.getNumber=function(t){var e=this.$_getSummary(t);return e instanceof E.FieldSummary?e.count:e?e.length:this._descendantCount},_.prototype.getDataCount=function(t){throw new Error("Not implemented.")},_.prototype.getSum=function(t){var e=this.$_getSummary(t);if(e instanceof E.FieldSummary)return e.sum;if(e){for(var i=this.dataSource,o=e.length,r=0,n=0;n<o;n++){var s=i.getValue(e[n],t);isNaN(s)||(r+=s)}return r}return NaN},_.prototype.getDataSum=function(t){throw new Error("Not implemented.")},_.prototype.getMax=function(t){var e=this.$_getSummary(t);if(e instanceof E.FieldSummary)return e.max;if(e){var i=this.dataSource,o=e.length,r=void 0;if(1<o){r=NaN;for(var n=0;r=i.getValue(e[n++],t),isNaN(r=null==r?void 0:r)&&n<o;);for(;n<o;){var s=i.getValue(e[n++],t);!isNaN(s=null==s?void 0:s)&&r<s&&(r=s)}return r}if(1==o)return null==(r=i.getValue(e[0],t))?void 0:r}return NaN},_.prototype.getMin=function(t){var e=this.$_getSummary(t);if(e instanceof E.FieldSummary)return e.min;if(e){var i=this.dataSource,o=e.length,r=void 0;if(1<o){r=NaN;for(var n=0;r=i.getValue(e[n++],t),isNaN(r=null==r?void 0:r)&&n<o;);for(;n<o;){var s=i.getValue(e[n++],t);!isNaN(s=null==s?void 0:s)&&s<r&&(r=s)}return r}if(1==o)return null==(r=i.getValue(e[0],t))?void 0:r}return NaN},_.prototype.getAvg=function(t){var e=this.$_getSummary(t);if(e instanceof E.FieldSummary)return e.avg;if(e){var i=this.dataSource,o=e.length,r=void 0;if(1<o){for(var n=r=0;n<o;n++)r+=i.getValue(e[n],t);return r/o}if(1==o)return r=i.getValue(e[0],t)}return NaN},_.prototype.getVar=function(t,e){var i=this.$_getSummary(t);if(i instanceof E.FieldSummary)return i.vars;if(i&&this.provider.summaryMode==H.SummaryMode.STATISTICAL){var o=this.dataSource,r=i.length;if(1<r){for(var n=0,s=0;s<r;s++)n+=o.getValue(i[s],t);var a=n/r;for(s=n=0;s<r;s++)n+=Math.pow(o.getValue(i[s],t)-a,2);return n/=r-e}if(1==r)return 0}return NaN},_.prototype.getStdev=function(t,e){var i=this.$_getSummary(t);if(i instanceof E.FieldSummary)return 0==e?Math.sqrt(i.varsp):Math.sqrt(i.vars);if(i&&this.provider.summaryMode==H.SummaryMode.STATISTICAL){var o=this.dataSource,r=i.length;if(1<r){for(var n=0,s=0;s<r;s++)n+=o.getValue(i[s],t);var a=n/r;for(s=n=0;s<r;s++)n+=Math.pow(o.getValue(i[s],t)-a,2);return n=Math.sqrt(n/(r-e))}if(1==r)return 0}return NaN},Object.defineProperty(_.prototype,"isLeaf",{get:function(){return!1},enumerable:!0,configurable:!0}),_.prototype._setExpanded=function(t){this._expanded=t},_.prototype._incDescendants=function(t){void 0===t&&(t=1),this._descendantCount+=t},_.prototype._insertChild=function(t,e){this._children.splice(t,0,e),e instanceof a&&(e[s]=this)},_.prototype._addChild=function(t,e){t&&this.indexOf(t)<0&&(e<0?this._children.push(t):this._children.splice(e,0,t),t[s]=this)},_.prototype._addChildren=function(t){var e;if(t&&0<(e=t.length))for(var i=0;i<e;i++){var o=t[i];o&&this.indexOf(o)<0&&(o[s]=this)._children.push(o)}},_.prototype._removeChild=function(t){var e=this.indexOf(t);return 0<=e&&(this._children.splice(e,1),t instanceof a&&(t[s]=null)),e},_.prototype._exchangeItems=function(t,e){if(t<0||t>=this._children.length)throw new RangeError("index1 is out of range: "+t);if(e<0||e>=this._children.length)throw new RangeError("index2 is out of range: "+e);if(t!==e){var i=this._children[t];this._children[t]=this._children[e],this._children[e]=i}},_.prototype._moveChild=function(t,e){var i=this._children.length;if(t<0||i<=t)throw new RangeError("index is out of range: "+t);var o=Math.min(Math.max(t+e,0),i-1),r=this._children[t];if(e<0)for(var n=t;o<n;n--)this._children[n]=this._children[n-1];else for(n=t;n<o;n++)this._children[n]=this._children[n+1];this._children[o]=r},_.prototype.$_collectRows=function(t,e){for(var i=t.count,o=0;o<i;o++){var r=t.getItem(o);if(r instanceof _)this.$_collectRows(r,e);else{var n=r.dataRow;0<=n&&e.push(n)}}},_.prototype.$_getSummary=function(t){var e=this.dataSource;if(!(e instanceof C.DataProvider))return null;null==this._summaries&&(this._summaries={});var i=this._summaries?this._summaries[t]:null;return i||e.canSummarize(t)&&(i=this.$_summarize(t,e))&&(this._summaries[t]=i),i},_.prototype.$_summarize=function(t,e){var i=this.provider.summaryMode;if(i==H.SummaryMode.NONE)return null;if(null==this._rows&&(this._rows=[],this.$_collectRows(this,this._rows)),3<this._rows.length&&e.canSummarize(t)){var o=new E.FieldSummary(t);e.summarizeRange(o,this._rows,i==H.SummaryMode.STATISTICAL)}return this._rows},_);function _(){var t=p.call(this)||this;return t._children=[],t._expanded=!1,t._descendantCount=0,t._summaries=null,t._rows=null,t}e.GroupItem=d;var f,y=(i(m,f=d),Object.defineProperty(m.prototype,"groupField",{get:function(){return this._groupField},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"footer",{get:function(){return this._footer},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"footerCount",{get:function(){return this._footers},enumerable:!0,configurable:!0}),m.prototype.getFooter=function(t){return t=this.indexOf(this._footer)+t,this._children[t]},m.prototype.getFooterIndex=function(t){return t.$_footerIndex},m.prototype.isFooter=function(t){if(t===this._footer)return!0;if(1<this._footers)for(var e=this._children,i=e.length-1;0<=i;i--){if(e[i]===t)return!0;if(e[i]===this._footer)break}return!1},m.prototype._addChild=function(t,e){f.prototype._addChild.call(this,t,e),t instanceof v&&(this._footer||(this._footer=t),this._footers++)},m);function m(t){var e=f.call(this)||this;return e._footers=0,e._groupField=t,e}e.GroupItemImpl=y;var g,v=(i(b,g=a),Object.defineProperty(b.prototype,"expandable",{get:function(){return this._expandable},set:function(t){this._expandable=t},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isLeaf",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"isData",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"displayLevel",{get:function(){return this._expandable?this.level-1:this.level},enumerable:!0,configurable:!0}),b);function b(){var t=g.call(this)||this;return t._expandable=!1,t.$_footerIndex=0,t}e.GroupFooter=v});t(Z);Z.ITEM_EXT_CHECKED,Z.ITEM_UNCHECKABLE,Z.ITEM_EXT_SAVEEXPAND,Z.ITEM_EXT_FILTERED,Z.ItemState,Z.ItemState_isEditing,Z.ItemState_isInserting,Z.GridItem,Z.GridRow,Z.GroupItem,Z.GroupItemImpl,Z.GroupFooter;var S=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Z.GroupItemImpl,i(s,r),Object.defineProperty(s.prototype,"provider",{get:function(){return this._provider},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"level",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"expanded",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isLeaf",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataSource",{get:function(){return this._provider.dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"expandable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collapsable",{get:function(){return!1},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this,-1)||this;return e._provider=t,e}e.RootItem=n;var a,l=(a=Y.EventAware,i(u,a),u.prototype._doDispose=function(){return this._rootItem.dispose(),null},Object.defineProperty(u.prototype,"hideDeleted",{get:function(){return this._hideDeleted},set:function(t){t!=this._hideDeleted&&(this._hideDeleted=t,this._hideDeletedChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"summaryMode",{get:function(){return H.SummaryMode.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"fixedCount",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxItemCount",{get:function(){return 0},set:function(t){},enumerable:!0,configurable:!0}),u.prototype.setFixed=function(t,e,i){},u.prototype.attachItem=function(t){t._parent=this._rootItem},u.prototype.getItemsByIndices=function(t){var e=[];if(t)for(var i=0,o=t.length;i<o;i++){var r=this.getItem(t[i]);r&&e.push(r)}return e},u.prototype.getIndexOfRow=function(t){var e=this.getItemOfRow(t);return e?e.index:-1},u.prototype.getIndicesOfRows=function(t){var e=[],i=t?t.length:0;if(i)for(var o=0;o<i;o++){var r=this.getItemOfRow(t[o]);e.push(r?r.index:-1)}return e},u.prototype.getItemsByRows=function(t,e){void 0===e&&(e=!1);for(var i=[],o=t?t.length:0,r=0;r<o;r++){var n=this.getItemOfRow(t[r],e);n&&i.push(n)}return i},u.prototype.exchange=function(t,e){},u.prototype.setCheckable=function(t,e){t&&e!=t.checkable&&(t._setCheckable(e),this._fireCheckableChanged(t))},u.prototype.checkItem=function(t,e,i,o){if(t){var r=t.checked;i?(this._clearChecked(),e&&this._setChecked(t,!0),e!=r&&o&&this._fireItemChecked(t),this._fireRefreshClient()):e!=r&&(this._setChecked(t,e),o?this._fireItemChecked(t):this._fireRefreshClient()),this._fireItemCheckChanged([t],e)}},u.prototype.checkItems=function(t,e,i){if(t&&0<t.length){for(var o=0,r=t.length;o<r;o++){var n=t[o];n instanceof Z.GridItem&&this._setChecked(n,e)}i?this._fireItemsChecked(t,e):this._fireRefreshClient()}this._fireItemCheckChanged(t,e)},u.prototype.checkAll=function(t,e,i,o,r){var n=this.itemCount;if(i)for(var s=0;s<n;s++){var a=this.getItem(s);a.checkable&&this._setChecked(a,t)}else for(s=0;s<n;s++)this._setChecked(this.getItem(s),t);o?this._fireItemAllChecked(t):this._fireRefreshClient(),this._fireItemCheckChanged(null,t)},u.prototype._setCheckItem=function(t,e){t.$_setChecked(e)},u.prototype._clearDisplayLevels=function(){},u.prototype.hasCellStyle=function(){return!1},u.prototype.setCellStyle=function(t,e,i){},u.prototype.setCellStyles=function(t,e,i){},u.prototype.clearCellStyles=function(){},u.prototype.removeCellStyle=function(t){},u.prototype.checkCellStyle=function(t,e){return!1},u.prototype.getCellStyle=function(t,e){return null},u.prototype.canUpdate=function(t,e){if(t){var i=t.dataRow,o=this.dataSource,r=t.itemState,n=Z.ItemState_isInserting(r);return(0<=i||n)&&o&&(n||o.canUpdateRow(i))&&o.canUpdateField(i,e)}return!1},u.prototype.canAppend=function(){var t=this.dataSource;return t&&t.canAppendRow()},u.prototype.canInsert=function(t){if(t){var e=t.dataRow,i=this.dataSource;return i&&i.canInsertRow(e)}return!1},u.prototype.canDelete=function(t){if(t){var e=t.dataRow,i=this.dataSource;return 0<=e&&i&&i.canDeleteRow(e)}return!1},u.prototype.findItem=function(t,e,i,o,r){return-1},u.prototype.getSum=function(t){return NaN},u.prototype.getMax=function(t){return NaN},u.prototype.getMin=function(t){return NaN},u.prototype.getAvg=function(t){return NaN},u.prototype.getVar=function(t){return NaN},u.prototype.getVarp=function(t){return NaN},u.prototype.getStdev=function(t){return NaN},u.prototype.getStdevp=function(t){return NaN},Object.defineProperty(u.prototype,"isIndexing",{get:function(){return this._indexing},enumerable:!0,configurable:!0}),u.prototype.clearRowHeights=function(){for(var t=!1,e=this.itemCount-1;0<=e;e--){var i=this.getItem(e),o=i.height;isNaN(o)||(i.height=NaN,t=!(i.heights=null))}return t},Object.defineProperty(u.prototype,"rootItem",{get:function(){return this._rootItem},enumerable:!0,configurable:!0}),u.prototype._createRootItem=function(){return new n(this)},u.prototype._hideDeletedChanged=function(){},u.prototype.$_canFire=function(){return this._eventLock<=0},u.prototype._setChecked=function(t,e){t._setChecked(e)},u.prototype._clearChecked=function(){for(var t=0,e=this.itemCount;t<e;t++)this._setChecked(this.getItem(t),!1)},u.prototype._resetItemIndicies=function(t){if(this._indexing)for(var e=t,i=this.itemCount;e<i;e++)this.getItem(e)._index=e},u.prototype._setExpanded=function(t,e){t._setExpanded(e)},u.prototype._resetItemIndex=function(t){var e=this.getItem(t);e&&(e._index=t)},u.prototype._incDescendents=function(t,e){t._descendantCount+=e,t.parent&&this._incDescendents(t.parent,e)},u.prototype._copyExtents=function(t,e){t instanceof Z.GridItem&&Z.GridItem},u.prototype._fireReset=function(){this._eventLock<=0&&this.fireEvent(u.RESET)},u.prototype._fireRefresh=function(){this._eventLock<=0&&this.fireEvent(u.REFRESH)},u.prototype._fireRefreshClient=function(){this._eventLock<=0&&this.fireEvent(u.REFRESH_CLIENT)},u.prototype._fireItemInserted=function(t){this._eventLock<=0&&this.fireEvent(u.ITEM_INSERTED,t)},u.prototype._fireItemDeleted=function(t){this._eventLock<=0&&this.fireEvent(u.ITEM_DELETED,t)},u.prototype._fireItemUpdated=function(t){this._eventLock<=0&&this.fireEvent(u.ITEM_UPDATED,t)},u.prototype._fireCheckableChanged=function(t){this._eventLock<=0&&this.fireEvent(u.CHECKABLE_CHANGED,t)},u.prototype._fireItemChecked=function(t){this._eventLock<=0&&this.fireEvent(u.ITEM_CHECKED,t)},u.prototype._fireItemsChecked=function(t,e){this._eventLock<=0&&this.fireEvent(u.ITEMS_CHECKED,t,e)},u.prototype._fireItemAllChecked=function(t){this._eventLock<=0&&this.fireEvent(u.ITEM_ALL_CHECKED,t)},u.prototype._fireItemCheckChanged=function(t,e){this.fireEvent(u.ITEMCHECK_CHANGED,t,e)},u.prototype._fireRowStateChanged=function(t){this._eventLock<=0&&this.fireEvent(u.ROW_STATE_CHANGED,t)},u.prototype._fireRowStatesChanged=function(t){this._eventLock<=0&&this.fireEvent(u.ROW_STATES_CHANGED,t)},u.prototype._fireRowStatesCleared=function(){this._eventLock<=0&&this.fireEvent(u.ROW_STATES_CLEARED)},u.prototype._fireSort=function(t,e,i){this._eventLock<=0&&this.fireEvent(u.SORT,t,e,i)},u.prototype._fireSorted=function(){this._eventLock<=0&&this.fireEvent(u.SORTED)},u.prototype._fireFilterAdded=function(t,e){this._eventLock<=0&&this.fireEvent(u.FILTER_ADDED,t,e)},u.prototype._fireFilterRemoved=function(t,e){this._eventLock<=0&&this.fireEvent(u.FILTER_REMOVED,t,e)},u.prototype._fireFilterCleared=function(t){this._eventLock<=0&&this.fireEvent(u.FILTER_CLEARED,t)},u.prototype._fireFilterAllCleared=function(){this._eventLock<=0&&this.fireEvent(u.FILTER_ALL_CLEARED)},u.prototype._fireFiltered=function(t,e){this._eventLock<=0&&this.fireEvent(u.FILTERED,t,e)},u.prototype._fireCommandStackChanged=function(t,e){this._eventLock<=0&&this.fireEvent(u.COMMAND_STACK_CHANGED,t,e)},u.RESET="onItemProviderReset",u.REFRESH="onItemProviderRefresh",u.REFRESH_CLIENT="onItemProviderRefreshClient",u.ITEM_INSERTED="onItemProviderItemInserted",u.ITEM_DELETED="onItemProviderItemDeleted",u.ITEM_UPDATED="onItemProviderItemUpdated",u.CHECKABLE_CHANGED="onItemProviderCheckableChanged",u.ITEM_CHECKED="onItemProviderItemChecked",u.ITEMS_CHECKED="onItemProviderItemsChecked",u.ITEM_ALL_CHECKED="onItemProviderItemAllChecked",u.ROW_STATE_CHANGED="onItemProviderRowStateChanged",u.ROW_STATES_CHANGED="onItemProviderRowStatesChanged",u.ROW_STATES_CLEARED="onItemProviderRowStatesCleared",u.SORT="onItemProviderSort",u.SORTED="onItemProviderSorted",u.FILTER_ADDED="onItemProviderFilterAdded",u.FILTER_REMOVED="onItemProviderFilterRemoved",u.FILTER_CLEARED="onItemProviderFilterCleared",u.FILTER_ALL_CLEARED="onItemProviderFilterAllCleared",u.FILTERED="onItemProviderFiltered",u.ITEMCHECK_CHANGED="onItemProviderItemCheckChanged",u.COMMAND_STACK_CHANGED="onItemProviderCommandStackChanged",u);function u(t){var e=a.call(this)||this;return e._hideDeleted=!1,e._eventLock=0,e._indexing=t,e._rootItem=e._createRootItem(),e}e.ItemProvider=l;var h,c=(i(p,h=l),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"source",{get:function(){return this._source},set:function(t){t!=this._source&&(this._source&&this._source.removeListener(this),this._clearItems(),this._source=t,this._source&&(this._populateItems(),this._source.addListener(this)))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dataSource",{get:function(){return this._source&&this._source.dataSource},set:function(t){this._source&&(this._source.dataSource=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"fixedCount",{get:function(){return this._source?this._source.fixedCount:0},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"maxItemCount",{get:function(){return this._source?this._source.maxItemCount:0},set:function(t){this._source&&(this._source.maxItemCount=t)},enumerable:!0,configurable:!0}),p.prototype.setFixed=function(t,e,i){this._source&&this._source.setFixed(t,e,i)},p.prototype.getIndexOfRow=function(t){return this._source?this._source.getIndexOfRow(t):-1},p.prototype.getItemOfRow=function(t){return this._source?this._source.getItemOfRow(t):null},p.prototype._refreshItems=function(){this._source&&this._source._refreshItems()},p.prototype._clearDisplayLevels=function(){this._source&&this._source._clearDisplayLevels()},p.prototype.setCellStyle=function(t,e,i){this._source&&this._source.setCellStyle(t,e,i)},p.prototype.removeCellStyle=function(t){this._source&&this._source.removeCellStyle(t)},p.prototype.clearCellStyles=function(){this._source&&this._source.clearCellStyles()},p.prototype._initialize=function(){},p.prototype._clearItems=function(){},p.prototype._populateItems=function(){this._resetItemIndicies(0)},p.prototype.onItemProviderReset=function(t){this._populateItems(),this._fireReset()},p.prototype.onItemProviderRefresh=function(t){this._populateItems(),this._fireRefresh()},p.prototype.onItemProviderRefreshClient=function(t){this._fireRefreshClient()},p.prototype.onItemProviderItemInserted=function(t,e){this._resetItemIndicies(0),this._fireItemInserted(e)},p.prototype.onItemProviderItemDeleted=function(t,e){this._resetItemIndicies(0),this._fireItemDeleted(e)},p.prototype.onItemProviderItemUpdated=function(t,e){this._resetItemIndicies(0),this._fireItemUpdated(e)},p.prototype.onItemProviderCheckableChanged=function(t,e){this._fireCheckableChanged(e)},p.prototype.onItemProviderItemChecked=function(t,e){this._fireItemChecked(e)},p.prototype.onItemProviderItemsChecked=function(t,e,i){this._fireItemsChecked(e,i)},p.prototype.onItemProviderItemAllChecked=function(t,e){this._fireItemAllChecked(e)},p.prototype.onItemProviderItemCheckChanged=function(t,e,i){this._fireItemCheckChanged(e,i)},p.prototype.onItemProviderRowStateChanged=function(t,e){this._fireRowStateChanged(e)},p.prototype.onItemProviderRowStatesChanged=function(t,e){this._fireRowStatesChanged(e)},p.prototype.onItemProviderRowStatesCleared=function(t){this._fireRowStatesCleared()},p.prototype.onItemProviderFilterAdded=function(t,e,i){},p.prototype.onItemProviderFilterRemoved=function(t,e,i){},p.prototype.onItemProviderFilterCleared=function(t,e){},p.prototype.onItemProviderFilterAllCleared=function(t){},p.prototype.onItemProviderFiltered=function(t){},p.prototype.onItemProviderSort=function(t,e,i){},p.prototype.onItemProviderSorted=function(t){},p.prototype.onItemProviderCommandStackChanged=function(t,e,i){this._fireCommandStackChanged(e,i)},p);function p(t,e){var i=h.call(this,e)||this;return i._initialize(),i.source=t,i}e.ProxyItemProvider=c});t(S);S.RootItem,S.ItemProvider,S.ProxyItemProvider;var b=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Error,i(s,r),s);function s(t){return r.call(this,t)||this}e.EditCommandError=n;var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){},u.prototype.undo=function(){},u.prototype.redo=function(t){},u.prototype.execute=function(){return this.redo(!1)},u);function u(){return a.call(this)||this}e.EditCommand=l;var h,c=(i(p,h=l),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},p.prototype.undo=function(){},p.prototype.redo=function(t){},p.prototype.execute=function(){return this.redo(!1)},p);function p(){return h.call(this)||this}e.EditCommandGruop=c;var d,_=(d=Y.EventAware,i(f,d),f.prototype._doDispose=function(){this._owner=null,this._commands=null,d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"length",{get:function(){return this._commands.length},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"canUndo",{get:function(){return 0<=this._current},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"canRedo",{get:function(){return this._commands.length>this._current+1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"undoing",{get:function(){return this._undoing},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"redoing",{get:function(){return this._redoing},enumerable:!0,configurable:!0}),f.prototype.undo=function(){if(this.canUndo){var t=this._commands[this._current];this._undoing=!0;try{t.undo()}finally{this._undoing=!1}this._current=this._current-1,this._changed()}},f.prototype.redo=function(t){var e;if(this.canRedo){var i=this._current+1,o=this._commands[i];this._redoing=!0;try{e=o.redo(!0)}finally{this._redoing=!1}this._current=i,this._changed()}return e},f.prototype.execute=function(t){if(t){var e=t.execute();return this._current++,this._commands[this._current]=t,this.$_shrink(this._current+1),this._changed(),e}},f.prototype.flush=function(){var t=this._commands.length;if(0<t){for(;t--;)this._commands[t].dispose();this._commands=[],this._current=-1,this._changed()}},f.prototype._changed=function(){null!=this._owner&&this._owner.editCommandStackChanged(this,this.canUndo,this.canRedo)},f.prototype.$_shrink=function(t){if(0<=t&&t<this._commands.length){for(var e=this._commands.length-1;t<=e;e--)this._commands[e].dispose();this._commands.splice(t,this._commands.length-t)}},f);function f(t){var e=d.call(this)||this;return e._commands=[],e._current=-1,e._undoing=!1,e._redoing=!1,e._owner=t,e}e.EditCommandStack=_});t(b);b.EditCommandError,b.EditCommand,b.EditCommandGruop,b.EditCommandStack;var D=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s,r=(s=Z.GridRow,i(n,s),Object.defineProperty(n.prototype,"values",{get:function(){},set:function(t){},enumerable:!0,configurable:!0}),n.prototype.beginEdit=function(t,e){},n.prototype.setValue=function(t,e){},Object.defineProperty(n.prototype,"resizable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemState",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editable",{get:function(){return!0},enumerable:!0,configurable:!0}),n.prototype.getData=function(t){return null},n.prototype.setData=function(t,e){},n.prototype.getRowData=function(){return null},n.prototype.getRowObject=function(){return null},n.prototype._clearDisplayLevels=function(){},n);function n(t,e,i,o,r){var n=s.call(this,o)||this;return n._started=!1,n._checkDiff=!1,n._strictDiff=!1,n._target=e,t.attachItem(n),n._setIndex(i),n._state=r,n.$_setDisplayLevel(e?e.displayLevel:0),n}e.DummyEditItem=r;var a,f=(a=Z.GridRow,i(l,a),Object.defineProperty(l.prototype,"values",{get:function(){return this._values.concat()},set:function(t){var e=this.provider,i=this.dataSource,o=i.fieldCount;if(t instanceof Array){o=Math.min(o,t.length);for(var r=0;r<o;r++){var n=i.getField(r),s=this._values[r],a=n.readValue(t[r]);this._values[r]=a,this._started&&!n.equalValues(s,a)&&e._editItemCellUpdated(this,r,s,a)}}else if(t)for(r=0;r<o;r++){var l=i.getOrgFieldName(r);t.hasOwnProperty(l)&&(n=i.getField(r),s=this._values[r],a=n.readValue(t[l]),this._values[r]=a,this._started&&!n.equalValues(s,a)&&e._editItemCellUpdated(this,r,s,a))}},enumerable:!0,configurable:!0}),l.prototype.beginEdit=function(t,e){this._started=!0,this._checkDiff=t,this._strictDiff=e},l.prototype.setValue=function(t,e){var i=this.dataSource;if(t<0&&t>=i.fieldCount)throw new g.DataSourceError("field index is out of bounds: "+t);var o=i.getField(t),r=this._values[t];e=o.readValue(e),this._values[t]=e,this._started&&!o.equalValues(r,e)&&this.provider._editItemCellUpdated(this,t,r,e)},Object.defineProperty(l.prototype,"resizable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"itemState",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"editable",{get:function(){return!0},enumerable:!0,configurable:!0}),l.prototype.getData=function(t){if(t<0&&t>=this.dataSource.fieldCount)throw new RangeError("field index is out of bounds: "+t);return this._values[t]},l.prototype.setData=function(t,e){var i=this.dataSource;if(t<0&&t>=i.fieldCount)throw new RangeError("field index is out of bounds: "+t);var o=i.getField(t),r=this._values[t];e=o.readValue(e);var n=!this._checkDiff;(n=n||(this._strictDiff?!o.equalValues(r,e):!o.sameValues(r,e)))&&(this.provider,this._values[t]=e,this.provider._editItemCellUpdated(this,t,r,e),this.provider._editItemCellEdited(this,t))},l.prototype.getRowData=function(){return this._values.concat()},l.prototype.getRowObject=function(){var t=this.dataSource;if(t){for(var e={},i=0,o=t.fieldCount;i<o;i++)e[t.getOrgFieldName(i)]=this._values[i];return e}return null},l.prototype._clearDisplayLevels=function(){},l);function l(t,e,i,o,r){var n=a.call(this,o)||this;return n._values=[],n._started=!1,n._checkDiff=!1,n._strictDiff=!1,n._target=e,t.attachItem(n),n._setIndex(i),n._state=r,n.$_setDisplayLevel(e?e.displayLevel:0),n}e.EditItem=f;var u,h=(u=S.ProxyItemProvider,i(c,u),c.prototype._doDispose=function(){this._saveDs=null,u.prototype._doDispose.call(this)},c.prototype.isDataEditing=function(){return this.isEditing()},c.prototype.cancelDataEditing=function(){this.isEditing()&&this.fireCancelRequest()},c.prototype.commitDataEditing=function(){this.isEditing()&&this.fireCommitRequest()},c.prototype.editCommandStackChanged=function(t,e,i){var o=this._saveDs;o?this._fireCommandStackChanged(e||o.canUndo,i||o.canRedo):this._fireCommandStackChanged(e,i)},Object.defineProperty(c.prototype,"isCheckDiff",{get:function(){return this._checkDiff},set:function(t){this._checkDiff=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isCheckCellDiff",{get:function(){return this._checkCellDiff},set:function(t){this._checkCellDiff=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isStrictDiff",{get:function(){return this._strictDiff},set:function(t){this._strictDiff=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"editingItem",{get:function(){return this._commiting||this.isEditing()?this._editingItem:null},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isUpdating",{get:function(){return this._editingState==Z.ItemState.UPDATING},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isInserting",{get:function(){return this._editingState==Z.ItemState.INSERTING},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isAppending",{get:function(){return this._editingState==Z.ItemState.APPENDING},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"undoable",{get:function(){return this._undoable&&this._saveDs&&this._saveDs.undoable},set:function(t){t!=this._undoable&&(this._undoable=t,this._commands.flush(),this._saveDs.undoable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cancelWhenLastUndo",{get:function(){return this._cancelWhenLastUndo},set:function(t){this._cancelWhenLastUndo=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"canUndo",{get:function(){return this._commands.canUndo||this._saveDs&&this._saveDs.canUndo},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"canRedo",{get:function(){return this._commands.canRedo||this._saveDs&&this._saveDs.canRedo},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"undoing",{get:function(){return this._commands.undoing},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"redoing",{get:function(){return this._commands.redoing},enumerable:!0,configurable:!0}),c.prototype.isEditing=function(t){return Z.ItemState_isEditing(this._editingState)&&(!t||t===this._editingItem)},c.prototype.isEdited=function(t){return Z.ItemState_isEditing(this._editingState)&&(!t||t===this._editingItem)&&this._modified},c.prototype.setDiffs=function(t,e,i){this._checkDiff=t,this._checkCellDiff=e,this._strictDiff=i},c.prototype.edit=function(t){if(this.isEditing())return!0;if(t)try{return this._beginUpdate(t),!0}catch(t){throw this.cancel(),t}return!1},c.prototype.editData=function(t,e,i){var o;if(t&&(o=this.dataSource)&&0<=e&&e<o.fieldCount){if(!this.isEditing())try{return this._beginUpdate(t),!0}catch(t){throw this.cancel(),t}this._editingItem.setData(e,i)}return!1},c.prototype.append=function(t){if(!this.isEditing())try{return this._beginAppend(t),!0}catch(t){throw this.cancel(),t}return!1},c.prototype.insert=function(t,e,i,o){if(!this.isEditing())try{return this._beginInsert(t,e,i,o),!0}catch(t){throw this.cancel(),t}return!1},c.prototype.cancelDummy=function(){this._dummyEditItem&&this._cancelDummyEdit()},c.prototype.cancel=function(){this.isEditing()&&this._cancelEdit()},c.prototype.commit=function(){if(this.isEditing()){this._commiting=!0;try{var t=this.dataSource;if(t){if(this._editingState==Z.ItemState.UPDATING&&this.isCheckDiff){for(var e=this._editingItem.values,i=e.length,o=this.isStrictDiff,r=!1,n=0;n<i;n++)if(o){if(!t.getField(n).equalValues(this._orgItem.getData(n),e[n])){r=!0;break}}else if(!t.getField(n).sameValues(this._orgItem.getData(n),e[n])){r=!0;break}if(!r)return this._cancelEdit(),!0}return this._commitEdit()}}finally{this._commiting=!1}}return!0},c.prototype.execute=function(t){t&&(this.undoable?this._commands.execute(t):t.execute())},c.prototype.undo=function(){this.isEditing()?(this._commands.undo(),!this._commands.canUndo&&this._cancelWhenLastUndo&&this.cancel()):this._saveDs&&this._saveDs.undo()},c.prototype.redo=function(){this.isEditing()?this._commands.redo():this._saveDs&&this._saveDs.redo()},c.prototype.clearCommandStack=function(t){void 0===t&&(t=!0),this._commands.flush(),t&&this._saveDs&&this._saveDs.clearCommandStack()},c.prototype.revert=function(t){},c.prototype.revertAll=function(t){},c.prototype._checkEditing=function(){if(!this.isEditing())throw new Error("itemProvider is not editing")},c.prototype._checkNotEditing=function(){if(this.isEditing())throw new Error("itemProvider is already editing")},c.prototype._beginUpdate=function(t){if(!t)throw new Error("item is null");this._checkNotEditing(),this._modified=!1,this._editingItem=this._doBeginUpdate(t),this._editingItem.beginEdit(this.isCheckCellDiff,this.isStrictDiff),this._editingItem&&(this._orgItem=t,this._editingState=Z.ItemState.UPDATING,this._commands.flush(),this.fireUpdateStarted(this._editingItem))},c.prototype._doBeginUpdate=function(t){return null},c.prototype._beginAppendDummy=function(){this._dummyEditItem=this._doBeginAppendDummy()},c.prototype._doBeginAppendDummy=function(){return null},c.prototype._beginAppend=function(t){this._checkNotEditing(),this._modified=!1,this._editingItem=this._doBeginAppend(t),this._editingItem.beginEdit(this.isCheckCellDiff,this.isStrictDiff),this._editingItem&&(this._editingState=Z.ItemState.APPENDING,this._commands.flush(),this.fireAppendStarted(this._editingItem))},c.prototype._doBeginAppend=function(t){return null},c.prototype._beginInsert=function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1),this._checkNotEditing(),this._modified=!1,this._editingItem=this._doBeginInsert(t,e,i,o),this._editingItem.beginEdit(this.isCheckCellDiff,this.isStrictDiff),this._editingItem&&(this._editingState=Z.ItemState.INSERTING,this._resetItemIndicies(0),this._commands.flush(),this.fireInsertStarted(this._editingItem))},c.prototype._doBeginInsert=function(t,e,i,o){return null},c.prototype._updateEditingRow=function(t){return!1},c.prototype._insertEditingRow=function(t){return!1},c.prototype._cancelDummyEdit=function(){this._dummyEditItem=null,this._doCancelDummyEdit()},c.prototype._cancelEdit=function(){this._checkEditing();var e=this._editingState;try{this._editingState=Z.ItemState.NORMAL,this._doCancelEdit(e,this._orgItem)}catch(t){throw this._editingState=e,t}this._modified=!1,this._commands.flush(),this.fireCanceled()},c.prototype._doCancelDummyEdit=function(){},c.prototype._doCancelEdit=function(t,e){t==Z.ItemState.INSERTING&&this._resetItemIndicies(0)},c.prototype._commitEdit=function(){if(this._checkEditing(),!this.dataSource)throw new Error("data provier is null");try{this.fireItemCommitting(this._editingItem)}catch(t){alert(t.message)}var e=this._editingState,t=!1;if(this.isUpdating)try{this._editingState=Z.ItemState.NORMAL,t=this._doCompleteUpdate(this._orgItem)}catch(t){throw this._editingState=e,t}else try{this._editingState=Z.ItemState.NORMAL,t=this._doCompleteInsert(e==Z.ItemState.APPENDING)}catch(t){throw this._editingState=e,t}return t?(this._modified=!1,this._doCommitEdit(e,this._orgItem),this._commands.flush(),this.fireCommitted(this._editingItem)):this._editingState=e,t},c.prototype._doCommitEdit=function(t,e){return!1},c.prototype._editItemCellEdited=function(t,e){t&&this.isEditing(t)&&(this._modified=!0,this.fireItemCellEdited(t,e))},c.prototype._editItemCellUpdated=function(t,e,i,o){this.isEditing(t)&&(this._modified=!0,this.fireItemCellUpdated(t,e,i,o))},c.prototype.$_editingItem=function(){return this._editingItem},c.prototype.$_dummyItem=function(){return this._dummyEditItem},c.prototype.fireUpdateStarted=function(t){this.$_canFire()&&this.fireEvent(c.UPDATE_STARTED,t)},c.prototype.fireAppendStarted=function(t){this.$_canFire()&&this.fireEvent(c.APPEND_STARTED,t)},c.prototype.fireInsertStarted=function(t){this.$_canFire()&&this.fireEvent(c.INSERT_STARTED,t)},c.prototype.fireItemCellEdited=function(t,e){this.$_canFire()&&this.fireEvent(c.CELL_EDITED,t,e)},c.prototype.fireItemCellUpdated=function(t,e,i,o){this.$_canFire()&&this.fireEvent(c.CELL_UPDATED,t,e,i,o)},c.prototype.fireItemCommitting=function(t){this.$_canFire()&&this.fireEvent(c.COMMITTING,t)},c.prototype.fireCommitted=function(t){this.$_canFire()&&this.fireEvent(c.COMMITTED,t)},c.prototype.fireCanceled=function(){this.$_canFire()&&this.fireEvent(c.CANCELED)},c.prototype.fireCommitRequest=function(){this.$_canFire()&&this.fireEvent(c.COMMIT_REQUEST)},c.prototype.fireCancelRequest=function(){this.$_canFire()&&this.fireEvent(c.CANCEL_REQUEST)},c.prototype.onItemProviderReset=function(t){u.prototype.onItemProviderReset.call(this,t);var e=this.dataSource;e!=this._saveDs&&(this._saveDs&&this._saveDs.unregisterClient(this),this._saveDs=e,this._saveDs&&this._saveDs.registerClient(this))},c.prototype.onItemProviderRefresh=function(t){u.prototype.onItemProviderRefresh.call(this,t)},c.prototype.onItemProviderRefreshClient=function(t){u.prototype.onItemProviderRefreshClient.call(this,t)},c.prototype.onItemProviderItemInserted=function(t,e){u.prototype.onItemProviderItemInserted.call(this,t,e)},c.prototype.onItemProviderItemDeleted=function(t,e){u.prototype.onItemProviderItemDeleted.call(this,t,e)},c.prototype.onItemProviderItemUpdated=function(t,e){u.prototype.onItemProviderItemUpdated.call(this,t,e)},c.prototype.onItemProviderCommandStackChanged=function(t,e,i){var o=this._commands;this._fireCommandStackChanged(e||o.canUndo,i||o.canRedo)},c.UPDATE_STARTED="onItemEditUpdateStarted",c.APPEND_STARTED="onItemEditAppendStarted",c.INSERT_STARTED="onItemEditInsertStarted",c.CELL_EDITED="onItemEditCellEdited",c.CELL_UPDATED="onItemEditCellUpdated",c.COMMITTING="onItemEditCommitting",c.COMMITTED="onItemEditCommitted",c.CANCELED="onItemEditCanceled",c.COMMIT_REQUEST="onItemEditCommitRequest",c.CANCEL_REQUEST="onItemEditCancelRequest",c);function c(t,e){var i=u.call(this,t,e)||this;return i._checkDiff=!1,i._checkCellDiff=!1,i._strictDiff=!1,i._undoable=!1,i._cancelWhenLastUndo=!1,i._orgItem=null,i._editingItem=null,i._dummyEditItem=null,i._editingState=Z.ItemState.NORMAL,i._insertMode=0,i._modified=!1,i._commiting=!1,i._saveDs=null,i._commands=new b.EditCommandStack(i),t&&(i._saveDs=t.dataSource)&&i._saveDs.registerClient(i),i}e.EditableItemProvider=h;var p,d=(i(_,p=h),_.prototype._doDispose=function(){p.prototype._doDispose.call(this)},Object.defineProperty(_.prototype,"itemCount",{get:function(){var t=this.source.itemCount;return t+=this.isInserting||this.isAppending?1:0,t+=this.$_dummyItem()?1:0},enumerable:!0,configurable:!0}),_.prototype.getItem=function(t){var e,i=this.$_editingItem(),o=this.$_dummyItem(),r=this.source;return this.isEditing()&&i.index==t?i:(this.isInserting?e=t>i.index?r.getItem(t-1):r.getItem(t):t<r.itemCount&&(e=r.getItem(t)),e||(o&&t==this.itemCount-1?o:null))},_.prototype.getItems=function(t,e){return this.source.getItems(t,e)},_.prototype._doBeginUpdate=function(t){return this._createEditItem(t,Z.ItemState.UPDATING,null,!1,!1)},_.prototype._doBeginAppendDummy=function(){var t=this.$_dummyItem()||this._createDummyEditItem();return t._index=this.itemCount-1,t},_.prototype._doBeginAppend=function(t){return this._createEditItem(null,Z.ItemState.APPENDING,t,!1,!1)},_.prototype._doBeginInsert=function(t,e,i,o){return this._createEditItem(t,Z.ItemState.INSERTING,e,i,o)},_.prototype._doCompleteUpdate=function(t){var e=this.dataSource;if(e instanceof C.DataProvider){var i=this.$_editingItem();return this._copyExtents(i,t),e.updateRow(i.dataRow,i.values)}return!1},_.prototype._doCompleteInsert=function(t){var e=!1,i=this.dataSource;if(i){var o=this.$_editingItem(),r=t?i.rowCount:Math.max(0,this._insertRow),n=o.values;if(e=i.insertRow(r,n,o._index2)){var s=this.getItemOfRow(r);this._copyExtents(o,s)}}return e},_.prototype.remove=function(t){var e=this.dataSource;if(t&&!this.isEditing(t)&&e){var i=t.dataRow;0<=i&&e.removeRow(i)}},_.prototype.removeAll=function(t){if(t&&0!=t.length){var e=this.dataSource;if(e){var i=t.length;if(1<i){for(var o=[],r=0;r<i;r++)0<=(n=this.getItem(t[r]).dataRow)&&o.push(n);1<o.length?e.removeRows(o):1==o.length&&e.removeRow(o[0])}else if(1==i){var n;0<=(n=this.getItem(t[0]).dataRow)&&e.removeRow(n)}}}},_.prototype.revert=function(t){if(t instanceof Z.GridItem||(t=this.getItem(t)),t){var e=this.dataSource;if(e){var i=t.dataRow,o=e.getRowState(i);o==w.RowState.DELETED?e.setRowState(i,w.RowState.NONE,!1):o==w.RowState.CREATE_AND_DELETED&&e.setRowState(i,w.RowState.CREATED,!1)}}},_.prototype.revertAll=function(t){if(t&&0!=t.length){var e=this.dataSource;if(e)for(var i=t.length;i--;){var o=this.getItem(t[i]);if(o){var r=o.dataRow,n=e.getRowState(r);n==w.RowState.DELETED?e.setRowState(r,w.RowState.NONE,!1):n==w.RowState.CREATE_AND_DELETED&&e.setRowState(r,w.RowState.CREATED,!1)}}}},_.prototype.getRemovableRows=function(t){if(!t||0==t.length)return null;for(var e=[],i=0,o=t.length;i<o;i++){var r=this.getItem(t[i]).dataRow;0<=r&&e.push(r)}return e},_.prototype.removeRows=function(t){t&&(1<t.length?this.dataSource.removeRows(t):this.dataSource.removeRow(t[0]))},_.prototype._createDummyEditItem=function(){return new r(this,null,this.itemCount,-1,Z.ItemState.DUMMY)},_.prototype._createEditItem=function(t,e,i,o,r){var n=this.dataSource;if(!n)return null;var s=null,a=n.fieldCount;switch(e){case Z.ItemState.UPDATING:s=new f(this,t,t.index,t.dataRow,e);for(var l=0;l<a;l++)s.setValue(l,t.getData(l));this._copyExtents(t,s);break;case Z.ItemState.INSERTING:case Z.ItemState.APPENDING:var u=this._rs,h=e==Z.ItemState.INSERTING&&t?o?t.index+1:t.index:this.itemCount;if(s=new f(this,t,h,-1,e),e==Z.ItemState.INSERTING){var c=t.dataRow,p=t;if(c<=-1){for(var d=this.source._visibleItems;(p=d.getNext(p))&&!(p instanceof Z.GridRow););this._insertRow=p?p.dataRow:n.rowCount}else this._insertRow=o?Math.min(n.rowCount,c+1):c;if(t instanceof Z.GridRow&&o&&u){var _=u._pubItems.indexOf(p);0<=_++&&_<=u._pubItems.length&&(s._index2=_)}}if(i)for(l=0;l<a;l++)i.length>l&&s.setValue(l,i[l])}return s},_);function _(t,e){var i=p.call(this,t,e)||this;return i._insertRow=-1,i}e.EditableItemProviderImpl=d});t(D);D.DummyEditItem,D.EditItem,D.EditableItemProvider,D.EditableItemProviderImpl;var L=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var o,i,u=["yy","yyyy","M","MM","d","dd","a","A","H","HH","h","hh","m","mm","s","ss"],p=[".","/","-",":"],d="0".charCodeAt(0),_="9".charCodeAt(0),r=[31,28,31,30,31,30,31,31,30,31,30],f=["am","pm","AM","PM","Am","Pm","aM","pM"];(i=o=e.DateProperty||(e.DateProperty={}))[i.YEAR=0]="YEAR",i[i.HALF=1]="HALF",i[i.QUARTER=2]="QUARTER",i[i.MONTH=3]="MONTH",i[i.WEEK=4]="WEEK",i[i.DAY=5]="DAY",i[i.HOUR=6]="HOUR";var n=(s.getSimpleDateNull=function(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);var e=(t=8===t.length&&/^[0-9]*$/.test(t)?t.replace(/(\d{4})(\d{2})(\d{2})/,"$1/$2/$3"):t).split(/[.//-]/);if(3!=e.length)return null;var i=parseInt(e[0]),o=parseInt(e[1])-1,r=parseInt(e[2]);return i==(t=new Date(i,o,r)).getFullYear()&&o==t.getMonth()&&r==t.getDate()?t:null},s.getDateProperty=function(t,e){if(!t)return null;switch(e){case o.YEAR:return t.getFullYear();case o.HALF:return 5<t.getMonth()?2:1;case o.QUARTER:return Math.floor(t.getMonth()/3);case o.MONTH:return t.getMonth();case o.WEEK:var i=new Date(t.getFullYear(),t.getMonth(),1);return i.setDate(i.getDate()-i.getDay()),Math.floor((t.getTime()-i.getTime())/6048e5)+1;case o.DAY:return t.getDate();case o.HOUR:return t.getHours()}},Object.defineProperty(s.prototype,"formatString",{get:function(){return this._formatString},set:function(t){t!=this._formatString&&(this._formatString=t,this.parse(t))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0}),s.prototype.getDate=function(t){var e;if(t=t.trim()){for(var i=this.parseDateFormatTokens(this._format),o=this.parseDateValueTokens(t,this._amText,this._pmText),r=(0<=i.indexOf("a")||i.indexOf("A"),i.length),n=o.length,s=0,a=1,l=1,u=0,h=0,c=0,p=0,d=0,_=0,f=0;_<r&&f<n;){var y=i[_],m=o[f];switch(y.charAt(0)){case"L":var g=String(m);for(_++;_<r&&"E"!=(t=i[_]);){var v=g?parseInt(g.substr(0,t.length)):-1;switch(g=g.substr(t.length),t.charAt(0)){case"Y":case"y":s=Math.max(0,v);break;case"M":a=0<=v?v:1;break;case"D":case"d":l=0<=v?v:1;break;case"H":case"h":u=Math.max(0,v);break;case"m":h=Math.max(0,v);break;case"s":c=Math.max(0,v)}_++}break;case"Y":case"y":s=parseInt(m);break;case"M":a=parseInt(m);break;case"D":case"d":l=parseInt(m);break;case"H":case"h":u=parseInt(m);break;case"m":h=parseInt(m);break;case"s":c=parseInt(m);break;case"a":(t=String(m))&&(t=t.toLowerCase(),this._amText&&t==this._amText.toLowerCase()||"am"==t?p=12:(this._pmText&&t==this._pmText.toLowerCase()||"pm"==t)&&(d=12))}_++,f++}if(s<100&&0<=s&&(s+=this._baseYear),s<0||9999<s)return null;if(U.Utils.included(a,1,3,5,7,8,10,12)){if(l<1||31<l)return null}else if(U.Utils.included(a,4,6,9,11)){if(l<1||30<l)return null}else{if(2!=a)return null;if(29<l)return null;if(29==l&&(s%4!=0||s%100==0)&&s%400!=0)return null}if(u<0||24<u)return null;if((0<p||0<d)&&12<u)return null;if(h<0||59<h)return null;if(c<0||59<c)return null;0<p?u%=12:0<d&&(u=u%12+12),e=new Date(s,a-1,l,u,h,c)}return e},s.prototype.getDateNull=function(t){try{return this.getDate(t)}catch(t){}return null},s.prototype.getText=function(t){var e=t;e instanceof Date||(e=new Date(t));for(var i=this.parseDateFormatTokens(this._format),o=0<=i.indexOf("a")||0<=i.indexOf("A"),r="",n=0,s=i.length;n<s;n++){var a=i[n],l=a.length;switch(a.charAt(0)){case"L":break;case"Y":case"y":r+=2<l?e.getFullYear():U.Utils.pad(e.getFullYear()%100);break;case"M":r+=1<l?U.Utils.pad(e.getMonth()+1):e.getMonth()+1;break;case"D":case"d":r+=1<l?U.Utils.pad(e.getDate()):e.getDate();break;case"H":r+=1<l?U.Utils.pad(e.getHours()):e.getHours();break;case"h":if(o){var u=e.getHours();0==u?u=12:12<u&&(u-=12),r+=1<l?U.Utils.pad(u):u}else r+=1<l?U.Utils.pad(e.getHours()):e.getHours();break;case"m":r+=1<l?U.Utils.pad(e.getMinutes()):e.getMinutes();break;case"s":r+=1<l?U.Utils.pad(e.getSeconds()):e.getSeconds();break;case"A":case"a":e.getHours()<12?r+=this._amText:r+=this._pmText;break;default:r+=a}}return r},s.prototype.daysOfYear=function(t){for(var e=0,i=0;i<t.getMonth();i++)e+=r[i];if(2<=t.getMonth()){var o=t.getFullYear();(o%400==0||o%4==0&&o%100!=0)&&e++}return e+=t.getDate()},s.prototype.daysOfPriorYears=function(t){return t<=1900?0:365*(--t-1899)+(Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400)-460)},s.prototype.toExcelDate=function(t){var e=(1e3*(60*(60*t.getHours()+t.getMinutes())+t.getSeconds())+t.getMilliseconds())/864e5,i=this.daysOfPriorYears(t.getFullYear())+this.daysOfYear(t)+e;return 60<=i&&i++,i},s.prototype.splitWords=function(t){for(var e=t.length,i=[],o=0,r=0,n=t.charAt(r++);r<e;){var s=t.charAt(r);s!=n&&(i.push(t.substring(o,r)),n=s,o=r),r++}return o<e&&i.push(t.substr(o)),i},s.prototype.parseDateFormatTokens=function(t){var e=[],i=t&&t.trim();if(i){for(var o=i.length,r=0;r<o;){var n=i.charAt(r);if(0<=p.indexOf(n))e.push(n),r++;else{for(var s=r++;r<o&&i.charAt(r)==n;)r++;if(n=i.substring(s,r),u.indexOf(n)<0)throw new Error("Invalid datetime read format: "+t);e.push("A"==n?"a":n)}if(r<o&&U.Utils.isWhiteSpace(n=i.charAt(r)))for(e.push(" ");r<o&&U.Utils.isWhiteSpace(i.charAt(r));)r++}var a=[],l=0;for(o=e.length,r=0;r<o;r++)"a"==(n=e[r])||u.indexOf(n)<0?(1<l&&a.push("E"),a.push(n),l=0):(1==l&&a.splice(a.length-2,0,"L"),a.push(n),l++);e=a}return e},s.prototype.parseDateValueTokens=function(t,e,i){var o=[],r=t.trim();if(r){var n=f.slice();e&&n.push(e),i&&n.push(i);for(var s=r.length,a=0;a<s;){var l=r.charAt(a);if(0<=p.indexOf(l))o.push(l),a++;else if(l.charCodeAt(0)>=d&&l.charCodeAt(0)<=_){for(var u=a++;a<s&&r.charCodeAt(a)>=d&&r.charCodeAt(a)<=_;)a++;l=r.substring(u,a),o.push(l)}else{for(var h=-1,c=0;c<n.length;c++)if(r.indexOf(n[c],a)==a){h=c;break}if(h<0)throw"Invalid date value: "+r;o.push(n[c]),a+=n[c].length}if(a<s&&U.Utils.isWhiteSpace(l=r.charAt(a)))for(o.push(" ");a<s&&U.Utils.isWhiteSpace(r.charAt(a));)a++}}return o},s.prototype.validateDateFormat=function(t){if(t=t&&t.trim()){var e=this.parseDateFormatTokens(t),i=0<=e.indexOf("a");if(i&&0<=e.indexOf("H"))throw"Invalid datetime read format - 'H'와 'a'가 같이 존재할 수 없습니다: "+t;if(0<=e.indexOf("h")&&!i)throw"Invalid datetime read format - 'h'가 있으면 'a'가 반드시 있어야 합니다: "+t}},s.prototype.parse=function(t){if(this._amText="am",this._pmText="pm",this._baseYear=2e3,this._preserveTime=!1,t){var e=t.split(";");if(this._format=e[0]?e[0]:s.DEFAULT_FORMAT,this.validateDateFormat(this._format),1<e.length&&e[1]&&(this._baseYear=parseInt(e[1])),2<e.length&&e[2]){var i=e[2].split(",");this._amText=i[0]?i[0]:"am",1<i.length&&(this._pmText=i[1]?i[1]:"pm")}3<e.length&&(this._preserveTime=!!e[3]&&"1"==e[3])}},s.Default=new s(s.DEFAULT_FORMAT="yyyy/MM/dd"),s);function s(t){this._formatString="",this._baseYear=2e3,this._preserveTime=!1,this.formatString=t}e.DateTimeConverter=n});t(L);L.DateProperty,L.DateTimeConverter;var Q=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,_=(r=Z.GroupFooter,i(n,r),n);function n(){return r.call(this)||this}e.MergedGroupFooter=_;var s,f=(s=Z.GroupItemImpl,i(a,s),Object.defineProperty(a.prototype,"groupLevel",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dataRow",{get:function(){var t=this.firstDataItem;return t?t.dataRow:-1},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"merged",{get:function(){return!0},enumerable:!0,configurable:!0}),a);function a(t,e){var i=s.call(this,e)||this;return i._level=0,i._level=t,i}e.MergedGroupHeader=f;var l,u=(l=ue.Base,i(h,l),h.prototype._doDispose=function(){l.prototype._doDispose.call(this)},Object.defineProperty(h.prototype,"provider",{get:function(){return this._rs},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"fixedCount",{get:function(){return this._fixedCount},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"items",{get:function(){return this._items.slice()},enumerable:!0,configurable:!0}),h.prototype.getItem=function(t){return this._items[t]},h.prototype.clear=function(t){void 0===t&&(t=null);for(var e=this._rs,i=0,o=(t=t||this._items).length;i<o;i++){var r=t[i];r._parent=e._rootItem,r._index=-1,r instanceof Z.GroupItemImpl&&r._children&&this.clear(r._children)}t.splice(0,t.length)},h.prototype.expand=function(t,e,i,o){return this.$_expandItem(t,e,i,o),!0},h.prototype.collapse=function(t,e){var i,o,r,n=this._rs,s=this._items;if(t._expanded=!1,n.mergeMode){for(0<=(l=t.index)?(s.splice(l,1),t._index=-1):(l=this.$_firstIndex(t,n.expandedAdornments==H.RowGroupAdornments.SUMMARY))<0&&(l=this.$_firstIndex(t));l<s.length&&(u=s[l]).isDescendantOf(t);)s.splice(l,1),u._index=-1,e&&(u instanceof Z.GroupItem||u instanceof _)&&(h=u instanceof Z.GroupItem?u:u instanceof _&&u.parent._expanded?u.parent:null)&&(h._expanded=!1);switch(n.collapsedAdornments){case H.RowGroupAdornments.BOTH:if(t._index=l,s.splice(l,0,t),1<(i=t.footerCount)){o=t.footer,r=l+1,s.splice(r,0,o);for(var a=1;a<i;a++)s.splice(r+a,0,t.getFooter(a))}else s.splice(l+1,0,t.footer);break;case H.RowGroupAdornments.FOOTER:case H.RowGroupAdornments.SUMMARY:if(1<(i=t.footerCount))for(o=t.footer,r=l,s.splice(r,0,o),a=1;a<i;a++)s.splice(r+a,0,t.getFooter(a));else s.splice(l,0,t.footer);break;case H.RowGroupAdornments.HEADER:default:t._index=l,s.splice(l,0,t)}}else{var l;if(0<=(l=t.index))s.splice(l,1),t._index=-1;else if(l=(o=t.footer).index,1<(i=t.footerCount))for(r=l,s.splice(r,1),o._index=-1,a=1;a<i;a++)s[r+a]._index=-1,s.splice(r+a,1);else s.splice(l,1),o._index=-1;for(;l<s.length;){var u,h;if(!(u=s[l]).isDescendantOf(t))break;s.splice(l,1),u._index=-1,e&&(u instanceof Z.GroupItem||u instanceof Z.GroupFooter)&&(h=u instanceof Z.GroupItem?u:u instanceof Z.GroupFooter&&u.parent._expanded?u.parent:null)&&(h._expanded=!1)}switch(n.collapsedAdornments){case H.RowGroupAdornments.BOTH:if(t._index=l,s.splice(l,0,t),o=t.footer,1<(i=t.footerCount))for(r=l+1,o._index=l,o._expandable=!1,s.splice(r,0,o),a=1;a<i;a++)(o=t.getFooter(a))._index=l+a,o._expandable=!1,s.splice(r+a,0,o);else o._index=l,o._expandable=!1,s.splice(l+1,0,o);break;case H.RowGroupAdornments.FOOTER:case H.RowGroupAdornments.SUMMARY:if(o=t.footer,1<(i=t.footerCount))for(r=l,o._index=l,o._expandable=!0,s.splice(r,0,o),a=1;a<i;a++)(o=t.getFooter(a))._index=l+a,o._expandable=!0,s.splice(r+a,0,o);else o._index=l,o._expandable=!0,s.splice(l,0,o);break;case H.RowGroupAdornments.HEADER:default:t._index=l,s.splice(l,0,t)}}return!0},h.prototype.getNext=function(t){return null!=t&&t.visible&&t.index<this.count-1?this._items[t.index+1]:null},h.prototype.getPrior=function(t){return null!=t&&t.visible&&0<t.index?this._items[t.index-1]:null},h.prototype.$_collectChildren=function(t,e,i,o,r){if(o&&t&&t._setExpanded(!0),this._rs.mergeMode){t instanceof S.RootItem||(this._rs.expandedAdornments==H.RowGroupAdornments.HEADER||this._rs.expandedAdornments==H.RowGroupAdornments.BOTH?e.push(t):this._rs.expandedAdornments==H.RowGroupAdornments.SUMMARY&&t.footer&&e.push(t.footer));for(var n=0,s=t.count;n<s;n++){var a=void 0,l=void 0;if((c=t.getItem(n))instanceof Z.GroupItem){var u=c;if(i&&(!r||u.level<=r)||u.expanded)this.$_collectChildren(u,e,i,o,r);else switch(this._rs.collapsedAdornments){case H.RowGroupAdornments.BOTH:if(e.push(u),l=u.footer)if(1<(a=u.footerCount)){l&&e.push(l);for(var h=1;h<a;h++)l=u.getFooter(h),e.push(l)}else e.push(l);break;case H.RowGroupAdornments.SUMMARY:case H.RowGroupAdornments.FOOTER:if(l=u.footer)if(1<(a=u.footerCount))for(e.push(l),h=1;h<a;h++)l=u.getFooter(h),e.push(l);else e.push(l);break;case H.RowGroupAdornments.HEADER:default:e.push(u)}}else t.isFooter(c)||e.push(c)}if(t.footer&&!(t instanceof S.RootItem)&&(this._rs.expandedAdornments==H.RowGroupAdornments.FOOTER||this._rs.expandedAdornments==H.RowGroupAdornments.BOTH))for(n=0,s=t.footerCount;n<s;n++)e.push(t.getFooter(n))}else{if(!(t instanceof S.RootItem))if(this._rs.expandedAdornments==H.RowGroupAdornments.SUMMARY){if(l=t.footer)for(a=t.footerCount,h=t.indexOf(l),l._expandable=!0,e.push(l),n=1;n<a;n++)(l=t.getItem(h+n))._expandable=!0,e.push(l)}else e.push(t);for(n=0,s=t.count;n<s;n++){var c;if((c=t.getItem(n))instanceof Z.GroupItem)if(u=c,a=l=void 0,i&&(!r||u.level<=r)||u.expanded)this.$_collectChildren(u,e,i,o,r);else switch(this._rs.collapsedAdornments){case H.RowGroupAdornments.HEADER:e.push(u);break;case H.RowGroupAdornments.FOOTER:case H.RowGroupAdornments.SUMMARY:if((l=t.footer)&&(a=t.footerCount,l._expandable=!0,e.push(l),1<a)){h=t.indexOf(l);for(var p=1;p<a;p++)(l=t.getItem(h+p))._expandable=!0,e.push(l)}break;case H.RowGroupAdornments.BOTH:default:if(e.push(u),(l=t.footer)&&(a=t.footerCount,l._expandable=!0,e.push(l),1<a)){h=t.indexOf(l);for(var d=1;d<a;d++)(l=t.getItem(h+d))._expandable=!0,e.push(l)}}else c instanceof Z.GroupFooter||e.push(c)}if(!(t instanceof S.RootItem)&&this._rs.expandedAdornments==H.RowGroupAdornments.BOTH){var _=!t._expanded&&!t.visible;if((l=t.footer)&&(a=t.footerCount,l._expandable=_,e.push(l),1<a))for(h=t.indexOf(l),n=1;n<a;n++)(l=t.getItem(h+n))._expandable=_,e.push(l)}}},h.prototype.$_expandItem=function(t,e,i,o){var r;if(t instanceof S.RootItem)r=this._fixedCount;else if(this._rs.mergeMode){switch(this._rs.collapsedAdornments){case H.RowGroupAdornments.BOTH:r=t.index,this._items.splice(r,1+t.footerCount);break;case H.RowGroupAdornments.FOOTER:case H.RowGroupAdornments.SUMMARY:r=t.footer.index,this._items.splice(r,t.footerCount);break;case H.RowGroupAdornments.HEADER:default:r=t.index,this._items.splice(r,1)}i&&(t._index=-1)}else{switch(this._rs.collapsedAdornments){case H.RowGroupAdornments.BOTH:r=t.index,this._items.splice(r,1+t.footerCount);break;case H.RowGroupAdornments.FOOTER:case H.RowGroupAdornments.SUMMARY:r=t.footer.index,this._items.splice(r,t.footerCount);break;case H.RowGroupAdornments.HEADER:r=t.index,this._items.splice(r,1)}i&&(t._index=-1)}this._list.splice(0,this._list.length),this.$_collectChildren(t,this._list,e,i,o);for(var n=0,s=this._list.length;n<s;n++)this._items.splice(r+n,0,this._list[n])},h.prototype.$_firstIndex=function(t,e){void 0===e&&(e=!1);var i=t.index;if(0<=i)return i;if(e){if(0<=(i=t.footer.index))return i;for(var o=0,r=t.count;o<r;o++)if((n=U.Utils.cast(t.getItem(o),Z.GroupItem))&&(i=this.$_firstIndex(n,e)),0<=i)return i;return-1}for(o=0,r=t.count;o<r;o++){var n,s=t.getItem(o);if(0<=s.index)return s.index;if((n=U.Utils.cast(s,Z.GroupItem))&&0<=(i=this.$_firstIndex(n)))return i}return-1},h.prototype.$_clearAndInit=function(t,e){if(this.clear(),t){this._fixedCount=Math.min(e,t.itemCount);for(var i=0;i<this._fixedCount;i++)this._items.push(t.getItem(i))}else this._fixedCount=0},h.prototype.$_resetIndices=function(t){void 0===t&&(t=0);for(var e=t,i=this._items.length;e<i;e++)this._items[e]._index=e},h);function h(t){var e=l.call(this)||this;return e._fixedCount=0,e._items=[],e._list=[],e._rs=t,e}var c,d=function(t,e){this.startIndex=t,this.endIndex=e,this.level=0,this.children=[]},p=(c=S.ProxyItemProvider,i(y,c),y.prototype._doDispose=function(){this._visibleItems.dispose(),this._visibleItems=null,c.prototype._doDispose.call(this)},y.prototype.groupfFooterCounterChanged=function(t){this.$_footerCounterChanged()},y.prototype.$_footerCounterChanged=function(){this._populateItems(),this._fireRefresh()},Object.defineProperty(y.prototype,"treeMode",{get:function(){return this._treeMode},set:function(t){this._treeMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"footerCounter",{get:function(){return this._footerCounter},set:function(t){t!=this._footerCounter&&(t&&t.setCounterAware(null),(this._footerCounter=t)&&t.setCounterAware(this),this.$_footerCounterChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"expandedAdornments",{get:function(){return this._expandedAdornments},set:function(t){t!=this._expandedAdornments&&(this._expandedAdornments=t,this.grouped&&(this._populateItems(),this._fireRefresh()))},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"collapsedAdornments",{get:function(){return this._collapsedAdornments},set:function(t){t!=this._collapsedAdornments&&(this._collapsedAdornments=t,this.grouped&&(this._populateItems(),this._fireRefresh()))},enumerable:!0,configurable:!0}),y.prototype.resetAdornments=function(t,e,i){t==this._expandedAdornments&&e==this._collapsedAdornments&&i===this._footerCallback||(this._expandedAdornments=t,this._collapsedAdornments=e,this._footerCallback=i,this.grouped&&(this._populateItems(),this._fireRefresh()))},Object.defineProperty(y.prototype,"expandWhenGrouping",{get:function(){return this._expandWhenGrouping},set:function(t){this._expandWhenGrouping=t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"mergeMode",{get:function(){return this._mergeMode},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"summaryMode",{get:function(){return this._summaryMode},set:function(t){t!=this._summaryMode&&(this._summaryMode=t,this._populateItems(),this._fireRefresh())},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"grouped",{get:function(){return this._grouped},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"groupCount",{get:function(){return this._groupFields?this._groupFields.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"groupSorting",{get:function(){return this._groupSorting},set:function(t){this._groupSorting!=t&&(this._groupSorting=t)},enumerable:!0,configurable:!0}),y.prototype.canGrouping=function(t){return this.fireGrouping(t)},y.prototype.groupBy=function(t){this.groupByMode(t,this._mergeMode)},y.prototype.groupByMode=function(t,e){this._mergeMode=e,this._groupFields=t?t.concat():null,e||this._clearDisplayLevels(),this._populateItems();try{this._fireRefresh()}finally{this.fireGrouped(t)}},y.prototype.isGroupedField=function(t){if(this._groupFields)for(var e=this._groupFields.length;e--;)if(this._groupFields[e]==t)return!0;return!1},y.prototype.getGroupLevel=function(t){if(this._groupFields&&0<=t)for(var e=this._groupFields.length;e--;)if(this._groupFields[e]==t)return e+1;return 0},Object.defineProperty(y.prototype,"groupedFields",{get:function(){return this._groupFields?this._groupFields.concat():null},enumerable:!0,configurable:!0}),y.prototype.expand=function(t,e,i,o){if(t&&(!t.expanded||i)&&(this.fireExpand(t),t.expanded&&this._visibleItems.collapse(t,!1),this._visibleItems.expand(t,e,!0,o))){this._resetItemIndicies(t.index);try{this._fireRefresh()}finally{this.fireExpanded(t)}}},y.prototype.$_collapseChild=function(t,e,i){for(var o=0,r=t.count;o<r;o++){var n=t.getItem(o);n instanceof Z.GroupItemImpl&&(n._expanded=!1,this.$_collapseChild(n,e,i))}},y.prototype.collapse=function(t,e,i){if(t&&t.expanded){if(this.fireCollapse(t),this._visibleItems.collapse(t,e)){this._resetItemIndicies(t.index);try{this._fireRefresh()}finally{this.fireCollapsed(t)}}}else t&&e&&i&&this.$_collapseChild(t,e,i)},y.prototype.findItem=function(t,e,i,o,r){var n=this.dataSource;if(!n)return-1;var s=this.itemCount;if(s<1)return-1;var a=Math.min(t.length,e.length);if(a<1)return-1;var l=!i||i.allFields,u=i&&i.caseSensitive,h=i&&i.partialMatch,c=null,p=[];o=Math.max(0,o),r=Math.min(s-1,r);for(var d=0;d<a;d++)p[d]=n.getField(t[d]).dataType;for(var _=o;_<=r;_++){var f=this.$_getItem(_),y=0<=f.dataRow;if(y)for(d=0;d<a;d++){var m=f.getData(t[d]);switch(p[d]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(e[d]instanceof Date)y=C(e[d],m,u,h);else{if(!c){var g=/[.]/.test(e[d])?"yyyy.MM.dd":/[/]/.test(e[d])?"yyyy/MM/dd":/[-]/.test(e[d])?"yyyy-MM-dd":"yyyyMMdd";c=new L.DateTimeConverter(g)}y=C(e[d],m?c.getText(m):m,u,h)}break;default:y=C(e[d],m,u,h)}if(y&&!l)return _;if(!y&&l)break}if(y)return _}return-1},y.prototype.findCell=function(t,e,i,o,r,n){var s=this.dataSource;if(!s)return null;var a=this.itemCount;if(a<1)return null;for(var l=i&&i.caseSensitive,u=i&&i.partialMatch,h=this.dataSource.fieldCount,c=t.length,p=null,d=[],_=0;_<h;_++)d[_]=s.getField(_).dataType;o=Math.max(0,o),r=Math.min(a-1,r),(n=Math.max(0,n))>=t.length&&(o++,n=0);for(var f=o;f<=r;f++){var y=this.$_getItem(f);if(0<=y.dataRow)for(_=o<f?0:n;_<c;_++){var m=t[_];if(0<=m&&m<h){var g=y.getData(m),v=!1;switch(d[m]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(e instanceof Date)v=C(e,g,l,u);else{if(!p){var b=/[.]/.test(e)?"yyyy.MM.dd":/[/]/.test(e)?"yyyy/MM/dd":/[-]/.test(e)?"yyyy-MM-dd":"yyyyMMdd";p=new L.DateTimeConverter(b)}v=C(e,g?p.getText(g):g,l,u)}break;default:v=C(e,g,l,u)}if(v)return{itemIndex:f,fieldIndex:m,searchFieldIndex:_}}}}return null},Object.defineProperty(y.prototype,"itemCount",{get:function(){return this._grouped?this._visibleItems.count:this.source.itemCount},enumerable:!0,configurable:!0}),y.prototype.getItem=function(t){return this.grouped?0<=t&&t<this._visibleItems.count?this._visibleItems.getItem(t):null:this.source.getItem(t)},y.prototype.getItems=function(t,e){if(this.grouped){for(var i=this._visibleItems,o=[],r=Math.min(i.count,t+e-1),n=t;n<r;n++){var s=i.getItem(n);o.push(s)}return o}return this.source.getItems(t,e)},y.prototype.getAllItems=function(){if(this.grouped){var t=new u(this);return t.expand(this.rootItem,!0,!1,0),t.items}return this.source?this.source.getAllItems():null},y.prototype.getIndexOfRow=function(t){if(this.grouped){for(var e=this._visibleItems,i=0,o=e.count;i<o;i++)if(e.getItem(i).dataRow==t)return i;return-1}return this.source.getIndexOfRow(t)},y.prototype.getItemOfRow=function(t){if(this.grouped){for(var e=this._visibleItems,i=0,o=e.count;i<o;i++){var r=e.getItem(i);if(r.dataRow==t)return r}return null}return this.source.getItemOfRow(t)},y.prototype._initialize=function(){c.prototype._initialize.call(this),this._visibleItems=new u(this)},y.prototype._clearItems=function(){this._visibleItems.clear(),this.rootItem.clear()},y.prototype._populateItems=function(){this.$_populateItems(!1)},y.prototype._resetItemIndicies=function(t){this.isIndexing&&this.grouped?this._visibleItems.$_resetIndices(t):c.prototype._resetItemIndicies.call(this,t)},y.prototype._clearChecked=function(){this.grouped?this.$_checkChildren(this.rootItem,!1,!1,!1):c.prototype._clearChecked.call(this),this._editItem&&this._editItem._setChecked(!1)},y.prototype.checkAll=function(t,e,i,o,r){if(this._editItem&&(i?this._editItem.checkable&&this._editItem._setChecked(t):this._editItem._setChecked(t)),e||!this.grouped)c.prototype.checkAll.call(this,t,e,i,o,r);else{var n=this._visibleItems.fixedCount;if(0<n)if(i)for(var s=n;s--;){var a=this.getItem(s);a.checkable&&a._setChecked(t)}else for(s=n;s--;)this.getItem(s)._setChecked(t);this.$_checkChildren(this.rootItem,t,i,r),this._fireItemCheckChanged(null,t),o?this._fireItemAllChecked(t):this._fireRefreshClient()}},y.prototype.$_saveExpand=function(t,e){for(var i=0,o=t.count;i<o;i++)t.getItem(i),Z.GroupItemImpl},y.prototype.$_restoreExpand=function(t,e){for(var i=0,o=t.count;i<o;i++)t.getItem(i),Z.GroupItemImpl},y.prototype.$_populateItems=function(t){var e={},i=this.source.itemCount,o=this._rootItem;if(t&&0<i&&o&&this.$_saveExpand(o,e),this._clearItems(),this.source){if(this._groupFields){for(var r=this.dataSource.fieldCount,n=this._groupFields.length-1;0<=n;n--)this._groupFields[n]>=r&&this._groupFields.splice(n,1);this._grouped=0<this._groupFields.length}else this._grouped=!1;this._grouped&&0<i&&(this.$_buildGroupItems(i),t&&this.$_restoreExpand(o,e),this.$_resetVisibleItems())}},y.prototype.$_checkChildren=function(t,e,i,o){for(var r=0,n=t.count;r<n;r++){var s=t.getItem(r);s&&(i?(o||s.isDataRow)&&s.checkable&&s._setChecked(e):s._setChecked(e)),s instanceof Z.GroupItem&&this.$_checkChildren(s,e,i,o)}},y.prototype.$_getItem=function(t){return this._grouped?this._visibleItems.getItem(t):this.source.getItem(t)},y.prototype.$_resetVisibleItems=function(){this._visibleItems.$_clearAndInit(this.source,this.fixedCount),this.source&&this.source.itemCount>this._visibleItems.fixedCount&&this._visibleItems.expand(this.rootItem,!1,!1,0),this._resetItemIndicies(0)},y.prototype.$_buildGroupItems=function(t){if(t>this.fixedCount){var e=new d(this.fixedCount,t-1);this.$_buildGroups(e,this.source,this._groupFields),this.$_buildItems(this.rootItem,e,this._groupFields),this.mergeMode&&(this._clearDisplayLevels(),this.$_resetDisplayLevels(this.rootItem))}},y.prototype.$_resetDisplayLevels=function(t){for(var e=0,i=t.count;e<i;e++){var o=U.Utils.cast(t.getItem(e),Z.GroupItem);if(o){var r=U.Utils.cast(o.firstItem,Z.GridRow);r&&r._displayLevel<0&&(r._displayLevel=o.level),this.$_resetDisplayLevels(o)}}},y.prototype.$_buildGroups=function(t,e,i){if(!(i.length<=t.level)){var o=t.startIndex,r=t.endIndex;if(!(r<o)){var n=t.level+1,s=i[t.level],a=this.dataSource.getField(s),l=new d(o,o);l.level=n,t.children.push(l);for(var u=e.getItem(o).getData(s),h=o+1;h<=r;h++){var c=e.getItem(h).getData(s);a.equalValues(c,u)||(l&&(l.endIndex=h-1),(l=new d(h,h)).level=n,t.children.push(l)),u=c}l&&(l.endIndex=r),h=0;for(var p=t.children.length;h<p;h++)this.$_buildGroups(t.children[h],e,i)}}},y.prototype.$_buildItems=function(t,e,i){var o=this.mergeMode,r=e.children.length;if(0<r)for(var n=e.level,s=i[e.level],a=0;a<r;a++){var l=o?new f(n,s):new Z.GroupItemImpl(s);l._setExpanded(this.expandWhenGrouping),t.add(l),this.$_buildItems(l,e.children[a],i)}else{var u=e.endIndex-e.startIndex+1,h=this.source.getItems(e.startIndex,u);t.addAll(h),this._incDescendents(t,u)}if(0<t.level){var c=this._footerCallback;if(this._footerCounter){a=0;for(var p=this._footerCounter.getGroupFooterCount(t);a<p;a++)c&&!c(t,a)||((d=o?new _:new Z.GroupFooter).$_footerIndex=a,t.add(d))}else if(c||c(t,0)){var d=o?new _:new Z.GroupFooter;t.add(d)}}},y.prototype.$_setEditItem=function(t){this._editItem=t},y.prototype.$_setDummyEditItem=function(t){this._dummyEditItem=t},y.prototype.fireGrouping=function(t){return this.fireConfirmEvent(y.GROUPING,t)},y.prototype.fireGrouped=function(t){this.fireEvent(y.GROUPED)},y.prototype.fireExpand=function(t){this.fireEvent(y.EXPAND,t)},y.prototype.fireExpanded=function(t){this.fireEvent(y.EXPANDED,t)},y.prototype.fireCollapse=function(t){this.fireEvent(y.COLLAPSE,t)},y.prototype.fireCollapsed=function(t){this.fireEvent(y.COLLAPSED,t)},y.prototype.onItemProviderRefresh=function(t){this.grouped?(this.$_populateItems(!0),this._fireRefresh()):(this._resetItemIndicies(0),c.prototype.onItemProviderRefresh.call(this,t))},y.prototype.onItemProviderItemInserted=function(t,e){this.grouped?(this.$_populateItems(!0),this._fireRefresh()):(this._resetItemIndicies(0),c.prototype.onItemProviderItemInserted.call(this,t,e))},y.prototype.onItemProviderItemDeleted=function(t,e){this.grouped?(this.$_populateItems(!0),this._fireRefresh()):(this._resetItemIndicies(0),c.prototype.onItemProviderItemDeleted.call(this,t,e))},y.prototype.onItemProviderItemUpdated=function(t,e){this.grouped?(this.$_populateItems(!0),this._fireRefresh()):(this._resetItemIndicies(0),c.prototype.onItemProviderItemUpdated.call(this,t,e))},y.GROUPING="onGroupedItemProviderGrouping",y.GROUPED="onGroupedItemProviderGrouped",y.EXPAND="onGroupedItemProviderExpand",y.EXPANDED="onGroupedItemProviderExpanded",y.COLLAPSE="onGroupedItemProviderCollapse",y.COLLAPSED="onGroupedItemProviderCollapsed",y);function y(t,e){var i=c.call(this,t,e)||this;return i._treeMode=!1,i._expandedAdornments=H.RowGroupAdornments.BOTH,i._collapsedAdornments=H.RowGroupAdornments.HEADER,i._expandWhenGrouping=!1,i._mergeMode=!1,i._summaryMode=H.SummaryMode.AGGREGATE,i._groupSorting=!0,i._sortDirection=H.SortDirection.ASCENDING,i._summarizing=!1,i._grouped=!1,i}e.GroupedItemProvider=p;var C=function(t,e,i,o){if(t===e)return!0;var r=String(t),n=null==e?void 0:String(e);return!r&&!n||!(!r||!n)&&(i||(r=r.toLowerCase(),n=n.toLowerCase()),o?0<=n.indexOf(r):r==n)}});t(Q);Q.MergedGroupFooter,Q.MergedGroupHeader,Q.GroupedItemProvider;var tt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._changed=function(){},s);function s(){return r.call(this)||this}e.GridMergeRule=n;var a,f=(i(l,a=n),l.getDefault=function(t,e){var i=l.$_default;return i._level=t,i._mergeMode=e,i},l.prototype.parseInit=function(t,e,i,o,r){var n=t.itemCount;(o=Math.min(n-i,o))<1||(this._mergeMode?this.$_parseMerged(t,e,i,o,r):this.$_parseNormal(t,e,i,o,r))},l.prototype.parseBounds=function(t,e,i,o,r){if(!(t.itemCount<1)){for(i=Math.max(0,i);0<=i&&r[i]<=0;){var n=t.getItem(i);if(n==this.$_getAncestor(n,this._level))break;i--}for(;i<=o&&0<r[i];)i++;i<=o&&(this._mergeMode?this.$_parseMergedBounds(t,e,i,o,r):this.$_parseNormalBounds(t,e,i,o,r))}},l.prototype.$_getAncestor=function(t,e){var i=U.Utils.cast(t,Z.GroupItem);for(i=i||t.parent;i.level>e;)i=i.parent;return i},l.prototype.$_parseNormal=function(t,e,i,o,r){var n=t.itemCount;if(!(n<1)){var s=t.getItem(i),a=s,l=i,u=l+1;for(r[l]=l+1;u<n;)((s=t.getItem(u)).level!=a.level||s.constructor!==a.constructor||s instanceof Z.GroupFooter||s instanceof Z.GroupItemImpl)&&(l=u),r[u]=l+1,u++,a=s}},l.prototype.$_parseMerged=function(t,e,i,o,r){var n=t.itemCount;if(!(n<1))for(var s=t.getItem(i),a=this.$_getAncestor(s,this._level),l=i,u=r[l]=l+1;u<n;){s=t.getItem(u);var h=this.$_getAncestor(s,this._level);if(h!=a){if(o<=u)break;a=h,l=u}r[u]=l+1,u++}},l.prototype.$_parseNormalBounds=function(t,e,i,o,r){var n=t.itemCount;if(!(n<1)){var s=t.getItem(i),a=s,l=i,u=l+1;for(r[l]=l+1;u<n;)(s=t.getItem(u)).level==a.level&&s.constructor===a.constructor||(l=u),r[u]=l+1,u++,a=s}},l.prototype.$_parseMergedBounds=function(t,e,i,o,r){var n=t.itemCount;if(!(n<1)){var s=t.getItem(i),a=this.$_getAncestor(s,this._level),l=i,u=l+1;for(r[l]=l+1;u<n;){s=t.getItem(u);var h=this.$_getAncestor(s,this._level);if(h!=a){if(o<u)break;a=h,l=u}r[u]=l+1,u++}}},l.INIT_COUNT=200,l.$_default=new l,l);function l(){var t=a.call(this)||this;return t._level=0,t._mergeMode=!1,t}e.RowGroupMergeRule=f;var u,h=(u=q.ExpressionRuntime,i(c,u),c.prototype._doDispose=function(){this._item=null,this._ds=null,this._grid=null,this._layout=null,u.prototype._doDispose.call(this)},c.prototype.setDataSource=function(t){this._ds=t,this._fieldCount=t?t.fieldCount:0},c.prototype.setLayout=function(t){this._layout=t,this._column=t.firstColumn,this._grid=t.grid},c.prototype.setCell=function(t){this._item=t.item,this._field=t.dataField},c.prototype.setItem=function(t,e){this._item=t,this._field=e},c.prototype.isIdentifier=function(t){return t=t.toLowerCase(),c.IDENTS.hasOwnProperty(t)?c.IDENTS[t]:u.prototype.isIdentifier.call(this,t)},c.prototype.evaluateIdentifier=function(t){if(this._item){switch(t){case c.ID_ROW:return this._item.index;case c.ID_DATAROW:return this._item.dataRow;case c.ID_CHECKED:return this._item.checked;case c.ID_GROUP:return this._item.parent;case c.ID_VALUE:return this._item.getData(this._field);case c.ID_PREV_VALUES:var e=this._grid.getDataColumns(),i=e.indexOf(this._column);if(e.length<0||i<0)return;for(var o=[],r=0,n=Math.min(i,e.length);r<n;r++)o.push(this._item.getData(e[r].dataIndex));return o.join("`")}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)}},c.prototype.evaluateIndexerI=function(t,e){if(this._item){if(t!=c.ID_VALUE&&t!=c.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);return this._item.getData(e)}},c.prototype.evaluateIndexerS=function(t,e,i){if(t!=c.ID_VALUE&&t!=c.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(this._ds){var o=i?this._ds.getFieldIndexC(e):this._ds.getFieldIndex(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);return this._item.getData(o)}},c.IDENTS={row:c.ID_ROW=0,datarow:c.ID_DATAROW=1,checked:c.ID_CHECKED=2,value:c.ID_VALUE=3,values:c.ID_VALUES=4,group:c.ID_GROUP=5,prevvalues:c.ID_PREV_VALUES=6},c);function c(){var t=u.call(this)||this;return t._item=null,t._field=-1,t._ds=null,t._fieldCount=0,t._grid=null,t._layout=null,t}var p,y={},d=(i(_,p=n),_.createRule=function(t){var e="string"==typeof t?t:t&&t.criteria;return e?new _(e):null},_.prototype._doDispose=function(){this._runtime=null,p.prototype._doDispose.call(this)},Object.defineProperty(_.prototype,"criteria",{get:function(){return this._criteria},set:function(t){(t=t?t.trim():null)!=this._criteria&&(this._criteria=t,this._exprNode=t?q.ExpressionParser.Default.parse(t,null):null,this._changed())},enumerable:!0,configurable:!0}),_.prototype.parseInit=function(t,e,i,o,r){var n=this._layout.isBreakMergeOnEmpty(),s=t.itemCount,a=t.dataSource.rowCount;if(!((o=Math.min(s-i,o))<1||a<=0)){this._runtime.setDataSource(t.dataSource),this._runtime.setLayout(this._layout);for(var l=null,u=i;u<s&&(l=t.getItem(u),!this.$_isRow(l,!1));)r[u]=u+1,u++;if(!(s<=u)){var h=y,c=this._exprNode.isIdentifier("value"),p=i=u;if(r[p]=p+1,!(l.dataRow>=a)){h=c?l.getData(e):(this._runtime.setItem(l,e),this._exprNode.evaluate(this._runtime));for(var d=i+1;d<s;d++)if(l=t.getItem(d),this.$_isRow(l,!1)){if(l.dataRow>=a)break;var _=void 0;if(void 0===(_=c?l.getData(e):(this._runtime.setItem(l,e),this._exprNode.evaluate(this._runtime)))&&n||(_ instanceof Date&&h instanceof Date?+_!=+h:_!=h)){if(o<=d)break;p=d,h=_}r[d]=p+1}else{if(o<=d)break;h=y,r[p=d]=p+1}}}}},_.prototype.parseBounds=function(t,e,i,o,r){var n=this._layout.isBreakMergeOnEmpty(),s=t.itemCount;if(!(s<1)){var a=this._exprNode.isIdentifier("value"),l=y,u=Math.max(0,i),h=u,c=-1;if(this._runtime.setDataSource(t.dataSource),this._runtime.setLayout(this._layout),0<u&&r[u]<=0){var p=t.getItem(u);if(this.$_isRow(p,!1)){var d=void 0;for(d=a?t.getItem(u).getData(e):(this._runtime.setItem(p,e),this._exprNode.evaluate(this._runtime)),u--;0<=u&&(p=t.getItem(u),this.$_isRow(p,!1))&&(void 0===(l=a?p.getData(e):(this._runtime.setItem(p,e),this._exprNode.evaluate(this._runtime)))&&n||l instanceof Date&&d instanceof Date?+l==+d:l==d);)u--;for(var _=h-1;u<_;_--)r[_]=u+2;u<h-1&&(c=u+1)}else{for(r[u]=u+1,_=h-1;u<_;_--)r[_]=u+2;for(u+1<h-1&&(c=u+2),u--;0<=u&&r[u]<=0&&!this.$_isRow(t.getItem(u),!1);)r[u]=u+1,u--}}for(u=Math.max(0,i);u<=o&&0<r[u];)u++;for(;u<=o&&!this.$_isRow(t.getItem(u),!1);)r[u]=u+1,u++;if(u<o){for(h=u,p=t.getItem(u),d=void 0,d=a?p.getData(e):(this._runtime.setItem(p,e),this._exprNode.evaluate(this._runtime)),u++;u<s;)if(p=t.getItem(u),this.$_isRow(p,!1)){if(void 0===(l=a?p.getData(e):(this._runtime.setItem(p,e),this._exprNode.evaluate(this._runtime)))&&n||l instanceof Date&&d instanceof Date?+l!=+d:l!=d){var f=h;for(0<=c&&(f=c,c=-1),_=h;_<u;_++)r[_]=f+1;if(o<=u)break;d=l,h=u}else r[u]=h+1;u++}else{for(f=h,0<=c&&(f=c,c=-1),_=h;_<u;_++)r[_]=f+1;for(r[u]=u+1,u++;u<s&&!this.$_isRow(t.getItem(u),!1);)r[u]=u+1,u++;if(o<=(h=u))break}if(u==s&&l instanceof Date&&d instanceof Date?+l==+d:l==d)for(f=0<=c?c:h,_=h;_<u;_++)r[_]=f+1}}},_.prototype.$_isRow=function(t,e){var i=t instanceof Z.GridRow&&!(t instanceof D.DummyEditItem);if(i&&!e){var o=t.parent;i=o.expanded||o.firstItem!==t}return i},_.INIT_COUNT=200,_.$_runtime=null,_);function _(t){var e=p.call(this)||this;return e._runtime=_.$_runtime=_.$_runtime||new h,e.criteria=t,e}e.ColumnMergeRule=d;var m,g=(m=ue.Base,i(v,m),Object.defineProperty(v.prototype,"head",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"tail",{get:function(){return-1},enumerable:!0,configurable:!0}),v);function v(){return m.call(this)||this}e.GridMergeRoom=g;var b,C=(i(w,b=g),w.borrow=function(t){var e=w.$_rooms.pop();return e?(e._head=t.top,e._tail=t.bottom):e=new w(t),e},w.returnTo=function(t){if(t){var e=w.$_rooms;e.indexOf(t)<0&&e.push(t)}},Object.defineProperty(w.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"head",{get:function(){return this._head},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"tail",{get:function(){return this._tail},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"scope",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"group",{get:function(){return this._group},set:function(t){this._group=t},enumerable:!0,configurable:!0}),w.prototype.getHead=function(t){return t?t.set(this._head,this._column):t=this._column.grid.getIndex(this._head,this._column),t},w.prototype.getTail=function(t){return t?t.set(this._tail,this._column):t=this._column.grid.getIndex(this._tail,this._column),t},w.prototype.isHead=function(t){return t.column==this._column&&t.itemIndex==this._head},w.prototype.isTail=function(t){return t.column==this._column&&t.itemIndex==this._tail},w.prototype.contains=function(t){return t.column==this._column&&t.itemIndex>=this._head&&t.itemIndex<=this._tail},w.$_rooms=new Array,w.$_roomCount=0,w);function w(t){var e=b.call(this)||this;return e._group=null,e._column=t.c1._columnObj,e._head=t.top,e._tail=t.bottom,e}e.ColumnMergeRoom=C;var x,I=0,E=65535,S=(x=ue.Base,i(O,x),Object.defineProperty(O.prototype,"count",{get:function(){return this._rooms.length},enumerable:!0,configurable:!0}),O.prototype.clear=function(){this._flags=null,this._rooms=[],this._inited=!1},O.prototype.initialize=function(t){if(!this._inited){var e=this._layout.grid,i=e.rowGroup,o=e.itemSource,r=this._layout.firstColumn,n=e.getGroupLevel(r.dataIndex),s=e.isGroupedColumn(r)?f.getDefault(n,i.mergeMode):this._layout.$_mergeRuleObj();if(s){for(var a=this._flags=new Array(o.itemCount),l=o.itemCount;l--;)a[l]=0;s._layout=this._layout,s.parseInit(o,r.dataIndex,e.fixedOptions.rowCount,t,a)}this._inited=!0}},O.prototype.refresh=function(t,e){if(this._inited&&this._flags&&!(e<t)){var i=this._rooms,o=this._layout.grid,r=o.layoutManager.fixedItemCount,n=o.itemSource,s=this._layout.firstColumn,a=o.getGroupLevel(s.dataIndex),l=0<a?f.getDefault(a,o.rowGroup.mergeMode):this._layout.$_mergeRuleObj(),u=o.displayOptions.editItemMerging,h=t;for(this._rooms.length=0,l&&(l._layout=this._layout,l.parseBounds(n,s.dataIndex,t,e,this._flags));h<=e;){var c=this.$_checkMerge(n,s,h,0==i.length,r);if(c){var p;if(a<1)if((p=n.getItem(c.r2))instanceof Q.MergedGroupHeader||p instanceof Q.MergedGroupFooter);else{var d=new C(c);this._rooms.push(d)}else if((p=u?n.source.getItem(c.top):n.getItem(c.top)).level>=a){for(var _=p instanceof Z.GroupItem?p:p.parent;_.level>a;)_=_.parent;(d=new C(c)).group=_,i.push(d)}h=c.r2+1}else h+=1}}},O.prototype.getRooms=function(){return this._rooms.slice()},O.prototype.scroll=function(t){},O.prototype.getRoom=function(t){for(var e=this._rooms,i=e.length-1;0<=i;i--)if(e[i].contains(t))return e[i];return null},O.prototype.findRoom=function(t){for(var e=this._rooms,i=e.length-1;0<=i;i--)if(t>=e[i].head&&t<=e[i].tail)return e[i];return null},O.prototype.prepareCells=function(t){for(var e=this._cells,i=0;i<e.length;i++)e[i]=-1;for(;e.length<t;)e.push(-1)},O.prototype.addCells=function(t,e){for(var i=I++,o=t+1;o<t+e;o++)this._cells[o]=i+E;return this._cells[t]=i},O.prototype.isMerged=function(t){return-1<this._cells[t]},O.prototype.isMergeRoot=function(t){return-1<this._cells[t]&&this._cells[t]<E},O.prototype.isHidden=function(t){return this._cells[t]>=E},O.prototype.getHead=function(t){var e=this._cells,i=e[t];if(-1==i)return t;if(i<E)return t;for(var o=t-1;0<=o;o--)if(e[o]<E)return o},O.prototype.getMerged=function(t){for(var e=this._cells,i=e[t],o=1,r=t+1;r<e.length&&e[r]-E==i;r++,o++);return o},O.prototype.$_checkMerge=function(t,e,i,o,r){if(t&&e&&0<=i){var n=e.grid.displayOptions.editItemMerging,s=i,a=this._flags[s],l=t.getItem(s);if(a<=0||Z.ItemState_isEditing(l.itemState)&&!n)return null;if(o)for(;r<s&&!(this._flags[s-1]<a||Z.ItemState_isEditing(t.getItem(s-1).itemState));)s--;for(var u=t.itemCount,h=i+1;h<u;){var c=Z.ItemState_isEditing(t.getItem(h).itemState);if(this._flags[h]>a||this._flags[h]<=0||c&&!n){if(s+1<h)return et.CellRange.createRange(s,e.layout,h-1,e.layout);var p=e instanceof ut.DataColumn?e.groupLevel:-1;return(l=t.getItem(s))instanceof Q.MergedGroupHeader&&l.collapsed?et.CellRange.createRange(s,e.layout,h-1,e.layout):l instanceof Q.MergedGroupFooter&&l.parent.level==p&&(h==i+1||l.parent.collapsed)?et.CellRange.createRange(s,e.layout,h-1,e.layout):(l instanceof Q.MergedGroupHeader||l instanceof Q.MergedGroupFooter)&&l.parent.level>p?et.CellRange.createRange(s,e.layout,h-1,e.layout):null}h++}if(s<h)return s+1<h?et.CellRange.createRange(s,e.layout,h-1,e.layout):(p=e instanceof ut.DataColumn?e.groupLevel:-1,(l=t.getItem(s))instanceof Q.MergedGroupHeader&&l.collapsed?et.CellRange.createRange(s,e.layout,h-1,e.layout):l instanceof Q.MergedGroupFooter&&l.parent.level==p&&(h==i+1||l.parent.collapsed)?et.CellRange.createRange(s,e.layout,h-1,e.layout):(l instanceof Q.MergedGroupHeader||l instanceof Q.MergedGroupFooter)&&l.parent.level>p?et.CellRange.createRange(s,e.layout,h-1,e.layout):null)}return null},O.MERGE_ROOMS="mergeRooms",O);function O(t){var e=x.call(this)||this;return e._flags=null,e._rooms=new Array,e._inited=!1,e._cells=[],e._layout=t,e}e.ColumnMergeManager=S});t(tt);tt.GridMergeRule,tt.RowGroupMergeRule,tt.ColumnMergeRule,tt.GridMergeRoom,tt.ColumnMergeRoom,tt.ColumnMergeManager;var A=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){this._header=this._header&&this._header.dispose(),r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){if(this.$_grid)return this.$_grid;var t=this.root;return t&&t._parent.grid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isNull",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isProxy",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&(this._visible=t,this._changed())},enumerable:!0,configurable:!0}),s.prototype.$_isVisible=function(){return this._visible},Object.defineProperty(s.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"group",{get:function(){return this._parent instanceof M?null:this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"root",{get:function(){if(!this._root)for(var t=this;t;){if(t._parent instanceof M)return this._root=t;t=t._parent}return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isRoot",{get:function(){return this.root===this},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataRoot",{get:function(){if(!this._dataRoot)if(0==this._y)this._dataRoot=this;else{for(var t=this.group;t&&0<t._y;)t=t.group;this._dataRoot=t}return this._dataRoot},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"vindex",{get:function(){return this._vindex},set:function(t){this._parent&&this._parent.$_changeChildVIndex(this,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hrow",{get:function(){return this._hrow},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hcol",{get:function(){return this._hcol},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this._getWidth(this._width)},set:function(t){(t=Math.max(0,t))!=this._width&&(this._width=t,this._parent&&this._parent._childWidthChanged(this))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fillWidth",{get:function(){return this._fillWidth},set:function(t){(t=Math.max(0,t))!=this._width&&(this._fillWidth=t,this._parent&&this._parent._childFillWidthChanged(this))},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellWidth",{get:function(){return isNaN(this._fitWidth)?this._cellWidth:this._fitWidth},set:function(t){this.changeCellWidth(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"distance",{get:function(){return this._d},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cspan",{get:function(){return this._cspan},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hspan",{get:function(){return this._hspan},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hlen",{get:function(){return this._hlen},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"merged",{get:function(){return this._merged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isFixed",{get:function(){return this.$_fixed||this.$_rfixed},enumerable:!0,configurable:!0}),s.prototype.load=function(t){void 0!==t.width&&(this.width=t.width),void 0!==t.header&&this._header.assignFrom(t.header)},s.prototype.getCellWidth=function(t){return this.width},s.prototype.isColumn=function(t){return!1},s.prototype.cleanColumns=function(){},s.prototype.findLayout=function(t){return null},s.prototype.getHeaderSpan=function(){return 1},s.prototype.getSummarySpan=function(){return 1},s.prototype.getFooterSpan=function(){return 1},s.prototype.getDataSpan=function(){return 1},s.prototype._createHeader=function(){return null},s.prototype._headerChanged=function(){},s.prototype._prepareLayout=function(t,e,i){this.$_grid=t,this.$_fixed=e,this.$_rfixed=i,this._merged=!1},s.prototype._detach=function(){this._parent=void 0,this._index=-1,this._vindex=-1,this._row=-1,this._col=-1,this._cspan=1,this._hspan=1,this._dspan=1,this._clen=1,this._hlen=1,this._dlen=1,this._root=void 0,this._dataRoot=void 0,this._y=0,this._d=0},s.prototype._getWidth=function(t){return t},s.prototype.changeCellWidth=function(t,e){var i=0;i=e?t-this._fitWidth:t-this._cellWidth,e&&(i*=this._cellWidth/this._fitWidth),this._incCellWidth(i,e)},s.prototype._incCellWidth=function(t,e){if(this.isRoot||this.parent.vertical)this.width+=t;else{var i=this.cellWidth/this.width;this.width+=Math.floor(t*i)}},s.prototype.$_setFitWidth=function(t){this._fitWidth=t},s.prototype._clearFitWidth=function(){this._fitWidth=NaN},s.prototype._changed=function(){this._parent&&this._parent._changed()},s.prototype.$_setMerged=function(t){this._merged=t},s);function s(){var t=r.call(this)||this;return t._visible=!0,t._width=NaN,t._fillWidth=0,t._index=-1,t._vindex=-1,t._row=0,t._col=0,t._hrow=0,t._hcol=0,t._cspan=1,t._hspan=1,t._dspan=1,t._clen=1,t._hlen=1,t._dlen=1,t._cellWidth=0,t._fitWidth=NaN,t._y=0,t._d=0,t._merged=!1,t.$_fixed=!1,t.$_rfixed=!1,t._header=t._createHeader(),t._header&&(t._header._layout=t),t}e.CellLayoutItem=n;var a,f=(i(l,a=n),Object.defineProperty(l.prototype,"isNull",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isProxy",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._source.visible},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"cols",{get:function(){return this._source.cols},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"headerRows",{get:function(){return this._source.headerRows},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rows",{get:function(){return this._source.rows},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"first",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"last",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"firstColumn",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"boundColumn",{get:function(){return this._source.boundColumn},enumerable:!0,configurable:!0}),l.prototype.load=function(t){},l.prototype._isResizable=function(){return!1},l.prototype._isMovable=function(){return!1},l.prototype.clearMergeGrouped=function(){},l);function l(t,e){var i=a.call(this)||this;return i._source=t,i._index=e,i}e.ProxyCellLayoutItem=f;var u,p,h,y=(i(c,u=n),Object.defineProperty(c.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"mergeRule",{get:function(){return this._mergeRule},set:function(t){if(t!==this._mergeRule){this._mergeRule=t,this._mergeRuleObj=t?tt.ColumnMergeRule.createRule(t):void 0===t?void 0:null;var e=this.grid;e&&e._columnMergeRuleChanged(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"breakMergeOnEmpty",{get:function(){return this._breakMergeOnEmpty},set:function(t){if(t!==this._breakMergeOnEmpty){this._breakMergeOnEmpty=t;var e=this.grid;e&&e._columnMergeRuleChanged(this)}},enumerable:!0,configurable:!0}),c.prototype.isBreakMergeOnEmpty=function(){return void 0===this._breakMergeOnEmpty?this._columnObj instanceof ut.DataColumn&&this._columnObj.breakMergeOnEmpty:this._breakMergeOnEmpty},Object.defineProperty(c.prototype,"equalBlank",{get:function(){return this._equalBlank},set:function(t){t!==this._equalBlank&&(this._equalBlank=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"equalBlankNode",{get:function(){return this._blankNodeRun},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"blanked",{get:function(){return this._blanked},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"equalBlankExpression",{get:function(){return this._equalBlankExpression},set:function(t){t!==this._equalBlankExpression&&(this._equalBlankExpression=t,this._equalBlankNode=t?q.ExpressionParser.Default.parse(t,null):void 0===t?void 0:null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cellSpan",{get:function(){return this._cellSpan},set:function(t){(t=Math.max(1,t))!=this._cellSpan&&(this._cellSpan=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"headerSpan",{get:function(){return this._headerSpan},set:function(t){t!=this._headerSpan&&(void 0!==t&&(t=Math.max(1,t)),this._headerSpan=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"summarySpan",{get:function(){return this._summarySpan},set:function(t){t!=this._summarySpan&&(void 0!==t&&(t=Math.max(1,t)),this._summarySpan=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"footerSpan",{get:function(){return this._footerSpan},set:function(t){t!=this._footerSpan&&(void 0!==t&&(t=Math.max(1,t)),this._footerSpan=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dataSpan",{get:function(){return this._dataSpan},set:function(t){t!=this._dataSpan&&(void 0!==t&&(t=Math.max(1,t)),this._dataSpan=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"spanCallback",{get:function(){return this._spanCallback},set:function(t){t!=this._spanCallback&&(this._spanCallback=t,this._changed())},enumerable:!0,configurable:!0}),c.prototype.canMerge=function(){if(null!=this._mergeRuleObj)return!0;if(this._columnObj instanceof ut.DataColumn){if(this._columnObj.mergeGrouped)return!0;if(void 0===this._mergeRuleObj)return null!=this._columnObj._mergeRuleObj}},Object.defineProperty(c.prototype,"isNull",{get:function(){return!this._columnObj},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"cols",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"headerRows",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"first",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"last",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"firstColumn",{get:function(){return this._columnObj},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"boundColumn",{get:function(){return this._columnObj},enumerable:!0,configurable:!0}),c.prototype.getHeaderSpan=function(){return void 0===this._headerSpan?this._cellSpan:this._headerSpan},c.prototype.getSummarySpan=function(){return void 0===this._summarySpan?this._cellSpan:this._summarySpan},c.prototype.getFooterSpan=function(){return void 0===this._footerSpan?this._cellSpan:this._footerSpan},c.prototype.getDataSpan=function(){return void 0===this._dataSpan?this._cellSpan:this._dataSpan},c.prototype._createHeader=function(){return new _},c.prototype._isResizable=function(){return!this._columnObj||this._columnObj.resizable},c.prototype._isMovable=function(){return!this._columnObj||this._columnObj.movable},c.prototype.isColumn=function(t){return this._columnObj===t},c.prototype.findLayout=function(t){return t&&this._columnObj===t?this:null},c.prototype.load=function(t){u.prototype.load.call(this,t),void 0!==t.cellSpan&&(this.cellSpan=t.cellSpan),void 0!==t.headerSpan&&(this.headerSpan=t.headerSpan),void 0!==t.summarySpan&&(this.summarySpan=t.summarySpan),void 0!==t.footerSpan&&(this.footerSpan=t.footerSpan)},c.prototype.cleanColumns=function(){this._columnObj&&this._columnObj.clean()},c.prototype.$_isVisible=function(){return this._visible&&(!this._columnObj||this._columnObj.visible)},c.prototype._getWidth=function(t){return isNaN(t)?this._columnObj?this._columnObj.width:NaN:t},c.prototype._prepareLayout=function(t,e,i){u.prototype._prepareLayout.call(this,t,e,i),this._columnObj&&(this._columnObj._prepareLayout(t,this),this._blankNodeRun=this._equalBlankNode,this._blanked=this._equalBlank||null!=this._blankNodeRun,this._blanked||(void 0===this._equalBlankNode&&(this._blanked=null!=(this._blankNodeRun=this._columnObj._equalBlankNode)),this._blanked||void 0!==this._equalBlank||(this._blanked=this._columnObj._equalBlank)))},c.prototype.toString=function(){return"string"==typeof this._column?this._column:u.prototype.toString.call(this)},c.prototype.clearMergeGrouped=function(){this.firstColumn instanceof ut.DataColumn&&this.firstColumn.$_setMergeGrouped(!1)},c.prototype.$_bindColumn=function(t,e){if(this._columnObj||(this._columnObj=e.columnByName(this._column)),this._columnObj){var i=this._columnObj.$_hash;if(t[i])throw"Column is already contained in layouts: "+(this._columnObj.name||this._columnObj.displayText);this._columnObj._layout=this,t[i]=this}},c.prototype.$_mergeRuleObj=function(){return this._mergeRuleObj?this._mergeRuleObj:void 0===this._mergeRuleObj&&this._columnObj instanceof ut.DataColumn?this._columnObj._mergeRuleObj:null},c);function c(t){var e=u.call(this)||this;return e._mergeRule=void 0,e._breakMergeOnEmpty=!1,e._equalBlank=void 0,e._equalBlankExpression=void 0,e._cellSpan=1,e._mergeRuleObj=void 0,e._equalBlankNode=void 0,e._cellWidths=[],e._cols=1,e._rows=1,e._blanked=!1,e._column=t,e._columnObj=t instanceof ut.ValueColumn&&t,e}e.CellLayoutColumnItem=y,(h=p=e.ColumnLayoutDirection||(e.ColumnLayoutDirection={})).VERTICAL="vertical",h.HORIZONTAL="horizontal";var d,_=(d=ue.Base,i(m,d),Object.defineProperty(m.prototype,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t,this._changed())},enumerable:!0,configurable:!0}),m.prototype.isVisible=function(){return!0},m.prototype.assignSimple=function(t){return"string"==typeof t&&(this.text=t,!0)},m.prototype._changed=function(){this._layout&&this._layout._headerChanged()},m);function m(){return d.call(this)||this}e.CellLayoutHeader=_;var g,v=(i(b,g=_),Object.defineProperty(b.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&(this._visible=t,this._changed())},enumerable:!0,configurable:!0}),b.prototype.assignSimple=function(t){return!g.prototype.assignSimple.call(this,t)&&"boolean"==typeof t&&(this.visible=t,!0)},b.prototype.isVisible=function(){return this._visible},b);function b(){var t=g.call(this)||this;return t._visible=!0,t}e.CellLayoutGroupHeader=v;var C,w=(i(x,C=n),x.getRight=function(t){var e=t&&t.parent;return e?t=(t=e.rightOf(t))||x.getRight(e):null},x.getLeft=function(t){var e=t&&t.parent;return e?t=(t=e.leftOf(t))||x.getLeft(e):null},x.getNext=function(t){var e=t&&t.parent;return e?t=(t=e.nextOf(t))||x.getNext(e):null},x.getPrev=function(t){var e=t&&t.parent;return e?t=(t=e.prevOf(t))||x.getPrev(e):null},x.getLower=function(t){var e=t&&t.parent;return e?t=(t=e.lowerOf(t))||x.getLower(e):null},x.getUpper=function(t){var e=t&&t.parent;return e?t=(t=e.upperOf(t))||x.getUpper(e):null},x.getTop=function(t){for(var e=null;t;){if(x.isTop(t)){e=t;break}var i=x.getUpper(t);if(!i){e=t;break}t=i}return e?(e.group,e):null},x.getBottom=function(t){for(var e=null;t;){if(x.isBottom(t)){e=t;break}var i=x.getLower(t);if(!i){e=t;break}t=i}return e?(e.group,e):null},x.isTop=function(t){for(var e=t&&t.parent;e;){if(e.vertical&&1<e.visibleCount&&0<t.vindex)return!1;e=(t=e).parent}return!0},x.isBottom=function(t){for(var e=t&&t.parent;e;){if(e.vertical&&1<e.visibleCount&&t.vindex<e.visibleCount-1)return!1;e=(t=e).parent}return!0},x.isLeft=function(t){for(var e=t&&t.parent;e;){if(!e.vertical&&1<e.visibleCount&&0<t.vindex)return!1;e=(t=e).parent}return!0},x.isRight=function(t){for(var e=t&&t.parent;e;){if(e.vertical&&1<e.visibleCount&&t.vindex<e.visibleCount-1)return!1;e=(t=e).parent}return!0},x.prototype._doDispose=function(){this._items.forEach(function(t){t&&t.dispose()}),this._visibles=this._items=null,this._cellWidths=null,C.prototype._doDispose.call(this)},Object.defineProperty(x.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"direction",{get:function(){return this._direction},set:function(t){t!=p.VERTICAL&&(t=p.HORIZONTAL),t!=this._direction&&(this._direction=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"vertical",{get:function(){return this._direction==p.VERTICAL},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"horizontal",{get:function(){return this._direction!=p.VERTICAL},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"resizable",{get:function(){return this._resizable},set:function(t){this._resizable=t},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"movable",{get:function(){return this._movable},set:function(t){this._movable=t},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"items",{get:function(){return this._items.slice()},set:function(t){this._items=t?t.slice():[];for(var e=0,i=this._items;e<i.length;e++)i[e]._parent=this;this._changed()},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"visibleCount",{get:function(){return this._visibles.length},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"visibles",{get:function(){return this._visibles.slice()},enumerable:!0,configurable:!0}),x.prototype.contains=function(t){for(var e=0,i=this._items;e<i.length;e++)if(i[e]===t)return!0;return!1},x.prototype.indexOf=function(t){for(var e=0;e<this._items.length;e++)if(this._items[e]===t)return e;return-1},x.prototype.getItem=function(t){return this._items[t]},x.prototype.getVisible=function(t){return this._visibles[t]},x.prototype.addColumn=function(t,e){var i=new y(t);this.addItem(i,e)},x.prototype.addItem=function(t,e){void 0===e&&(e=this._items.length),null!=t&&0<=e&&e<=this._items.length&&(this._items.splice(e,0,t),(t._parent=this)._changed())},x.prototype.clear=function(t){void 0===t&&(t=!0);for(var e=0,i=this._items;e<i.length;e++){var o=i[e];t&&o instanceof x&&o.clear(),o._detach()}this._items=[],this._visibles=[],this._cols=0,this._rows=0,this._headerCols=0,this._headerRows=0},x.prototype.removeItem=function(t){var e=this.indexOf(t);0<=e&&(this._items.splice(e,1),t._detach())},x.prototype.removeItemAt=function(t){0<=t&&t<this._items.length&&this._items.splice(t,1)[0]._detach()},x.prototype.moveItem=function(t,e){var i=this._items.length;if(t!=e&&0<=t&&t<i&&0<=e&&e<i){var o=this._items[t];this._items.splice(t,1),this._items.splice(e,0,o)}},x.prototype.getColumn=function(t,e,i){var o=this.$_getLeaf(e,i).column;return"string"==typeof o?t.columnByName(o):o},x.prototype.findItem=function(t){if(t)for(var e=0,i=this._items;e<i.length;e++){var o=i[e];if(o instanceof y&&o.column===t)return o;if(o instanceof x){var r=o.findItem(t);if(r)return r}}return null},x.prototype.rightOf=function(t){if(this.horizontal)try{var e=this.$_checkVisible(t);if(e<this.visibleCount-1)return t=E(this,e+1)}catch(t){}return null},x.prototype.leftOf=function(t){if(this.horizontal)try{var e=this.$_checkVisible(t);if(0<e)return t=S(this,e-1)}catch(t){}return null},x.prototype.nextOf=function(t){try{var e=this.$_checkVisible(t);if(e<this.visibleCount-1)return t=O(this,e+1)}catch(t){}return null},x.prototype.prevOf=function(t){try{var e=this.$_checkVisible(t);if(0<e)return t=R(this,e-1)}catch(t){}return null},x.prototype.lowerOf=function(t){if(this.vertical)try{var e=this.$_checkVisible(t);if(e<this.count-1)return t=D(this,e+1)}catch(t){}return null},x.prototype.upperOf=function(t){if(this.vertical)try{var e=this.$_checkVisible(t);if(0<e)return t=P(this,e-1)}catch(t){}return null},Object.defineProperty(x.prototype,"cols",{get:function(){return this._cols},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"headerRows",{get:function(){return this._headerRows},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"first",{get:function(){return 0<this._visibles.length?this._visibles[0].first:this},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"last",{get:function(){var t=this._visibles.length;return 0<t?this._visibles[t-1].last:this},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"firstColumn",{get:function(){return 0<this._visibles.length?this._visibles[0].firstColumn:null},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"boundColumn",{get:function(){return this.firstColumn},enumerable:!0,configurable:!0}),x.prototype._createHeader=function(){return new v},x.prototype.load=function(t){this.clear(),t.items&&this._loadItems(t.items),C.prototype.load.call(this,t)},x.prototype.findLayout=function(t){for(var e=0,i=this._items;e<i.length;e++){var o=i[e].findLayout(t);if(o)return o}return null},x.prototype.cleanColumns=function(){for(var t=0,e=this.items.length;t<e;t++)this.getItem(t).cleanColumns()},x.prototype._isResizable=function(){return this._resizable},x.prototype._isMovable=function(){return this._movable},x.prototype.getCellWidth=function(t){return 100},x.prototype._incCellWidth=function(t,e){if(isNaN(this.width))if(this.horizontal){for(var i=0,o=0,r=this._visibles;o<r.length;o++)i+=(u=r[o])._cellWidth;for(var n=0,s=this._visibles;n<s.length;n++)(u=s[n])._incCellWidth(t*u._cellWidth/i,e)}else for(var a=0,l=this._visibles;a<l.length;a++){var u;(u=l[a])._incCellWidth(t,e)}else C.prototype._incCellWidth.call(this,t,e)},x.prototype._clearFitWidths=function(){C.prototype._clearFitWidth.call(this);for(var t=0,e=this._visibles;t<e.length;t++)e[t]._clearFitWidth()},x.prototype._prepareLayout=function(t,e,i){C.prototype._prepareLayout.call(this,t,e,i);for(var o=0,r=this._visibles;o<r.length;o++)r[o]._prepareLayout(t,e,i)},x.prototype.toString=function(){return this._name||C.prototype.toString.call(this)},x.prototype.clearMergeGrouped=function(){for(var t=0,e=this.items.length;t<e;t++)this.getItem(t).clearMergeGrouped()},x.prototype._setColumns=function(t){for(var e=this._items.length=0,i=t.count;e<i;e++){var o=new y(t.getColumn(e));this._items.push(o),o._parent=this}},x.prototype._loadItems=function(t){for(var e=0,i=t;e<i.length;e++){var o=i[e],r=void 0;"string"==typeof o?r=new y(o):"number"==typeof o?(r=new y(null)).width=o:o&&(r=o.items?new x(o.name,o.direction):new y(o.column)),r&&(r._parent=this,r.load(o),this._items.push(r))}},x.prototype.$_bindColumns=function(t,e){for(var i=0,o=this._items;i<o.length;i++){var r=o[i];r._root=null,r instanceof x?r.$_bindColumns(t,e):r.$_bindColumn(t,e)}},x.prototype.$_parseHeaderCells=function(t,e,i){for(var o=this._direction===p.HORIZONTAL,r=0,n=0,s=this._header.isVisible()?1:0,a=0,l=this._visibles;a<l.length;a++){var u=l[a],h=u.header.isVisible()?1:0;if(u._hrow=e,u._hcol=i,u._hspan=h,u._cspan=1,u instanceof x)if(0<h&&(t[e][i]=u),u.$_parseHeaderCells(t,e+h,i),0<h)if(o){i++;for(var c=1;c<u.cols;c++)t[e][i++]=new f(u,c)}else{for(c=1;c<u.cols;c++)t[e][i+c]=new f(u,c);e+=u.headerRows}else o?i+=u.cols:e+=u.headerRows;else if(t[e][i]=u,o){for(c=1;c<this.headerRows-s;c++)t[e+c][i]=new f(u,c),u._hspan++;u._hlen=u._hspan,i+=u.cols}else{for(c=1;c<this.cols;c++)t[e][i+c]=new f(u,c),u._cspan++;u._clen=u._cspan,e+=u.rows}o?(n+=u._clen,r=Math.max(u._hlen,r)):(n=Math.max(u._clen,n),r+=u._hlen)}o?(n=Math.max(1,n),r+=this._header.isVisible()?1:0,this._cspan=this._clen=n):(r=Math.max(1,r+(this._header.isVisible()?1:0)),this._clen=this._cspan=n),this._hlen=r},x.prototype.$_fillHorz=function(t,e,i,o,r,n){for(var s=i+r,a=o,l=a+this._clen-1,u=0,h=e-r;u<h;u++)for(var c=l;a<=c;c--){var p=t[s+u][c];if(null!=p){p instanceof f&&(p=p.source);for(var d=c+1;d<=l;d++){var _=t[s+u][d]=new f(p,d-a);n?(_._hrow=s+u,_._hcol=d,p._cspan++,p instanceof y&&p._clen++):(_._row=s+u,_._col=d)}break}}},x.prototype.$_fillVert=function(t,e,i,o,r,n,s){for(var a=o+n,l=o+e-1,u=r+i-1,h=r;h<=u;h++)for(var c=l;a<=c;c--){var p=t[c][r];if(null!=p){p instanceof f&&(p=p.source);for(var d=c+1;d<=l;d++){var _=t[d][h]=new f(p,d-a);s?(_._hrow=d,_._hcol=h,p._hspan++,p instanceof y&&p._hlen++):(_._row=d,_._col=h,p._dspan++,p instanceof y&&p._dlen++)}break}}},x.prototype.$_adjustHeaderCells=function(t){var e=this._header.isVisible()?1:0;if(this._direction!=p.VERTICAL){for(var i=0,o=this._visibles;i<o.length;i++)(a=o[i])instanceof x&&(a._hlen=this._hlen-e,a.$_adjustHeaderCells(t));this.$_fillHorz(t,this._hlen,this._hrow,this._hcol,e,!0)}else{for(var r=this._clen,n=0,s=this._visibles;n<s.length;n++){var a;(a=s[n])instanceof x&&(a._clen=this._clen,a.$_adjustHeaderCells(t))}this.$_fillVert(t,this._hlen,r,this._hrow,this._hcol,e,!0)}},x.prototype.$_parseDataCells=function(t,e,i){for(var o=this._direction!=p.VERTICAL,r=0,n=0,s=this._visibles;n<s.length;n++){var a=s[n];if(a._row=e,a._col=i,a._dspan=1,a instanceof x)a.$_parseDataCells(t,e,i),o?i+=a.cols:e+=a.rows;else if(t[e][i]=a,o){for(var l=1;l<this.rows;l++)t[e+l][i]=new f(a,l),a._dspan++;a._dlen=a._dspan,i+=a.cols}else{for(l=1;l<this.cols;l++)t[e][i+l]=new f(a,l);e+=a.rows}o?r=Math.max(a._dlen,r):r+=a._dlen}o||(r=Math.max(1,r)),this._dlen=r},x.prototype.$_adjustDataCells=function(t){if(this._direction!=p.VERTICAL){for(var e=0,i=this._visibles;e<i.length;e++)(s=i[e])instanceof x&&(s._dlen=this._dlen,s.$_adjustDataCells(t));this.$_fillHorz(t,this._dlen,this._row,this._col,0,!1)}else{for(var o=this._clen,r=0,n=this._visibles;r<n.length;r++){var s;(s=n[r])instanceof x&&(s._clen=this._clen,s.$_adjustDataCells(t))}this.$_fillVert(t,this._dlen,o,this._row,this._col,0,!1)}},x.prototype.$_resetSpans=function(){if(this._direction==p.HORIZONTAL){for(var t=0,e=1,i=1,o=0,r=this._visibles;o<r.length;o++)(a=r[o])instanceof x&&a.$_resetSpans(),t+=a.cols,e=Math.max(e,a.headerRows),i=Math.max(i,a.rows);this._cols=t,this._headerRows=e+(this._header.isVisible()?1:0),this._rows=i}else{this._cols=1,this._headerRows=this._header.isVisible()?1:0;for(var n=this._rows=0,s=this._visibles;n<s.length;n++){var a;(a=s[n])instanceof x&&a.$_resetSpans(),this._headerRows+=a.headerRows,this._rows+=a.rows,this._cols=Math.max(a.cols,this._cols)}}},x.prototype.$_resetVisibles=function(){var t=this.vertical,e=this._y,i=this._d,o=0,r=0;this._visibles=[];for(var n=0,s=this._items;n<s.length;n++){var a=s[n],l=a.$_isVisible();a._index=o++,l&&(this._visibles.push(a),a._y=t?e+1:e,a._vindex=r++),a instanceof x&&a.$_resetVisibles(),l&&(a._d=t?Math.max(i,a._vindex):i+a._vindex)}this.$_resetSpans()},x.prototype.$_getLeaf=function(t,e){for(var i=0,o=this._visibles;i<o.length;i++){var r=o[i];if(r instanceof x){var n=r.row,s=n+r.rows;if(n<=t&&t<s){var a=r.col,l=a+r.cols;if(a<=e&&e<l)return this.$_getLeaf(t-n,e-a)}}else if(r.row===t&&r.col===e)return r}return null},x.prototype.$_collectCellWidths=function(t){for(var e=this._cellWidths=[],i=0,o=this._visibles;i<o.length;i++){var r=o[i],n=r.width;if(r instanceof y&&isNaN(n)&&(n=t),r instanceof x){var s=r.$_collectCellWidths(t);isNaN(n)&&(n=s)}e.push(r._cellWidth=n)}var a=this.width;if(isNaN(this.width))if(a=0,this.vertical)for(var l=0,u=e;l<u.length;l++){var h=u[l];a=Math.max(a,h)}else for(var c=0,p=e;c<p.length;c++)a+=h=p[c];return a},x.prototype.$_arrangeCellWidths=function(){var t=this._visibles.length;if(!(t<1)){var e=this.width,i=this._visibles;if(!isNaN(e))if(this.vertical)for(var o=0;o<t;o++)i[o]._cellWidth=e,this._cellWidths[o]=e;else{for(var r=0,n=0,s=i;n<s.length;n++)r+=s[n]._cellWidth;var a=r;for(o=0;o<t-1;o++){var l=i[o],u=Math.floor(e*l._cellWidth/r);i[o]._cellWidth=u,a-=this._cellWidths[o]=u}(p=i[t-1])._cellWidth=a,this._cellWidths[t-1]=a}for(var h=0,c=i;h<c.length;h++){var p;(p=c[h])instanceof x&&p.$_arrangeCellWidths()}}},x.prototype.$_fillCellWidths=function(t,e){var i=t;if(this.vertical)for(var o=0,r=this._visibles;o<r.length;o++)(a=r[o])instanceof x?a.$_fillCellWidths(i,e):e[i]=Math.max(e[i],a._cellWidth);else for(var n=0,s=this._visibles;n<s.length;n++){var a;(a=s[n])instanceof x?(a.$_fillCellWidths(i,e),i+=a.cols):(e[i]=Math.max(e[i],a._cellWidth),i++)}},x.prototype._childIndexChanged=function(t){this.parent&&this.parent._childIndexChanged(t)},x.prototype._childWidthChanged=function(t){this.parent&&this.parent._childWidthChanged(t)},x.prototype._childFillWidthChanged=function(t){this.parent&&this.parent._childFillWidthChanged(t)},x.prototype.$_checkVisible=function(t){var e;if(!t||(e=t.vindex)<0||t!==this.getVisible(e))throw new Error("Column is not a visible group member");return e},x.prototype.$_collectHorzColumns=function(t,e,i){if(this.horizontal)for(var o=e;o<=i;o++){var r=this._visibles[o];r instanceof x?r.$_collectHorzColumns(t,0,r.visibleCount-1):r instanceof y&&t.push(r._columnObj)}},x.prototype.$_changeChildVIndex=function(t,e){t&&e!=t.vindex&&0<=e&&e<this._visibles.length&&this.$_changeChildIndex(t,this._visibles[e].index)},x.prototype.$_changeChildIndex=function(t,e){if(t){var i=t.index;i!=e&&0<=e&&e<this._items.length&&(this._items.splice(i,1),this._items.splice(e,0,t),this._childIndexChanged(t))}},x);function x(t,e){var i=C.call(this)||this;return i._direction=p.HORIZONTAL,i._items=[],i._resizable=!0,i._movable=!0,i._visibles=[],i._cols=0,i._rows=0,i._headerCols=0,i._headerRows=0,i._cellWidths=[],i._name=t,i._direction=e==p.VERTICAL?p.VERTICAL:p.HORIZONTAL,i}e.CellLayoutGroupItem=w;var I,E=function(t,e){for(var i=e,o=t.visibleCount;i<o;i++){var r=t.getVisible(i);if(r instanceof y)return r;if(r instanceof w&&(r=r.first)instanceof y)return r}return null},S=function(t,e){for(var i=e;0<=i;i--){var o=t.getVisible(i);if(o instanceof y)return o;if(o instanceof w&&(o=o.last)instanceof y)return o}return null},O=function(t,e){for(var i=e,o=t.visibleCount;i<o;i++){var r=t.getVisible(i);if(r instanceof y)return r;if(r instanceof w&&(r=r.first)instanceof y)return r}return null},R=function(t,e){for(var i=e;0<=i;i--){var o=t.getVisible(i);if(o instanceof y)return o;if(o instanceof w&&(o=o.last)instanceof y)return o}return null},D=function(t,e){for(var i=e,o=t.visibleCount;i<o;i++){var r=t.getVisible(i);if(r instanceof y)return r;if(r instanceof w&&(r=r.first)instanceof y)return r}return null},P=function(t,e){for(var i=e;0<=i;i--){var o=t.getVisible(i);if(o instanceof y)return o;if(o instanceof w&&(o=o.last)instanceof y)return o}return null},T=function(t,e,i){for(var o=i?t.visibleCount:t.count,r=0;r<o;r++){var n=i?t.getVisible(r):t.getItem(r);n instanceof y?e.push(n._columnObj):n instanceof w&&T(n,e,i)}},k=function(t,e,i){for(var o=i?t.visibleCount:t.count,r=0;r<o;r++){var n=i?t.getVisible(r):t.getItem(r);n instanceof y?e.push(n._columnObj):n instanceof w&&k(n,e,i)}},M=(i(L,I=w),Object.defineProperty(L.prototype,"grid",{get:function(){return this._owner.grid},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"root",{get:function(){return this},enumerable:!0,configurable:!0}),L.prototype._changed=function(){this._owner&&this._owner._changed()},L.prototype._childIndexChanged=function(t){this._owner._itemIndexChanged(t)},L.prototype._childWidthChanged=function(t){this._owner._itemWidthChanged(t)},L.prototype._childFillWidthChanged=function(t){this._owner._itemFillWidthChanged(t)},L);function L(t){var e=I.call(this,"$_root_$",null)||this;return e._owner=t,e.header._visible=!1,e}var F,A=(F=Y.EventAware,i(V,F),V.prototype._doDispose=function(){this._grid=null,this._root=this._root.dispose(),F.prototype._doDispose.call(this)},Object.defineProperty(V.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"count",{get:function(){return this._root.count},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"visibleCount",{get:function(){return this._root.visibleCount},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"headerRows",{get:function(){return this._root._hlen},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"dataRows",{get:function(){return this._root._dlen},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"first",{get:function(){return this._root.first},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"firstColumn",{get:function(){return this._root.firstColumn},enumerable:!0,configurable:!0}),V.prototype.load=function(t){return this.$_clear(),this._root._loadItems(t),this._changed(),this},V.prototype.cleanColumns=function(){this._root.cleanColumns()},V.prototype.invalidate=function(){this._changed()},V.prototype.invalidateIndices=function(){this._changed()},V.prototype.invalidateSize=function(){this._resized||(this._resized=!0,this.grid.invalidateCellLayouts())},V.prototype.getVisible=function(t){return this._root.getVisible(t)},V.prototype.add=function(t,e){(t=t||this._root).addColumn(e)},V.prototype.setColumns=function(t){this._root._setColumns(t),this._changed()},V.prototype.layoutByColumn=function(t){return this._root.findLayout(t)},V.prototype.getHeaderCellPos=function(t){for(var e=0;e<this._headerCells.length;e++)for(var i=this._headerCells[e],o=0;o<i.length;o++)if(i[o]instanceof y&&i[o]._columnObj===t)return{row:e,col:o};return null},V.prototype.getDataCellPos=function(t){for(var e=0;e<this._dataCells.length;e++)for(var i=this._dataCells[e],o=0;o<i.length;o++)if(i[o]instanceof y&&i[o]._columnObj===t)return{row:e,col:o};return null},V.prototype.getDataColumns=function(t){void 0===t&&(t=!0);var e=[];return k(this._root,e,t),e},V.prototype.collectColumns=function(t,e,i){var o=[];return T(this._root,o,e),o},V.prototype.collectDataColumns=function(t,e){var i=t.index,o=e.index,r=[];k(this._root,r,!0);for(var n=r.length-1;0<=n;n--){var s=r[n].layout.index;(s<i||o<s)&&r.splice(n,1)}return r},V.prototype.getHorzColumns=function(t,e){void 0===t&&(t=0);var i=null==e?t+this._root.visibleCount-1:t+e-1,o=[];return this._root.$_collectHorzColumns(o,t,i),o},V.prototype._changed=function(){if(!this._dirty){this._dirty=!0;var t=this.grid;t&&t.invalidateLayout()}},V.prototype.$_clear=function(){this._headerCells=[],this._dataCells=[]},V.prototype.$_refresh=function(t,e){this._dirty?(this._root.$_bindColumns({},t),this._root.$_resetVisibles(),this.$_parseCells(this._root,t),this.$_calculateCellWidths(this._root,e),this._dirty=!1):this._resized&&this.$_calculateCellWidths(this._root,e),this._resized=!1},V.prototype.$_prepareLayout=function(t,e,i){for(var o=0,r=this._root.visibleCount;o<r;o++)this._root.getVisible(o)._prepareLayout(t,o<e,r-i<=o)},V.prototype.$_parseCells=function(t,e){var i=t._visibles;this.$_parseHeaderCells(i),this.$_parseDataCells(i)},V.prototype.$_parseHeaderCells=function(t){for(var e=this._headerCells,i=0,o=0,r=t;o<r.length;o++){var n=r[o];i=Math.max(i,n.headerRows)}for(var s=e.length;s<i;s++)e.push([]);this._root.$_parseHeaderCells(e,0,0),this._root.$_adjustHeaderCells(e)},V.prototype.$_parseDataCells=function(t){for(var e=this._dataCells,i=0,o=0,r=t;o<r.length;o++){var n=r[o];i=Math.max(i,n.rows)}for(var s=e.length;s<i;s++)e.push([]);this._root.$_parseDataCells(e,0,0),this._root.$_adjustDataCells(e)},V.prototype.$_calculateCellWidths=function(t,e){t.$_collectCellWidths(e),t.$_arrangeCellWidths();for(var i=this._cellWidths=[],o=0,r=t.cols;o<r;o++)i.push(0);t.$_fillCellWidths(0,i)},V.prototype.$_clearFitWidths=function(){this._root._clearFitWidths()},V.prototype._columnsChanged=function(t){},V.prototype._columnChanged=function(t){},V.prototype._itemIndexChanged=function(t){this.invalidateIndices()},V.prototype._itemWidthChanged=function(t){this.invalidateSize()},V.prototype._itemFillWidthChanged=function(t){this.grid.layoutManager.isColumnFitted&&this.invalidateSize()},V.prototype._clearMergeGrouped=function(){this._root.clearMergeGrouped()},V);function V(t){var e=F.call(this)||this;return e._dirty=!1,e._resized=!1,e._headerCells=[],e._dataCells=[],e._cellWidths=[],e._grid=t,e._root=new M(e),e}e.GridCellLayout=A;var N,j=(i(B,N=A),B.prototype._columnsChanged=function(t){this.setColumns(t),N.prototype._columnsChanged.call(this,t)},B);function B(t){return N.call(this,t)||this}e.DefaultCellLayout=j});t(A);A.CellLayoutItem,A.ProxyCellLayoutItem,A.CellLayoutColumnItem,A.ColumnLayoutDirection,A.CellLayoutHeader,A.CellLayoutGroupHeader,A.CellLayoutGroupItem,A.GridCellLayout,A.DefaultCellLayout;var et=e(function(t,e){var o,r,i,n=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),(i=r=e.VerticalMovingStep||(e.VerticalMovingStep={})).ROW="row",i.CELL="cell";var s,a=(s=ue.Base,n(l,s),l.temp=function(t,e,i){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===i&&(i=null),l.$_temp||(l.$_temp=new l),l.$_temp._grid=t,l.$_temp._itemIndex=e,l.$_temp._layout=i instanceof A.CellLayoutItem?i:i&&i.layout,l.$_temp},l.areEquals=function(t,e){return t===e||t&&e&&t._grid===e._grid&&t._itemIndex===e._itemIndex&&t._layout===e._layout},l.equalsTo=function(t,e,i){return t&&t._itemIndex===e&&t.layout===i},l.clearTemp=function(){l.$_temp&&(l.$_temp=l.$_temp.dispose())},l.prototype._doDispose=function(){this._grid=null,this._layout=null,s.prototype._doDispose.call(this)},Object.defineProperty(l.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"itemIndex",{get:function(){return this._itemIndex},set:function(t){this._itemIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"column",{get:function(){return this._layout&&this._layout.firstColumn},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataColumn",{get:function(){var t=this.column;return t instanceof ut.DataColumn?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"valueColumn",{get:function(){var t=this.column;return t instanceof ut.ValueColumn?t:null},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataField",{get:function(){var t=this.dataColumn;return t instanceof ut.DataColumn?t.dataIndex:-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"item",{get:function(){return this._grid&&this._grid.getItem(this._itemIndex)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataRow",{get:function(){var t=this.item;return t?t.dataRow:-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"dataId",{get:function(){var t=this.item;return t?t.dataId:-1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"value",{get:function(){var t=this.column;if(t instanceof ut.DataColumn){var e=t.dataIndex;if(e<0)throw new Error("Not exists data field: "+t.fieldName);var i=this.item;if(!i)throw new Error("Invalid item index: "+this._itemIndex);return i.getData(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"fixed",{get:function(){var t=this._layout;if(this._grid&&t&&t.visible){var e=this._grid.layoutManager,i=t.root.vindex;return i<e.fixedLayoutCount||i>=e.rightFirstLayout||0<=this._itemIndex&&this._itemIndex<e.fixedItemCount}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rowFixed",{get:function(){var t=this._layout;if(this._grid&&t&&t.visible){var e=this._grid.layoutManager;return 0<=this._itemIndex&&this._itemIndex<e.fixedItemCount}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"colFixed",{get:function(){if(this._grid&&this._layout&&this._layout.visible){var t=this._grid.layoutManager;return this._layout.root.vindex<t.fixedLayoutCount}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rightFixed",{get:function(){if(this._grid&&this._layout&&this._layout.visible){var t=this._grid.layoutManager;return this._layout.root.vindex>=t.rightFirstLayout}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isTop",{get:function(){return this._layout&&this._layout.group&&A.CellLayoutGroupItem.isTop(this._layout),!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isBottom",{get:function(){return this._layout&&this._layout.group&&A.CellLayoutGroupItem.isBottom(this._layout),!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isLeft",{get:function(){if(this._layout){var t=this._layout.group;t?0==t.vindex&&A.CellLayoutGroupItem.isLeft(this._layout):this._layout.vindex}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isRight",{get:function(){if(this._layout){var t=this._layout.group;t?0==t.vindex&&A.CellLayoutGroupItem.isRight(this._layout):(this._layout.vindex,this._grid.visibleLayoutCount)}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isFirst",{get:function(){if(this._layout&&this._grid&&0<this._grid.visibleLayoutCount){var t=this._grid.getVisibleLayout(0);return(t=t instanceof A.CellLayoutColumnItem?t:t.root.first)===this._layout}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isEditableFirst",{get:function(){if(this._grid&&this._layout){var t=this.grid.collectColumns(!0,!0,!0),e=t.indexOf(this._layout.firstColumn);if(0<=e){for(var i=e-1;i--;){var o=t[i];if(o instanceof ut.SeriesColumn)return!1;if(o instanceof ut.DataColumn&&o.editable&&!o.readOnly&&this._layout.visible)return!1}return!0}}return!1},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isLast",{get:function(){if(this._layout&&this._grid&&0<this._grid.visibleLayoutCount){var t=this._grid.getVisibleLayout(this._grid.visibleLayoutCount-1);return(t=t instanceof A.CellLayoutColumnItem?t:t.root.last)===this._layout}return!1},enumerable:!0,configurable:!0}),l.prototype.set=function(t,e,i){return void 0!==i&&(this._grid=i),this._itemIndex=t,this._layout=e instanceof ut.GridColumn?e.layout:e,this},l.prototype.assign=function(t){return t?(t.grid&&(this._grid=t._grid),this._itemIndex=t._itemIndex,this._layout=t._layout):(this._itemIndex=-1,this._layout=null),this},l.prototype.reset=function(){this._itemIndex=-1,this._layout=null},l.prototype.clone=function(){return new l(this._grid,this._itemIndex,this._layout)},l.prototype.proxy=function(){return{itemIndex:isNaN(this._itemIndex)?-1:this._itemIndex,column:this.column?this.column.name:null,dataRow:this.dataRow,fieldIndex:this.dataColumn?this.column.dataIndex:-1,fieldName:this.dataColumn?this.column.fieldName:null}},l.prototype.normalize=function(t){return t&&(this._grid=t,this._layout||(this._layout=t.getFirstLayout()),this._itemIndex=Math.max(0,Math.min(this._itemIndex,t.itemCount-1))),this},l.prototype.incRow=function(t){this._grid&&(this._itemIndex=Math.max(0,Math.min(this._grid.itemCount-1,this._itemIndex+t)))},l.prototype.first=function(){this._grid&&(this._itemIndex=0)},l.prototype.last=function(){this._grid&&(this._itemIndex=this._grid.itemCount-1)},l.prototype.right=function(){var t=h(this._grid,this._layout);t&&(this._layout=t)},l.prototype.left=function(){var t=c(this._grid,this._layout);t&&(this._layout=t)},l.prototype.next=function(){var t=p(this._grid,this._layout);return!!t&&(this._layout=t,!0)},l.prototype.prev=function(){var t=d(this._grid,this._layout);return!!t&&(this._layout=t,!0)},l.prototype.lower=function(t,e){return e!==r.ROW||t?e===r.CELL?this.isBottom?this._itemIndex<this._grid.itemCount-1&&(this.incRow(1),this._layout=A.CellLayoutGroupItem.getTop(this._layout),!0):(this._layout=A.CellLayoutGroupItem.getLower(this._layout),!0):this.isBottom?this._itemIndex<this._grid.itemCount-1&&(this.incRow(1),!0):(this._layout=A.CellLayoutGroupItem.getLower(this._layout),!0):this._itemIndex<this._grid.itemCount-1&&(this.incRow(1),!0)},l.prototype.upper=function(t,e){return e!==r.ROW||t?e===r.CELL?this.isTop?0<this._itemIndex&&(this.incRow(-1),this._layout=A.CellLayoutGroupItem.getBottom(this._layout),!0):(this._layout=A.CellLayoutGroupItem.getUpper(this._layout),!0):this.isTop?0<this._itemIndex&&(this.incRow(-1),!0):(this._layout=A.CellLayoutGroupItem.getUpper(this._layout),!0):0<this._itemIndex&&(this.incRow(-1),!0)},l.prototype.home=function(){var t=this._grid;if(t&&0<t.visibleLayoutCount){var e=t.getVisibleLayout(0);this._layout=e instanceof A.CellLayoutColumnItem?e:e.root.first}},l.prototype.end=function(){var t=this._grid;if(t&&0<t.visibleLayoutCount){var e=t.getVisibleLayout(t.visibleLayoutCount-1);this._layout=e instanceof A.CellLayoutColumnItem?e:e.root.last}},l.prototype.down=function(t,e,i){void 0===t&&(t=r.ROW),void 0===e&&(e=!1),void 0===i&&(i=!1),t==r.ROW&&!e||this.isBottom||i?this._itemIndex<this._grid.itemCount-1&&(this.incRow(1),t==r.CELL&&(this._layout=A.CellLayoutGroupItem.getTop(this._layout))):this._layout=A.CellLayoutGroupItem.getLower(this._layout)},l.prototype.up=function(t,e,i){void 0===t&&(t=r.ROW),void 0===e&&(e=!1),void 0===i&&(i=!1),t==r.ROW&&!e||this.isBottom||i?0<this._itemIndex&&(this.incRow(-1),t==r.CELL&&(this._layout=A.CellLayoutGroupItem.getTop(this._layout))):this._layout=A.CellLayoutGroupItem.getUpper(this._layout)},l.prototype.isEditableLast=function(){var t=this._grid;if(t&&this.column)for(var e=t.collectColumns(!0,!0,!0),i=e.indexOf(this.column)+1,o=e.length;i<o;i++)if(e[i]instanceof ut.SeriesColumn)return!1;return!0},l.prototype.getValue=function(){if(this._grid){var t=this.dataColumn,e=this._grid.getItem(this._itemIndex);return t&&e&&e.getData(t.dataIndex)}},l.prototype.assignFrom=function(t){t instanceof l?(this._grid=t._grid,this._layout=t._layout,this._itemIndex=t._itemIndex):s.prototype.assignFrom.call(this,t)},l.prototype.toString=function(){return"("+this._itemIndex+", "+this.column+")"},l);function l(t,e,i){void 0===t&&(t=null),void 0===e&&(e=-1),void 0===i&&(i=null);var o=s.call(this)||this;return o._itemIndex=-1,o._grid=t,o._itemIndex=e,o._layout=i instanceof ut.GridColumn?i.layout:i,o}e.CellIndex=a;var u,h=function(t,e){if(!t||!e)return null;var i=t.layoutManager,o=A.CellLayoutGroupItem.getRight(e);if(o)return o;for(var r=(e.group?e.root.vindex:e.vindex)+1,n=i.layoutCount;r<n;r++){if((o=i.getLayout(r))instanceof A.CellLayoutColumnItem)return o;if(o instanceof A.CellLayoutGroupItem&&(o=o.first))return o}return null},c=function(t,e){if(!t||!e)return null;var i=t.layoutManager,o=A.CellLayoutGroupItem.getLeft(e);if(o)return o;for(var r=(e.group?e.root.vindex:e.vindex)-1;0<=r;r--){if((o=i.getLayout(r))instanceof A.CellLayoutColumnItem)return o;if(o instanceof A.CellLayoutGroupItem&&(o=o.last))return o}return null},p=function(t,e){if(!t||!e)return null;var i=t.layoutManager,o=A.CellLayoutGroupItem.getNext(e);if(o)return o;for(var r=(e.group?e.root.vindex:e.vindex)+1,n=i.layoutCount;r<n;r++){if((o=i.getLayout(r))instanceof A.CellLayoutColumnItem)return o;if(o instanceof A.CellLayoutGroupItem&&(o=o.first))return o}return null},d=function(t,e){if(!t||!e)return null;var i=t.layoutManager,o=A.CellLayoutGroupItem.getPrev(e);if(o)return o;for(var r=(e.group?e.root.vindex:e.vindex)-1;0<=r;r++){if((o=i.getLayout(r))instanceof A.CellLayoutColumnItem)return o;if(o instanceof A.CellLayoutGroupItem&&(o=o.last))return o}return null},_=(u=ue.Base,n(f,u),f.$_setRange=function(t,e,i,o,r){return t._row1=e<=o?e:o,t._row2=e<=o?o:e,t._col1=i.index<=r.index?i:r,t._col2=i.index<=r.index?r:i,t},f.create=function(t,e){if(e&&t!==e)return f.$_setRange(new f,t.itemIndex,t.layout,e.itemIndex,e.layout);var i=new f;return i._row1=i._row2=t.itemIndex,i._col1=i._col2=t.layout,i},f.temp=function(t,e){var i=f.$_TEMP;return e&&t!==e?f.$_setRange(i,t.itemIndex,t.layout,e.itemIndex,e.layout):(i._row1=i._row2=t.itemIndex,i._col1=i._col2=t.layout,i)},f.createRange=function(t,e,i,o){return f.$_setRange(new f,t,e,i,o)},Object.defineProperty(f.prototype,"empty",{get:function(){return this._row2<this._row1||!this._col2&&!this._col2},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"r1",{get:function(){return this._row1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"c1",{get:function(){return this._col1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"r2",{get:function(){return this._row2},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"c2",{get:function(){return this._col2},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"top",{get:function(){return this._row1<=this._row2?this._row1:this._row2},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"bottom",{get:function(){return this._row1<=this._row2?this._row2:this._row1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"firstCell",{get:function(){var t=new a;return t.itemIndex=this._row1<=this._row2?this._row1:this._row2,this._col1.index<=this._col2.index?t.layout=this._col1:t.layout=this._col2,t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"lastCell",{get:function(){var t=new a;return t.itemIndex=this._row1>=this._row2?this._row1:this._row2,this._col1.index>=this._col2.index?t.layout=this._col1:t.layout=this._col2,t},enumerable:!0,configurable:!0}),f.prototype.contains=function(t,e){if(e){var i=e.index;return t>=this._row1&&t<=this._row2&&i>=this._col1.index&&i<=this._col2.index}return!1},f.prototype.containsIndex=function(t){return t&&this.contains(t.itemIndex,t.column)},f.prototype.normalize=function(){if(this._row1>this._row2){var t=this._row1;this._row1=this._row2,this._row2=t}if(this._col1.index>this._col2.index){var e=this._col1;this._col1=this._col2,this._col2=e}return this},f.prototype.normalizeData=function(){return this.normalize(),this},f.prototype.intersectsWith=function(t){return!1},f.NULL=new f,f.$_TEMP=new f,f);function f(){var t=u.call(this)||this;return t._row1=0,t._row2=0,t}e.CellRange=_});t(et);et.VerticalMovingStep,et.CellIndex,et.CellRange;var O=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=q.ExpressionRuntime,i(s,r),s.prototype._doDispose=function(){this._item=null,this._group=null,this._dataSource=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"index",{get:function(){return this._item.index},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),s.prototype.setDataSource=function(t){this._dataSource=t,this._fieldCount=t?t.fieldCount:0},s.prototype.setItem=function(t){this._item=t,this._group=U.Utils.cast(t,Z.GroupItem)},s.prototype.isIdentifier=function(t){return t=t.toLowerCase(),s.IDENTS.hasOwnProperty(t)?s.IDENTS[t]:r.prototype.isIdentifier.call(this,t)},s.prototype.evaluateIdentifier=function(t){switch(t){case s.ID_ROW:return this._item.index;case s.ID_DATAROW:return this._item.dataRow;case s.ID_CHECKED:return this._item.checked;case s.ID_STATE:switch(this._item.rowState){case w.RowState.CREATED:return"c";case w.RowState.UPDATED:return"u";case w.RowState.DELETED:return"d";case w.RowState.CREATE_AND_DELETED:return"x"}return;case s.ID_COUNT:return this._group?this._group.count:0;case s.ID_DCOUNT:return this._group?this._group.descendantCount:0}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},s.prototype.evaluateIndexerI=function(t,e){if(this._item){if(t!=s.ID_VALUE&&t!=s.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);return this._item.getData(e)}},s.prototype.evaluateIndexerS=function(t,e,i){if(t!=s.ID_VALUE&&t!=s.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(this._dataSource){var o=i?this._dataSource.getFieldIndexC(e):this._dataSource.getFieldIndex(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);return this._item.getData(o)}},s.IDENTS={row:s.ID_ROW=0,datarow:s.ID_DATAROW=1,checked:s.ID_CHECKED=2,value:s.ID_VALUE=3,values:s.ID_VALUES=4,state:s.ID_STATE=5,count:s.ID_COUNT=6,dcount:s.ID_DCOUNT=7},s);function s(){var t=r.call(this)||this;return t._item=null,t._group=null,t._dataSource=null,t._fieldCount=0,t}e.DataRowExpressionRuntime=n;var a,l=(a=q.ExpressionRuntime,i(p,a),p.prototype._doDispose=function(){this._cell=null,this._item=null,this._grid=null,this._dataSource=null,a.prototype._doDispose.call(this)},p.prototype.setDataSource=function(t){this._dataSource=t,this._fieldCount=t?t.fieldCount:0},p.prototype.setCell=function(t,e){this._cell=t,this._grid=t.index.grid,this._item=t.index.item||e},p.prototype.isIdentifier=function(t){return t=t.toLowerCase(),p.IDENTS.hasOwnProperty(t)?p.IDENTS[t]:a.prototype.isIdentifier.call(this,t)},p.prototype.evaluateIdentifier=function(t){if(this._cell.index.itemIndex<0){var e=this._cell.index.dataField;switch(t){case p.ID_VALUE:return this._item.getData(e);case p.ID_DATA_ROW:return this._item.dataRow}}switch(t){case p.ID_VALUE:return this._cell.value();case p.ID_ROW:return this._cell.index.itemIndex;case p.ID_DATA_ROW:return this._cell.index.dataRow;case p.ID_INDEX:return this._cell.index.column.index;case p.ID_FIELD:return this._cell.index.dataField;case p.ID_CHECKED:return this._item.checked;case p.ID_STATE:switch(this._item.rowState){case w.RowState.CREATED:return"c";case w.RowState.UPDATED:return"u";case w.RowState.DELETED:return"d";case w.RowState.CREATE_AND_DELETED:return"x"}return;case p.ID_TAG:return this._cell.index.column.tag;case p.ID_BASE:var i=this._cell.index.dataColumn.baseIndex;return 0<=i?this._item.getData(i):void 0;case p.ID_COUNT:return this._item instanceof Z.GroupItem?this._item.count:0;case p.ID_DCOUNT:return this._item instanceof Z.GroupItem?this._item.descendantCount:0;case p.ID_CHANGED_CELL:var o=this._cell.index,r=o.dataRow,n=o.dataField;return 0<=n&&this._item.rowState==w.RowState.UPDATED&&this._dataSource.isDataChanged(r,n);case p.ID_LOOKUP_EXISTS:var s=this._cell.index.dataColumn,a=void 0;if(a=s.lookupSource){for(var l=s.lookupKeyFieldIds,u=l.length,h=[],c=0;c<u;c++)h.push(this._item.getData(l[c]));return a.exists(h)}return-1<s.getLookupIndex(this._cell.value())}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},p.prototype.evaluateIndexerI=function(t,e){if(this._item){if(t!=p.ID_VALUE&&t!=p.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);return this._item.getData(e)}},p.prototype.evaluateIndexerS=function(t,e,i){if(t!=p.ID_VALUE&&t!=p.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(this._dataSource){var o=i?this._dataSource.getFieldIndexC(e):this._dataSource.getFieldIndex(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);return this._item.getData(o)}},p.IDENTS={value:p.ID_VALUE=0,row:p.ID_ROW=1,datarow:p.ID_DATA_ROW=2,index:p.ID_INDEX=3,field:p.ID_FIELD=4,checked:p.ID_CHECKED=5,state:p.ID_STATE=6,tag:p.ID_TAG=7,base:p.ID_BASE=8,values:p.ID_VALUES=9,count:p.ID_COUNT=10,dcount:p.ID_DCOUNT=11,changedcell:p.ID_CHANGED_CELL=12,lookupexists:p.ID_LOOKUP_EXISTS=13},p);function p(){var t=a.call(this)||this;return t._fieldCount=0,t}e.DataCellExpressionRuntime=l;var u,h=(u=q.ExpressionRuntime,i(c,u),c.prototype._doDispose=function(){this._cell=null,this._item=null,this._ds=null,this._grid=null,u.prototype._doDispose.call(this)},c.prototype.setDataArguments=function(t,e,i){this._ds=t,this._fieldCount=t?t.fieldCount:0,this._cell=e,this._item=i,this._grid=e&&e.index.column.grid},c.prototype.setItem=function(t){this._item=t},c.prototype.isIdentifier=function(t){return t=t.toLowerCase(),c.IDENTS.hasOwnProperty(t)?c.IDENTS[t]:u.prototype.isIdentifier.call(this,t)},c.prototype.evaluateIdentifier=function(t){var e;switch(t){case c.ID_VALUE:return this._item.getData(this._cell.index.dataField);case c.ID_BASE:return 0<=(e=this._cell.index.dataColumn.baseIndex)?this._item.getData(e):void 0;case c.ID_PREV_VALUES:var i=this._cell.index.column,o=this._grid.getDataColumns();e=o.indexOf(i);var r=[];if(o.length<0||e<0)return;for(var n=0,s=Math.min(e,o.length);n<s;n++)r.push(this._item.getData(o[n].dataIndex));return r.join("`")}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},c.prototype.evaluateIndexerI=function(t,e){if(this._item){if(t!=c.ID_VALUE&&t!=c.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);return this._item.getData(e)}},c.prototype.evaluateIndexerS=function(t,e,i){if(t!=c.ID_VALUE&&t!=c.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(this._ds){var o=i?this._ds.getFieldIndexC(e):this._ds.getFieldIndex(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);return this._item.getData(o)}},c.IDENTS={value:c.ID_VALUE=0,values:c.ID_VALUES=1,base:c.ID_BASE=2,prevvalues:c.ID_PREV_VALUES=3},c);function c(){var t=u.call(this)||this;return t._fieldCount=0,t}e.EqualBlankRuntime=h;var d,_=(d=q.ExpressionRuntime,i(f,d),f.prototype.setGrid=function(t){this._grid=t},f.prototype.setGroup=function(t){this._group=t},f.prototype.isIdentifier=function(t){return t=t.toLowerCase(),f.IDENTS.hasOwnProperty(t)?f.IDENTS[t]:d.prototype.isIdentifier.call(this,t)},f.prototype.evaluateIdentifier=function(t){var e,i,o=this._group;switch(t){case f.ID_GROUP_FIELD:return(e=o.dataSource.getField(o.groupField))?e.fieldName:"";case f.ID_FIELD_HEADER:return(e=o.dataSource.getField(o.groupField))?e.header:"";case f.ID_GROUP_COLUMN:return(i=this._grid?this._grid.columnByField(o.groupField):null)?i.displayText:o.dataSource.getFieldName(o.groupField);case f.ID_COLUMN_HEADER:return(i=this._grid?this._grid.columnByField(o.groupField):null)?i.header.text||i.displayText:o.dataSource.getFieldName(o.groupField);case f.ID_COLUMN_FOOTER:return(i=this._grid?this._grid.columnByField(o.groupField):null)?i.footer.text||i.displayText:o.dataSource.getFieldName(o.groupField);case f.ID_GROUP_VALUE:var r=o.firstItem;return r?r.getData(o.groupField):void 0;case f.ID_ROW_COUNT:return o.descendantCount}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},f.prototype.evaluateIndexerI=function(t,e){switch(t){case f.ID_SUM:case f.ID_MAX:case f.ID_MIN:case f.ID_AVG:case f.ID_DATA_COUNT:case f.ID_DATA_AVG:if(isNaN(e)||e<0)return;var i=void 0;switch(t){case f.ID_SUM:i=this._group.getSum(e);break;case f.ID_MAX:i=this._group.getMax(e);break;case f.ID_MIN:i=this._group.getMin(e);break;case f.ID_AVG:i=this._group.getAvg(e)}return isNaN(i)?"":String(i)}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},f.prototype.evaluateIndexerS=function(t,e,i){var o=this._group.dataSource,r=e?o?o.getFieldIndex(e):-1:this._group.groupField;return this.evaluateIndexerI(t,r)},f.IDENTS={groupfield:f.ID_GROUP_FIELD=0,fieldheader:f.ID_FIELD_HEADER=1,groupcolumn:f.ID_GROUP_COLUMN=2,columnheader:f.ID_COLUMN_HEADER=3,columnfooter:f.ID_COLUMN_FOOTER=4,groupvalue:f.ID_GROUP_VALUE=5,rowcount:f.ID_ROW_COUNT=6,sum:f.ID_SUM=7,max:f.ID_MAX=8,min:f.ID_MIN=9,avg:f.ID_AVG=10,datacount:f.ID_DATA_COUNT=11,dataavg:f.ID_DATA_AVG=12},f);function f(){return d.call(this)||this}e.RowGroupStatementRuntime=_});t(O);O.DataRowExpressionRuntime,O.DataCellExpressionRuntime,O.EqualBlankRuntime,O.RowGroupStatementRuntime;var it=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){this._index&&this._index.dispose(),this._index=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"item",{get:function(){return this._index.item},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"valueColumn",{get:function(){return this._index.valueColumn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataColumn",{get:function(){return this._index.dataColumn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"error",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"errorLevel",{get:function(){return H.ValidationLevel.IGNORE},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"level",{get:function(){return 0},enumerable:!0,configurable:!0}),s.prototype.setIndex=function(t){this._index.assignFrom(t)},s.prototype.setLayout=function(t){this._index.layout=t},s.ERROR="<<ERROR>>",s);function s(t){var e=r.call(this)||this;return e._index=new et.CellIndex,e._name=t,e}e.GridCell=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"model",{get:function(){return this._model},set:function(t){this._model=t},enumerable:!0,configurable:!0}),u);function u(t,e){void 0===e&&(e=null);var i=a.call(this,e)||this;return i._model=t,i}e.StyledCell=l;var h,c=(i(p,h=n),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"blankState",{get:function(){return H.BlankState.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"changed",{get:function(){return!1},enumerable:!0,configurable:!0}),p.prototype.setCellStyles=function(t){this._cellStyles=t},p);function p(t){return h.call(this,t)||this}e.ValueCell=c;var d,_=(i(y,d=c),y.getText=function(t,e){var i=0<=e.dataIndex?t.getData(e.dataIndex):void 0;return y._getText(t,e,i)},y._getText=function(t,e,i){var o,r=e;if(r.lookupDisplay){var n=r.lookupSource;if(n){for(var s=r.lookupKeyFieldIds,a=s.length,l=[],u=0;u<a;u++)l.push(t.getData(s[u]));o=void 0!==(o=n.lookup(l,r.valueSeparator))?o:null!=r.textOfInvalid?r.textOfInvalid:i}else{var h=r.labelFieldIndex;o=0<=h?t.getData(h):r.getLookupLabel(i)}}else{var c,p=void 0;o=i,r.valueType==H.ValueType.NUMBER&&null!=(c=r.nanText)&&isNaN(o)?o=c:(p=r.displayCallback)?o=p(r.grid.getHandler(),et.CellIndex.temp(r.grid,t.index,e).proxy(),o):null!=o&&"object"==typeof o&&(o=JSON.stringify(o))}return null==o?"":String(o)},y._getDisplayText=function(t,e,i,o){var r,n=t.formatOptions,s=e.dataColumn;if(s){switch(s.valueType){case H.ValueType.TEXT:var a=void 0;r=i&&(a=n.getTextFormatter(o.textFormatter))?a.getText(i):y._getText(e.item,s,i);break;case H.ValueType.NUMBER:var l=Number(i),u=void 0;r=isNaN(l)?s.nanText:0==l&&null!=s.zeroText?s.zeroText:(u=n.getNumberFormatter(o.numberFormatter))?u.getText(l):y._getText(e.item,s,i);break;case H.ValueType.DATETIME:var h=void 0;r=i instanceof Date&&(h=n.getDateWriter(o.datetimeWriter))?h.getText(i):y._getText(e.item,s,i);break;case H.ValueType.BOOLEAN:var c=void 0;r=(c=n.getBoolFormatter(o.booleanFormatter))?c.formatValue(i):y._getText(e.item,s,i);break;case H.ValueType.OBJECT:default:r=y._getText(e.item,s,i)}r&&((u=o.prefix)&&(r=u+r),(u=o.suffix)&&(r+=u))}return r},y.equalBlankRuntime=function(){return this._equalBlankRuntime||(this._equalBlankRuntime=new O.EqualBlankRuntime),this._equalBlankRuntime},y.prototype._doDispose=function(){d.prototype._doDispose.call(this)},y.prototype.getValue=function(){var t=this.dataColumn.dataIndex;if(0<=t)return this.item.getData(t)},y.prototype.getDisplayText=function(t,e){return y._getDisplayText(t,this.index,this.getValue(),e)},Object.defineProperty(y.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"blankState",{get:function(){var t=H.BlankState.NONE,e=this.index,i=e.layout,o=this.dataColumn,r=this.item,n=i.equalBlankNode,s=n&&y.equalBlankRuntime();if(i&&i.blanked&&i.dataRoot&&0<=r.dataRow){var a=i.grid,l=a.itemCount;if(n&&s&&s.setDataArguments(r.dataSource,this,r),1<l){var u=e.itemIndex,h=o.dataIndex,c=n?(s.setItem(r),n.evaluate(s)):r.getData(h),p=void 0,d=void 0,_=void 0;if(0<u){var f=a.getItem(u-1);u<l-1?(_=a.getItem(u+1),f instanceof Z.GridRow?(p=n?(s.setItem(f),n.evaluate(s)):f.getData(h),(c instanceof Date&&p instanceof Date?+c==+p:c==p)?t=_ instanceof Z.GridRow&&((d=n?(s.setItem(_),n.evaluate(s)):_.getData(h))instanceof Date&&c instanceof Date?+d==+c:d==c)?H.BlankState.BODY:H.BlankState.TAIL:_ instanceof Z.GridRow&&((d=n?(s.setItem(_),n.evaluate(s)):_.getData(h))instanceof Date&&c instanceof Date?+d==+c:d==c)&&(t=H.BlankState.HEAD)):_ instanceof Z.GridRow&&((d=n?(s.setItem(_),n.evaluate(s)):_.getData(h))instanceof Date&&c instanceof Date?+d==+c:d==c)&&(t=H.BlankState.HEAD)):f instanceof Z.GridRow&&((p=n?(s.setItem(f),n.evaluate(s)):f.getData(h))instanceof Date&&c instanceof Date?+p==+c:p==c)&&(t=H.BlankState.TAIL)}else(_=a.getItem(u+1))instanceof Z.GridRow&&((d=n?(s.setItem(_),n.evaluate(s)):_.getData(h))instanceof Date&&c instanceof Date?+d==+c:d==c)&&(t=H.BlankState.HEAD)}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"changed",{get:function(){var t=this.dataColumn.dataIndex;return 0<=t&&this.item.isChanged(t)},enumerable:!0,configurable:!0}),y);function y(t){return void 0===t&&(t=null),d.call(this,t||"dataCell")||this}e.DataCell=_;var f,m=(i(g,f=c),g.prototype._doDispose=function(){f.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"text",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"value",{get:function(){return null},enumerable:!0,configurable:!0}),g.prototype.getDisplayText=function(t){return this.text},g);function g(t){return void 0===t&&(t=null),f.call(this,t||"literalCell")||this}e.LiteralCell=m;var v,b=(i(C,v=c),C.getText=function(t,e){return t?t.join(e||","):""},C.prototype._doDispose=function(){v.prototype._doDispose.call(this)},C.prototype.getDisplayText=function(t,e){var i=this.value;return i?i.join(e||","):""},Object.defineProperty(C.prototype,"getText",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"value",{get:function(){var t=this.index.column;if(t instanceof ut.SeriesColumn){var e=t.fields,i=e?e.length:0;if(0<i){for(var o=this.item,r=new Array(i),n=0;n<i;n++)0<=e[n]&&(r[n]=o.getData(e[n]));return r}}return[]},enumerable:!0,configurable:!0}),C);function C(t){return void 0===t&&(t=null),v.call(this,t||"seriesCell")||this}e.SeriesCell=b;var w,x=(i(I,w=_),I.prototype._doDispose=function(){w.prototype._doDispose.call(this)},I.prototype.getValue=function(){var t=this.index,e=t.item;return e instanceof Z.GridRow?w.prototype.getValue.call(this):(e=(e instanceof Z.GroupItem?e:e.parent).firstItem).getData(t.dataField)},Object.defineProperty(I.prototype,"text",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),I);function I(t){return void 0===t&&(t=null),w.call(this,t||"mergedDataCell")||this}e.MergedDataCell=x});t(it);it.GridCell,it.StyledCell,it.ValueCell,it.DataCell,it.LiteralCell,it.SeriesCell,it.MergedDataCell;var ot=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value){this._value=t;try{this._error=null,this._parse(t)}catch(t){this._error=t}}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),s.prototype.render=function(t,e){this._doRender(t,e,!1)},s.prototype.renders=function(t,e){this._doRender(t,e,!0)},s);function s(){return r.call(this)||this}var a,l=(i(u,a=n),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},u.prototype._doRender=function(t,e,i){var o=this._getBarLength();if(!(o<1)){var r=this.barWidth;r<=0&&(r=this.integralBar?Math.floor(e.width/o):e.width/o,r=Math.max(this.minBarWidth,r),0<this.maxBarWidth&&(r=Math.min(this.maxBarWidth,r))),o*=r,e.x+=(e.width-o)/2,this.integralBar&&(e.x=Math.floor(e.x)),this._drawBars(t,this.barStyle,i,e.x,e.y,r,e.height)}},u);function u(){var t=a.call(this)||this;return t.integralBar=!0,t.minBarWidth=1,t.maxBarWidth=0,t.barWidth=0,t}var h,c=[2171426,2236706,2236961,1184291,1184546,1249826,1188371,1188626,1253906,2232851,2233106,2298386,1122866,1188146,1188401,1126946,1192226,1192481,2241041,2232626,2232881,2175506,2240786,3219761,3215906,3281186,3281441,3219986,3285266,3285521,2171171,2171681,2302241,1119011,1249571,1250081,1123091,1253651,1254161,2167571,2298131,2298641,1122611,1123121,1253681,1126691,1127201,1257761,3223841,2167601,2298161,2175251,2175761,2175281,3215651,3216161,3346721,3219731,3220241,3350801,3227921,2233361,4395281,1118756,1119266,1184036,1184801,1315106,1315361,1122836,1123346,1188116,1188881,1319186,1319441,2363921,2232596,4272401,2363666,1261841,1118786,1184066,1184321,1131026,1196306,1196561,4264466,4329746,4330001,2171201,2179361,4268321,1118531,1119041,1249601,1130771,1131281,4264211,4264721,1126721,1130801,3215681,4264241,2167826,2167316,2167346,36901138],p=[103,104,105],d=[251658240,15728640,983040,61440,3840,240,15],_=(i(f,h=l),f.prototype._doDispose=function(){h.prototype._doDispose.call(this)},f.prototype._parse=function(t){this._weights=[];var e=t?t.length:0;if(!(e<1)){var i=this.$_detectType(t);2==i&&e%2==1&&(t="0"+t,e++);var o=p[i],r=c[o],n=o;if(this._weights.push(r),2==i)for(var s=0;s<e;s+=2){var a=t.substr(s,2);o=parseInt(a),o=this.$_convert(i,o),r=c[o],this._weights.push(r),n+=o*(s+1)}else for(s=0;s<e;s++)o=t.charCodeAt(s),o=this.$_convert(i,o),r=c[o],this._weights.push(r),n+=o*(s+1);n%=103,this._weights.push(c[n]),this._weights.push(c[106])}},f.prototype._getBarLength=function(){return this.quietZoneWidth+11*(this._weights.length-1)+13+this.quietZoneWidth},f.prototype._drawBars=function(t,e,i,o,r,n,s){o+=10*n;for(var a,l=this._weights.length-1,u=0;u<l;u++){a=this._weights[u];for(var h=0;h<6;h++){var c=(a&d[h+1])>>4*(5-h);c*=n,h%2==0&&(i?(this.integralBar,t.sbounds(e,o+"",r+"%",c+"",s+"%")):(this.integralBar,t.bounds(e,o,r,c,s))),o+=c}}for(a=this._weights[l],h=0;h<7;h++)c=(a&d[h])>>4*(6-h),c*=n,h%2==0&&(i?(this.integralBar,t.sbounds(e,o+"",r+"%",c+"",s+"%")):(this.integralBar,t.bounds(e,o,r,c,s))),o+=c},f.prototype.$_convert=function(t,e){switch(t){case 0:if(0<=e&&e<32)return e+64;if(32<=e&&e<96)return e-32;case 1:if(32<=e&&e<128)return e-32;case 2:if(0<=e&&e<=99)return e}throw new Error("Invalid code128 charactor: "+e)},f.prototype.$_detectType=function(t){var e=/^[0-9]+$/;return e.test(t)?2:(e=/[a-z]/).test(t)?1:0},f);function f(){var t=h.call(this)||this;return t.quietZoneWidth=10,t}e.Code128=_;var y,m={0:"nnnwwnwnn",1:"wnnwnnnnw",2:"nnwwnnnnw",3:"wnwwnnnnn",4:"nnnwwnnnw",5:"wnnwwnnnn",6:"nnwwwnnnn",7:"nnnwnnwnw",8:"wnnwnnwnn",9:"nnwwnnwnn",A:"wnnnnwnnw",B:"nnwnnwnnw",C:"wnwnnwnnn",D:"nnnnwwnnw",E:"wnnnwwnnn",F:"nnwnwwnnn",G:"nnnnnwwnw",H:"wnnnnwwnn",I:"nnwnnwwnn",J:"nnnnwwwnn",K:"wnnnnnnww",L:"nnwnnnnww",M:"wnwnnnnwn",N:"nnnnwnnww",O:"wnnnwnnwn",P:"nnwnwnnwn",Q:"nnnnnnwww",R:"wnnnnnwwn",S:"nnwnnnwwn",T:"nnnnwnwwn",U:"wwnnnnnnw",V:"nwwnnnnnw",W:"wwwnnnnnn",X:"nwnnwnnnw",Y:"wwnnwnnnn",Z:"nwwnwnnnn","-":"nwnnnnwnw",".":"wwnnnnwnn"," ":"nwwnnnwnn",$:"nwnwnwnnn","/":"nwnwnnnwn","+":"nwnnnwnwn","%":"nnnwnwnwn","*":"nwnnwnwnn"},g=(i(v,y=l),v.prototype._doDispose=function(){y.prototype._doDispose.call(this)},v.prototype._parse=function(t){if(this._codes=[],t){var e=t.length;this._codes.push(m["*"]);for(var i=0;i<e;i++){var o=t.charAt(i),r=m[o];if(!r)throw new Error("Invalid Code39 character: "+o);this._codes.push(r)}this._codes.push(m["*"])}},v.prototype._getBarLength=function(){var t=this._codes.length;return t*(3*this._wideWidth+6)+(t-1)},v.prototype._drawBars=function(t,e,i,o,r,n,s){var a=this._codes.length;if(2<a)for(var l=0;l<a;l++){for(var u=this._codes[l],h=0;h<9;h++){var c="n"==u.charAt(h)?1:this._wideWidth;c*=n,h%2==0&&(i?(this.integralBar,t.sbounds(e,o+"",r+"%",c+"",s+"%")):(this.integralBar,t.bounds(e,o,r,c,s))),o+=c}l<a-1&&(o+=n)}},v);function v(){var t=y.call(this)||this;return t._wideWidth=3,t}e.Code39=g});t(ot);ot.Code128,ot.Code39;var rt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,h="http://www.w3.org/2000/svg",a=0,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){this._defs=null,this._element=null,this._transforms=null,r.prototype._doDispose.call(this)},s.prototype.save=function(){this._transforms.push(this._trans),this._trans=""},s.prototype.restore=function(){this._trans=this._transforms.pop()},s.prototype.translate=function(t,e){this._trans+="translate("+t+","+e+")"},s.prototype.rotate=function(t){this._trans+="rotate("+180*t/Math.PI+")"},s.prototype.rotateAt=function(t,e,i){this._trans+="rotate("+180*t/Math.PI+","+e+",)"},s.prototype.scale=function(t,e){this._trans+="scale("+t+","+e+")"},s.prototype.clipRect=function(t){this.clip(t.x,t.y,t.width,t.height)},s.prototype.clip=function(t,e,i,o){var r=a++,n=document.createElementNS(h,"clipPath");n.setAttributeNS(null,"id","clip"+r);var s=document.createElementNS(h,"rect");s.x.baseVal.value=t,s.y.baseVal.value=e,s.width.baseVal.value=i,s.height.baseVal.value=o,n.appendChild(s),this._defs.appendChild(n)},s.prototype.line=function(t,e,i,o,r){var n=document.createElementNS(h,"line");this._element.appendChild(n),n.x1.baseVal.value=e,n.y1.baseVal.value=i,n.x2.baseVal.value=o,n.y2.baseVal.value=r,t&&n.setAttribute("class",t)},s.prototype.sline=function(t,e,i,o,r){var n=document.createElementNS(h,"line");this._element.appendChild(n),n.x1.baseVal.valueAsString=e,n.y1.baseVal.valueAsString=i,n.x2.baseVal.valueAsString=o,n.y2.baseVal.valueAsString=r,t&&n.setAttribute("class",t)},s.prototype.lines=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!(null==e||e.length<4)){var o=document.createElementNS(h,"polyline");this._element.appendChild(o);var r=[];r.push(e[0]+","+e[1]);for(var n=2;n<e.length;n+=2)r.push(e[n]+","+e[n+1]);o.setAttributeNS(null,"points",r.join(" ")),t&&o.setAttribute("class",t)}},s.prototype.polygon=function(t,e){if(!(null==e||e.length<4)){var i=document.createElementNS(h,"polygon");this._element.appendChild(i);var o=[];o.push(e[0]+","+e[1]);for(var r=2;r<e.length;r+=2)o.push(e[r]+","+e[r+1]);this._trans&&i.setAttributeNS(null,"transform",this._trans),i.setAttributeNS(null,"points",o.join(" ")),t&&i.setAttribute("class",t)}},s.prototype.quadratic=function(t,e,i,o,r,n,s){var a=document.createElementNS(h,"path");this._element.appendChild(a),a.setAttributeNS(null,"d",["M",e,i,"Q",o,r,n,s].join(" ")),t&&a.setAttribute("class",t)},s.prototype.squadratic=function(t,e,i,o,r,n,s){var a=document.createElementNS(h,"path");this._element.appendChild(a),a.setAttributeNS(null,"d",["M",e+"%",i+"%","Q",o+"%",r+"%",n+"%",s+"%"].join(" ")),t&&a.setAttribute("class",t)},s.prototype.curve=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=this.$_getCurvedLinePath(e,0,e.length-1);if(o){var r=document.createElementNS(h,"path");this._element.appendChild(r),r.setAttributeNS(null,"d",o.join(" ")),t&&r.setAttribute("class",t)}},s.prototype.scurve=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=this.$_getCurvedLinePath(e,0,e.length-1);if(o){var r=document.createElementNS(h,"path");this._element.appendChild(r);for(var n=0;n<o.length;n++)"number"==typeof o[n]&&(o[n]=o[n]+"%");r.setAttributeNS(null,"d",o.join(" ")),t&&r.setAttribute("class",t)}},s.prototype.curveRange=function(t,e,i,o,r){if(o&&1<o.length&&r&&1<r.length&&(t||e)){var n=this.$_getCurvedLinePath(o,0,o.length/2-1,!0);if(n){n.push("L",r[r.length-2],[r.length-1]);var s=this.$_getCurvedLinePath(r,r.length/2-1,0,!1);s&&(n=n.concat(s)),n.push("L",o[0],o[1]);var a=document.createElementNS(h,"path");this._element.appendChild(a),a.setAttributeNS(null,"d",n.join(" ")),this.$_fillOrStroke(a,t,e,i)}}},s.prototype.rect=function(t,e){var i=document.createElementNS(h,"rect");this._element.appendChild(i),i.x.baseVal.value=e.x,i.y.baseVal.value=e.y,i.width.baseVal.value=e.width,i.height.baseVal.value=e.height,t&&i.setAttribute("class",t)},s.prototype.srect=function(t,e){var i=document.createElementNS(h,"rect");this._element.appendChild(i),i.x.baseVal.valueAsString=e.x+"%",i.y.baseVal.valueAsString=e.y+"%",i.width.baseVal.valueAsString=e.width+"%",i.height.baseVal.valueAsString=e.height+"%",t&&i.setAttribute("class",t)},s.prototype.bounds=function(t,e,i,o,r){var n=document.createElementNS(h,"rect");this._element.appendChild(n),n.x.baseVal.value=e,n.y.baseVal.value=r<0?i+r:i,n.width.baseVal.value=o,n.height.baseVal.value=Math.abs(r),t&&n.setAttribute("class",t)},s.prototype.pbounds=function(t,e,i,o,r){var n=document.createElementNS(h,"rect");this._element.appendChild(n),n.x.baseVal.valueAsString=e+"%",n.y.baseVal.valueAsString=(r<0?i+r:i)+"%",n.width.baseVal.valueAsString=o+"%",n.height.baseVal.valueAsString=Math.abs(r)+"%",t&&n.setAttribute("class",t)},s.prototype.sbounds=function(t,e,i,o,r){var n=document.createElementNS(h,"rect");this._element.appendChild(n),n.x.baseVal.valueAsString=e,n.y.baseVal.valueAsString=i,n.width.baseVal.valueAsString=o,n.height.baseVal.valueAsString=r,t&&n.setAttribute("class",t)},s.prototype.circle=function(t,e,i,o){var r=document.createElementNS(h,"circle");this._element.appendChild(r),r.cx.baseVal.value=e,r.cy.baseVal.value=i,r.r.baseVal.value=o,t&&r.setAttribute("class",t)},s.prototype.scircle=function(t,e,i,o){var r=document.createElementNS(h,"circle");this._element.appendChild(r),r.cx.baseVal.valueAsString=e,r.cy.baseVal.valueAsString=i,r.r.baseVal.valueAsString=o,t&&r.setAttribute("class",t)},s.prototype.circleRect=function(t,e,i,o,r,n){var s=document.createElementNS(h,"circle"),a=i+r/2,l=o+n/2,u=Math.min(r,n)/2;this._element.appendChild(s),s.cx.baseVal.value=a,s.cy.baseVal.value=l,s.r.baseVal.value=u,t&&s.setAttribute("class",t)},s.prototype.scircleRect=function(t,e,i,o,r){var n=document.createElementNS(h,"circle"),s=e+o/2,a=i+r/2,l=Math.min(o,r)/2;this._element.appendChild(n),n.cx.baseVal.valueAsString=s+"%",n.cy.baseVal.valueAsString=a+"%",n.r.baseVal.valueAsString=l+"%",t&&n.setAttribute("class",t)},s.prototype.ellipse=function(t,e,i,o,r){var n=document.createElementNS(h,"ellipse"),s=o/2,a=r/2;this._element.appendChild(n),n.cx.baseVal.value=e+s,n.cy.baseVal.value=i+a,n.rx.baseVal.value=s,n.ry.baseVal.value=a,t&&n.setAttribute("class",t)},s.prototype.sellipse=function(t,e,i,o,r){var n=document.createElementNS(h,"ellipse"),s=o/2,a=r/2;this._element.appendChild(n),n.cx.baseVal.valueAsString=e+s+"%",n.cy.baseVal.valueAsString=i+a+"%",n.rx.baseVal.valueAsString=s+"%",n.ry.baseVal.valueAsString=a+"%",t&&n.setAttribute("class",t)},s.prototype.text=function(t,e,i,o,r,n,s,a){var l=document.createElementNS(h,"text");this._element.appendChild(l),t=t||"Verdana",l.setAttributeNS(null,"y",s+""),l.setAttributeNS(null,"dy","top"),l.setAttributeNS(null,"x",n+""),l.setAttributeNS(null,"text-anchor",a),l.setAttributeNS(null,"font-family",t),l.setAttributeNS(null,"font-size",e+""),o&&l.setAttributeNS(null,"text-decoration",o),l.textContent=r},s.prototype.stext=function(t,e,i,o,r){var n=document.createElementNS(h,"text");this._element.appendChild(n),n.setAttributeNS(null,"y",o+"%"),n.setAttributeNS(null,"dy","top"),n.setAttributeNS(null,"x",i+"%"),n.textContent=e,t&&n.setAttribute("class",t)},s.prototype.$_stroke=function(t,e,i){t.style.fill="none",t.style.stroke=e,isNaN(i)||(t.style.strokeWidth=i+"")},s.prototype.$_fill=function(t,e){t.style.fill=e},s.prototype.$_fillOrStroke=function(t,e,i,o){i&&(t.style.stroke=i,isNaN(o)||(t.style.strokeWidth=o+"")),t.style.fill=e||"none"},s.prototype.$_getCurvedLinePath=function(t,e,i,o){if(void 0===o&&(o=!0),t&&i!=e&&t.length/2>i){var r=[],n=i<e?-1:1,s=e;if(o&&r.push("M",t[2*s],t[2*s+1]),2==Math.abs(i-e))return r.push("L",t[2*(s+n)],t[2*(s+n)+1]),r;var a={x:0,y:0},l={x:0,y:0},u={x:0,y:0},h={x:t[2*(s+n)]-t[2*s],y:t[2*(s+n)+1]-t[2*s+1]},c={x:0,y:0},p={x:0,y:0},d={x:0,y:0},_={x:0,y:0},f=Math.sqrt(h.x*h.x+h.y*h.y);h.x/=f,h.y/=f;var y=t[2*(s+n)]-t[2*s],m=t[2*s],g=t[2*s+1];for(s+=n;s!=i;s+=n){u.x=-h.x,u.y=-h.y,h.x=t[2*(s+n)]-t[2*s],h.y=t[2*(s+n)]-t[2*s+1],f=Math.sqrt(h.x*h.x+h.y*h.y),h.x/=f,h.y/=f,h.x<u.x?(c.x=u.x-h.x,c.y=u.y-h.y):(c.x=h.x-u.x,c.y=h.y-u.y);var v=Math.sqrt(c.x*c.x+c.y*c.y);c.x/=v,c.y/=v,0<=u.y*h.y&&(c={x:1,y:0}),a.x=-c.x*y*.25,a.y=-c.y*y*.25,s==n+e?r.push("Q",t[2*s]+a.x,t[2*s+1]+a.y,t[2*s],t[2*s+1]):(p.x=m+l.x,p.y=g+l.y,d.x=t[2*s]+a.x,d.y=t[2*s+1]+a.y,_.x=(p.x+d.x)/2,_.y=(p.y+d.y)/2,r.push("Q",p.x,p.y,_.x,_.y),r.push("Q",d.x,d.y,t[2*s],t[2*s+1])),y=t[2*(s+n)]-t[2*s],l.x=c.x*y*.25,l.y=c.y*y*.25,m=t[2*s],g=t[2*s+1]}return r.push("Q",m+l.x,g+l.y,t[2*s],t[2*s+1]),r}return null},s);function s(t,e){var i=r.call(this)||this;return i._transforms=[],i._defs=t,i._element=e,i}e.SvgRenderer=n;var l,u=(l=ue.Base,i(c,l),c.createSVG=function(t){var e=document.createElementNS(h,"svg"),i=e.style,o=document.createElementNS(h,"defs");return e.appendChild(o),i.background="",i.border="none",i.pointerEvents="none",t.appendChild(e),e},c.renderSVG=function(t,e){1<t.childElementCount&&t.removeChild(t.lastElementChild);var i=document.createElementNS(h,"g"),o=new n(t.firstChild,i);t.appendChild(i),e.call(t,o,t.clientWidth,t.clientHeight),o.dispose()},c.renderSVG2=function(t,e){1<t.childElementCount&&t.removeChild(t.lastElementChild);var i=document.createElementNS(h,"g"),o=new n(t.firstChild,i);t.appendChild(i),e.call(t,o),o.dispose()},c.prototype._doDispose=function(){this._renderer=this._renderer.dispose(),this._element.parentElement.removeChild(this._element),this._element=this._defs=null,l.prototype._doDispose.call(this)},Object.defineProperty(c.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),c.prototype.render=function(t){this._clear(),t?t.call(this,this._renderer,this._element.clientWidth,this._element.clientHeight):this._doRender(this._renderer,this._element.clientWidth,this._element.clientHeight)},c.prototype._clear=function(){1<this._element.childElementCount&&this._element.removeChild(this._element.lastElementChild);var t=document.createElementNS(h,"g");this._element.appendChild(t),this._renderer._element=t},c.prototype._doRender=function(t,e,i){},c);function c(t){var e=l.call(this)||this,i=e._element=document.createElementNS(h,"svg"),o=i.style,r=e._defs=document.createElementNS(h,"defs");return i.appendChild(r),o.background="",o.border="none",o.pointerEvents="none",t.appendChild(i),e._renderer=new n(e._defs),e}e.SvgElement=u});t(rt);rt.SvgRenderer,rt.SvgElement;var nt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype.draw=function(t,e,i){this._doDraw(t,e,i)},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.ShapeDrawing=n;var a,h={rectangle:[0,0,1,0,1,1,0,1],triangle:[.5,0,0,1,1,1],itriangle:[0,0,.5,1,1,0],diamond:[.5,0,0,.5,.5,1,1,.5],uparrow:[.5,0,0,.5,.3,.5,.3,1,.7,1,.7,.5,1,.5],downarrow:[.3,0,.3,.5,0,.5,.5,1,1,.5,.7,.5,.7,0],leftarrow:[0,.5,.5,1,.5,.7,1,.7,1,.3,.5,.3,.5,0],rightarrow:[0,.3,0,.7,.5,.7,.5,1,1,.5,.5,0,.5,.3],plus:[.3,0,.3,.3,0,.3,0,.7,.3,.7,.3,1,.7,1,.7,.7,1,.7,1,.3,.7,.3,.7,0],minus:[0,.3,0,.7,1,.7,1,.3],star:[.5,0,.6122,.3454,.9755,.3454,.6816,.559,.7938,.9045,.5,.691,.2061,.9045,.3183,.559,.02447,.3454,.3877,.3454]},c={equal:[[0,.2,0,.4,1,.4,1,.2],[0,.6,0,.8,1,.8,1,.6]]},l=(i(u,a=n),Object.defineProperty(u.prototype,"shape",{get:function(){return this._shape},set:function(t){this._shape=t?"inverted_triangle"===t?u.INVERTED_TRIANLGE:t.toLowerCase():null},enumerable:!0,configurable:!0}),u.prototype._doDraw=function(t,e,i){var o=this._shape;if(h.hasOwnProperty(o)){if(u=h[o]){for(var r=0,n=0,s=0,a=(u=u.slice()).length/2;s<a;s++)u[2*s]=r+u[2*s]*e,u[2*s+1]=n+u[2*s+1]*i;u.push(u[0],u[1]),t.polygon(null,u)}}else if(c.hasOwnProperty(o)){var l=c[o];if(l){var u;for(a=(u=l[s=n=r=0].slice()).length/2;s<a;s++)u[2*s]=r+u[2*s]*e,u[2*s+1]=n+u[2*s+1]*i;for(u.push(u[0],u[1]),t.polygon(null,u),s=0,a=(u=(u=l[1]).slice()).length/2;s<a;s++)u[2*s]=r+u[2*s]*e,u[2*s+1]=n+u[2*s+1]*i;u.push(u[0],u[1]),t.polygon(null,u)}}},u.RECTANGLE="rectangle",u.TRIANLGE="triangle",u.INVERTED_TRIANLGE="itriangle",u.DIAMOND="diamond",u.UP_ARROW="uparrow",u.DOWN_ARROW="downarrow",u.LEFT_ARROW="leftarrow",u.RIGHT_ARROW="rightarrow",u.PLUS="plus",u.MINUS="minus",u.EQUAL="equal",u.STAR="star",u);function u(t){var e=a.call(this)||this;return e._shape=t,e}e.PolygonShape=l;var p,d=(i(_,p=n),_.prototype._doDraw=function(t,e,i){t.ellipse(null,0,0,e,i)},_);function _(){return null!==p&&p.apply(this,arguments)||this}e.EllipseShape=d});t(nt);nt.ShapeDrawing,nt.PolygonShape,nt.EllipseShape;var P=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.getRendererStyle=function(t){var e=t.firstElementChild;if(e){if(e.classList){if(1<e.classList.length)return e.classList[1]}else{var i=e.className&&e.className.split(" ");if(i&&1<i.length)return i[1]}return e.className}},s.prototype._doDispose=function(){this._dom=null,this._index=null,r.prototype._doDispose.call(this)},s.prototype.clearAndDispose=function(){return this.clearContent(),this.dispose()},s.prototype.initContent=function(t,e,i){this._inited?this._index.assign(t):(this._dom=e,this._index=t.clone(),e.className=this._className=i,this._doInitContent(e),this._inited=!0)},s.prototype.clearContent=function(){this._inited&&(this._doClearContent(this._dom),this._dom.className=this._className="",this._inited=!1)},s.prototype.click=function(t){return this._doClick(t)},s.prototype.checkClassName=function(t){return t!=this._className},Object.defineProperty(s.prototype,"grid",{get:function(){return this._index&&this._index.grid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"styleName",{get:function(){return"rg-renderer"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(t){this._showTooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tooltipEllipseTextOnly",{get:function(){return this._tooltipEllipseTextOnly},set:function(t){this._tooltipEllipseTextOnly=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"clickCallback",{get:function(){return this._clickCallback},set:function(t){this._clickCallback=t},enumerable:!0,configurable:!0}),s.prototype.renderCell=function(t,e,i){this._doRenderCell(t,e,i,i.width-i.buttonWidth-i.editWidth-1,i.height-1)},s.prototype.getTooltip=function(t,e){if(this.showTooltip){var i=t.text;return i||void 0}},s.prototype.canEditable=function(){return!0},s.prototype._doInitContent=function(t){},s.prototype._doClearContent=function(t){t.innerHTML=""},s.prototype._doRenderCell=function(t,e,i,o,r){},s.prototype._doClick=function(t){if(this._clickCallback){var e=this.index.grid;if(this._clickCallback.call(this,e.getHandler(),this._index))return!0}return this._fireClickEvent(this.index),!1},s.prototype._fireClickEvent=function(t){return t.grid._fireDataCellClicked(t),!1},s.prototype._changed=function(){this._dirty=!0},s.prototype._getValue=function(t,e,i){var o=e.item.dataRow;if(0<=o){var r=t.dataSource.getFieldIndex(i);if(0<=r)return t.dataSource.getValue(o,r)}},s.prototype._makeText=function(t,e,i){return e.getDisplayText(t,i)||""},s.prototype._clearHeight=function(){this._setHeight(-1)},s.prototype._setHeight=function(t){t!=this._height&&(this._height=t,this._dom.style.height=0<=t?t+"px":"",this._changed())},s);function s(){var t=r.call(this)||this;return t._showTooltip=!1,t._tooltipEllipseTextOnly=!1,t._inited=!1,t._dirty=!1,t._className="",t._height=-1,t}e.DataCellRenderer=n;var a,u,l,h=(i(c,a=n),c.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(c.prototype,"type",{get:function(){return c.TYPE},enumerable:!0,configurable:!0}),c.prototype.initContent=function(t,e,i){a.prototype.initContent.call(this,t,e,i),this._text=""},c.prototype._doRenderCell=function(t,e,i,o,r){if(e instanceof it.ValueCell)if(e.index.itemIndex!==t.topIndex)switch(e.blankState){case H.BlankState.BODY:case H.BlankState.TAIL:this.$_setText("");break;default:this.$_setText(this._makeText(t,e,i))}else this.$_setText(this._makeText(t,e,i))},c.prototype.$_setText=function(t){t!=this._text&&(this._text=t,this._dom.textContent=t||"")},c.TYPE="text",c.Default=new c,c);function c(){return a.call(this)||this}e.TextCellRenderer=h,(l=u=e.BarOrigin||(e.BarOrigin={})).DEFAULT="default",l.LEFT="left",l.RIGHT="right",l.TOP="top",l.BOTTOM="bottom";var p,d=(i(_,p=n),_.prototype._doDispose=function(){p.prototype._doDispose.call(this)},Object.defineProperty(_.prototype,"barStyle",{get:function(){return this._barStyle},set:function(t){t!=this._barStyle&&(this._barStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"rightBarStyle",{get:function(){return this._rightBarStyle},set:function(t){t!=this._rightBarStyle&&(this._rightBarStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"topBarStyle",{get:function(){return this._topBarStyle},set:function(t){t!=this._topBarStyle&&(this._topBarStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"bottomBarStyle",{get:function(){return this._bottomBarStyle},set:function(t){t!=this._bottomBarStyle&&(this._bottomBarStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"minimum",{get:function(){return this._minimum},set:function(t){t!=this._minimum&&(this._minimum=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t!=this._maximum&&(this._maximum=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"showLabel",{get:function(){return this._showLabel},set:function(t){t!=this._showLabel&&(this._showLabel=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"barWidth",{get:function(){return this._barWidth},set:function(t){t!=this._barWidth&&("string"==typeof(this._barWidth=t)&&"%"==t.charAt(t.length-1)?this._percentShapeWidth=parseFloat(t.substring(0,t.length-1)):this._percentShapeWidth=NaN,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"origin",{get:function(){return this._origin},set:function(t){t!=this._origin&&(this._origin=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"absoluteValue",{get:function(){return this._absoluteValue},set:function(t){t!=this._absoluteValue&&(this._absoluteValue=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"type",{get:function(){return _.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"styleName",{get:function(){return _.STYLE_NAME},enumerable:!0,configurable:!0}),_.prototype._doInitContent=function(t){var e,i;t.childElementCount,t.textContent="",(e=this._div=document.createElement("div")).style.position="relative",t.appendChild(e);var o=(i=this._span=document.createElement("span")).style;o.display="inline-block",o.position="absolute",o.top="50%",o.right="50%",o.msTransform=i.style.transform="translate(50%, -50%)",t.appendChild(i)},_.prototype._doRenderCell=function(t,e,i,o,r){var n=this._div,s=n.style,a=this._absoluteValue?Math.abs(e.value):e.value,l=Math.min(1,(a-this._minimum)/(this._maximum-this._minimum));switch(isNaN(l)&&(l=0),this._origin){case u.LEFT:this.$_renderLeft(s,l),n.className=this.barStyle||_.BAR_STYLE;break;case u.RIGHT:this.$_renderRight(s,l),n.className=this.rightBarStyle||_.BAR_RIGHT_STYLE;break;case u.TOP:this.$_renderTop(s,l),n.className=this.topBarStyle||_.BAR_TOP_STYLE;break;case u.BOTTOM:this.$_renderBottom(s,l),n.className=this.bottomBarStyle||_.BAR_BOTTOM_STYLE;break;default:this.$_renderLeft(s,l),n.className=this.barStyle||_.BAR_STYLE}this.$_setText(this._makeText(t,e,i))},_.prototype.$_renderLeft=function(t,e){if(t.left="0px",t.width=100*e+"%",isNaN(this._percentShapeWidth)){var i=this._barWidth;t.top="50%",t.msTransform=t.transform="translate(0%,-50%)",t.height=i+"px"}else t.top=(100-this._percentShapeWidth)/2+"%",t.height=this._percentShapeWidth+"%"},_.prototype.$_renderRight=function(t,e){if(t.left=100*(1-e)+"%",t.width=100*e+"%",isNaN(this._percentShapeWidth)){var i=this._barWidth;t.top="50%",t.msTransform=t.transform="translate(0%,-50%)",t.height=i+"px"}else t.top=(100-this._percentShapeWidth)/2+"%",t.height=this._percentShapeWidth+"%"},_.prototype.$_renderTop=function(t,e){if(t.top="0px",t.height=100*e+"%",isNaN(this._percentShapeWidth)){var i=this._barWidth;t.left="50%",t.msTransform=t.transform="translate(-50%,0%)",t.width=i+"px"}else t.left=(100-this._percentShapeWidth)/2+"%",t.width=this._percentShapeWidth+"%"},_.prototype.$_renderBottom=function(t,e){if(t.top=100*(1-e)+"%",t.height=100*e+"%",isNaN(this._percentShapeWidth)){var i=this._barWidth;t.left="50%",t.msTransform=t.transform="translate(-50%,0%)",t.width=i+"px"}else t.left=(100-this._percentShapeWidth)/2+"%",t.width=this._percentShapeWidth+"%"},_.prototype.$_setText=function(t){t!=this._text&&(this._text=t,this._span.textContent=t||"")},_.TYPE="bar",_.STYLE_NAME="rg-renderer "+(_.STYLE="rg-bar-renderer"),_.BAR_STYLE="rg-bar-renderer-bar",_.BAR_RIGHT_STYLE="rg-bar-renderer-bar-right",_.BAR_TOP_STYLE="rg-bar-renderer-bar-top",_.BAR_BOTTOM_STYLE="rg-bar-renderer-bar-bottom",_);function _(){var t=p.call(this)||this;return t._barStyle=_.BAR_STYLE,t._rightBarStyle=_.BAR_RIGHT_STYLE,t._topBarStyle=_.BAR_TOP_STYLE,t._bottomBarStyle=_.BAR_BOTTOM_STYLE,t._minimum=0,t._maximum=100,t._barWidth="80%",t._showLabel=!1,t._origin=u.LEFT,t._absoluteValue=!1,t._text="",t._percentShapeWidth=80,t}e.BarCellRenderer=d;var f,y=(i(m,f=n),m.prototype._doDispose=function(){f.prototype._doDispose.call(this)},Object.defineProperty(m.prototype,"imageMap",{get:function(){return this._imageMap},set:function(t){t!==this._imageMap&&(this._imageMap=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"imageCallback",{get:function(){return this._imageCallback},set:function(t){t!==this._imageCallback&&(this._imageCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"imageField",{get:function(){return this._imageField},set:function(t){t!=this._imageField&&(this._imageField=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"titleField",{get:function(){return this._titleField},set:function(t){t!=this._titleField&&(this._titleField=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"titleCallback",{get:function(){return this._titleCallback},set:function(t){t!==this._titleCallback&&(this._titleCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"imageHeight",{get:function(){return this._imageHeight},set:function(t){t!=this._imageHeight&&(this._imageHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"type",{get:function(){return m.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"styleName",{get:function(){return m.STYLE_NAME},enumerable:!0,configurable:!0}),m.prototype._doInitContent=function(t){var e=this._img=document.createElement("img");e.style.verticalAlign="middle",t.appendChild(e)},m.prototype._doRenderCell=function(t,e,i,o,r){var n=this._img,s=this.$_getImageUrl(t,e);if(s){n.src=s;var a=this.$_getTitle(t,e);a?n.title=a:delete n.title,isNaN(this._imageHeight)?n.style.height="":n.style.height=this._imageHeight+"px"}else n.removeAttribute("src"),n.removeAttribute("title")},m.prototype.$_getImageUrl=function(t,e){var i="",o=this._imageCallback;return o&&(i=o.call(this,t.getHandler(),e)),!i&&this._imageMap&&(i=this._imageMap[e.value]),!i&&this._imageField&&(i=this._getValue(t,e,this._imageField)),i||""},m.prototype.$_getTitle=function(t,e){var i="",o=this._titleCallback;return o&&(i=o.call(this,t.getHandler(),e)),!i&&this._titleField&&(i=this._getValue(t,e,this._titleField)),i||""},m.TYPE="image",m.STYLE_NAME="rg-renderer "+(m.STYLE="rg-image-renderer"),m);function m(){return f.call(this)||this}e.ImageCellRenderer=y;var g,v=(i(b,g=n),b.prototype._doDispose=function(){g.prototype._doDispose.call(this)},Object.defineProperty(b.prototype,"iconMap",{get:function(){return this._iconMap},set:function(t){t!==this._iconMap&&(this._iconMap=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iconCallback",{get:function(){return this._iconCallback},set:function(t){t!==this._iconCallback&&(this._iconCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iconUrl",{get:function(){return this._iconUrl},set:function(t){this._iconUrl=t,this._changed()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iconField",{get:function(){return this._iconField},set:function(t){t!=this._iconField&&(this._iconField=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iconPosition",{get:function(){return this._iconPosition},set:function(t){t!=this._iconPosition&&(this._oldPosition=this._iconPosition,this._iconPosition=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iconWidth",{get:function(){return this._iconWidth},set:function(t){t!=this._iconWidth&&(this._iconWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"iconHeight",{get:function(){return this._iconHeight},set:function(t){t!=this._iconHeight&&(this._iconHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textVisible",{get:function(){return this._textVisible},set:function(t){t!=this._textVisible&&(this._textVisible=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"type",{get:function(){return b.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"styleName",{get:function(){return b.STYLE_NAME+" rg-icon-"+this.$_getStyleName().toLowerCase()},enumerable:!0,configurable:!0}),b.prototype._doInitContent=function(t){var e=this._img=document.createElement("img");t.appendChild(e);var i=this._span=document.createElement("span");t.appendChild(i),this._br=document.createElement("br")},b.prototype._doRenderCell=function(t,e,i,o,r){var n=this._img,s=this._span;if(this.$_setImgWidth(this._iconWidth),this.$_setImgHeight(this._iconHeight),this.$_setImgSrc(this.$_getIconUrl(t,e)),this.$_setSpanText(this._makeText(t,e,i)),this._oldPosition!=this._iconPosition){switch(this._iconPosition){case H.IconPosition.LEFT:this._clearHeight(),this.$_layoutLeft(this._dom,n,s,this._oldPosition,this._iconPosition);break;case H.IconPosition.RIGHT:this._clearHeight(),this.$_layoutRight(this._dom,n,s,this._oldPosition,this._iconPosition);break;case H.IconPosition.TOP:this._clearHeight(),this.$_layoutTop(this._dom,n,s,this._oldPosition,this._iconPosition);break;case H.IconPosition.BOTTOM:this._clearHeight(),this.$_layoutBottom(this._dom,n,s,this._oldPosition,this._iconPosition);break;case H.IconPosition.LEFT_EDGE:this._clearHeight(),this.$_layoutLeftEdge(this._dom,n,s,this._oldPosition,this._iconPosition);break;case H.IconPosition.RIGHT_EDGE:this._clearHeight(),this.$_layoutRightEdge(this._dom,n,s,this._oldPosition,this._iconPosition);break;case H.IconPosition.TOP_EDGE:this._setHeight(r),this.$_layoutTopEdge(this._dom,n,s,this._oldPosition,this._iconPosition,o,r);break;case H.IconPosition.BOTTOM_EDGE:this._setHeight(r),this.$_layoutBottomEdge(this._dom,n,s,this._oldPosition,this._iconPosition,o,r);break;case H.IconPosition.CENTER:this._clearHeight(),this.$_layoutCenter(this._dom,n,s,this._oldPosition,this._iconPosition);break;default:this._clearHeight(),this.$_layoutLeft(this._dom,n,s,this._oldPosition,this._iconPosition)}this._oldPosition=this._iconPosition}else this._oldPosition!=H.IconPosition.TOP_EDGE&&this._oldPosition!=H.IconPosition.BOTTOM_EDGE||this._setHeight(r)},b.prototype.$_getIconUrl=function(t,e){var i=void 0,o=this._iconCallback;return o&&(i=o.call(this,t.getHandler(),e)),void 0===i&&this._iconMap&&(i=this._iconMap[e.value]),void 0===i&&this._iconField&&(i=this._getValue(t,e,this._iconField)),void 0===i&&(i=this._iconUrl),i||""},b.prototype.$_layoutLeft=function(t,e,i,o,r){this._reversed&&(t.insertBefore(e,i),this._reversed=!1),this._splitted&&(t.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(!1),this.$_setImgMiddle(!0),this.$_setImgCenter(!1),this.$_clearImgBounds(),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(4),this.$_setSpanPadRight(0)},b.prototype.$_layoutRight=function(t,e,i,o,r){this._reversed||(t.insertBefore(i,e),this._reversed=!0),this._splitted&&(t.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(!1),this.$_setImgMiddle(!0),this.$_setImgCenter(!1),this.$_clearImgBounds(),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(4)},b.prototype.$_layoutTop=function(t,e,i,o,r){this._reversed&&(t.insertBefore(e,i),this._reversed=!1),this._splitted||(t.insertBefore(this._br,i),this._splitted=!0),this.$_setImgFixed(!1),this.$_setImgMiddle(!1),this.$_setImgCenter(!1),this.$_clearImgBounds(),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},b.prototype.$_layoutBottom=function(t,e,i,o,r){this._reversed||(t.insertBefore(i,e),this._reversed=!0),this._splitted||(t.insertBefore(this._br,e),this._splitted=!0),this.$_setImgFixed(!1),this.$_setImgMiddle(!1),this.$_setImgCenter(!1),this.$_clearImgBounds(),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},b.prototype.$_layoutLeftEdge=function(t,e,i,o,r){this._reversed&&(t.insertBefore(e,i),this._reversed=!1),this._splitted&&(t.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(!0),this.$_setImgMiddle(!0),this.$_setImgCenter(!1),this.$_setImgBounds(0,2,0,0),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0),i.style.marginLeft=isNaN(this._iconWidth)?"":this._iconWidth+"px"},b.prototype.$_layoutRightEdge=function(t,e,i,o,r){this._reversed||(t.insertBefore(i,e),this._reversed=!0),this._splitted&&(t.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(!0),this.$_setImgMiddle(!0),this.$_setImgCenter(!1),this.$_setImgBounds(0,0,0,2),this.$_setSpanVis(!0),this.$_setSpanCenter(!1),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(this._iconWidth)},b.prototype.$_layoutTopEdge=function(t,e,i,o,r,n,s){this._reversed&&(t.insertBefore(e,i),this._reversed=!1),this._splitted||(t.insertBefore(this._br,i),this._splitted=!0),this.$_setImgFixed(!0),this.$_setImgMiddle(!1),this.$_setImgCenter(!1),this.$_setImgBounds(2,(n-this._iconWidth)/2,0,0),this.$_setSpanVis(!0),this.$_setSpanCenter(!0,this._iconHeight*((s-this._iconHeight)/s)),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},b.prototype.$_layoutBottomEdge=function(t,e,i,o,r,n,s){this._reversed||(t.insertBefore(i,e),this._reversed=!0),this._splitted||(t.insertBefore(this._br,e),this._splitted=!0),this.$_setImgFixed(!0),this.$_setImgMiddle(!1),this.$_setImgCenter(!0),this.$_setImgBounds(0,(n-this._iconWidth)/2,2,0),this.$_setSpanVis(!0),this.$_setSpanCenter(!0,-this._iconHeight*((s-this._iconHeight)/s)),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},b.prototype.$_layoutCenter=function(t,e,i,o,r){this._reversed&&(t.insertBefore(e,i),this._reversed=!1),this._splitted&&(t.removeChild(this._br),this._splitted=!1),this.$_setImgFixed(!1),this.$_setImgMiddle(!0),this.$_setImgCenter(!0),this.$_clearImgBounds(),this.$_setSpanVis(!1),this.$_setSpanCenter(!0),this.$_setSpanPadLeft(0),this.$_setSpanPadRight(0)},b.prototype.$_setImgFixed=function(t){t!=this._imgFixed&&(this._imgFixed=t,this._img.style.position=t?"absolute":"")},b.prototype.$_setImgMiddle=function(t){t!=this._imgMiddle&&(this._imgMiddle=t,this._img.style.verticalAlign=t?"middle":"")},b.prototype.$_setImgCenter=function(t){t!=this._imgCenter&&(this._imgCenter=t,this._img.style.textAlign=t?"center":"")},b.prototype.$_setImgWidth=function(t){(t=isNaN(t)?0:t)!=this._imgWidth&&(this._imgWidth=t,this._img.style.width=0<t?t+"px":"")},b.prototype.$_setImgHeight=function(t){(t=isNaN(t)?0:t)!=this._imgHeight&&(this._imgHeight=t,this._img.style.height=0<t?t+"px":"")},b.prototype.$_setImgBounds=function(t,e,i,o){t!=this._imgTop&&(this._imgTop=t,this._img.style.top=0<t?t+"px":""),e!=this._imgLeft&&(this._imgLeft=e,this._img.style.left=0<e?e+"px":""),i!=this._imgBottom&&(this._imgBottom=i,this._img.style.bottom=0<i?i+"px":""),o!=this._imgRight&&(this._imgRight=o,this._img.style.right=0<o?o+"px":"")},b.prototype.$_clearImgBounds=function(){0<this._imgTop&&(this._imgTop=0,this._img.style.top=""),0<this._imgLeft&&(this._imgLeft=0,this._img.style.left=""),0<this._imgBottom&&(this._imgBottom=0,this._img.style.bottom=""),0<this._imgRight&&(this._imgRight=0,this._img.style.right="")},b.prototype.$_setImgSrc=function(t){t!=this._imgSrc&&((this._imgSrc=t)?this._img.src=t:this._img.removeAttribute("src"))},b.prototype.$_setSpanVis=function(t){t!=this._spanVis&&(this._spanVis=t,this._span.style.display=t?"":"none")},b.prototype.$_setSpanPadLeft=function(t){t!=this._spanPadLeft&&(this._spanPadLeft=t,this._span.style.paddingLeft=0<t?t+"px":"")},b.prototype.$_setSpanPadRight=function(t){t!=this._spanPadRight&&(this._spanPadRight=t,this._span.style.paddingRight=0<t?t+"px":"")},b.prototype.$_setSpanCenter=function(t,e){if(void 0===e&&(e=0),t!=this._spanCenter){var i=this._span.style;(this._spanCenter=t)?(i.left="50%",i.top=50+e+"%",i.transform="translate(-50%, -50%)",i.position="absolute"):(i.left="",i.top="",i.transform="",i.position="")}},b.prototype.$_setSpanText=function(t){t!=this._spanText&&(this._spanText=t,this._span.textContent=this._textVisible?this._spanText:void 0)},b.prototype.$_getStyleName=function(){return String(this._iconPosition)||String(H.IconPosition.LEFT)},b.prototype._doClick=function(t){if(t.target===this._img){if(!this.$_fireButtonEvent(this.index))return t.preventDefault(),t.stopImmediatePropagation(),!0}else g.prototype._doClick.call(this,t);return!1},b.prototype.$_fireButtonEvent=function(t){return t.grid._fireButtonClicked(t,0,void 0),!1},b.TYPE="icon",b.STYLE_NAME="rg-renderer "+(b.STYLE="rg-icon-renderer"),b);function b(){var t=g.call(this)||this;return t._iconWidth=NaN,t._iconHeight=NaN,t._iconPosition=H.IconPosition.LEFT,t._textVisible=!0,t._splitted=!1,t._reversed=!1,t._imgFixed=!1,t._imgMiddle=!1,t._imgCenter=!1,t._imgHeight=0,t._imgWidth=0,t._imgLeft=0,t._imgRight=0,t._imgTop=0,t._imgBottom=0,t._imgSrc="",t._spanVis=!0,t._spanPadRight=0,t._spanPadLeft=0,t._spanCenter=!1,t._spanText="",t}e.IconCellRenderer=v;var C,w=(i(x,C=n),x.prototype._doDispose=function(){C.prototype._doDispose.call(this)},Object.defineProperty(x.prototype,"checkCallback",{get:function(){return this._checkCallback},set:function(t){t!==this._checkCallback&&(this._checkCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"trueValues",{get:function(){return this._trueValues},set:function(t){t!==this._trueValues&&(this._trueValues=t,this.$_resetValues(),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"falseValues",{get:function(){return this._falseValues},set:function(t){t!==this._falseValues&&(this._falseValues=t,this.$_resetValues(),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"threeState",{get:function(){return this._threeState},set:function(t){t!=this._threeState&&(this._threeState=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"type",{get:function(){return x.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"styleName",{get:function(){return x.STYLE_NAME},enumerable:!0,configurable:!0}),x.prototype._doInitContent=function(t){var e=this._check=document.createElement("input"),i=this._span=document.createElement("span");e.type="checkbox",e.style.display="inline-block",e.style.marginRight="4px",i.style.display="inline-block",t.appendChild(e),t.appendChild(i)},x.prototype._doRenderCell=function(t,e,i,o,r){var n=this._check;this._span,n.checked=this.$_getValue(t,e)},x.prototype._doClick=function(t){if(t.target===this._check){var e=this.index,i=e.grid;if(!i||!i.edit(this.index))return!1;var o=i.body.getCell(e,!1),r=this.$_getValue(i,o),n=r,s=o.dataColumn.dataIndex,a=i.dataSource,l=o.item;r=0<=s&&a.getValueType(s)==H.ValueType.BOOLEAN?this._threeState&&void 0!==r&&!r?void 0:!r:r?!!this._falseValue&&this._falseValue:void 0!==r&&this._threeState?void 0:!this._trueValue||this._trueValue,i.editorCommit(null,o.index,n,r)&&l.setData(s,r)}return!1},x.prototype.$_resetValues=function(){var t;if(this._values={},this._falseValues)if(t=this._falseValues.split(",")){var e=void 0;this._falseValue=0<(e=t.length)?t[0]:void 0;for(var i=0;i<e;i++)this._values[t[i]]=!1}else this._falseValue=void 0;if(this._trueValues)if(t=this._trueValues.split(","))for(e=void 0,this._trueValue=0<(e=t.length)?t[0]:void 0,i=0;i<e;i++)this._values[t[i]]=!0;else this._trueValue=void 0},x.prototype.$_getValue=function(t,e){if(this._checkCallback)return this._checkCallback(t,e);var i=e.value;if("boolean"==typeof i)return i;var o=String(i);return this._values.hasOwnProperty(o)?this._values[o]:!this._threeState||""!=i&&null!=i?Boolean(i):void 0},x.TYPE="check",x.STYLE_NAME="rg-renderer "+(x.STYLE="rg-check-renderer"),x.CHECK_STYLE="rg-check-renderer-check",x);function x(){var t=C.call(this)||this;return t._checkStyle=x.CHECK_STYLE,t._threeState=!1,t._values={},t}e.CheckCellRenderer=w;var I,E=(i(S,I=n),S.prototype._doDispose=function(){I.prototype._doDispose.call(this)},Object.defineProperty(S.prototype,"buttonStyle",{get:function(){return this._buttonStyle},set:function(t){t!=this._buttonStyle&&(this._buttonStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"type",{get:function(){return S.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"styleName",{get:function(){return S.STYLE_NAME},enumerable:!0,configurable:!0}),S.prototype._doInitContent=function(t){var e=this._button=document.createElement("button");e.type="button",e.style.display="inline-block",t.appendChild(e)},S.prototype._doRenderCell=function(t,e,i,o,r){var n=this._button;n.textContent=this._makeText(t,e,i),n.setAttribute("class",this._buttonStyle)},S.prototype._doClick=function(t){if(t.target===this._button){if(!this.$_fireButtonEvent(this.index))return t.preventDefault(),t.stopImmediatePropagation(),!0}else I.prototype._doClick.call(this,t);return!1},S.prototype.$_fireButtonEvent=function(t){return t.grid._fireButtonClicked(t,0,void 0),!1},S.TYPE="button",S.STYLE_NAME="rg-renderer "+(S.STYLE="rg-button-renderer"),S.BUTTON_STYLE="rg-button-renderer-button",S);function S(){var t=I.call(this)||this;return t._buttonStyle=S.BUTTON_STYLE,t}e.ButtonCellRenderer=E;var O,R=(i(D,O=n),D.prototype._doDispose=function(){O.prototype._doDispose.call(this)},Object.defineProperty(D.prototype,"baseUrl",{get:function(){return this._baseUrl},set:function(t){t!=this._baseUrl&&(this._baseUrl=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"linkField",{get:function(){return this._linkField},set:function(t){t!=this._linkField&&(this._linkField=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"urlCallback",{get:function(){return this._urlCallback},set:function(t){t!==this._urlCallback&&(this._urlCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"titleField",{get:function(){return this._titleField},set:function(t){t!=this._titleField&&(this._titleField=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"titleCallback",{get:function(){return this._titleCallback},set:function(t){t!==this._titleCallback&&(this._titleCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"type",{get:function(){return D.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"styleName",{get:function(){return D.STYLE_NAME},enumerable:!0,configurable:!0}),D.prototype._doInitContent=function(t){var e=this._anchor=document.createElement("a");t.appendChild(e)},D.prototype._doRenderCell=function(t,e,i,o,r){var n=this._anchor;n.textContent=this._makeText(t,e,i),this._url="","#"===this._baseUrl?(n.removeAttribute("target"),n.href="#"):(this._url=this.$_getUrl(t,e),this._url&&(n.target="_blank",n.href=this._url));var s=this.$_getTitle(t,e);s?n.title=s:delete n.title},D.prototype._doClick=function(t){if(t.target===this._anchor){if(!this.$_fireLinkEvent(this.index,this._url))return t.preventDefault(),t.stopImmediatePropagation(),!0}else O.prototype._doClick.call(this,t);return!1},D.prototype.$_getUrl=function(t,e){var i="",o=this._urlCallback;return o&&(i=o.call(this,t.getHandler(),e)),i||(i=this._linkField?this._getValue(t,e,this._linkField):e.value,this._baseUrl&&(i=this._baseUrl+i)),i||""},D.prototype.$_getTitle=function(t,e){var i="",o=this._titleCallback;return o&&(i=o.call(this,t.getHandler(),e)),!i&&this._titleField&&(i=this._getValue(t,e,this._titleField)),i||""},D.prototype.$_fireLinkEvent=function(t,e){return t.grid._fireLinkableCellClicked(t,e)},D.TYPE="link",D.STYLE_NAME="rg-renderer "+(D.STYLE="rg-link-renderer"),D);function D(){return O.call(this)||this}e.LinkCellRenderer=R;var P,T=(i(k,P=n),k.prototype._doDispose=function(){P.prototype._doDispose.call(this)},Object.defineProperty(k.prototype,"shapeStyle",{get:function(){return this._shapeStyle},set:function(t){t!=this._shapeStyle&&(this._shapeStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shape",{get:function(){return this._shape},set:function(t){t!=this._shape&&(this._shape=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shapeMap",{get:function(){return this._shapeMap},set:function(t){t!==this._shapeMap&&(this._shapeMap=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shapeCallback",{get:function(){return this._shapeCallback},set:function(t){t!=this._shapeCallback&&(this._shapeCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shapeWidth",{get:function(){return this._shapeWidth},set:function(t){this._shapeWidth!==t&&(this._shapeWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"shapeHeight",{get:function(){return this._shapeHeight},set:function(t){this._shapeHeight!==t&&(this._shapeHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"type",{get:function(){return k.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,"styleName",{get:function(){return k.STYLE_NAME},enumerable:!0,configurable:!0}),k.prototype._doInitContent=function(t){var e=(this._svg=rt.SvgElement.createSVG(t)).style,i=isNaN(this._shapeWidth)||this._shapeWidth<=0?16:this._shapeWidth,o=isNaN(this._shapeHeight)||this._shapeHeight<=0?16:this._shapeHeight;e.display="inline-block",e.width=i+"px",e.height=o+"px";var r=this._span=document.createElement("span");r.style.display="inline-block",t.appendChild(r)},k.prototype._doRenderCell=function(t,e,i,o,r){var n=this._svg,s=this._span;this._runShape=this.$_getShape(t,e),n.setAttribute("class",this._shapeStyle),rt.SvgElement.renderSVG(n,this.$_render.bind(this)),s.textContent=this._makeText(t,e,i),n.style.verticalAlign="middle",n.style.marginRight="4px"},k.prototype.$_getShape=function(t,e){var i=void 0,o=this._shapeCallback;return o&&(i=o.call(this,t.getHandler(),e)),null==i&&this._shapeMap&&(i=this._shapeMap[e.value]),null==i&&(i=this._shape),i},k.prototype.$_getDrawing=function(t){var e;return t&&("ellipse"==(t=t.toLowerCase())?e=this._ellipse?this._ellipse:this._ellipse=new nt.EllipseShape:(e=this._polygon?this._polygon:this._polygon=new nt.PolygonShape(t),this._polygon.shape=t)),e},k.prototype.$_render=function(t,e,i){if(this._runShape){var o=this.$_getDrawing(this._runShape);o&&o.draw(t,e,i)}},k.TYPE="shape",k.STYLE_NAME="rg-renderer "+(k.STYLE="rg-shape-renderer"),k.SHAPE_STYLE="rg-shape-renderer-shape",k);function k(){var t=P.call(this)||this;return t._shapeStyle=k.SHAPE_STYLE,t._shape=nt.PolygonShape.STAR,t._shapeWidth=16,t._shapeHeight=16,t}e.ShapeCellRenderer=T;var M,L=(i(F,M=n),F.prototype._doDispose=function(){M.prototype._doDispose.call(this)},Object.defineProperty(F.prototype,"barStyle",{get:function(){return this._barStyle},set:function(t){t!=this._barStyle&&(this._barStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"inactiveStyle",{get:function(){return this._inactiveStyle},set:function(t){t!=this._inactiveStyle&&(this._inactiveStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"barCount",{get:function(){return this._barCount},set:function(t){(t=Math.max(2,t))!=this._barCount&&(this._barCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"minimum",{get:function(){return this._minimum},set:function(t){t!=this._minimum&&(this._minimum=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"maximum",{get:function(){return this._maximum},set:function(t){t!=this._maximum&&(this._maximum=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"startRate",{get:function(){return this._startRate},set:function(t){!isNaN(t)&&0<=t&&t<=100&&t!==this._startRate&&(this._startRate=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"endRate",{get:function(){return this._endRate},set:function(t){!isNaN(t)&&0<=t&&t<=100&&t!==this._endRate&&(this._endRate=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"absoluteValue",{get:function(){return this._absoluteValue},set:function(t){t!=this._absoluteValue&&(this._absoluteValue=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"type",{get:function(){return F.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(F.prototype,"styleName",{get:function(){return F.STYLE_NAME},enumerable:!0,configurable:!0}),F.prototype._doInitContent=function(t){var e=this._div=document.createElement("div");e.style.position="relative",e.style.height="100%",t.appendChild(e);var i=(this._svg=rt.SvgElement.createSVG(e)).style;i.position="absolute",i.left="0px",i.width="100%",i.top=(100-Math.max(this._startRate,this._endRate))/2+"%",i.height=Math.max(this._startRate,this._endRate)+"%"},F.prototype._doRenderCell=function(t,e,i,o,r){var n=this._svg;this._value=parseFloat(e.value),n.setAttribute("class",this._barStyle),rt.SvgElement.renderSVG2(n,this.$_render.bind(this))},F.prototype.$_render=function(t){var e=this.absoluteValue?Math.abs(this._value):this._value;isNaN(this._minimum)||isNaN(this._maximum)||(e=this._barCount*(e-this._minimum)/(this._maximum-this._minimum));for(var i=100/Math.max(this._startRate,this._endRate),o=(100-2*(this._barCount+1))/this._barCount,r=0,n=this._startRate*i,s=(this._endRate-this._startRate)/(this._barCount-1),a=0;a<this._barCount;a++){var l=a<e?null:this._inactiveStyle;t.sbounds(l,r+"%",100-n+"%",o+"%",n+"%"),r+=2+o,n+=s}},F.TYPE="signalbar",F.STYLE_NAME="rg-renderer "+(F.STYLE="rg-signalbar-renderer"),F.BAR_STYLE="rg-signalbar-renderer-bar",F.INACTIVE_STYLE="rg-signalbar-renderer-inactive",F);function F(){var t=M.call(this)||this;return t._barStyle=F.BAR_STYLE,t._inactiveStyle=F.INACTIVE_STYLE,t._barCount=10,t._minimum=NaN,t._maximum=NaN,t._startRate=50,t._endRate=100,t._absoluteValue=!1,t}e.SignalBarCellRenderer=L;var A,V=(i(N,A=n),N.prototype._doDispose=function(){A.prototype._doDispose.call(this)},Object.defineProperty(N.prototype,"barStyle",{get:function(){return this._barStyle},set:function(t){t!=this._barStyle&&(this._barStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(N.prototype,"type",{get:function(){return N.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(N.prototype,"styleName",{get:function(){return N.STYLE_NAME},enumerable:!0,configurable:!0}),N.prototype._doInitContent=function(t){var e=this._div=document.createElement("div");e.style.position="relative",e.style.height="100%",t.appendChild(e);var i=(this._svg=rt.SvgElement.createSVG(e)).style;i.position="absolute",i.left="0px",i.top="0px",i.width="100%",i.height="100%"},N.prototype._doRenderCell=function(t,e,i,o,r){this._div;var n=this._svg;this._value=String(e.value),this._value&&(this._value=this._value.toUpperCase()),n.setAttribute("class",this._barStyle),rt.SvgElement.renderSVG(n,this.$_render)},N.TYPE="code39",N.STYLE_NAME="rg-renderer "+(N.STYLE="rg-code39-renderer"),N.BAR_STYLE="rg-code39-renderer-bar",N);function N(){var t=A.call(this)||this;return t._barStyle=N.BAR_STYLE,t._barcode=new ot.Code39,t.$_render=function(t,e,i){this._value&&(this._barcode.value=this._value,this._barcode.renders(t,new G.Rectangle(0,0,e,100)))}.bind(t),t}e.Code39CellRenderer=V;var j,B=(i($,j=n),$.prototype._doDispose=function(){j.prototype._doDispose.call(this)},Object.defineProperty($.prototype,"barStyle",{get:function(){return this._barStyle},set:function(t){t!=this._barStyle&&(this._barStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty($.prototype,"type",{get:function(){return $.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty($.prototype,"styleName",{get:function(){return $.STYLE_NAME},enumerable:!0,configurable:!0}),$.prototype._doInitContent=function(t){var e=this._div=document.createElement("div");e.style.position="relative",e.style.height="100%",t.appendChild(e);var i=(this._svg=rt.SvgElement.createSVG(e)).style;i.position="absolute",i.left="0px",i.top="0px",i.width="100%",i.height="100%"},$.prototype._doRenderCell=function(t,e,i,o,r){this._div;var n=this._svg;this._value=String(e.value),n.setAttribute("class",this._barStyle),rt.SvgElement.renderSVG(n,this.$_render)},$.TYPE="code128",$.STYLE_NAME="rg-renderer "+($.STYLE="rg-code128-renderer"),$.BAR_STYLE="rg-code128-renderer-bar",$);function $(){var t=j.call(this)||this;return t._barStyle=$.BAR_STYLE,t._barcode=new ot.Code128,t.$_render=function(t,e,i){this._value&&(this._barcode.value=this._value,this._barcode.renders(t,new G.Rectangle(0,0,e,100)))}.bind(t),t}e.Code128CellRenderer=B});t(P);P.DataCellRenderer,P.TextCellRenderer,P.BarOrigin,P.BarCellRenderer,P.ImageCellRenderer,P.IconCellRenderer,P.CheckCellRenderer,P.ButtonCellRenderer,P.LinkCellRenderer,P.ShapeCellRenderer,P.SignalBarCellRenderer,P.Code39CellRenderer,P.Code128CellRenderer;var st=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var u=/\$\{[^{}]*\}/g,r=(Object.defineProperty(n.prototype,"template",{get:function(){return this._template},set:function(t){this._template=t,this.$_parse(t)},enumerable:!0,configurable:!0}),n.prototype.realize=function(t,e,i){for(var o="",r=0,n=this._tokens;r<n.length;r++){var s=n[r];"string"==typeof s?o+=s:1==s.type?o+=e.value:2==s.type?o+=e.item.getData(t.dataSource.getFieldIndex(s.field)):o+=i?i.call(this,t.getHandler(),e,s.field)||"":s.field}return o},n.prototype.realizeHeader=function(t,e){for(var i="",o=0,r=this._tokens;o<r.length;o++){var n=r[o];if("string"==typeof n)i+=n;else if(1==n.type)i+=t.displayText;else if(e)i+=(s=e.call(this,t.column.grid.getHandler(),t,n.field))||"";else{var s;i+=void 0!==(s=t.getValue(n.field))?s:n.field}}return i},n.prototype.realizeSummary=function(t,e,i){for(var o="",r=0,n=this._tokens;r<n.length;r++){var s=n[r];if("string"==typeof s)o+=s;else if(1==s.type)o+=e.text;else if(i)o+=(a=i.call(this,t.column.grid.getHandler(),t,s.field))||"";else{var a;o+=void 0!==(a=t.getValue(s.field))?a:s.field}}return o},n.prototype.$_parse=function(t){for(var e,i=this._tokens=[],o=t.length,r=0;e=u.exec(t);){var n=e[0],s=e.index;r<s&&(i.push(t.substring(r,s)),r=s);var a=n.substring(2,n.length-1),l={type:"value"==a?1:0==a.indexOf("value:")?2:3,field:a};2==l.type&&(l.field=l.field.substring(6)),i.push(l),r+=n.length}r<o&&i.push(t.substring(r,o))},n);function n(){this._template="",this._tokens=[]}e.HtmlTemplateParser=r;var s,a=(s=P.DataCellRenderer,i(l,s),l.prototype._doDispose=function(){s.prototype._doDispose.call(this)},Object.defineProperty(l.prototype,"template",{get:function(){return this._parser.template},set:function(t){t!=this._parser.template&&(this._parser.template=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"output",{get:function(){return this._output},set:function(t){this._output=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"callback",{get:function(){return this._callback},set:function(t){t!==this._callback&&(this._callback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"valueCallback",{get:function(){return this._valueCallback},set:function(t){t!==this._valueCallback&&(this._valueCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"type",{get:function(){return l.TYPE},enumerable:!0,configurable:!0}),l.prototype._doRenderCell=function(t,e,i,o,r){var n=this._callback;n?this.$_setHtml(n.call(this,t.getHandler(),e,o,r)):this.$_setHtml(this._parser.realize(t,e,this._valueCallback))},l.prototype.$_setHtml=function(t){t!=this._html&&(this._html=t,this._dom.innerHTML=t)},l.TYPE="html",l);function l(){var t=s.call(this)||this;return t._output=void 0,t._html="",t._parser=new r,t.template="<span>${value}</span>",t}e.TemplateCellRenderer=a});t(st);st.HtmlTemplateParser,st.TemplateCellRenderer;var at=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Error,i(s,r),s);function s(t){var e=r.call(this,t)||this;return Object.setPrototypeOf(e,s.prototype),e}e.AbortError=n;var a,p=(i(l,a=n),l.prototype.toString=function(){return"Validation failed["+this.level+"]: "+this.message},l);function l(t,e,i,o){var r=a.call(this,e)||this;return Object.setPrototypeOf(r,l.prototype),r.level=t,r.column=i,r.userMessage=o,r}e.ValidationError=p;var u,h=(u=ue.Base,i(c,u),Object.defineProperty(c.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"active",{get:function(){return this._active},set:function(t){this._active=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"level",{get:function(){return this._level},set:function(t){this._level=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"criteria",{get:function(){return this._criteria},set:function(t){t!=this._criteria&&(this._criteria=t,this._exprNode=t?q.ExpressionParser.Default.parse(t,c.CAPITAL_INDEXERS):null)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"message",{get:function(){return this._message},set:function(t){this._message=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"description",{get:function(){return this._description},set:function(t){this._description=t},enumerable:!0,configurable:!0}),c.prototype.validate=function(t){if(this._exprNode&&!this._exprNode.evaluate(t)){var e=this._message||this._description||this._name||this._criteria;throw new p(this._level,e,null,this._message)}},c.CAPITAL_INDEXERS=["value","values"],c);function c(t){var e=u.call(this)||this;return e._active=!0,e._mode=H.ValidationMode.ALWAYS,e._level=H.ValidationLevel.ERROR,e._name=t,e}e.EditValidation=h;var d,_=(d=ue.Base,i(f,d),f.prototype._doDispose=function(){this._items=null,d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"items",{get:function(){return this._items.slice()},set:function(t){this.assign(t)},enumerable:!0,configurable:!0}),f.prototype.assign=function(t){if(t!==this&&(this.clear(),t)){U.Utils.isArray(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++){var o=new h;o.assignFrom(t[e]),this._items.push(o)}}},f.prototype.clear=function(){this._items=[]},f.prototype.addAll=function(t){if(t&&0<t.length)for(var e=0,i=t.length;e<i;e++)this._items.push(t[e])},f.prototype.validate=function(t,e,i,o){for(var r=0;r<this._items.length;r++){var n=this._items[r];if(n.active&&(n.mode==t||n.mode==H.ValidationMode.ALWAYS))try{n.validate(e)}catch(t){if(!i||H.ValidationLevel_compare(n.level,o)<0)throw t instanceof p?(t.level=n.level,t):new p(n.level,t)}}},f);function f(){var t=d.call(this)||this;return t._items=[],t}e.EditValidationCollection=_;var y,m=(y=q.ExpressionRuntime,i(g,y),g.prototype._doDispose=function(){this._item=null,this._dataSource=null,y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"item",{get:function(){return this._item},set:function(t){this._item=t,this._dataSource=this._item.dataSource,this._fieldCount=this._dataSource?this._dataSource.fieldCount:0},enumerable:!0,configurable:!0}),g.prototype.isIdentifier=function(t){return t=t.toLowerCase(),g.IDENTS.hasOwnProperty(t)?g.IDENTS[t]:y.prototype.isIdentifier.call(this,t)},g.prototype.evaluateIdentifier=function(t){switch(t){case g.ID_ROW:return this._item.index;case g.ID_DATAROW:return this._item.dataRow;case g.ID_CHECKED:return this._item.checked}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},g.prototype.evaluateIndexerI=function(t,e){if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);switch(t){case g.ID_VALUE:case g.ID_VALUES:return this._item.getData(e)}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},g.prototype.evaluateIndexerS=function(t,e,i){var o=i?this._dataSource.getFieldIndexC(e):this._dataSource.getFieldIndex(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);switch(t){case g.ID_VALUE:case g.ID_VALUES:return this._item.getData(o)}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},g.IDENTS={row:g.ID_ROW=0,datarow:g.ID_DATAROW=1,checked:g.ID_CHECKED=2,value:g.ID_VALUE=3,values:g.ID_VALUES=4},g);function g(){var t=y.call(this)||this;return t._item=null,t._dataSource=null,t._fieldCount=0,t}e.DataRowValidationRuntime=m;var v,b=(v=q.ExpressionRuntime,i(C,v),C.prototype._doDispose=function(){this._index=null,this._dataSource=null,v.prototype._doDispose.call(this)},C.prototype.setIndex=function(t){this._index=t,this._value=this._index.item.getData(this._index.dataColumn.dataIndex),this._dataSource=this._index.item.dataSource},C.prototype.isIdentifier=function(t){return t=t.toLowerCase(),C.IDENTS.hasOwnProperty(t)?C.IDENTS[t]:v.prototype.isIdentifier.call(this,t)},C.prototype.evaluateIdentifier=function(t){switch(t){case C.ID_VALUE:return this._value;case C.ID_ROW:return this._index.itemIndex;case C.ID_DATAROW:return this._index.item.dataRow;case C.ID_INDEX:return this._index.column.index;case C.ID_FIELD:return this._index.dataColumn.dataIndex;case C.ID_CHECKED:var e=this._index.item;return!!e&&e.checked;case C.ID_TAG:return this._index.column.tag;case C.ID_BASE:var i=this._index.dataColumn.baseIndex;return 0<=i?this._index.item.getData(i):void 0}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},C.prototype.evaluateIndexerI=function(t,e){var i=this._dataSource.fieldCount;if(e<0||i<=e)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);switch(t){case C.ID_VALUE:case C.ID_VALUES:return this._index.item.getData(e)}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},C.prototype.evaluateIndexerS=function(t,e,i){var o=i?this._dataSource.getFieldIndexC(e):this._dataSource.getFieldIndex(e),r=this._dataSource.fieldCount;if(o<0||r<=o)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);switch(t){case C.ID_VALUE:case C.ID_VALUES:return this._index.item.getData(o)}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},C.IDENTS={value:C.ID_VALUE=0,row:C.ID_ROW=1,datarow:C.ID_DATAROW=2,index:C.ID_INDEX=3,field:C.ID_FIELD=4,checked:C.ID_CHECKED=5,tag:C.ID_TAG=6,base:C.ID_BASE=7,values:C.ID_VALUES=8},C);function C(){return v.call(this)||this}e.DataCellValidationRuntime=b;var w,x=(w=ue.Base,i(I,w),Object.defineProperty(I.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"hasRowValidation",{get:function(){return 0<this._owner.validations.count},enumerable:!0,configurable:!0}),I.prototype.validateCell=function(t,e){this.$_validateCell(t,e,!0,this._owner.editOptions.commitLevel)},I.prototype.validateRow=function(t,e,i){var o=this._owner.editOptions.commitLevel;if(!i)for(var r=this._owner.getDataColumns(),n=0,s=r.length;n<s;n++){var a=r[n],l=et.CellIndex.temp(this._owner,t.index,a);this.$_validateCell(l,e,!0,o)}var u=this._owner.validations;if(u&&0<u.count){var h=this._owner.rowValidationRuntime;h.item=t,u.validate(e?H.ValidationMode.INSERT:H.ValidationMode.UPDATE,h,!1,o)}},I.prototype.clearInvalidCellList=function(){this.$_clearInvalidateList()},I.prototype.addInvalidateCell=function(t,e){this.$_addInvalidateCell(t,e)},I.prototype.getInvalidCellList=function(){var t=[],e=this._cellList;for(var i in e){var o=e[i];for(var r in o){var n=o[r];t.push({column:n.column,dataRow:n.dataRow,message:n.message,level:n.level})}}return 0<t.length?t:null},I.prototype.checkValidateCells=function(t,e){var i=this._owner,o=i.getDataColumns(),r=[];if(null!=t)for(var n=0,s=t.length;n<s;n++)(l=i.getItem(t[n]))&&l.dataId&&-1<l.dataId&&(delete this._cellList[l.dataId],r.push(l));else{if(e)for(n=0,s=i.itemCount;n<s;n++)(l=i.getItem(n))&&l.dataId&&-1<l.dataId&&(delete this._cellList[l.dataId],r.push(l));else r=i.getAllItems();this._cellList={}}n=0;for(var a=r.length;n<a;n++){var l;if(!((l=r[n]).dataId<0)){var u=0;for(s=o.length;u<s;u++){var h=o[u],c=h.dataIndex,p=et.CellIndex.temp(i,l.index,h);try{this.$_validateCell(p,!1,!1,H.ValidationLevel.IGNORE),i._fireValidateCell(p,!1,l.getData(c))}catch(t){this.$_addInvalidateCell(p,t),this._userValidations=!0}}}}return i.refreshView(),this.getInvalidCellList()},I.prototype.clearInvalidateList=function(){this.$_clearInvalidateList()},I.prototype.$_validateCell=function(t,e,i,o){var r=t.dataColumn;if(r){var n=t.item.getData(r.dataIndex);if(r.required){var s=r.grid,a=s&&s.dataSource&&s.dataSource.getField(r.dataIndex);if(a&&a.isEmpty(n)){var l=r.requiredLevel||H.ValidationLevel.ERROR,u=r.requiredMessage||"Value is required: "+r.fieldName;throw new p(l,u,r,r.requiredMessage)}}var h=r.validations;if(h&&0<h.count){var c=this._owner.columnValidationRuntime;c.setIndex(t);try{h.validate(e?H.ValidationMode.INSERT:H.ValidationMode.UPDATE,c,i,o),this.$_clearInvalidateCell(t)}catch(t){throw t instanceof p&&(t.column=r),t}}}},I.prototype.$_addInvalidateCell=function(t,e){var i=t.dataId&&t.dataId,o=t.dataColumn&&t.dataColumn.dataIndex;if(!(null==i||o<=-1)){var r=this._cellList;(r[i]?r[i]:r[i]={})[o]={dataRow:t.dataRow,message:e.message,userMessage:e.userMessage,level:e.level,column:t.dataColumn.name}}},I.prototype.$_clearInvalidateCell=function(t){var e=t.dataId,i=t.dataColumn.dataIndex,o=this._cellList[e];o&&o[i]&&delete o[i]},I.prototype.$_clearInvalidateList=function(){this._cellList={},this._userValidations=!1,this._owner.refreshView()},I);function I(t){var e=w.call(this)||this;return e._userValidations=!1,e._cellList={},e._owner=t,e}e.ValidationManager=x});t(at);at.AbortError,at.ValidationError,at.EditValidation,at.EditValidationCollection,at.DataRowValidationRuntime,at.DataCellValidationRuntime,at.ValidationManager;var lt=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=/(.*)/,o=(r.getFormatter=function(t){var e=r.Formatters[t];return e||(r.Formatters[t]=e=new r(t)),e},Object.defineProperty(r.prototype,"format",{get:function(){return this._format},enumerable:!0,configurable:!0}),r.prototype.getText=function(t){return t&&t.replace(this._pattern,this._replace)},r.prototype.$_parse=function(t){if(t){var e=t.trim().split(U.Utils.colonreg);if(1<e.length){var i=e[0].trim(),o=e[1].trim();i&&o&&('"'==i.charAt(0)&&(i=i.substr(1,i.length-2)),i&&('"'==o.charAt(0)&&(o=i.substr(1,o.length-2)),o&&(this._pattern=new RegExp(i,e[2]||""),this._replace=o)))}}},r.Formatters={},r);function r(t){this._pattern=i,this._replace="$1",this.$_parse(this._format=t)}e.TextFormatter=o});t(lt);lt.TextFormatter;var ut=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=J.GridObject,i(s,r),s.prototype._dispose=function(){this._column=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"template",{get:function(){return this._template&&this._template.template},set:function(t){t!=this.template&&(t?(this.template||(this._template=new st.HtmlTemplateParser),this._template.template=t):this._template&&(this._template.template=void 0),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"values",{get:function(){return this._values},set:function(t){t!==this._values&&(t?Object.assign(this._values,t):this._values=null,this._changed())},enumerable:!0,configurable:!0}),s.prototype.getValue=function(t){return this._values&&this._values[t]},s.prototype.setValue=function(t,e){this._values||(this._values={}),this._values[t]!=e&&(this._values[t]=e,this._changed())},s);function s(t){var e=r.call(this,null)||this;return e._column=t,e}e.ColumnObject=n;var a=(l.prototype.clear=function(){return this.styleName=this.textFormat=this.datetimeFormat=this.numberFormat=this.booleanFormat=this.prefix=this.suffix=void 0,this},l.prototype.assign=function(t){return"string"==typeof t?this.styleName=t:t&&("styleName"in t&&(this.styleName=t.styleName),"textFormat"in t&&(this.textFormat=t.textFormat),"datetimeFormat"in t&&(this.datetimeFormat=t.datetimeFormat),"numberFormat"in t&&(this.numberFormat=t.numberFormat),"booleanFormat"in t&&(this.booleanFormat=t.booleanFormat),"prefix"in t&&(this.prefix=t.prefix),"suffix"in t&&(this.suffix=t.suffix)),this},l);function l(){}e.ColumnSummaryStyle=a;var u,h=(i(c,u=n),c.prototype._dispose=function(){u.prototype._doDispose.call(this)},Object.defineProperty(c.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"valueCallback",{get:function(){return this._valueCallback},set:function(t){t!==this._valueCallback&&(this._valueCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"expression",{get:function(){return this._expression},set:function(t){(t=t&&t.trim())!=this._expression&&(this._expression=t,this._exprNode=t?q.ExpressionParser.Default.parse(t):void 0,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"styleName",{get:function(){return this._styleName},set:function(t){t!=this._styleName&&(this._styleName=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"styleCallback",{get:function(){return this._styleCallback},set:function(t){t!=this._styleCallback&&(this._styleCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){t!=this._numberFormat&&(this._numberFormat=t,this._numberFormatter=t?z.DecimalFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&(this._datetimeFormat=t,this._datetimeWriter=t?$.DateTimeWriter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._boolFormatter=t?W.BooleanFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"textFormat",{get:function(){return this._textFormat},set:function(t){t!=this._textFormat&&(this._textFormat=t,this._textFormatter=t?lt.TextFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"prefix",{get:function(){return this._prefix},set:function(t){t!=this._prefix&&(this._prefix=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"suffix",{get:function(){return this._suffix},set:function(t){t!=this._suffix&&(this._suffix=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"textFormatter",{get:function(){return this._textFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"boolFormatter",{get:function(){return this._boolFormatter},enumerable:!0,configurable:!0}),c.prototype.evaluate=function(t,e){if(this._exprNode)return this._exprNode instanceof Array?void 0!==e&&this._exprNode[e]?this._exprNode[e].evaluate(t):void 0:this._exprNode.evaluate(t)},c.prototype.realizeTemplate=function(t){var e=this._template;return e?e.realizeSummary(this,t,null):void 0},c.prototype.assignSimple=function(t){return"string"==typeof t&&(this.expression=t,!0)},c.prototype._doChanged=function(){},c);function c(t){var e=u.call(this,t)||this;return e._index=0,e}e.ColumnSummary=h;var p,d=(i(_,p=h),_.prototype._doChanged=function(){this.column._headerSummaryChanged()},_);function _(t){return p.call(this,t)||this}e.ColumnHeaderSummary=d;var f,y=(f=ue.Base,i(m,f),Object.defineProperty(m.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),m.prototype.get=function(t){return this._items[t]},m.prototype.assignFrom=function(t){if(U.Utils.isArray(t)){for(var e=t.length;this._items.length<e;)this._items.push(null);1<e&&this._items.length>e&&(this._items.length=e),0<e&&this._items[0].assignFrom(t[0]);for(var i=1;i<e;i++)t[i]?(this._items[i]||(this._items[i]=new d(this._column)),this._items[i].assignFrom(t[i])):this._items[i]=null}else this._items[0].assignFrom(t)},m);function m(t){var e=f.call(this)||this;return e._items=[],e._column=t,e._items.push(new d(t)),e}e.ColumnHeaderSummaryCollection=y;var g,v=(i(b,g=n),b.prototype._doDispose=function(){g.prototype._doDispose.call(this)},Object.defineProperty(b.prototype,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"itemOffset",{get:function(){return this._itemOffset},set:function(t){t!=this._itemOffset&&(this._itemOffset=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"itemGap",{get:function(){return this._itemGap},set:function(t){t!=this._itemGap&&(this._itemGap=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"imageIndex",{get:function(){return this._imageIndex},set:function(t){t!=this._imageIndex&&(this._imageIndex=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(t){t!=this._imageUrl&&(this._imageUrl=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"checkLocation",{get:function(){return this._checkLocation},set:function(t){t!=this._checkLocation&&(this._checkLocation=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"imageLocation",{get:function(){return this._imageLocation},set:function(t){t!=this._imageLocation&&(this._imageLocation=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"clickBehavior",{get:function(){return this._clickBehavior},set:function(t){t!=this._clickBehavior&&(this._clickBehavior=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(t){t!=this._showTooltip&&(this._showTooltip=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){t!=this._tooltip&&(this._tooltip=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fixedHeight",{get:function(){return this._fixedHeight},set:function(t){t!=this._fixedHeight&&(this._fixedHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"displayText",{get:function(){var t=this.column,e=this._text;if(!e&&t instanceof A){var i=t.getField();e=i?i.header||i.orgFieldName:t.fieldName}return e=e||t.name},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"popupMenu",{get:function(){return this._popupMenu},set:function(t){t!=this._popupMenu&&(this._popupMenu=t,this._popupMenuName="string"==typeof t?t:null)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"popupMenuName",{get:function(){if(this._popupMenuName)return this._popupMenuName;if(this._popupMenu){this._popupMenuName="$$_column_header_menu"+this.$_hash;var t=this.column.grid;return t&&t.addPopupMenu(this._popupMenuName,this._popupMenu,!0),t&&this._popupMenuName}return null},enumerable:!0,configurable:!0}),b.prototype.realizeTemplate=function(){var t=this._template;return t?t.realizeHeader(this,null):void 0},b.prototype._doChanged=function(){this.column&&this.column._headerChanged()},b);function b(t){var e=g.call(this,t)||this;return e._imageIndex=-1,e._checkLocation=H.ColumnHeaderItemLocation.NONE,e._imageLocation=H.ColumnHeaderItemLocation.NONE,e._clickBehavior=H.ClickBehavior.NONE,e._showTooltip=!0,e._fixedHeight=0,e._popupChanged=!1,e}e.ColumnHeader=v;var C,w=(i(x,C=h),x.prototype._doChanged=function(){this.column._footerChanged()},x);function x(t){return C.call(this,t)||this}e.ColumnFooter=w;var I,E=(I=ue.Base,i(S,I),Object.defineProperty(S.prototype,"column",{get:function(){return this._column},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),S.prototype.getItem=function(t){return this._items[t]},S.prototype.assignFrom=function(t){if(U.Utils.isArray(t)){for(var e=t.length;this._items.length<e;)this._items.push(null);1<e&&this._items.length>e&&(this._items.length=e),0<e&&this._items[0].assignFrom(t[0]);for(var i=1;i<e;i++)t[i]?(this._items[i]||(this._items[i]=new w(this._column)),this._items[i].assignFrom(t[i])):this._items[i]=null}else this._items[0].assignFrom(t)},S);function S(t){var e=I.call(this)||this;return e._items=[],e._column=t,e._items.push(new w(t)),e}e.ColumnFooterCollection=E;var O=(R.getEditorType=function(t){return"string"==typeof t?t:t?t.type:"text"},R.prototype.clear=function(){return this.styleName=this.renderer=this.editable=this.editor=this.readonly=this.textFormat=this.datetimeFormat=this.numberFormat=this.booleanFormat=this.prefix=this.suffix=void 0,this},R.prototype.assign=function(t){return"string"==typeof t?this.styleName=t:t&&("styleName"in t&&(this.styleName=t.styleName),"renderer"in t&&(this.renderer=t.renderer),"editor"in t&&(this.editor=t.editor),"editable"in t&&(this.editable=t.editable),"readonly"in t&&(this.readonly=t.readonly),"textFormat"in t&&(this.textFormat=t.textFormat),"datetimeFormat"in t&&(this.datetimeFormat=t.datetimeFormat),"numberFormat"in t&&(this.numberFormat=t.numberFormat),"booleanFormat"in t&&(this.booleanFormat=t.booleanFormat),"prefix"in t&&(this.prefix=t.prefix),"suffix"in t&&(this.suffix=t.suffix)),this},R);function R(){}e.ColumnStyle=O;var D,P=(D=ue.Base,i(T,D),T.compareLoc=function(t,e){return null==t||null==e?0:null==t?-1:null==e?1:t.index-e.index},T.prototype._doDispose=function(){this._layout=null,this._header=this._header&&this._header.dispose(),this._footers=this._footers&&this._footers.dispose(),this._headerSummaries=this._headerSummaries&&this._headerSummaries.dispose(),this._groupFooters=this._groupFooters&&this._groupFooters.dispose(),D.prototype._doDispose.call(this)},Object.defineProperty(T.prototype,"name",{get:function(){return this._name},set:function(t){t!=this._name&&(this._name=t,this._changed())},enumerable:!0,configurable:!0}),T.prototype._layoutChanged=function(){this._changed(),this._layout&&this._layout._changed()},Object.defineProperty(T.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&(this._visible=t,this._layout&&this._layoutChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"width",{get:function(){return this._width},set:function(t){t=Math.max(0,t),isNaN(t)||t==this._width||(this._width=t,this._layoutChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"resizable",{get:function(){return this._resizable},set:function(t){t!=this._resizable&&(this._resizable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"movable",{get:function(){return this._movable},set:function(t){t!=this._movable&&(this._movable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"checked",{get:function(){return this._checked},set:function(t){t!=this._checked&&(this._checked=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),T.prototype.setHeader=function(t){this._header.assignSimple(t)},Object.defineProperty(T.prototype,"footers",{get:function(){return this._footers},enumerable:!0,configurable:!0}),T.prototype.setFooters=function(t){this._footers.assignFrom(t)},Object.defineProperty(T.prototype,"footer",{get:function(){return this._footers.getItem(0)},enumerable:!0,configurable:!0}),T.prototype.setFooter=function(t){var e=this._footers.getItem(0);e&&e.assignFrom(t)},Object.defineProperty(T.prototype,"headerSummaries",{get:function(){return this._headerSummaries},enumerable:!0,configurable:!0}),T.prototype.setHeaderSummaries=function(t){this._headerSummaries.assignFrom(t)},Object.defineProperty(T.prototype,"headerSummary",{get:function(){return this._headerSummaries.get(0)},enumerable:!0,configurable:!0}),T.prototype.setHeaderSummary=function(t){var e=this._headerSummaries.get(0);e&&e.assignFrom(t)},Object.defineProperty(T.prototype,"groupFooters",{get:function(){return this._groupFooters},enumerable:!0,configurable:!0}),T.prototype.setGroupFooters=function(t){this._groupFooters.assignFrom(t)},Object.defineProperty(T.prototype,"groupFooter",{get:function(){return this._groupFooters.getItem(0)},enumerable:!0,configurable:!0}),T.prototype.setGroupFooter=function(t){var e=this._groupFooters.getItem(0);e&&e.assignFrom(t)},Object.defineProperty(T.prototype,"grid",{get:function(){return this._layout?this._layout.grid:this.$_owner?this.$_owner.owner:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"tag",{get:function(){return this._tag},set:function(t){this._tag=t},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"displayText",{get:function(){return this._header.text||this._name||"col_"+this._index},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"dataRoot",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),T.prototype.clean=function(){this._dirty=!1},T.prototype.isWritable=function(){return!1},T.prototype.stateFor=function(t){return this._states[t]},T.prototype.setState=function(t,e){this._states[t]=e},T.prototype.assignFrom=function(t){D.prototype.assignFrom.call(this,t),this._header.assignFrom(t.header),this._footers.assignFrom(t.footers||t.footer),this._headerSummaries.assignFrom(t.summaries||t.summary),this._groupFooters.assignFrom(t.groupFooters||t.groupFooter)},T.prototype.toString=function(){return this.displayText},T.prototype._prepareLayout=function(t,e){},T.prototype._changed=function(){if(!this._dirty){this._dirty=!0;var t=this.grid;t&&t.invalidateColumn(this)}},T.prototype.$_setIndex=function(t){this._index=t},T.prototype._headerChanged=function(){},T.prototype._headerSummaryChanged=function(){},T.prototype._footerChanged=function(){},T.prototype._resetIndices=function(t){},T);function T(t){var e=D.call(this)||this;return e._visible=!0,e._width=100,e._resizable=!0,e._movable=!0,e._checked=!1,e._dirty=!1,e._index=-1,e._states={},e._header=new v(e),e._footers=new E(e),e._headerSummaries=new y(e),e._groupFooters=new E(e),t&&e.assignFrom(t),e}e.GridColumn=P;var k,M=(i(L,k=P),L.prototype._doDispose=function(){this._popupMenu=null,this._popupMenuName=null,k.prototype._doDispose.call(this)},Object.defineProperty(L.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){t!=this._numberFormat&&(this._numberFormat=t,this._numberFormatter=t?z.DecimalFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&(this._datetimeFormat=t,this._datetimeWriter=t?$.DateTimeWriter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._boolFormatter=t?W.BooleanFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"textFormat",{get:function(){return this._textFormat},set:function(t){t!=this._textFormat&&(this._textFormat=t,this._textFormatter=t?lt.TextFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"prefix",{get:function(){return this._prefix},set:function(t){t!=this._prefix&&(this._prefix=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"suffix",{get:function(){return this._suffix},set:function(t){t!=this._suffix&&(this._suffix=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"blankWhenCopy",{get:function(){return this._blankWhenCopy},set:function(t){t!=this._blankWhenCopy&&(this._blankWhenCopy=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"blankWhenExport",{get:function(){return this._blankWhenExport},set:function(t){t!=this._blankWhenExport&&(this._blankWhenExport=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"ignoreDefaultDynamicStyles",{get:function(){return this._ignoreDefaultDynamicStyles},set:function(t){t!=this._ignoreDefaultDynamicStyles&&(this._ignoreDefaultDynamicStyles=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"textInputCase",{get:function(){return this._textInputCase},set:function(t){t!=this._textInputCase&&(this._textInputCase=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"styleName",{get:function(){return this._styleName},set:function(t){t!=this._styleName&&(this._styleName=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"styleCallback",{get:function(){return this._styleCallback},set:function(t){t!=this._styleCallback&&(this._styleCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"renderer",{get:function(){return this._renderer},set:function(t){this._renderer=t,this.grid&&this.grid.$_rendererChanged(this._layout),this._changed()},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"editor",{get:function(){return this._editor},set:function(t){this._editor=t},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"button",{get:function(){return this._button},set:function(t){t!=this._button&&(this._button=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"buttonVisiblility",{get:function(){return this._buttonVisiblility},set:function(t){t!=this._buttonVisiblility&&(this._buttonVisiblility=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"editButtonVisibility",{get:function(){return this._editButtonVisibility},set:function(t){t!=this._editButtonVisibility&&(this._editButtonVisibility=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"textFormatter",{get:function(){return this._textFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"boolFormatter",{get:function(){return this._boolFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"popupMenu",{get:function(){return this._popupMenu},set:function(t){t!=this._popupMenu&&(this._popupMenu=t,this._popupMenuName="string"==typeof t?t:null)},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"popupMenuName",{get:function(){return this._popupMenuName?this._popupMenuName:this._popupMenu?(this._popupMenuName="$$_column_popup_menu"+this.$_hash,this.grid.addPopupMenu(this._popupMenuName,this._popupMenu,!0),this.grid&&this._popupMenuName):null},enumerable:!0,configurable:!0}),L.prototype.getCellStyle=function(t){return this._styleCallback&&this._styleCallback(this.grid,t)},L.prototype.affix=function(t){return this._prefix&&(t=this._prefix+t),this._suffix&&(t+=this._suffix),t},L.prototype._prepareLayout=function(t,e){k.prototype._prepareLayout.call(this,t,e)},L);function L(t){var e=k.call(this,t)||this;return e._blankWhenCopy=!1,e._blankWhenExport=!1,e._ignoreDefaultDynamicStyles=!1,e._textInputCase=H.TextInputCase.NORMAL,e._button=H.CellButton.NONE,e._buttonVisiblility=H.ButtonVisibility.DEFAULT,e._editButtonVisibility=H.ButtonVisibility.DEFAULT,e}e.ValueColumn=M;var F,A=(i(V,F=M),V.prototype._doDispose=function(){this._filters&&this._filters.dispose(),this._filters=null,F.prototype._doDispose.call(this)},Object.defineProperty(V.prototype,"fieldIndex",{get:function(){return this._fieldIndex},set:function(t){(t=Math.max(-1,t))!=this._fieldIndex&&(this._fieldIndex=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"fieldName",{get:function(){return this._fieldName},set:function(t){t!=this._fieldName&&(this._fieldName=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"editable",{get:function(){return this._editable},set:function(t){t!=this._editable&&(this._editable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"nanText",{get:function(){return this._nanText},set:function(t){t!=this._nanText&&(this._nanText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"zeroText",{get:function(){return this._zeroText},set:function(t){t!=this._zeroText&&(this._zeroText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"defaultValue",{get:function(){return this._defaultValue},set:function(t){this._defaultValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"valueSeparator",{get:function(){return this._valueSeparator},set:function(t){t!=this._valueSeparator&&(this._valueSeparator=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"mergeRule",{get:function(){return this._mergeRule},set:function(t){t!=this._mergeRule&&(this._mergeRule=t,this._mergeRuleObj=t?tt.ColumnMergeRule.createRule(t):null,this._layoutChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"breakMergeOnEmpty",{get:function(){return this._breakMergeOnEmpty},set:function(t){t!=this._breakMergeOnEmpty&&(this._breakMergeOnEmpty=t,this._layoutChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"equalBlank",{get:function(){return this._equalBlank},set:function(t){t!=this._equalBlank&&(this._equalBlank=t,this._layoutChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"equalBlankExpression",{get:function(){return this._equalBlankExpression},set:function(t){t!=this._equalBlankExpression&&(this._equalBlankExpression=t,this._equalBlankNode=t?q.ExpressionParser.Default.parse(t,null):void 0,this._layoutChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"excelFormat",{get:function(){return this._excelFormat},set:function(t){t!=this._excelFormat&&(this._excelFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"excelFormulaStatement",{get:function(){return this._excelFormulaStatement},set:function(t){t!=this._excelFormulaStatement&&((this._excelFormulaStatement=t)?this._excelFormulaExprStatement?this._excelFormulaExprStatement.source=t:this._excelFormulaExprStatement=new K.ExpressionStatement(t):this._excelFormulaExprStatement=null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"dataIndex",{get:function(){return this._dataIndex},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"baseIndex",{get:function(){return this._baseIndex},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"valueType",{get:function(){return this._valueType},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"groupLevel",{get:function(){return this._groupLevel},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"values",{get:function(){return this._values},set:function(t){t!=this._values&&(this._values=t&&t.slice(),this._lookupMap=null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=t&&t.slice(),this._lookupMap=null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"lookupDisplay",{get:function(){return this._lookupDisplay},set:function(t){this._lookupDisplay!=t&&(this._lookupDisplay=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"lookupSource",{get:function(){return this._lookupSource},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"lookupSourceId",{get:function(){return this._lookupSourceId},set:function(t){this._lookupSourceId!=t&&(this._lookupSourceId=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"lookupKeyFields",{get:function(){return this._lookupKeyFields},set:function(t){t!=this._lookupKeyFields&&(this._lookupKeyFields=U.Utils.makeArray(t).slice(),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"lookupKeyFieldIds",{get:function(){return this._lookupKeyFieldIds},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"labelField",{get:function(){return this._labelField},set:function(t){this._labelField!=t&&(this._labelField=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"textOfInvalid",{get:function(){return this._textOfInvalid},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"textOfInValid",{set:function(t){this._textOfInvalid!=t&&(this._textOfInvalid=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"labelFieldIndex",{get:function(){return this._labelFieldIndex},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"displayCallback",{get:function(){return this._displayCallback},set:function(t){this._displayCallback!==t&&(this._displayCallback=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"displayRegExp",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"displayReplace",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"mergeGrouped",{get:function(){return this._mergeGrouped},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"sortable",{get:function(){return this._sortable},set:function(t){t!=this._sortable&&(this._sortable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"sortOrder",{get:function(){return this._sortOrder},set:function(t){this._sortOrder=t},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"sortDirection",{get:function(){return this._sortDirection},set:function(t){this._sortDirection=t},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"filterable",{get:function(){return this._filterable},set:function(t){t!=this._filterable&&(this._filterable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"autoFilter",{get:function(){return this._autoFilter},set:function(t){this._autoFilter=t},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"required",{get:function(){return this._required},set:function(t){t!=this._required&&(this._required=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"requiredMessage",{get:function(){return this._requiredMessage},set:function(t){t!=this._requiredMessage&&(this._requiredMessage=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"requiredLevel",{get:function(){return this._requiredLevel},set:function(t){t!=this._requiredLevel&&(this._requiredLevel=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"validations",{get:function(){return this._validations},set:function(t){this._validations.assign(t)},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"error",{get:function(){return this._error},set:function(t){(t=this._error)&&(this._error=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(V.prototype,"errorLevel",{get:function(){return this._errorLevel},set:function(t){(t=this._errorLevel)&&(this._errorLevel=t,this._changed())},enumerable:!0,configurable:!0}),V.prototype.getField=function(){var t=this._dataIndex;if(0<=t){var e=this.grid.dataSource;if(e)return e.getField(t)}return null},V.prototype.setLookupData=function(t){var e,i,o,r,n={};if(this._lookupData=t){U.Utils.isArray(t)?n.list=t:n=t,this._labels=[],this._values=[],this._lookupMap=null,e=n.hasOwnProperty("value")?n.value:"value",i=n.hasOwnProperty("label")?n.label:"label";for(var s=0,a=n.list.length;s<a;s++)null!=(r=null!=(o=n.list[s])[e]?o[e]:o.code)&&this._values.push(null!=o[e]?o[e]:o.code),null!=r&&this._labels.push(null!=o[i]?o[i]:null!=o.text?o.text:r)}else this._labels=null,this._values=null,this._lookupMap=null;this._changed()},V.prototype.getLookupLabel=function(t){if(!this._lookupMap){var e=this._values,i=this._labels;if(e&&0<e.length){this._lookupMap={};for(var o=0;o<e.length;o++)i&&i.length>o?this._lookupMap[e[o]]=i[o]:this._lookupMap[e[o]]=e[o]}}var r;if(t&&this._valueSeparator){for(var n=t.split(this._valueSeparator),s=[],a=(o=0,n.length);o<a;o++)s.push(this._lookupMap&&this._lookupMap[n[o]]?this._lookupMap[n[o]]:n[o]);if(s.length<=0)return"";r=s.join(this._valueSeparator)}else r=this._lookupMap?this._lookupMap[t]:void 0;return r||(null!=this.textOfInvalid?this.textOfInvalid:t)},V.prototype.getLookupIndex=function(t){if(this._values&&0<this._values.length)for(var e=0,i=this._values.length;e<i;e++)if(this._values[e]==t)return e;return-1},V.prototype.getLookupIndices=function(t){var e=[];if(t&&this._values&&0<this._values.length)for(var i=U.Utils.isArray(t)?t:String(t).split(this._valueSeparator),o=0,r=i.length;o<r;o++)0<=this._values.indexOf(i[o])&&e.push(this._values.indexOf(i[o]));return e},V.prototype.getLookupValue=function(t){if(this._values&&0<this._values.length)return this._values[t]},V.prototype.getLookupValues=function(t){var e=[];if(this._values&&0<this._values.length)for(var i=0,o=t.length;i<o;i++)0<=t[i]&&t[i]<this._values.length&&e.push(this._values[t[i]]);return e},V.prototype.getSourceValue=function(t){var e=this._values,i=this._labels;if(i&&e){var o=i.indexOf(t);if(0<=o&&e.length>o)return e[o];if(0<=(o=e.indexOf(t)))return e[o]}},V.prototype.getSourceValues=function(t){var e=this._values,i=this._labels;if(i&&e){for(var o=void 0,r=[],n=this._valueSeparator,s=0,a=(t=U.Utils.isArray(t)?t:n&&t?String(t).split(n):U.Utils.makeArray(t)).length;s<a;s++)0<=(o=i.indexOf(t[s]))&&e.length>o?r.push(e[o]):r.push(t[s]);if(0<r.length&&n)return r.join(n);if(0<r.length)return r.join()}},V.prototype.clearFilters=function(){this.setFilters(null)},V.prototype.addFilters=function(t,e){if(void 0===e&&(e=!1),t){var i=this.grid;i&&!i.canFiltering()||this._filters.addAll(U.Utils.makeArray(t),e)}},V.prototype.removeFilters=function(t){if(t){var e=this.grid;e&&!e.canFiltering()||this._filters.removeItems(U.Utils.makeArray(t))}},V.prototype.activateFilters=function(t,e){if(t){var i=this.grid;i&&!i.canFiltering()||this._filters.activateItems(U.Utils.makeArray(t),e)}},V.prototype.activateAllFilters=function(t){var e=this.grid;e&&!e.canFiltering()||this._filters.activateAll(t)},V.prototype.hideColumnFilters=function(t,e){this._filters.hideFilters(U.Utils.makeArray(t),e)},V.prototype.hideAllColumnFilters=function(t){this._filters.hideAllFilters(t)},V.prototype.toggleFilters=function(t){if(t){var e=this.grid;e&&!e.canFiltering()||this._filters.toggleItems(U.Utils.makeArray(t))}},V.prototype.toggleAllFilters=function(){var t=this.grid;t&&!t.canFiltering()||this._filters.toggleAll()},V.prototype.getFilter=function(t){var e=this._filters.indexOf(t);return this._filters.getItem(e)},V.prototype.getActiveFilters=function(t){return this._filters.getActiveItems(t)},V.prototype.getFilters=function(){return this._filters.items},Object.defineProperty(V.prototype,"hasFilters",{get:function(){return this._autoFilter||0<this._filters.count},enumerable:!0,configurable:!0}),V.prototype.isFiltered=function(){return 0<this._filters.activeCount},V.prototype.setFilters=function(t){var e=this.grid;e&&!e.canFiltering()||this._filters.assignFrom(t)},V.prototype.onColumnFilterChanged=function(t,e){var i=this.grid;i&&i.columnFilterChanged(t,e)},V.prototype._prepareLayout=function(t,e){F.prototype._prepareLayout.call(this,t,e)},V.prototype._resetIndices=function(t){this._dataIndex=-1,this._baseIndex=-1;var e=t.dataSource;if(e)if(this._fieldName?this._dataIndex=e.getFieldIndex(this._fieldName):this._dataIndex=this._fieldIndex,0<=this._dataIndex&&(e.getField(this._dataIndex),this._baseIndex=e.getBaseField(this._dataIndex),this._valueType=e.getValueType(this._dataIndex)),this._labelFieldIndex=e.getFieldIndex(this._labelField),this._lookupKeyFields&&0<this._lookupKeyFields.length&&this._lookupSourceId){for(var i=this._lookupKeyFields.length,o=this._lookupKeyFieldIds=new Array(i),r=0;r<i;r++)o[r]=e.getFieldIndex(this._lookupKeyFields[r]);this._lookupSource=t.lookupProvider.getSource(this._lookupSourceId)}else this._lookupSource=null,this._lookupKeyFieldIds=[]},V.prototype.isWritable=function(){var t=this._editable&&!this._readOnly;if(t&&this.$_grid){var e=this.layout;t=!e.$_fixed||!e.$_rfixed||this.$_grid.$_fixedColEditable}return t},V.prototype.assignFrom=function(t){F.prototype.assignFrom.call(this,t)},V.prototype.$_setMergeGrouped=function(t){this._mergeGrouped=t},V.prototype.$_setGroupLevel=function(t){this._groupLevel=t},V.prototype._changed=function(){F.prototype._changed.call(this)},V.CAPITAL_INDEXERS=["value","values"],V);function V(t){var e=F.call(this)||this;return e._fieldIndex=-1,e._editable=!0,e._readOnly=!1,e._breakMergeOnEmpty=!1,e._equalBlank=!1,e._values=null,e._labels=null,e._lookupDisplay=!1,e._lookupSource=null,e._lookupKeyFields=null,e._lookupKeyFieldIds=null,e._mergeGrouped=!1,e._sortable=!0,e._sortOrder=-1,e._filterable=!0,e._autoFilter=!1,e._lookupData=null,e._required=!1,e._requiredLevel=H.ValidationLevel.ERROR,e._validations=new at.EditValidationCollection,e._errorLevel=H.ValidationLevel.IGNORE,e._dataIndex=-1,e._baseIndex=-1,e._valueType=H.ValueType.TEXT,e._groupLevel=-1,e._labelFieldIndex=-1,e._filters=new X.ColumnFilterCollection(e),e._filters.addListener(e),t&&e.assignFrom(t),e}e.DataColumn=A;var N,j=(i(B,N=M),B.prototype._doDispose=function(){N.prototype._doDispose.call(this)},Object.defineProperty(B.prototype,"fieldNames",{get:function(){return this._fieldNames},set:function(t){t!=this._fieldNames&&(this._fieldNames=t,this._fieldArray=t?t.split(","):[],this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(B.prototype,"fields",{get:function(){return this._fields},enumerable:!0,configurable:!0}),B.prototype._resetIndices=function(t){this._fields=[];var e=t.dataSource;if(e)for(var i=0,o=this._fieldArray.length;i<o;i++){var r=this._fieldArray[i],n=r.split("..");if(1<n.length){var s=e.getFieldIndex(n[0]),a=e.getFieldIndex(n[1]);if(0<=s&&0<=a)for(var l=Math.min(s,a),u=Math.max(s,a),h=l;h<=u;h++)this._fields.push(h)}else 0<=(h=e.getFieldIndex(r))&&this._fields.push(h)}},B);function B(t){var e=N.call(this,t)||this;return e._fieldArray=e._fieldArray||[],e._fields=e._fields||[],t&&e.assignFrom(t),e}e.SeriesColumn=j});t(ut);ut.ColumnObject,ut.ColumnSummaryStyle,ut.ColumnSummary,ut.ColumnHeaderSummary,ut.ColumnHeaderSummaryCollection,ut.ColumnHeader,ut.ColumnFooter,ut.ColumnFooterCollection,ut.ColumnStyle,ut.GridColumn,ut.ValueColumn,ut.DataColumn,ut.SeriesColumn;var T=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s);function s(t){var e=r.call(this)||this;return e.allFields=!0,e.caseSensitive=!1,e.partialMatch=!1,e.regularExpression=!1,t&&e.extend(t),e}e.SearchOptions=n;var a,l=(a=ue.Base,i(u,a),u);function u(t){var e=a.call(this)||this;return e.fields=null,e.caseSensitive=!1,e.partialMatch=!1,e.regularExpression=!1,e.columns=null,t&&e.extend(t),e}e.SearchCellOptions=l});t(T);T.SearchOptions,T.SearchCellOptions;var h=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=b.EditCommand,i(s,r),s.prototype._doDispose=function(){this._ds=null,this._save=null,r.prototype._doDispose.call(this)},s.prototype.redo=function(t){return t?this._doRedo(this._ds,this._save):this._save=this._doRun(this._ds),this._save.result},s.prototype.undo=function(){this._doUndo(this._ds,this._save)},s.prototype._cloneRow=function(t){if(U.Utils.isArray(t))return t.slice();if(t){var e={};for(var i in t)e[i]=t[i];return e}},s.prototype._cloneValues=function(t){if(t){for(var e=[],i=0;i<t.length;i++){var o=t[i];if(U.Utils.isArray(o))e.push(o.slice());else if(o){var r={};for(var n in o)r[n]=o[n];e.push(r)}}return e}return null},s);function s(t){var e=r.call(this)||this;return e._ds=t,e}e.DataEditCommand=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},u);function u(t){return a.call(this,t)||this}e.LocalDataEditCommand=l;var h,c=(h=b.EditCommandStack,i(p,h),p);function p(){return null!==h&&h.apply(this,arguments)||this}e.LocalDataCommandStack=c});t(h);h.DataEditCommand,h.LocalDataEditCommand,h.LocalDataCommandStack;var l=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=h.LocalDataEditCommand,i(s,n),s.prototype._doRun=function(t){var e={};return e.row=t._keepRow(this._row),(e.result=t.$_setValue(this._row,this._field,this._value))&&(this._newState=t.getRowState(this._row)),e},s.prototype._doRedo=function(t,e){t.$_setValue(this._row,this._field,this._value)},s.prototype._doUndo=function(t,e){t._yieldRow(this._row,e.row),e.row.state!=this._newState&&t.fireRowStateChanged(this._row),t.fireValueChanged(this._row,this._field)},s);function s(t,e,i,o){var r=n.call(this,t)||this;return r._row=e,r._field=i,r._value=o,r}e.SetValueDataCommand=r});t(l);l.SetValueDataCommand;var u=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=h.LocalDataEditCommand,i(s,n),s.prototype._doDispose=function(){this._values=null,n.prototype._doDispose.call(this)},s.prototype._doRun=function(t){var e={};return e.row=t._keepRow(this._row),(e.result=t.$_updateRow(this._row,this._values,this._strict))&&(this._newState=t.getRowState(this._row)),e},s.prototype._doRedo=function(t,e){t.$_updateRow(this._row,this._values,this._strict)},s.prototype._doUndo=function(t,e){t._yieldRow(this._row,e.row),e.row.state!=this._newState&&t.fireRowStateChanged(this._row),t.fireRowUpdated(this._row)},s);function s(t,e,i,o){var r=n.call(this,t)||this;return r._row=e,r._values=r._cloneRow(i),r._strict=o,r}e.UpdateRowDataCommand=r});t(u);u.UpdateRowDataCommand;var c=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=h.LocalDataEditCommand,i(s,r),s.prototype._doRun=function(t){var e={};return e.result=t.$_insertRow(this._row,this._values),e},s.prototype._doRedo=function(t,e){t.$_insertRow(this._row,this._values)},s.prototype._doUndo=function(t,e){t.$_deleteRow(this._row)},s);function s(t,e,i){var o=r.call(this,t)||this;return o._row=e,o._values=i.slice(),o}e.InsertRowDataCommand=n});t(c);c.InsertRowDataCommand;var p=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=h.LocalDataEditCommand,i(s,r),s.prototype._doRun=function(t){var e={};return e.row=t._keepRow(this._row),e.result=t.$_deleteRow(this._row),e},s.prototype._doRedo=function(t,e){t.$_deleteRow(this._row)},s.prototype._doUndo=function(t,e){t.$_insertRow(this._row,e.row.values),t._yieldStates(this._row,e.row),t._yieldCommandStates(this._row,e.row.outer)},s);function s(t,e){var i=r.call(this,t)||this;return i._row=e,i}e.RemoveRowDataCommand=n});t(p);p.RemoveRowDataCommand;var _=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=h.LocalDataEditCommand,i(s,n),s.prototype._doRun=function(t){var e={};return e.row=t._keepStates(this._row),t.$_setRowState(this._row,this._state,this._force),e},s.prototype._doRedo=function(t,e){t.$_setRowState(this._row,this._state,this._force)},s.prototype._doUndo=function(t,e){t._yieldState(this._row,e.row),e.row.state!=this._state&&t.fireRowStateChanged(this._row)},s);function s(t,e,i,o){var r=n.call(this,t)||this;return r._row=e,r._state=i,r._force=o,r}e.SetRowStateDataCommand=r});t(_);_.SetRowStateDataCommand;var k=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=h.LocalDataEditCommand,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype._doRun=function(t){var e={};return e.state=t._keepState(this._row),t.$_changeRowState(this._row,this._state,!0,!0,!0),e},s.prototype._doRedo=function(t,e){t.$_changeRowState(this._row,this._state,!0,!0,!0)},s.prototype._doUndo=function(t,e){t._yieldState(this._row,e.state),e.state!=this._state&&t.fireRowStateChanged(this._row)},s);function s(t,e,i){var o=r.call(this,t)||this;return o._row=e,o._state=i,o}e.ChangeRowStateDataCommand=n});t(k);k.ChangeRowStateDataCommand;var M=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=h.LocalDataEditCommand,i(s,r),s.prototype._doRun=function(t){var e={rows:[]};e.orgValues=t._keepOrgValues();var i=t.$_clearRowStates(this._deleteRows,this._rowEvents,!0);return e.rows=i.rows,e.states=i.states,e.values=i.values,e},s.prototype._doRedo=function(t,e){t.$_clearRowStates(this._deleteRows,this._rowEvents,!1)},s.prototype._doUndo=function(t,e){var i=e.rows,o=e.values,r=e.states;if(o)for(var n=0;n<i.length;n++)t.$_internalInsertRow(n,o[n],e.row,!0);if(r)for(n=0;n<r.length;n++)r[n]&&t._yieldState(n,r[n]);t._yieldOrgValues(e.rows),0<i.length&&t._fireRefresh()},s);function s(t,e,i){var o=r.call(this,t)||this;return o._deleteRows=e,o._rowEvents=i,o}e.ClearRowStatesDataCommand=n});t(M);M.ClearRowStatesDataCommand;var F=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var l,r=(l=h.LocalDataEditCommand,i(n,l),n.prototype._doDispose=function(){this._values=null,l.prototype._doDispose.call(this)},n.prototype._doRun=function(t){var e={};return t.$_updateRows(this._row,this._values,this._start,this._count,this._strict,this._rowEvents,e),e},n.prototype._doRedo=function(t,e){t.$_updateRows(this._row,this._values,this._start,this._count,this._strict,this._rowEvents,null)},n.prototype._doUndo=function(t,e){var i=e.rows;if(!(i.length<1)){for(var o=e.values,r=e.states,n=e.orgValues,s=0;s<i.length;s++){var a=i[s];t.$_restoreRow(a,o[s],r[a],n[a])}t._fireRefresh()}},n);function n(t,e,i,o,r,n,s){var a=l.call(this,t)||this;return a._row=e,a._values=a._cloneValues(i),a._start=o,a._count=r,a._rowEvents=n,a._strict=s,a}e.UpdateRowsDataCommand=r});t(F);F.UpdateRowsDataCommand;var V=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=h.LocalDataEditCommand,i(s,r),s.prototype._doRun=function(t){var e={};return t.$_removeRows(this._rows,this._rowEvents,e),e},s.prototype._doRedo=function(t,e){t.$_removeRows(this._rows,this._rowEvents,null)},s.prototype._doUndo=function(t,e){var i=e.rows;if(!(i.length<1)){for(var o=e.rows,r=e.rowSaves,n=e.statedRows,s=e.states,a=0;a<o.length;a++){var l=i[a],u=r[a];t.$_internalInsertRow(l,u.values,!0),t._yieldRow(l,u)}for(a=0;a<n.length;a++)l=n[a],t._yieldState(l,s[a]);t._fireRefresh()}},s);function s(t,e,i){var o=r.call(this,t)||this;return o._rows=e.slice(),o._rowEvents=i,o}e.RemoveRowsDataCommand=n});t(V);V.RemoveRowsDataCommand;var N=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,r=(a=h.LocalDataEditCommand,i(n,a),n.prototype._doRun=function(t){return t.$_insertRows(this._row,this._values,this._start,this._count,this._rowEvents),{}},n.prototype._doRedo=function(t,e){t.$_insertRows(this._row,this._values,this._start,this._count,this._rowEvents)},n.prototype._doUndo=function(t,e){if(!this._rows){this._rows=[];for(var i=0;i<this._values.length;i++)this._rows.push(this._row+i)}t.$_removeRows(this._rows,!1,null)},n);function n(t,e,i,o,r,n){var s=a.call(this,t)||this;return s._row=e,s._values=s._cloneValues(i),s._start=o,s._count=r,s._rowEvents=n,s}e.InsertRowsDataCommand=r});t(N);N.InsertRowsDataCommand;var j=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=C.DataProvider,i(s,n),s.prototype._doDispose=function(){this._commands=this._commands&&this._commands.dispose(),this._values=null,this._rowIds=null,this._rowStates=null,this._points=null,this._orgValues=null,this._hiddenIds=null,n.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"undoable",{get:function(){return this._undoable&&!!this._commands},set:function(t){t!=this.undoable&&(this._undoable=t,this._commands&&this._commands.flush())},enumerable:!0,configurable:!0}),s.prototype.getDataRow=function(t){return this._rowIds.indexOf(t)},Object.defineProperty(s.prototype,"rowCount",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isSummarized",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"deletedCount",{get:function(){return this._deletedCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"canUndo",{get:function(){return this._commands&&this._commands.canUndo},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"canRedo",{get:function(){return this._commands&&this._commands.canRedo},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"undoing",{get:function(){return this._commands&&this._commands.undoing},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"redoing",{get:function(){return this._commands&&this._commands.redoing},enumerable:!0,configurable:!0}),s.prototype.getRowId=function(t){return this._rowIds[t]},s.prototype.$_internalInsertField=function(t,e){if(0<=(t=n.prototype.$_internalInsertField.call(this,t,e))){for(var i=this._values.length,o=0;o<i;o++)(r=this._values[o])&&r.splice(t,0,void 0);if(this._orgValues)for(i=Math.min(i,this._orgValues.length),o=0;o<i;o++){var r;(r=this._orgValues[o])&&r.splice(t,0,void 0)}}return t},s.prototype.$_internalClearFields=function(){n.prototype.$_internalClearFields.call(this),this.$_clearRows()},s.prototype.setRowCount=function(t,e,i,o){if(void 0===e&&(e=!1),void 0===i&&(i=null),void 0===o&&(o=w.RowState.NONE),this._checkClientState()){var r=this._values,n=r.length,s=Math.max(0,t);if(s!=n){var a=this._rowIds,l=this._rowStates;if(this.refreshFieldFormats(),r.length=a.length=l.length=s,this._orgValues&&this._orgValues.length>s&&(this._orgValues.length=s),n<s&&(e||i)){var u=this.fieldCount,h=i;if(!h||h instanceof Array||(h=this.objectToRow(h)),h&&h.length<1&&(h=null),e||h)for(var c=h?Math.min(h.length,u):0,p=n;p<s;p++){var d=[];if(e)for(var _=0;_<u;_++){var f=this.getField(_);d[_]=void 0!==f.defaultValue?f.defaultValue:f.nullValue}if(0<c)for(_=0;_<c;_++){var y=h[_];void 0!==y&&(d[_]=this.getField(_).readValue(y))}r[p]=d}}else if(s<n&&0<this._deletedCount)for(p=n-1;s<=p;p--)l[p]!=w.RowState.DELETED&&l[p]!=w.RowState.CREATE_AND_DELETED||this._deletedCount--,l[p]=w.RowState.NONE;for(o=this.checkStates&&o?o:w.RowState.NONE,p=n;p<s;p++)l[p]=o,a[p]=this._nextRowId++;for(p=this._hiddenIds.length-1;0<=p;p--)_=this._hiddenIds[p],a.indexOf(_)<0&&this._hiddenIds.splice(p,1);this.tags.setRowCount(s),this._fireRefresh(),this._fireRowCountChanged()}}},s.prototype.$_clearRows=function(){this._values.length=0,this._values=[],this._rowIds.length=0,this._rowIds=[],this._rowStates.length=0,this._rowStates=[],this._hiddenIds.length=0,this._hiddenIds=[],this._orgValues?(this._orgValues.length=0,this._orgValues=[]):this._orgValues=null,this._deletedCount=0,this.tags.clearRows()},s.prototype.clearRows=function(){this._checkClientState()&&(this.$_clearRows(),this._fireRefresh(),this._fireRowCountChanged())},s.prototype.setRows=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=-1),this._checkClientState()&&0!=i){this.refreshFieldFormats(),this.beginUpdate();try{this.$_clearRows();var o=this.checkStates,r=this.filters,n=this.filterRuntime,s=void 0;if(t&&0<(s=t.length)&&e<s)if(e=Math.max(0,e),i=i<0?s:Math.min(i,s-e),r){this._values.length=this._rowIds.length=this._rowStates.length=i,r.prepare(n,this);for(var a=s,l=0,u=0,h=e;h<a&&l<i;h++)(c=t[h])instanceof Array||(c=this.objectToRow(c)),r.select(n,u++,c)&&this.$_internalSetRow(l++,c,o);this._values.length=this._rowIds.length=this._rowStates.length=l}else if(e<(a=Math.min(s,e+i)))for(this._values.length=this._rowIds.length=this._rowStates.length=a-e,l=0,h=e;h<a;h++){var c;(c=t[h])instanceof Array||(c=this.objectToRow(c)),this.$_internalSetRow(l++,c,o)}}finally{this.endUpdate(!1)}this.tags.setRows(),this._fireRefresh(),this._fireRowCountChanged()}},s.prototype.setXmlRows=function(t,e,i){void 0===i&&(i=-1),this._checkClientState()},s.prototype.insertRows=function(t,e,i,o,r){void 0===i&&(i=0),void 0===o&&(o=-1),void 0===r&&(r=!1),this.undoable?this._commands.execute(new N.InsertRowsDataCommand(this,t,e,i,o,r)):this.$_insertRows(t,e,i,o,r)},s.prototype.$_insertRows=function(t,e,i,o,r){if(this._checkClientState()&&e){var n=e.length;if(!(n<1)&&0!=(o=o<0?n:Math.min(n,o))){if(t<0||t>this._values.length)throw new g.DataSourceError("row is out of bounds:"+t);this.refreshFieldFormats(),i=Math.max(0,i);var s=Math.min(n,i+o);if(r)for(var a=t,l=i;l<s;l++)(u=e[l])instanceof Array||(u=this.objectToRow(u)),this.fireRowInserting(a,u)&&(this.$_internalInsertRow(a,u,!0),this.fireRowInserted(a),this._fireRowCountChanged(),a++);else{for(a=t,l=i;l<s;l++,a++){var u;(u=e[l])instanceof Array||(u=this.objectToRow(u)),this.$_internalInsertRow(a,u,!1)}this.tags.insertRows(t,o=s-i),this.fireRowsInserted(t,o),this._fireRowCountChanged()}}}},s.prototype.appendRows=function(t,e,i,o){void 0===e&&(e=0),void 0===i&&(i=-1),void 0===o&&(o=!1),this.insertRows(this.rowCount,t,e,i,o)},s.prototype.insertXmlRows=function(t,e,i,o,r){throw new Error("Method not implemented.")},s.prototype.appendXmlRows=function(t,e,i,o){void 0===o&&(o=!1),this.insertXmlRows(this.rowCount,t,e,i,o)},s.prototype.updateRows=function(t,e,i,o,r){if(void 0===r&&(r=!1),this.undoable)return this._commands.execute(new F.UpdateRowsDataCommand(this,t,e,i,o,r,!1));this.$_updateRows(t,e,i,o,!1,r)},s.prototype.updateStrictRows=function(t,e,i,o,r){if(void 0===r&&(r=!1),this.undoable)return this._commands.execute(new F.UpdateRowsDataCommand(this,t,e,i,o,r,!0));this.$_updateRows(t,e,i,o,!0,r)},s.prototype.updateXmlRows=function(t,e,i,o,r){throw new Error("Method not implemented.")},s.prototype.getValue=function(t,e){this.$_checkRowIndex(t),this._checkFieldIndex(e);var i=this._values[t];return i?i[e]:void 0},s.prototype.setValue=function(t,e,i){return this.undoable?this._commands.execute(new l.SetValueDataCommand(this,t,e,i)):this.$_setValue(t,e,i)},s.prototype.$_setValue=function(t,e,i){if(!this._checkClientState())return!1;this.$_checkRowIndex(t),this._checkFieldIndex(e);var o=this.getField(e),r=this._rowStates[t];if(!o.updatable&&(r==w.RowState.NONE||r==w.RowState.UPDATED))return!1;var n,s=this._values[t],a=o.readValue(i);if(s&&o.equalValues(a,s[e]))return!1;this.refreshFieldFormat(o);var l=this.checkStates&&(r==w.RowState.NONE||!r);return s||(this._values[t]=s=[]),l&&this._orgValues&&(n=s.concat()),s[e]=a,this._internalCalculateValues(s,t),l?(n&&(this._orgValues[t]=n),this.$_changeRowState(t,w.RowState.UPDATED,!0)):this._needRestore&&this.restoreState(t),this.tags.setValue(t,e),this.fireValueChanged(t,e),!0},s.prototype.updateRow=function(t,e){return this.undoable?this._commands.execute(new u.UpdateRowDataCommand(this,t,e,!1)):this.$_updateRow(t,e,!1)},s.prototype.updateStrictRow=function(t,e){return this.undoable?this._commands.execute(new u.UpdateRowDataCommand(this,t,e,!0)):this.$_updateRow(t,e,!0)},s.prototype.getRow=function(t){this.$_checkRowIndex(t);var e=this._values[t];return e?e.slice():[]},s.prototype.getRowObject=function(t){return this.$_checkRowIndex(t),this.$_getRowObject(t,this.fieldCount)},s.prototype.getRows=function(t,e){void 0===t&&(t=0),void 0===e&&(e=-1);var i=this._values.length,o=Math.max(0,t),r=e<0?i-1:Math.min(i-1,e);if(i<=o||r<o)return[];for(var n=r-o+1,s=new Array(n),a=0;a<n;a++)s[a]=this._values[a+o]||[];return s},s.prototype.getRowObjects=function(t,e){void 0===t&&(t=0),void 0===e&&(e=-1);var i=this._values.length,o=Math.max(0,t),r=e<0?i-1:Math.min(i-1,e);if(i<=o||r<o)return[];for(var n=this.fieldCount,s=r-o+1,a=new Array(s),l=0;l<s;l++)a[l]=this.$_getRowObject(l+o,n);return a},s.prototype.getOutputObject=function(t,e){var i=this.getRowObject(e);return t&&this.$_createOutputRows([i],t),i},s.prototype.getOutputObjects=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1);var o=this.getRowObjects(e,i);return t&&this.$_createOutputRows(o,t,e),o},s.prototype.getColumn=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1),this._checkFieldIndex(t);var o=this._values.length;if(i=i<0?o-1:Math.min(o-1,i),o<=(e=Math.max(0,e))||i<e)return null;for(var r=new Array(i-e+1),n=e;n<=i;n++){var s=this._values[n];r[n-e]=s&&s[t]}return r},s.prototype.hasData=function(t){return 0<=t&&t<this._values.length&&void 0!==this._values[t]},s.prototype.insertRow=function(t,e){return this.undoable?this._commands.execute(new c.InsertRowDataCommand(this,t,e)):this.$_insertRow(t,e)},s.prototype.$_insertRow=function(t,e,i){if(void 0===i&&(i=void 0),!this._checkClientState())return!1;if(t<0||t>this._values.length)throw new g.DataSourceError("row is out of bounds:"+t);return this.refreshFieldFormats(),!(!e||!this.fireRowInserting(t,e)||(e instanceof Array||(e=this.objectToRow(e)),this.$_internalInsertRow(t,e,!0),i&&this._yieldStates(t,i),this.fireRowInserted(t),this._fireRowCountChanged(),0))},s.prototype.appendRow=function(t){return this.insertRow(this.rowCount,t)},s.prototype.removeRow=function(t){if(this.undoable){if(this.softDeleting&&this.checkStates)switch(this._rowStates[t]){case w.RowState.CREATED:if(!this.deleteCreated)return this._commands.execute(new k.ChangeRowStateDataCommand(this,t,w.RowState.CREATE_AND_DELETED));break;case w.RowState.DELETED:case w.RowState.CREATE_AND_DELETED:break;default:return this._commands.execute(new k.ChangeRowStateDataCommand(this,t,w.RowState.DELETED))}return this._commands.execute(new p.RemoveRowDataCommand(this,t))}return this.$_removeRow(t)},s.prototype.$_removeRow=function(t){if(!this._checkClientState())return!1;if(this.$_checkRowIndex(t),this.softDeleting&&this.checkStates){switch(this._rowStates[t]){case w.RowState.CREATED:this.deleteCreated?this.$_deleteRow(t):this.$_changeRowState(t,w.RowState.CREATE_AND_DELETED,!0,!0,!0);break;case w.RowState.DELETED:case w.RowState.CREATE_AND_DELETED:break;default:this.$_changeRowState(t,w.RowState.DELETED,!0,!0,!0)}return!0}return this.$_deleteRow(t)},s.prototype.removeRows=function(t,e){void 0===e&&(e=!1),this.undoable?this._commands.execute(new V.RemoveRowsDataCommand(this,t,e)):this.$_removeRows(t,e,null)},s.prototype.$_removeRows=function(t,e,i){if(this._checkClientState()){var o,r=this.deleteCreated;if(t&&!((o=t.length)<1)){if(i&&(i.rows=[],i.rowSaves=[],i.statedRows=[],i.states=[]),this.softDeleting&&this.checkStates){for(var n=e?null:[],s=o;s--;){var a=t[s],l=this._rowStates[a],u=!1;switch(this.$_checkRowIndex(a),l){case w.RowState.CREATED:r||(i&&(i.statedRows.push(a),i.states.push(l)),u=this.$_changeRowState(a,w.RowState.CREATE_AND_DELETED,e,!1,!0),t.splice(s,1));break;case w.RowState.DELETED:case w.RowState.CREATE_AND_DELETED:t.splice(s,1);break;default:i&&(i.statedRows.push(a),i.states.push(l)),u=this.$_changeRowState(a,w.RowState.DELETED,e,!1,!0),t.splice(s,1)}n&&u&&n.push(a)}e||n&&0<n.length&&this.fireRowStatesChanged(n)}if(0<(o=t.length)){if(1<o&&t.sort(function(t,e){return t-e}),i)for(s=0;s<o;s++)a=t[s],i.rows.push(a),i.rowSaves.push(this._keepRow(a));if(e)for(s=o;s--;)a=t[s],this.$_checkRowIndex(a),this.$_deleteRow(a);else if(this.fireRowsRemoving(t)){for(s=o;s--;)a=t[s],l=this._rowStates[a],this.$_checkRowIndex(a),this.$_internalRemoveRow(a),w.isDeletedState(l)&&this._deletedCount--;this.tags.removeRows(t),this.fireRowsRemoved(t),this._fireRowCountChanged()}}}}},s.prototype.moveRow=function(t,e){this._checkClientState()&&t!=e&&(this.$_checkRowIndex(t),this.$_checkRowIndex(e),this.fireRowMoving(t,e)&&(this.internalMoveRow(t,e),this.tags.moveRow(t,e),this.fireRowMoved(t,e)))},s.prototype.moveRows=function(t,e,i){this._checkClientState()&&(e<1||t==i||(this.$_checkRowIndex(t),this.$_checkRowIndex(i),this.fireRowsMoving(t,e,i)&&(this.internalMoveRows(t,e,i),this.tags.moveRows(t,e,i),this.fireRowsMoved(t,e,i))))},s.prototype.getRowState=function(t){return this.$_checkRowIndex(t),this._rowStates[t]||w.RowState.NONE},s.prototype.$_checkDeleted=function(t,e){w.isDeletedState(e)?this._deletedCount++:w.isDeletedState(t)&&!w.isDeletedState(e)&&this._deletedCount--},s.prototype.setRowState=function(t,e,i){return this.undoable?this._commands.execute(new _.SetRowStateDataCommand(this,t,e,i)):this.$_setRowState(t,e,i)},s.prototype.$_setRowState=function(t,e,i){this._checkClientState()&&(this.$_checkRowIndex(t),this._orgValues?this.$_changeRowStateEx(t,e,!0,i,!1):this.$_changeRowState(t,e,!0,i))},s.prototype.setRowStates=function(t,e,i,o){var r;if(void 0===o&&(o=!1),this._checkClientState()&&t&&!((r=t.length)<1))if(o)for(var n=0;n<r;n++){var s=t[n];this.$_checkRowIndex(s),this.$_changeRowStateEx(s,e,!0,i,!1)}else{var a=[],l=this._rowStates;for(n=0;n<r;n++){var u=l[s=t[n]];this.$_checkRowIndex(s),e!=u&&(l[s]=e,a.push(s),this.$_checkDeleted(u,e),this._orgValues&&this.prepareOrgValues(s,u,e))}0<a.length&&this.fireRowStatesChanged(a)}},s.prototype.clearRowStates=function(t,e){void 0===e&&(e=!1),this.undoable?this._commands.execute(new M.ClearRowStatesDataCommand(this,t,e)):this.$_clearRowStates(t,e)},s.prototype.$_clearRowStates=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),this._checkClientState()){for(var o=[],r=i?[]:null,n=i?[]:null,s=this._rowStates.length;s--;){var a=this._rowStates[s];switch(r&&(r[s]=a),n&&(n[s]=null),a){case w.RowState.CREATE_AND_DELETED:case w.RowState.DELETED:t?(e?this.$_deleteRow(s):(this.$_internalRemoveRow(s),this.tags.removeRow(s),this._deletedCount--),o.push(s),n&&(n[s]=this._keepRow[s])):(this.$_changeRowState(s,w.RowState.NONE,e),this._deletedCount--);break;default:this.$_changeRowState(s,w.RowState.NONE,e)}}return this.$_resetOrgValues(),e||(0<o.length&&(this.fireRowsRemoved(o),this._fireRowCountChanged()),this.fireRowStatesCleared()),i?{rows:o,states:r,values:n}:void 0}},s.prototype.$_restoreStates=function(t,e){this.fireRowStatesChanged(t)},s.prototype.getStateRows=function(t){var e=[];if(t)for(var i=0,o=this._rowStates.length;i<o;i++)this._rowStates[i]==t&&e.push(i);return e},s.prototype.getAllStateRows=function(){for(var t={},e=t.created=[],i=t.updated=[],o=t.deleted=[],r=t.createAndDeleted=[],n=0,s=this._rowStates.length;n<s;n++){var a=this._rowStates[n];a===w.RowState.CREATED?e.push(n):a===w.RowState.UPDATED?i.push(n):a===w.RowState.DELETED?o.push(n):a===w.RowState.CREATE_AND_DELETED&&r.push(n)}return t},s.prototype.getRowStateCount=function(t){var e=t?t.length:0,i=this._rowStates.length,o=0;if(e&&i)if(1<e)for(var r=0;r<i;r++){var n=this._rowStates[r];0<=t.indexOf(n)&&o++}else for(n=t[0],r=0;r<i;r++)this._rowStates[r]===n&&o++;return o},s.prototype.$_restoreState=function(t){if(this._rowStates[t]===w.RowState.UPDATED){var e=this._orgValues[t];if(e){for(var i=this._values[t],o=this.strictRestore,r=0,n=this.fieldCount;r<n;r++){var s=i.length>r?i[r]:void 0,a=e.length>r?e[r]:void 0,l=this.getField(r);if(o){if(!l.equalValues(s,a))return!1}else if(!l.sameValues(s,a))return!1}return this._rowStates[t]=w.RowState.NONE,!0}}return!1},s.prototype.restoreUpdatedStates=function(t){if(this._orgValues&&this._checkClientState()){var e=[];if(null!=t)for(var i=0,o=t.length;i<o;i++){var r=t[i];0<=r&&r<this._values.length&&this.$_restoreState(r)&&e.push(r)}else for(i=0,o=this._values.length;i<o;i++)this.$_restoreState(i)&&e.push(i);0<e.length&&this.fireRowStatesChanged(e)}},s.prototype.$_restoreUpdatedRow=function(t){if(this._rowStates[t]===w.RowState.UPDATED){var e=this._orgValues[t];if(e){for(var i=this._values[t],o=0,r=Math.min(e.length,this.fieldCount);o<r;o++)i[o]=e[o];return this._rowStates[t]=w.RowState.NONE,!0}}return!1},s.prototype.$_restoreRow=function(t,e,i,o){this._values[t]=e.slice(),this._rowStates[t]=i,this._orgValues&&(this._orgValues[t]=o&&o.slice())},s.prototype.restoreUpdatedRows=function(t){if(this._orgValues&&this._checkClientState()){var e=[];if(null!=t)for(var i=0,o=t.length;i<o;i++){var r=t[i];0<=r&&r<this._values.length&&this.$_restoreUpdatedRow(r)&&e.push(r)}else for(i=0,o=this._values.length;i<o;i++)this.$_restoreUpdatedRow(i)&&e.push(i);0<e.length&&(this.fireRestoreRows(e),this.fireRowStatesChanged(e))}},s.prototype.getUpdatedCells=function(t){var e=this.restoreMode;if(!this._orgValues||e!=y.RestoreMode.AUTO&&e!=y.RestoreMode.EXPLICIT)return null;if(null==t&&(t=this.getStateRows(w.RowState.UPDATED)),null==t)return null;for(var i=[],o=0,r=t.length;o<r;o++){var n=t[o],s=0<=n&&this._orgValues&&n<this._orgValues.length?this._orgValues[n]:null;if(s){for(var a=this._values[n],l=this.strictRestore,u=[],h=0,c=this.fieldCount;h<c;h++){var p=a.length>h?a[h]:void 0,d=s.length>h?s[h]:void 0,_=this.getField(h);_.calculated||(l?_.equalValues(p,d)||u.push({fieldName:this.getOrgFieldName(h),oldValue:s[h],newValue:a[h]}):_.sameValues(p,d)||u.push({fieldName:this.getOrgFieldName(h),oldValue:s[h],newValue:a[h]}))}0<u.length&&i.push({__rowId:n,updatedCells:u})}}return i},s.prototype._doRestoreModeChanged=function(){this.$_resetOrgValues()},s.prototype.findRow=function(t,e){if(t.length<1||e.length<t.length)return-1;for(var i=[],o=[],r=this._values,n=0,s=t.length;n<s;n++){var a=void 0;0<=(a="string"==typeof t[n]?this.getFieldIndex(t[n]):Number(t[n]))&&a<this.fieldCount&&i.indexOf(a)<0&&(i.push(a),o.push(e[n]))}var l=i.length;for(n=0;n<l;n++)i[n]=this.getField(i[n]);var u=r.length;for(n=0;n<u;n++){var h=r[n],c=!0;for(a=0;a<l;a++)if(!i[a].equalValues(o[a],h[a])){c=!1;break}if(c)return n}return-1},s.prototype.savePoint=function(t){if(void 0===t&&(t=!0),this._checkClientState()){var e=this._values,i=this.fieldCount,o=e?e.length:0;if(0<i&&0<o){for(var r=new Array(o),n=0;n<o;n++){var s=e[n]&&e[n].concat();r[n]=s}var a=t?this._rowStates.concat():null,l=this._nextPoint++;return this._points.push({id:l,data:r,states:a}),l}return-1}},s.prototype.rollback=function(t){if(this._checkClientState())for(var e=this._points.length-1;0<=e;e--){var i=this._points[e];if(i.id==t){this.$_removeSavePoints(e+1),this.setRows(i.data);var o=i.states;o&&(this._rowStates=o.concat());break}}},s.prototype.$_removeSavePoints=function(t){for(var e=this._points,i=e.length-1;t<=i;i--)e[i].data=null,e.pop()},s.prototype.clearSavePoints=function(){this.$_removeSavePoints(0)},s.prototype.getSavePoints=function(){for(var t=[],e=0,i=this._points.length;e<i;e++)t.push(this._points[e].id);return t},s.prototype.canUpdateRow=function(t){return!0},s.prototype.canAppendRow=function(){return!0},s.prototype.canInsertRow=function(t){return!0},s.prototype.canDeleteRow=function(t){return!0},s.prototype.$_getSortedRows=function(t){var e,i=new Array(this._values.length);switch(this.getField(t).dataType){case H.ValueType.NUMBER:e=this.compareNumbers;break;case H.ValueType.DATETIME:e=this.compareDates;break;case H.ValueType.BOOLEAN:e=this.compareBools;break;case H.ValueType.OBJECT:e=this.compareObjects;break;default:e=this.compareValues}for(var o=i.length;o--;)i[o]=o;return this.$_sortRows(i,t,e.bind(this),0,i.length-1),i},s.prototype.getDistinctValues=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=H.SortDirection.ASCENDING),e=1<arguments.length?e:-1,this._checkFieldIndex(t);var o=[];if(e<0&&(e=this._values.length),0<e){var r=this.getField(t).dataType==H.ValueType.NUMBER,n=this.$_getSortedRows(t);i===H.SortDirection.DESCENDING&&n.reverse();var s=this._values[n[0]];o.push(s?s[t]:void 0);for(var a=1,l=n.length;a<l&&!(o.length>=e);a++)if(!this.equalValues(t,n[a-1],n[a])){var u=this._values[n[a]],h=u?u[t]:void 0;-1!=o.indexOf(h)||r&&isNaN(h)||o.push(h)}}return o},s.prototype.compareValues=function(t,e,i){var o=this._values[e],r=this._values[i];if(o===r)return 0;var n=o?o[t]:null,s=r?r[t]:null;return null==n?null==s?0:-1:null==s?1:s<n?1:n<s?-1:0},s.prototype.compareTexts=function(t,e,i){var o=this._values[e],r=this._values[i];if(o===r)return 0;var n=o?o[t]:null,s=r?r[t]:null;return null==n?null==s?0:-1:null==s?1:(n=String(n).toLocaleLowerCase(),(s=String(s).toLocaleLowerCase())<n?1:n<s?-1:0)},s.prototype.compareNumbers=function(t,e,i){var o=this._values[e],r=this._values[i];if(o===r)return 0;var n=o?o[t]:NaN,s=r?r[t]:NaN;return isNaN(n)?isNaN(s)?0:-1:isNaN(s)?1:s<n?1:n<s?-1:0},s.prototype.compareDates=function(t,e,i){var o=this._values[e],r=this._values[i];if(o===r)return 0;var n=o?o[t]:null,s=r?r[t]:null;return n instanceof Date?s instanceof Date?s<n?1:n<s?-1:0:1:s instanceof Date?-1:0},s.prototype.compareBools=function(t,e,i){var o=this._values[e],r=this._values[i];if(o===r)return 0;var n=!!o&&Boolean(o[t]),s=!!r&&Boolean(r[t]);return n&&!s?1:!n&&s?-1:0},s.prototype.compareObjects=function(t,e,i){var o=this._values[e],r=this._values[i];if(o===r)return 0;var n=o?o[t]:null,s=r?r[t]:null;return n?s?this.getField(t).$_compareObject(n,s,e,i):1:s?-1:0},s.prototype.summarize=function(t,e){if(null==t)return!1;t.clear();var i=this.rowCount;if(i<1)return!1;for(var o=0,r=t.field,n=0,s=NaN,a=NaN,l=0;l<i;){var u=(d=this._values[l++])?null==d[r]?void 0:d[r]:NaN;if(!isNaN(u)){n=s=a=u,o++;break}}for(;l<i;)u=(d=this._values[l++])?null==d[r]?void 0:d[r]:NaN,isNaN(u)||(n+=u,u<s&&(s=u),a<u&&(a=u),o++);if(t.count=i,0<o)if(t.sum=n,t.min=s,t.max=a,t.avg=n/i,e){for(var h=0,c=t.avg,p=0;p<i;p++){var d;u=(d=this._values[p])?null==d[r]?void 0:d[r]:NaN,isNaN(u)||(h+=Math.pow(u-c,2))}t.varsp=h/i,t.vars=h/(i-1)}else t.varsp=NaN,t.vars=NaN;return!0},s.prototype.summarizeRange=function(t,e,i){if(null==t||null==e)return!1;t.clear();var o=e.length;if(o<1)return!1;for(var r=0,n=t.field,s=0,a=NaN,l=NaN,u=0;u<o;){var h=e[u++],c=(f=this._values[h])?null==f[n]?void 0:f[n]:NaN;if(!isNaN(c)){s=a=l=c,r++;break}}for(;u<o;)h=e[u++],c=(f=this._values[h])?null==f[n]?void 0:f[n]:NaN,isNaN(c)||(s+=c,c<a&&(a=c),l<c&&(l=c),r++);if(t.count=o,0<r)if(t.sum=s,t.min=a,t.max=l,t.avg=s/o,i){for(var p=0,d=t.avg,_=0;_<o;_++){var f;h=e[_],c=(f=this._values[h])?null==f[n]?void 0:f[n]:NaN,isNaN(c)||(p+=Math.pow(c-d,2))}t.varsp=p/o,t.vars=p/(o-1)}else t.varsp=NaN,t.vars=NaN;return!0},s.prototype._keepRow=function(t){var e={};return e.rowId=this._rowIds[t],e.values=this._values[t]&&this._values[t].slice(),e.state=this._rowStates[t],e.orgValues=this._orgValues&&this._orgValues[t]&&this._orgValues[t].slice(),e.outer=this._keepCommandStates(t),e},s.prototype._yieldRow=function(t,e){this._rowIds[t]=e.rowId,this._values[t]=e.values&&e.values.slice(),this._rowStates[t]=e.state,this._orgValues&&(this._orgValues[t]=e.orgValues&&e.orgValues.slice()),this._yieldCommandStates(t,e.outer)},s.prototype._keepStates=function(t){var e={};return e.rowId=this._rowIds[t],e.state=this._rowStates[t],e.orgValues=this._orgValues&&this._orgValues[t]&&this._orgValues[t].slice(),e},s.prototype._yieldStates=function(t,e){this._rowIds[t]=e.rowId,this._rowStates[t]=e.state,this._orgValues&&(this._orgValues[t]=e.orgValues&&e.orgValues.slice())},s.prototype._keepState=function(t){return this._rowStates[t]},s.prototype._yieldState=function(t,e){this._rowStates[t]=e},s.prototype._keepOrgValues=function(){var t=this._orgValues;if(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]&&t[i].slice());return e}return null},s.prototype._yieldOrgValues=function(t){if(t){this._orgValues=[];for(var e=0;e<t.length;e++)this._orgValues.push(t[e]&&t[e].slice())}else this._orgValues=t},s.prototype.$_checkRowIndex=function(t){if(t<0||t>=this._values.length)throw new g.DataSourceError("row is out of bounds: "+t)},s.prototype.$_resetOrgValues=function(){var t=this.restoreMode;this._orgValues=this.checkStates&&t!=y.RestoreMode.NONE?[]:null,this._needRestore=this._orgValues&&t==y.RestoreMode.AUTO},s.prototype.arrayToRow=function(t,e){for(var i=Math.min(t?t.length:0,this.fieldCount),o=new Array(i),r=0;r<i;r++)o[r]=this.getField(r).readValue(t[r]);return this._internalCalculateValues(o,e),o},s.prototype.$_internalSetRow=function(t,e,i){var o=this.arrayToRow(e,t);this._values[t]=o,this._rowIds[t]=this._nextRowId++,this.checkStates&&(this._rowStates[t]=w.RowState.NONE)},s.prototype.$_internalInsertRow=function(t,e,i){var o=this.arrayToRow(e,t),r=t==this._values.length;r?(this._values.push(o),this._rowIds.push(this._nextRowId++)):(this._values.splice(t,0,o),this._rowIds.splice(t,0,this._nextRowId++)),i&&this.tags.insertRow(t),r?this._rowStates.push(this.checkStates?w.RowState.CREATED:w.RowState.NONE):(this._rowStates.splice(t,0,this.checkStates?w.RowState.CREATED:w.RowState.NONE),this._orgValues&&this._orgValues.splice(t,0,void 0))},s.prototype.$_updateRow=function(t,e,i){if(void 0===i&&(i=!1),this._checkClientState())return this.$_checkRowIndex(t),this.refreshFieldFormats(),!(!e||!this.fireRowUpdating(t,e)||(this.$_internalUpdateRow(t,e,i,!0,!0),this.fireRowUpdated(t),0))},s.prototype.$_updateRows=function(t,e,i,o,r,n,s){if(void 0===s&&(s=null),this._checkClientState()&&e){var a=e.length;if(!(a<1)&&0!=(o=o<0?a:Math.min(a,o))){i=Math.max(0,i),this.refreshFieldFormats();var l=this.rowCount,u=Math.min(a,i+o);if(!(u<=i))if(s&&(s.rows=[],s.values=[],s.states=[],s.orgValues=[]),n)for(var h=t,c=i;c<u&&h<l;c++,h++){var p=e[c];this.fireRowUpdating(h,p)&&(s&&(s.rows.push(h),s.values.push(this._values[h].slice()),s.states.push(this._rowStates[h]),s.orgValues.push(this._orgValues&&this._orgValues[h])),this.$_internalUpdateRow(h,p,r,!0,!0),this.fireRowUpdated(h))}else{var d=[];for(h=t,c=i;c<u&&h<l;c++,h++)this._rowStates[h]==w.RowState.NONE&&d.push(h),s&&(s.rows.push(h),s.values.push(this._values[h].slice()),s.states.push(this._rowStates[h]),s.orgValues.push(this._orgValues&&this._orgValues[h])),p=e[c],this.$_internalUpdateRow(h,p,r,!1,!1);0<d.length&&this.fireRowStatesChanged(d),this.tags.updateRows(t,o=u-i),this.fireRowsUpdated(t,o)}}}},s.prototype.$_internalUpdateRow=function(t,e,i,o,r){var n,s=this.getFields(),a=U.Utils.isArray(e),l=Math.min(s.length,a?e.length:s.length),u=this._values[t],h=this._rowStates[t],c=this.checkStates&&(h==w.RowState.NONE||!h);u||(this._values[t]=u=[]),c&&this._orgValues&&(n=u.concat());for(var p=!1,d=0;d<l;d++){var _=s[d];if((_.updatable||h==w.RowState.CREATED||h==w.RowState.CREATE_AND_DELETED)&&(a||e.hasOwnProperty(_.orgFieldName))){var f=a?e[d]:e[_.orgFieldName];i&&void 0===f||(p=!this._needRestore||p||(i?!_.equalValues(u[d],_.readValue(f)):!_.sameValues(u[d],_.readValue(f))),u[d]=_.readValue(f))}}p&&this._internalCalculateValues(u,t),c&&p?(n&&(this._orgValues[t]=n),this.$_changeRowState(t,w.RowState.UPDATED,o)):this._needRestore&&this.restoreState(t),r&&this.tags.updateRow(t)},s.prototype.$_changeRowState=function(t,e,i,o,r){if(void 0===o&&(o=!1),void 0===r&&(r=!1),this.checkStates||o){var n=this._rowStates[t];if((e=e||w.RowState.NONE)!=n)return this._rowStates[t]=e,r&&(!w.isDeletedState(n)&&w.isDeletedState(e)?this._deletedCount++:w.isDeletedState(n)&&!w.isDeletedState(e)&&this._deletedCount--),i&&this.fireRowStateChanged(t),!0}return!1},s.prototype.restoreState=function(t){if(this._rowStates[t]===w.RowState.UPDATED){var e=this._orgValues[t];if(e){for(var i=this._values[t],o=this.strictRestore,r=0,n=this.fieldCount;r<n;r++){var s=i.length>r?i[r]:void 0,a=e.length>r?e[r]:void 0;if(o){if(!this.getField(r).equalValues(s,a))return!1}else if(!this.getField(r).sameValues(s,a))return!1}return this._rowStates[t]=w.RowState.NONE,!0}}return!1},s.prototype.prepareOrgValues=function(t,e,i){i==w.RowState.UPDATED?this._orgValues[t]=this._values[t]?this._values[t].concat():[]:e==w.RowState.UPDATED&&this._orgValues[t]&&(this._orgValues[t]=void 0)},s.prototype.$_changeRowStateEx=function(t,e,i,o,r){var n=this._rowStates[t];return!!this.$_changeRowState(t,e,!1,o,r)&&(this._orgValues&&this.prepareOrgValues(t,n,e),i&&this.fireRowStateChanged(t),!0)},s.prototype.$_getRowObject=function(t,e){var i={},o=this._values[t];if(o)for(var r=0;r<e;r++)i[this.getOrgFieldName(r)]=o[r];return i},s.prototype.$_deleteRow=function(t){if(this.fireRowRemoving(t)){var e=this._rowStates[t];return this.$_internalRemoveRow(t),w.isDeletedState(e)&&this._deletedCount--,this.tags.removeRow(t),this.fireRowRemoved(t),this._fireRowCountChanged(),!0}return!1},s.prototype.$_internalRemoveRow=function(t){var e=this._rowIds[t];0<=this._hiddenIds.indexOf(e)&&this._hiddenIds.splice(this._hiddenIds.indexOf(e),1),this._values.splice(t,1),this._rowIds.splice(t,1),this._orgValues&&this._orgValues.length>t&&this._orgValues.splice(t,1),this._rowStates.splice(t,1)},s.prototype.internalMoveRow=function(t,e){var i=this._values[t],o=this._rowIds[t],r=this._rowStates[t];this._values.splice(t,1),this._rowIds.splice(t,1),this._rowStates.splice(t,1),this._values.splice(e,0,i),this._rowIds.splice(e,0,o),this._rowStates.splice(e,0,r),this._orgValues&&this._orgValues.length>t&&(i=this._orgValues[t],this._orgValues.splice(t,1),this._orgValues.splice(e,0,i))},s.prototype.internalMoveRows=function(t,e,i){for(var o=this._values.splice(t,e),r=this._rowIds.splice(t,e),n=this._rowStates.splice(t,e),s=0,a=o.length;s<a;s++)this._values.splice(i+s,0,o[s]),this._rowIds.splice(i+s,0,r[s]),this._rowStates.splice(i+s,0,n[s]);this._orgValues&&this._orgValues.length>t&&(o=this._orgValues.splice(t,e),this._orgValues.splice(i+s,0,o[s]))},s.prototype.$_searchDataRow=function(t,e,i,o,r){var n=this.rowCount;if(n<1)return-1;var s=Math.min(t.length,e.length);if(s<1)return-1;for(var a=!i||i.allFields,l=i&&i.caseSensitive,u=i&&i.partialMatch,h=null,c=[],p=0;p<s;p++)c[p]=this.getField(t[p]).dataType;o=Math.max(0,o),r=Math.min(n-1,r);for(var d=o;d<=r;d++){var _=!0;for(p=0;p<s;p++){var f=this.getValue(d,t[p]);switch(c[p]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(e[p]instanceof Date)_=U.Utils.compareTextValue(e[p],f,l,u);else{if(!h){var y=/[.]/.test(e[p])?"yyyy.MM.dd":/[/]/.test(e[p])?"yyyy/MM/dd":/[-]/.test(e[p])?"yyyy-MM-dd":"yyyyMMdd";h=new L.DateTimeConverter(y)}_=U.Utils.compareTextValue(e[p],f?h.getText(f):f,l,u)}break;default:_=U.Utils.compareTextValue(e[p],f,l,u)}if(_&&!a)return d;if(!_&&a)break}if(_)return d}return-1},s.prototype.searchDataRow=function(t,e,i,o,r){void 0===o&&(o=0),void 0===r&&(r=!0);var n=-1;if(t&&0<t.length&&e&&0<e.length){i=i instanceof T.SearchOptions?i:i?new T.SearchOptions(i):null;for(var s=t.length,a=[],l=0;l<s;l++){var u=parseFloat(t[l]);if(isNaN(u)){var h=this.getFieldIndex(t[l]);0<=h&&a.push(h)}else a.push(u)}0<a.length&&(s=this.rowCount,(n=(o=Math.max(0,o))<s?this.$_searchDataRow(a,e,i,o,s-1):-1)<0&&r&&0<o&&(n=this.$_searchDataRow(a,e,i,0,o-1)))}return n},s.prototype.$_searchData=function(t,e,i,o,r,n){var s=this.rowCount;if(s<1)return null;for(var a=i&&i.caseSensitive,l=i&&i.partialMatch,u=this.fieldCount,h=t.length,c=null,p=[],d=0;d<u;d++)p[d]=this.getField(d).dataType;o=Math.max(0,o),r=Math.min(s-1,r),(n=Math.max(0,n))>=t.length&&(o++,n=0);for(var _=o;_<=r;_++)for(d=o<_?0:n;d<h;d++){var f=t[d];if(0<=f&&f<u){var y=this.getValue(_,f),m=!1;switch(p[f]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(e instanceof Date)m=U.Utils.compareTextValue(e,y,a,l);else{if(!c){var g=/[.]/.test(e)?"yyyy.MM.dd":/[/]/.test(e)?"yyyy/MM/dd":/[-]/.test(e)?"yyyy-MM-dd":"yyyyMMdd";c=new L.DateTimeConverter(g)}m=U.Utils.compareTextValue(e,y?c.getText(y):y,a,l)}break;default:m=U.Utils.compareTextValue(e,y,a,l)}if(m)return{dataRow:_,fieldIndex:f,searchFieldIndex:d}}}return null},s.prototype.searchData=function(t,e,i,o,r,n){void 0===o&&(o=0),void 0===r&&(r=0),void 0===n&&(n=!0);var s=i instanceof T.SearchCellOptions?i:i?new T.SearchCellOptions(i):null,a=null;if(!t||t.length<1){t=[];for(var l=this.getFields(),u=0;u<l.length;u++)t.push(l[u].orgFieldName)}if(t&&0<t.length&&null!=e){var h,c,p=t.length,d=[];for(h=0;h<p;h++)c=parseFloat(t[h]),isNaN(c)?d.push(this.getFieldIndex(t[h])):d.push(c);0<d.length&&(p=this.rowCount,o=Math.max(0,o),r=Math.max(0,r),!(a=o<p?this.$_searchData(d,e,s,o,p-1,r):null)&&n&&0<o&&(a=this.$_searchData(d,e,s,0,o-1,0)),a&&(a.fieldName=this.getOrgFieldName(a.fieldIndex)))}return a},s.prototype.isDataChanged=function(t,e){if(this._rowStates[t]!==w.RowState.UPDATED||!this._orgValues)return!1;if(this.$_checkRowIndex(t),this._checkFieldIndex(e),this._orgValues[t]){var i=this._orgValues[t][e],o=this.getValue(t,e),r=this.getField(e);return r&&r.dataType!==H.ValueType.OBJECT&&!r.sameValues(i,o)}return!1},s.prototype.$_hideRows=function(t,e){if(null!=t){for(var i=U.Utils.isArray(t)?t:[t],o=[],r=this._hiddenIds.length,n=0,s=i.length;n<s;n++){var a=this.getRowId(i[n]);if(null!=a)if(o.push(a),e)this._hiddenIds.indexOf(a)<0&&this._hiddenIds.push(a);else{var l=this._hiddenIds.indexOf(a);0<=l&&this._hiddenIds.splice(l,1)}}this._hiddenIds.length!==r&&this.fireRowHided(o,e)}},s.prototype.hideRows=function(t){this.$_hideRows(t,!0)},s.prototype.showRows=function(t){this.$_hideRows(t,!1)},s.prototype.clearHiddenRows=function(){0<this._hiddenIds.length&&(this._hiddenIds=[],this.fireRowHided([],!1))},s.prototype.getHiddenRows=function(){for(var t=[],e=0,i=this._hiddenIds.length;e<i;e++){var o=this._rowIds.indexOf(this._hiddenIds[e]);0<=o&&t.push(o)}return t.sort(function(t,e){return t-e}),t},s.prototype.isHiddenRow=function(t){var e=this._rowIds[t];return 0<=this._hiddenIds.indexOf(e)},Object.defineProperty(s.prototype,"hiddenCount",{get:function(){return this._hiddenIds.length},enumerable:!0,configurable:!0}),s.prototype.undo=function(){this.canUndo&&this._commands.undo()},s.prototype.redo=function(){this.canRedo&&this._commands.redo(!0)},s.prototype.clearCommandStack=function(){this._commands.flush()},s);function s(t){void 0===t&&(t=!1);var e=n.call(this)||this;return e._points=[],e._nextPoint=0,e._values=[],e._rowIds=[],e._rowStates=[],e._orgValues=null,e._needRestore=!1,e._deletedCount=0,e._nextRowId=0,e._hiddenIds=[],t&&(e._commands=new h.LocalDataCommandStack(e)),e}e.LocalDataProvider=r});t(j);j.LocalDataProvider;var B=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype.add=function(t){if(t){var e=this._tags||(this._tags=[]);e.indexOf(t)<0&&e.push(t),t.connect(this._owner)}},s.prototype.remove=function(t){if(t&&this._tags){var e=this._tags.indexOf(t);0<=e&&(this._tags.splice(e,1),t.disconnect())}},s.prototype.clearRows=function(){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].clearRows()},s.prototype.setRows=function(){if(this._tags)for(var t=this._tags.length;t--;)this._tags[t].setRows()},s.prototype.addRow=function(t){if(this._tags)for(var e=this._tags.length;e--;)this._tags[e].addRow(t)},s.prototype.addRows=function(t){if(this._tags)for(var e=this._tags.length;e--;)this._tags[e].addRows(t)},s.prototype.removeRow=function(t){if(this._tags)for(var e=this._tags.length;e--;)this._tags[e].removeRow(t)},s.prototype.removeRows=function(t){if(this._tags)for(var e=this._tags.length;e--;)this._tags[e].removeRows(t)},s.prototype.updateRow=function(t){if(this._tags)for(var e=this._tags.length;e--;)this._tags[e].updateRow(t)},s);function s(t){var e=r.call(this)||this;return e._tags=new Array,e._owner=t,e}e.TreeDataTagCollection=n});t(B);B.TreeDataTagCollection;var ht=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(c,r),c.csvToArray=function(t,e,i,o,r,n){void 0===i&&(i=0),void 0===o&&(o=-1),void 0===r&&(r=!1),void 0===n&&(n=",");for(var s=[],a=[],l=e.length,u=0,h=[],c=!1,p=!1;u<l;){var d=e.charAt(u);'"'==d?c?p&&'"'==e.charAt(u+1)?(h.push(d),u++):p?(p=!1,r||h.push(d)):h.push(d):(c=p=!0,r||h.push(d)):p||d!=n&&"\r"!=d&&"\n"!=d?(c=!0,h.push(d)):(d==n?a.push(h.join("")):"\r"!=d&&"\n"!=d||(a.push(h.join("")),s.push(a),a=[],"\n"==e.charAt(u+1)&&u++),c=!(h=[])),u++}p&&h.splice(0,0,'"'),0<h.length&&a.push(h.join("")),0<a.length&&s.push(a),0<i&&(o<=0?s.splice(0,i):s=s.splice(i,o));for(var _=t.getFields(),f=_.length,y=0<f,m=0,g=s.length;m<g;m++){a=s[m],y&&a.length>f&&(a.length=f);for(var v=0;v<f;v++)a[v]=_[v].readValue(a[v])}return s},c.xmlToRow=function(t,e,i){for(var o,r,n=t.childNodes,s=e.length,a=new Array(s),l=0,u=n.length;l<u;l++){var h,c=n[l];0<=(h=i.indexOf(c.tagName))&&(a[h]=e[h].readValue(c.nodeValue||c.hasChildNodes()&&3===c.childNodes[0].nodeType&&c.childNodes[0].nodeValue))}for(l=0;l<s;l++)void 0===a[l]&&(a[l]=e[l].readValue((o=t,r=i[l],o&&o.getAttribute(r))));return a},c.xmlToArray=function(t,e,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=null,n=c.xmlToRow,s=e?e.length:0;if(s&&(i=Math.max(0,i),o<0&&(o=s),o=Math.min(s-i,o))){var a=t.getFields(),l=t.getOrgFieldNames();a.length,r=new Array(o);for(var u=0;u<o;u++){var h=n(e[u+i],a,l);r[u]=h}}return r},c);function c(){return null!==r&&r.apply(this,arguments)||this}e.DataHelper=n});t(ht);ht.DataHelper;var ct=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(o.parse=function(t){return(new window.DOMParser).parseFromString(t,"text/xml")},o.toString=function(t){return(new window.XMLSerializer).serializeToString(t)},o.getNodeValue=function(t){return t.firstChild.nodeValue},o.getAttr=function(t,e){return t.getAttribute(e)},o.setAttr=function(t,e,i){t.setAttribute(e,i)},o.addChild=function(t,e,i){var o=t.createElement(i);return e.appendChild(o),o},o.addChildWithAttr=function(t,e,i,o,r){var n=t.createElement(i);return n.setAttribute(o,r),e.appendChild(n),n},o.addChildWithValue=function(t,e,i,o){var r=t.createElement(i);return r.nodeValue=o,e.appendChild(r),r},o.parseXml=function(e){var i=null;try{(i=new ActiveXObject("Microsoft.XMLDOM")).async=!1,i.loadXML(e)}catch(t){if(i)throw t;i=(new window.DOMParser).parseFromString(e,"text/xml")}return i},o);function o(){}e.XmlUtils=i});t(ct);ct.XmlUtils;var pt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});function u(t,e){var i=[];if(t){var o=t.childNodes;if(o)for(var r=0,n=o.length;r<n;r++){var s=o[r];s.tagName===e&&i.push(s)}}return i}Object.defineProperty(e,"__esModule",{value:!0});var r,l,n,a=(r=ue.Base,i(s,r),s.extractJson=function(t,e){var i=t;if(e=e&&e.trim())for(var o=e.split("."),r=0;r<o.length;r++){var n=o[r]&&o[r].trim();if(n){var s=n.indexOf("["),a=n.lastIndexOf("]");if(0<s&&s<a){var l=n.substring(0,s),u="$"!=l?i[l]:i;if(Array.isArray(u)){l=n.substring(s+1,a);var h=parseInt(l);i=0<=h&&h<u.length?u[h]:null}else i=null}else"$"!=n&&(i=i[n]);if(!i)break}}return Array.isArray(i)?i:null},s.extractXml=function(t,e){var i=null;if(e=e&&e.trim())for(var o=e.split("."),r=0;r<o.length;r++){var n=o[r]&&o[r].trim();if(n){var s=n.indexOf("["),a=n.lastIndexOf("]");if(0<s&&s<a){var l=n.substring(0,s);(i=u(i?i[0]:t,l))&&(l=n.substring(s+1,a),i=i[parseInt(l)])}else i=u(i?i[0]:t,n);if(!i)break}}return i},s);function s(){return null!==r&&r.apply(this,arguments)||this}e.DataPath=a,(n=l=e.DataFillMode||(e.DataFillMode={}))[n.SET=0]="SET",n[n.APPEND=1]="APPEND",n[n.INSERT=2]="INSERT",n[n.UPDATE=3]="UPDATE";var h,c=(h=ue.Base,i(p,h),p);function p(t){var e=h.call(this)||this;if(e.fillMode=l.SET,e.fillPos=0,e.count=-1,e.rootArray=!0,e.rows="row",e.start=0,e.delimiter=",",e.quoted=!1,e.parentId=0,e.childrenField=null,e.treeField=null,e.iconField=null,e.needSorting=!1,e.itemIndex=-1,t){for(var i in t.hasOwnProperty("append")&&(e.fillMode=l.APPEND),t.hasOwnProperty("fillMode")&&(e.fillMode=t.fillMode),t.hasOwnProperty("fillPos")&&(e.fillPos=t.fillPos),t.hasOwnProperty("count")&&(e.count=t.count),t.hasOwnProperty("rootArray")&&(e.rootArray=t.rootArray),t.hasOwnProperty("rows")&&(e.rows=t.rows),t.hasOwnProperty("start")&&(e.start=t.start),t.hasOwnProperty("delimiter")&&(e.delimiter=t.delimiter),t.hasOwnProperty("quoted")&&(e.quoted=t.quoted),t.hasOwnProperty("itemIndex")&&(e.itemIndex=t.itemIndex),t)void 0!==t[i]&&(e[i]=t[i]);e.parentId=t.parentId||t.parent,e.childrenField=t.childrenField||t.children,e.treeField=t.treeField||t.tree,e.iconField=t.iconField||t.icon,e.needSorting=t.needSorting||t.sorting}return e}e.DataFillOptions=c;var d,_=(d=ue.Base,i(f,d),f.prototype._doDispose=function(){this._provider=null},f.prototype.load=function(t,e,i){var o=new c(i);if(this._checkEmpty(e,o))return 0;switch(t){case"json":return this._loadJson(e,o);case"xml":return this._loadXml(e,o);case"csv":return this._loadCsv(e,o)}return 0},f.prototype._loadJson=function(t,e){"string"==typeof t&&(t=JSON.parse(t));var i=null;if(e.rootArray&&(i=U.Utils.isArray(t)?t:null),i=i||a.extractJson(t,e.rows)){var o=e.fillPos,r=e.start,n=e.count;switch(e.itemIndex,e.fillMode){case l.APPEND:this._provider.appendRows(i,r,n);break;case l.INSERT:this._provider.insertRows(o,i,r,n);break;case l.UPDATE:this._provider.updateRows(o,i,r,n);break;case l.SET:default:this._provider.setRows(i,r,n)}return i.length}return this._fillEmpty(e),0},f.prototype._loadXml=function(t,e){if("string"==typeof t&&(t=ct.XmlUtils.parse(t)),t&&t.documentElement){var i=e.fillPos,o=e.start,r=e.count,n=e.rows,s=(e.itemIndex,a.extractXml(t.documentElement,n));switch(e.fillMode){case l.APPEND:this._provider.appendXmlRows(s,o,r);break;case l.INSERT:this._provider.insertXmlRows(i,s,o,r);break;case l.UPDATE:this._provider.updateXmlRows(i,s,o,r);break;case l.SET:default:this._provider.setXmlRows(s,o,r)}return s.length}return this._fillEmpty(e),0},f.prototype._loadCsv=function(t,e){var i=e.fillPos,o=e.start,r=e.count,n=e.quoted,s=e.delimiter,a=(e.itemIndex,ht.DataHelper.csvToArray(this._provider,t,o,r,n,s));if(a&&0<(r=a.length)){switch(e.fillMode){case l.APPEND:this._provider.appendRows(a,0,r);break;case l.INSERT:this._provider.insertRows(i,a,0,r);break;case l.UPDATE:this._provider.updateRows(i,a,0,r);break;case l.SET:default:this._provider.setRows(a,0,r)}return a.length}return this._fillEmpty(e),0},f.prototype._fillEmpty=function(t){t.fillMode===l.SET&&this._provider.setRows(null)},f.prototype._checkEmpty=function(t,e){return!t&&(this._fillEmpty(e),!0)},f);function f(t){var e=d.call(this)||this;return e._provider=t,e}e.DataLoader=_});t(pt);pt.DataPath,pt.DataFillMode,pt.DataFillOptions,pt.DataLoader;var dt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"provider",{get:function(){return this._ds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rootRow",{get:function(){return this._rootRow},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"insertedRows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"insertedCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0}),s.prototype._prepareLoad=function(t){this._rowCount=0,this._rows=[]},s.prototype._objectToArray=function(t,e){for(var i=e.fieldCount,o=new Array(i),r=0;r<i;r++){var n=e.getOrgFieldName(r);t.hasOwnProperty(n)&&(o[r]=t[n])}return e._internalCalculateValues(o,-1),o},s.prototype._createRow=function(t,e,i){var o=new mt.TreeDataRowImpl(this._ds,i);return this._ds._internalCalculateValues(o._values,o.rowId),0<=t&&this._ds.setHasChildren(o,i[t]),0<=e&&this._ds.setIconIndex(o,i[e]),o},s.prototype._createRow2=function(t,e,i){var o=new mt.TreeDataRowImpl(this._ds,i);return this._ds._internalCalculateValues(o._values,o.rowId),void 0!==t&&this._ds.setHasChildren(o,t),void 0!==e&&this._ds.setIconIndex(o,e),o},s.prototype._rowAdded=function(t,e){this._rowCount++,this._rows&&e.parent===t&&this._rows.push(e)},s.prototype._addRow=function(t,e,i,o,r){var n=this._createRow(i,o,r);return e._insertChild(e.count,n,!0,!0),this._rowAdded(t,n),n},s.prototype._addRow2=function(t,e,i,o,r){var n=this._createRow2(i,o,r);return e._insertChild(e.count,n,!0,!0),this._rowAdded(t,n),n},s);function s(t,e){var i=r.call(this)||this;return i._rowCount=0,i._ds=t,i._rootRow=e,i}e.TreeDataSource=n;var a,l=(i(u,a=n),u.prototype._loadData=function(t,e,i,o,r,n){if(this._prepareLoad(e),!t||t.length<1)return this._rowCount;for(var s=this.provider,a=t.length,l=[],u=0;u<a;u++)l[u]=u,Array.isArray(t[u])||(t[u]=this._objectToArray(t[u],s));o&&this.$_sortRows(l,t,i,0,a-1),s.beginUpdate();try{this.$_buildTree(e||this.rootRow,l,t,i,r,n)}finally{s.endUpdate(!1)}return this.insertedCount},u.prototype.$_sortRows=function(t,r,n,e,i){function o(t,e){var i=r[t][n],o=r[e][n];return i==o?0:i<o?-1:1}do{var s=e,a=i,l=t[Math.floor((e+i)/2)];do{for(;!(o(l,t[s])<=0);)s++;for(;!(0<=o(l,t[a]));)a--;if(s<=a){if(s!=a){var u=t[s];t[s]=t[a],t[a]=u}s++,a--}}while(s<=a);e<a&&this.$_sortRows(t,r,n,e,a),e=s}while(e<i)},u.prototype.$_buildTree=function(s,t,e,a,i,o){function r(t,e,i,o){for(var r=o[a];e!=s;){var n=e.getValue(a);if(t.parentCallback){if(t.parentCallback(n,r))return e}else if(0==r.indexOf(n))return e;e=e.parent}return s}var n=t[0],l=this._createRow(i,o,e[n]),u=r(this,s,0,e[n]);if(u._insertChild(u.count,l,!0,!0),this._rowAdded(s,l),1<t.length)for(var h=t.length,c=l,p=1;p<h;p++)n=t[p],l=this._createRow(i,o,e[n]),(u=r(this,c,0,e[n]))._insertChild(u.count,l,!0,!0),this._rowAdded(s,l),c=l},u);function u(t,e){return a.call(this,t,e)||this}var h,c=(i(p,h=l),p.prototype.load=function(t,e,i,o,r,n){return this._loadData(e,t,i,o,r,n)},p);function p(t,e){return h.call(this,t,e)||this}e.ArrayTreeSource=c;var d,_=(i(f,d=l),f.prototype.load=function(t,e,i,o,r,n){var s=ht.DataHelper.csvToArray(this.provider,e);return this._loadData(s,t,i,o,r,n)},f);function f(t,e){return d.call(this,t,e)||this}e.CsvTreeSource=_;var y,m=(i(g,y=n),g.prototype.load=function(t,e,i,o,r){if(this._prepareLoad(t),e){var n=pt.DataPath.extractJson(e,i);if(n&&0<n.length){this.provider.beginUpdate();try{this.$_buildJsonTree(this.provider,t||this.rootRow,n,i,o,r)}finally{this.provider.endUpdate(!1)}}}return this._rowCount},g.prototype.load2=function(t,e,i,o,r,n){if(this._prepareLoad(t),e){var s=pt.DataPath.extractJson(e,i);if(s&&0<s.length){this.provider.beginUpdate();try{this.$_buildJsonTree2(this.provider,t||this.rootRow,s,o,r,n)}finally{this.provider.endUpdate(!1)}}}return this._rowCount},g.prototype.$_buildJsonTree=function(t,_,e,f,y,m){var i=t.getOrgFieldNames();!function t(e,i,o,r){for(var n=r.length,s=0,a=o.length;s<a;s++){for(var l=o[s],u=new Array(n),h=0;h<n;h++){var c=r[h];l.hasOwnProperty(c)&&(u[h]=l[c])}var p=e._addRow(_,i,y,m,u);if(l.hasOwnProperty(f)){var d=l[f];Array.isArray(d)&&0<d.length&&t(e,p,d,r)}}}(this,_,e,i)},g.prototype.$_buildJsonTree2=function(t,_,e,f,y,m){var i=t.getOrgFieldNames();!function t(e,i,o,r){for(var n=r.length,s=0,a=o.length;s<a;s++){for(var l=o[s],u=new Array(n),h=0;h<n;h++){var c=r[h];l.hasOwnProperty(c)&&(u[h]=l[c])}var p=e._addRow2(_,i,l[y],l[m],u);if(l.hasOwnProperty(f)){var d=l[f];Array.isArray(d)&&0<d.length&&t(e,p,d,r)}}}(this,_,e,i)},g);function g(t,e){return y.call(this,t,e)||this}e.JsonTreeSource=m;var v,b=(i(C,v=l),C.prototype.load=function(t,e,i,o,r){if(this._prepareLoad(t),e){var n="string"==typeof e?ct.XmlUtils.parseXml(e):e;if(n){var s=pt.DataPath.extractXml(n.documentElement,i);if(s&&0<s.length){this.provider.beginUpdate();try{this.$_buildXmlTree(this.provider,t||this.rootRow,s,i,o,r)}finally{this.provider.endUpdate(!1)}}}}return this._rowCount},C.prototype.$_buildXmlTree=function(t,p,e,d,_,f){!function t(e,i,o,r,n){for(var s=0,a=o.length;s<a;s++){var l=o[s],u=ht.DataHelper.xmlToRow(l,r,n),h=e._addRow(p,i,_,f,u),c=pt.DataPath.extractXml(l,d);c&&0<c.length&&t(e,h,c,r,n)}}(this,p,e,t.getFields(),t.getOrgFieldNames())},C);function C(t,e){return v.call(this,t,e)||this}e.XmlTreeSource=b});t(dt);dt.TreeDataSource,dt.ArrayTreeSource,dt.CsvTreeSource,dt.JsonTreeSource,dt.XmlTreeSource;var _t=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=h.DataEditCommand,i(s,r),s);function s(t){return r.call(this,t)||this}e.LocalTreeDataCommand=n;var a,l=(a=b.EditCommandStack,i(u,a),u);function u(){return null!==a&&a.apply(this,arguments)||this}e.LocalTreeDataCommandStack=l});t(_t);_t.LocalTreeDataCommand,_t.LocalTreeDataCommandStack;var ft=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=_t.LocalTreeDataCommand,i(s,n),s.prototype._doRun=function(t){var e={};return e.row=this._row._keepRow(t),(e.result=this._row.$_update(t,this._values,this._strict,!1))&&(this._newState=this._row.rowState),e},s.prototype._doRedo=function(t,e){this._row.$_update(t,this._values,this._strict,!1)},s.prototype._doUndo=function(t,e){this._row._yieldRow(t,e.row),e.row.state!=this._newState&&t._fireRowStateChanged(this._row,!1),t._rowUpdated(this._row)},s);function s(t,e,i,o){var r=n.call(this,t)||this;return r._row=e,r._values=r._cloneRow(i),r._strict=o,r}e.UpdateTreeDataCommand=r});t(ft);ft.UpdateTreeDataCommand;var yt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"rowId",{get:function(){return this._rowId},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"provider",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"index",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"level",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"iconIndex",{get:function(){return-1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hasChildren",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"count",{get:function(){return this._children?this._children.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"descendantCount",{get:function(){return this._descendantCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"children",{get:function(){return this._children?this._children.concat():null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"descendants",{get:function(){if(this._children){var t=[];return function t(e,i){for(var o=0,r=e.count;o<r;o++){var n=e.getChild(o);i.push(n),t(n,i)}}(this,t),t}return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ancestors",{get:function(){var t=null,e=this.parent;if(e)for(t=[];e&&0<=e.rowId;)t.push(e),e=e.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowState",{get:function(){return w.RowState.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"values",{get:function(){return null},enumerable:!0,configurable:!0}),s.prototype.getChild=function(t){if(0<=t){if(!this._children||t>=this._children.length)throw new RangeError("Index is invalid: "+t);return this._children[t]}throw new RangeError("Index is invalid: "+t)},s.prototype.getChildObjects=function(t,e,i,o){var r=this._children;if(r){var n=[];e=e||"rows",i=i||"iconIndex";for(var s=0,a=r.length;s<a;s++){var l=r[s],u=l.getObject();o&&(u._rowId=l._rowId),t&&(u[e]=l.getChildObjects(t,e,i,o)),u[i]=l.iconIndex,n.push(u)}return n}return null},s.prototype.$_createTreeOutputRows=function(t,e,i){},s.prototype.getOutput=function(t,e){return null},s.prototype.getChildOutputObjects=function(t,e,i,o){var r=this.getChildObjects(e,i,o,!0);return r&&t&&this.$_createTreeOutputRows(r,t,i),r},s.prototype.findById=function(t){if(this._children)for(var e=0,i=this._children.length;e<i;e++){var o=this._children[e];if(o.rowId==t)return o;if(o=o.findById(t))return o}return null},s.prototype.indexOf=function(t){return this._children?this._children.indexOf(t):-1},s.prototype.insertChild=function(t,e,i){return this._insertChild(t,e,!1,i)},s.prototype.addChild=function(t,e){return this._insertChild(this.count,t,!1,e)},s.prototype.removeChild=function(t){return this._removeChild(t,!1)},s.prototype.clearChildren=function(){var t=this.provider;t&&!t._checkClientState()||this._removeChildren()},s.prototype.findChild=function(t,e){var i=this.provider;if(!i||!t||t.length<1||!e||e.length<t.length)return null;for(var o=[],r=[],n=0,s=t.length;n<s;n++){var a=void 0;0<=(a="string"==typeof t[n]?i.getFieldIndex(t[n]):Number(t[n]))&&a<i.fieldCount&&o.indexOf(a)<0&&(o.push(a),r.push(e[n]))}n=0;for(var l=o.length;n<l;n++)o[n]=i.getField(o[n]);return this.$_findChild(o,r)},s.prototype.isAncestorOf=function(t){if(t&&t!==this){for(var e=t.parent;e&&e!==this;)e=e.parent;return e===this}return!1},s.prototype.clearRowStates=function(t,e){var i=this.provider;if(i){var o=[],r=t?[]:null;this._collectStateRows(o,r);var n=o.length,s=r?r.length:0;if(0!=n||0!=s){if(e)for(var a=0,l=o.length;a<l;a++)o[a]._changeRowState(w.RowState.NONE,!0,!1);else n&&i.changeRowStates(o,w.RowState.NONE);s&&i.deleteRows(r)}}},s.prototype.toTreeString=function(){for(var t=this.rowId+"",e=new Array(this.level+1).join("  "),i=0;i<this.count;i++)t+="\n"+e+this.getChild(i).toTreeString();return t},s.prototype._checkFieldIndex=function(t){var e=this.provider.fieldCount;if(t<0||e<=t)throw new g.DataSourceError("Field index is out of bounds: "+t)},s.prototype._descendantCountChanged=function(t){this._descendantCount+=t;var e=this.parent;e&&e._descendantCountChanged(t)},s.prototype._moveChild=function(t,e){if(t<0||t>=this._children.length)throw new RangeError("index is out of range: "+t);if(e<0||e>=this._children.length)throw new RangeError("newIndex is out of range: "+e);var i=this._children[t];if(e<t)for(var o=t;e<o;o--)this._children[o]=this._children[o-1];else for(o=t;o<e;o++)this._children[o]=this._children[o+1];this._children[e]=i},s.prototype._changeParent=function(t,e){if(e<0||e>t._children.length)throw new RangeError("index is out of range: "+e);var i=this.parent,o=this.index;i._children.splice(o,1),i._descendantCountChanged(-1-this.descendantCount),i._detach(this),t._children.splice(e,0,this),t._descendantCountChanged(1+this.descendantCount),t._attach(this)},s.prototype._insertChild=function(t,e,i,o){var r=this.provider;if(r&&!i){if(!r._checkClientState())return!1;r.refreshFieldFormats()}if(!e)throw new Error("child is null");if(this._children=this._children||[],t<0||t>this._children.length)throw new RangeError("Insert index is invalid: "+t);return!(!i&&!this._doChildAdding(t,e)||(this._children.splice(t,0,e),this._descendantCountChanged(1+e.descendantCount),this._attach(e),o||e._changeRowState(w.RowState.CREATED,!0,!1),this._doChildAdded(t,e),0))},s.prototype._addChild=function(t,e,i){return this._insertChild(this.count,t,e,i)},s.prototype.$_removeChild=function(t,e,i){return!(!i&&!this._doChildRemoving(t)||(this._children.splice(e,1),this._descendantCountChanged(-1-t.descendantCount),this._detach(t),this._doChildRemoved(t),0))},s.prototype._removeChild=function(t,e){var i=this.provider;if(!i||e||i._checkClientState()){if(t&&this._children)for(var o=this._children.length;o--;)if(this._children[o]===t){if(!i.softDeleting||!i.checkStates)return this.$_removeChild(t,o,e);switch(t.rowState){case w.RowState.CREATED:if(i.deleteCreated)return this.$_removeChild(t,o,e);t._changeRowState(w.RowState.CREATE_AND_DELETED,!0,!1);break;case w.RowState.DELETED:case w.RowState.CREATE_AND_DELETED:break;default:t._changeRowState(w.RowState.DELETED,!0,!1)}}return!1}},s.prototype._removeChildren=function(){this._children&&0<this._children.length&&(this._children.splice(0,this._children.length),this._descendantCountChanged(-this._descendantCount),this._doCleared())},s.prototype._setChildren=function(t){this._children&&0<this._children.length&&this._children.splice(0,this._children.length);var e,i=-this._descendantCount;if(t&&0<(e=t.length)){this._children||(this._children=[]);for(var o=0;o<e;o++){var r=t[o];this._children.push(r),i+=1+r.descendantCount,this._attach(r)}}this._descendantCountChanged(i)},s.prototype.$_findChild=function(t,e){for(var i=t.length,o=this.count,r=0;r<o;r++){for(var n=this._children[r],s=!0,a=0;a<i;a++)if(!t[a].equalValues(e[a],n.getValue(t[a].index))){s=!1;break}if(s)return n;if(n=n.$_findChild(t,e))return n}return null},s.prototype._collectStateRows=function(t,e){for(var i=this.count;i--;){var o=this.getChild(i),r=o.rowState;!e||r!=w.RowState.DELETED&&r!=w.RowState.CREATE_AND_DELETED?(r!=w.RowState.NONE&&t.push(o),o._collectStateRows(t,e)):e.push(o)}},s.prototype._clearOrgValues=function(){for(var t=this.count;t--;)this.getChild(t)._clearOrgValues()},s.prototype._restoreState=function(t,e){if(t)for(var i=this.count;i--;)this.getChild(i)._restoreState(!0,e);return!1},s.prototype._restoreRow=function(t,e){if(t)for(var i=this.count;i--;)this.getChild(i)._restoreRow(!0,e);return!1},s.prototype._doChildAdding=function(t,e){var i=this.provider;return!i||i._rowAdding(this,t,e)},s.prototype._doChildAdded=function(t,e){var i=this.provider;i&&i._rowAdded(e)},s.prototype._doChildRemoving=function(t){var e=this.provider;return!e||e._rowRemoving(t)},s.prototype._doChildRemoved=function(t){var e=this.provider;e&&e._rowRemoved(t)},s.prototype._doCleared=function(){var t=this.provider;t&&t._rowCleared(this)},s);function s(t){var e=r.call(this)||this;return e._children=null,e._descendantCount=0,e._rowId=t&&t._nextRowId++,e}e.TreeDataRow=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){this._provider=null,a.prototype._doDispose.call(this)},u.prototype.set=function(t){for(var e=[],i=0;i<t.count;i++)e.push(t.getChild(i).copy());this._setChildren(e)},Object.defineProperty(u.prototype,"provider",{get:function(){return this._provider},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowId",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"index",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"hasChildren",{get:function(){return!0},enumerable:!0,configurable:!0}),u.prototype.copy=function(){for(var t=new u(null),e=0,i=this.count;e<i;e++){var o=this.getChild(e).copy();t._addChild(o,!0,!0)}return t._provider=this._provider,t},u.prototype._changeRowState=function(t,e,i){return!1},u.prototype.getObject=function(){return null},u.prototype.getValue=function(t){},u.prototype.setValue=function(t,e,i){},u.prototype._attach=function(t){t._parent=this},u.prototype._detach=function(t){t._parent===this&&(t._parent=null)},u.prototype.update=function(t){return!1},u.prototype.updateStrict=function(t){return!1},u.prototype.$_setHasChildren=function(t){},u.prototype.$_setIconIndex=function(t){},u.prototype._keepRow=function(t){},u.prototype._yieldRow=function(t,e){},u.prototype._keepStates=function(t){},u.prototype._yieldStates=function(t,e){},u);function u(t){var e=a.call(this,t)||this;return e._provider=t,e}e.RootTreeRow=l;var h,c=(h=g.DataSource,i(p,h),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},p.prototype.editCommandStackChanged=function(t,e,i){this._fireCommandStackChanged(e,i)},p.prototype.registerCommandListener=function(t){t&&this._commandListeners.indexOf(t)<0&&this._commandListeners.push(t)},p.prototype.unregisterCommandListener=function(t){var e=this._commandListeners.indexOf(t);0<=e&&this._commandListeners.splice(e,1)},p.prototype._keepCommandStates=function(t){if(0<this._commandListeners.length)return this._commandListeners[0].getCommandStates(t)},p.prototype._yieldCommandStates=function(t,e){if(0<this._commandListeners.length)return this._commandListeners[0].setCommandStates(t,e)},p);function p(){var t=h.call(this)||this;return t._nextRowId=0,t._commandListeners=[],t}e.TreeDataProvider=c});t(yt);yt.TreeDataRow,yt.RootTreeRow,yt.TreeDataProvider;var mt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,l=(a=yt.TreeDataRow,i(r,a),r.prototype._doDispose=function(){this._values=null,this._orgValues=null,a.prototype._doDispose.call(this)},Object.defineProperty(r.prototype,"provider",{get:function(){return this._parent&&this._parent.provider},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this._parent?this._parent.indexOf(this):-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"level",{get:function(){return this._parent?this._parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hasChildren",{get:function(){return this._hasChildren},set:function(t){if(t!=this._hasChildren){this._hasChildren=t;var e=this.provider;e&&e._hasChildrenChanged(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"iconIndex",{get:function(){return this._iconIndex},set:function(t){if(isNaN(t)&&(t=-1),t!=this._iconIndex){this._iconIndex=t;var e=this.provider;e&&e._iconIndexChanged(this)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowState",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"values",{get:function(){return this._values&&this._values.concat()},enumerable:!0,configurable:!0}),r.prototype._attach=function(t){t._parent=this},r.prototype._detach=function(t){t._parent===this&&(t._parent=null)},r.prototype._changeRowState=function(t,e,i){var o=this.provider;if(o&&t!=this._state){var r=this._state;return(this._state=t)==w.RowState.UPDATED&&o._needOrgValues?this._orgValues=this._values.concat():r==w.RowState.UPDATED&&this._orgValues&&(this._orgValues=null),e&&o._stateChanged(this,i),!0}return!1},r.prototype.getValue=function(t){if(this.provider){if(this._checkFieldIndex(t),this._values)return this._values[t];throw new Error("Row data is not loaded")}},r.prototype.setValue=function(t,e,i){var o=this.provider;if(o){if(!o._checkClientState())return;if(o.refreshFieldFormats(),this._checkFieldIndex(t),this._values){if(e!=this._values[t]){var r=null,n=o.checkStates&&(this._state==w.RowState.NONE||!this._state);!i&&n&&o._needOrgValues&&(r=this._values.concat()),this._values[t]=e,o._internalCalculateValues(this._values,this.rowId),!i&&n?(o._needOrgValues&&(this._orgValues=r),this._state=w.RowState.UPDATED,o._stateChanged(this,!1)):o._needRestore&&this.$_restoreState(o),o._valueChanged(this,t)}return}throw new Error("Row data is not loaded")}},r.prototype.getObject=function(){var t=this.provider;if(t){for(var e=t.fieldCount,i={},o=0;o<e;o++)i[t.getOrgFieldName(o)]=this._values[o];return i}return null},r.prototype.copy=function(){var t=new r(null,null);t._rowId=this._rowId,t._iconIndex=this._iconIndex,t._hasChildren=this._hasChildren,t._state=this._state,t._values=this._values?this._values.concat():null;for(var e=0,i=this.count;e<i;e++){var o=this.getChild(e).copy();t._addChild(o,!0,!0)}return t},r.prototype.update=function(t){var e=this.provider;return!!e&&(e._commands?e._commands.execute(new ft.UpdateTreeDataCommand(e,this,t,!1)):this.$_update(e,t,!1,!1))},r.prototype.updateStrict=function(t){var e=this.provider;return!!e&&this.$_update(e,t,!0,!1)},r.prototype._keepRow=function(t){var e={};return e.values=this._values&&this._values.slice(),e.state=this._state,e.orgValues=this._orgValues&&this._orgValues.slice(),e.outer=t._keepCommandStates(this),e},r.prototype._yieldRow=function(t,e){this._values=e.values&&e.values.slice(),this._state=e.state,this._orgValues=e.orgValues&&e.orgValues.slice(),t._yieldCommandStates(this,e.outer)},r.prototype._keepStates=function(t){},r.prototype._yieldStates=function(t,e){},r.prototype._keepState=function(){return this._state},r.prototype._yieldState=function(t){this._state=t},r.prototype.$_update=function(t,e,i,o){if(!o){if(!t._checkClientState())return;t.refreshFieldFormats()}return!(!e||!o&&!t._rowUpdating(this)||(this.$_internalUpdate(e,i,!0),t._rowUpdated(this),0))},r.prototype._clearOrgValues=function(){this._orgValues&&(this._orgValues.length=0,this._orgValues=null),a.prototype._clearOrgValues.call(this)},r.prototype._restoreState=function(t,e){var i=this.$_restoreState(this.provider);return i&&e&&e.push(this),a.prototype._restoreState.call(this,t,e),i},r.prototype._restoreRow=function(t,e){var i=!1;if(this._state===w.RowState.UPDATED){var o=this._orgValues;if(o){for(var r=this._values,n=0,s=Math.min(o.length,this.provider.fieldCount);n<s;n++)r[n]=o[n];this._state=w.RowState.NONE,e&&e.push(this),i=!0}}return a.prototype._restoreRow.call(this,t,e),i},r.prototype.$_restoreState=function(t){if(this._state==w.RowState.UPDATED&&this._orgValues){for(var e=this._orgValues,i=this._values,o=this.provider,r=o.strictRestore,n=0,s=o.fieldCount;n<s;n++){var a=i.length>n?i[n]:void 0,l=e.length>n?e[n]:void 0;if(r){if(!o.getField(n).equalValues(a,l))return!1}else if(!o.getField(n).sameValues(a,l))return!1}return this._state=w.RowState.NONE,!0}return!1},r.prototype.$_getUpdatedCells=function(){var t=this._orgValues,e=this._values,i=this.provider,o=i.strictRestore,r=[];if(!t||t.length<=0)return null;for(var n=0,s=i.fieldCount;n<s;n++){var a=e.length>n?e[n]:void 0,l=t.length>n?t[n]:void 0,u=i.getField(n);u.calculated||(o?u.equalValues(a,l)||r.push({fieldName:i.getOrgFieldName(n),oldValue:t[n],newValue:e[n]}):u.sameValues(a,l)||r.push({fieldName:i.getOrgFieldName(n),oldValue:t[n],newValue:e[n]}))}return r},r.prototype.$_setHasChildren=function(t){this._hasChildren=t},r.prototype.$_setIconIndex=function(t){this._iconIndex=isNaN(t)?-1:t},r.prototype.$_internalUpdate=function(t,e,i){var o=!1,r=Array.isArray(t),n=this.provider;if(n){var s=Math.min(n.fieldCount,r?t.length:n.fieldCount),a=n.checkStates&&(this._state==w.RowState.NONE||!this._state),l=null;a&&n._needOrgValues&&(l=this._values.concat());for(var u=0;u<s;u++){var h=n.getField(u);if(r||t.hasOwnProperty(h.orgFieldName)){var c=r?t[u]:t[h.orgFieldName];e&&void 0===c||(o=!n._needRestore||o||(e?!h.equalValues(this._values[u],h.readValue(c)):!h.sameValues(this._values[u],h.readValue(c))),this._values[u]=n.getField(u).readValue(c))}}n._internalCalculateValues(this._values,this.rowId),a&&o?(l&&(this._orgValues=l),this._state=w.RowState.UPDATED,i&&n._stateChanged(this,!1)):n._needRestore&&this.$_restoreState(n)}},r);function r(t,e){var i=a.call(this,t)||this;if(i._iconIndex=-1,i._hasChildren=!1,i._parent=null,i._values=null,i._orgValues=null,i._state=w.RowState.NONE,i._extents=0,t&&e){var o=t.fieldCount;Math.min(e.length,o);i._values=new Array(o);for(var r=0,n=Math.min(e.length,o);r<n;r++)i._values[r]=t.getField(r).readValue(e[r])}return i}e.TreeDataRowImpl=l;var n,s=(n=yt.TreeDataProvider,i(u,n),u.prototype._doDispose=function(){this._commands=this._commands&&this._commands.dispose(),this._points=null,this._rootRow=null,this._rowMap=null,this._tags=null,this._hiddenRows=null,n.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"rootRow",{get:function(){return this._rootRow},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"parentCallback",{get:function(){return this._parentCallback},set:function(t){this._parentCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"needOrgValues",{get:function(){return this._needOrgValues},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"needRestore",{get:function(){return this._needRestore},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"undoable",{get:function(){return this._undoable&&!!this._commands},set:function(t){t!=this.undoable&&(this._undoable=t,this._commands&&this._commands.flush())},enumerable:!0,configurable:!0}),u.prototype.addTag=function(t){this._tags.add(t)},u.prototype.removeTag=function(t){this._tags.remove(t)},u.prototype.setRows=function(t,e,i,o,r){if(!this._checkClientState())return-1;var n=0,s=this.getFieldIndex(e);if(0<=s){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var a=new dt.ArrayTreeSource(this,this._rootRow);a.parentCallback=this._parentCallback,n=a.load(null,t,s,i,this.getFieldIndex(o),this.getFieldIndex(r)),this._checkSum(n)}finally{this.endUpdate(!1)}}return this._tags.setRows(),this._fireReset(),this._fireRowCountChanged(),n},u.prototype.setCsvRows=function(t,e,i,o,r){if(!this._checkClientState())return-1;var n=0,s=this.getFieldIndex(e);if(0<=s){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var a=new dt.CsvTreeSource(this,this._rootRow);a.parentCallback=this._parentCallback,n=a.load(null,t,s,i,this.getFieldIndex(o),this.getFieldIndex(r)),this._checkSum(n)}finally{this.endUpdate(!1)}}return this._tags.setRows(),this._fireReset(),this._fireRowCountChanged(),n},u.prototype.setXmlRows=function(t,e,i,o){if(!this._checkClientState())return-1;var r=0;if(t){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats(),r=new dt.XmlTreeSource(this,this._rootRow).load(null,t,e,this.getFieldIndex(i),this.getFieldIndex(o)),this._checkSum(r)}finally{this.endUpdate(!1)}}return this._tags.setRows(),this._fireReset(),this._fireRowCountChanged(),r},u.prototype.setJsonRows=function(t,e,i,o){if(!this._checkClientState())return-1;if(t){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var r=new dt.JsonTreeSource(this,this._rootRow);this._rowCount=r.load(null,t,e,this.getFieldIndex(i),this.getFieldIndex(o))}finally{this.endUpdate(!1)}}return this._tags.setRows(),this._fireReset(),this._fireRowCountChanged(),this.rowCount},u.prototype.setJsonRows2=function(t,e,i,o,r){if(!this._checkClientState())return-1;if(t){this.beginUpdate();try{this._clearRows(),this.refreshFieldFormats();var n=new dt.JsonTreeSource(this,this._rootRow);this._rowCount=n.load2(null,t,e,i,o,r)}finally{this.endUpdate(!1)}}return this._tags.setRows(),this._fireReset(),this._fireRowCountChanged(),this.rowCount},u.prototype.appendDataRows=function(t,e,i,o,r,n){if(!this._checkClientState())return-1;var s=0,a=this.getFieldIndex(i);if(0<=a){var l=new dt.ArrayTreeSource(this,this._rootRow);l.parentCallback=this._parentCallback,this.beginUpdate();try{this.refreshFieldFormats(),s=l.load(t,e,a,o,this.getFieldIndex(r),this.getFieldIndex(n))}finally{if(this.endUpdate(!1),0<s){var u=l.insertedRows;u&&0<(s=u.length)&&this._rowsAdded(t,u)}}}return s},u.prototype.appendCsvRows=function(t,e,i,o,r,n){if(!this._checkClientState())return-1;var s=0,a=this.getFieldIndex(i);if(0<=a){this.beginUpdate();try{this.refreshFieldFormats();var l=new dt.CsvTreeSource(this,this._rootRow);l.parentCallback=this._parentCallback,s=l.load(t,e,a,o,this.getFieldIndex(r),this.getFieldIndex(n))}finally{this.endUpdate(!1)}}return this._tags.setRows(),this._fireReset(),this._fireRowCountChanged(),s},u.prototype.appendXmlRows=function(t,e,i,o,r){if(!this._checkClientState())return-1;var n=0;if(e){var s=new dt.XmlTreeSource(this,this._rootRow);this.beginUpdate();try{this.refreshFieldFormats(),n=s.load(t,e,i,this.getFieldIndex(o),this.getFieldIndex(r))}finally{if(this.endUpdate(!1),0<n){var a=s.insertedRows;a&&0<(n=a.length)&&this._rowsAdded(t,a)}}}return this._fireRowCountChanged(),n},u.prototype.appendJsonRows=function(t,e,i,o,r){if(!this._checkClientState())return-1;var n=0;if(e){var s=new dt.JsonTreeSource(this,this._rootRow);this.beginUpdate();try{this.refreshFieldFormats(),n=s.load(t,e,i,this.getFieldIndex(o),this.getFieldIndex(r))}finally{if(this.endUpdate(!1),0<n){var a=s.insertedRows;a&&0<(n=a.length)&&this._rowsAdded(t,a)}}}return this._fireRowCountChanged(),n},u.prototype.setIconIndex=function(t,e){return t.iconIndex!=e&&(t.$_setIconIndex(e),!0)},u.prototype.setHasChildren=function(t,e){return e!=t.hasChildren&&(t.$_setHasChildren(e),!0)},u.prototype.getAllRows=function(){return[]},u.prototype.getJsonRows=function(t,e,i){return[]},u.prototype.getChildCount=function(t){return(t||this._rootRow).count},u.prototype.getRows=function(t){return(t||this._rootRow).children},u.prototype.getDescendantCount=function(t){return(t||this._rootRow).descendantCount},u.prototype.getDescendants=function(t,e){e=1<arguments.length?e:0;var i=t||this._rootRow;if(e<=0)return i.descendants;if(e>i.level){var o=[];return function t(e,i,o){for(var r=0,n=e.count;r<n;r++){var s;i.push(s=e.getChild(r)),o>s.level&&t(s,i,o)}}(i,o,e),o}return null},u.prototype.getChild=function(t,e){return(t||this._rootRow).getChild(e)},u.prototype.hasData=function(t){return null!=this.rowById(t)},u.prototype.rowById=function(t){var e=this._rowMap[t];return e||(e=this._findRowById(t))&&(this._rowMap[t]=e),e},u.prototype.createRow=function(t,e,i){var o=null;if(this.refreshFieldFormats(),Array.isArray(t))o=new l(this,t);else if(t){var r=new Array(this.fieldCount);for(var n in t){var s=this.getFieldIndex(n);0<=s&&(r[s]=t[n])}o=new l(this,r)}return o&&(this._internalCalculateValues(o._values,o.rowId),o._iconIndex=e,o._hasChildren=i),o},u.prototype.clearRows=function(){this._checkClientState()&&(this._clearRows(),this._eventLock<=0&&(this._fireRefresh(),this._fireRowCountChanged()))},u.prototype.removeRows=function(o){function t(t,e){for(var i=e;0<=i;i--)if(o[i].isAncestorOf(t))return!1;return!0}if(this._checkClientState()&&o&&!(o.length<1)){o.sort(function(t,e){return t.level-e.level});for(var e=o,i=o.length;i--;)1<o[i].level&&!t(o[i],i-1)&&o.splice(i,1);if(o.length<1||!this._rowsRemoving(o))return!1;if(this.softDeleting&&this.checkStates){var r=[];for(i=o.length-1;0<=i;i--){var n=o[i],s=!1;switch(n.rowState){case w.RowState.CREATED:this.deleteCreated||(s=n._changeRowState(w.RowState.CREATE_AND_DELETED,!1,!1),o.splice(i,1));break;case w.RowState.DELETED:case w.RowState.CREATE_AND_DELETED:o.splice(i,1);break;default:s=n._changeRowState(w.RowState.DELETED,!0,!1),o.splice(i,1)}s&&r.push(n)}0<r.length&&this._fireRowStatesChanged(r)}return this.deleteRows(e),!0}},u.prototype.moveRowSibling=function(t,e){if(0==e)return!1;if(!this._checkClientState())return!1;var i=t.parent,o=i.children.length,r=t.index,n=Math.min(Math.max(r+e,0),o-1);return 0!=(e=n-r)&&!!this._fireRowSiblingMoving(t,e)&&(i._moveChild(r,n),this._fireRowSiblingMoved(t,e),!0)},u.prototype.changeRowParent=function(t,e,i){if(t===e)throw new Error("parent must not be self.");if(t.isAncestorOf(e))throw new Error("can`t move to child of descendant.");var o=t.parent;if(o===e&&i==t.index)return!1;if(!this._checkClientState())return!1;e._children||(e._children=[]);var r=e._children.length;return i=Math.min(Math.max(i,0),r),!!this._fireRowParentChanging(t,e,i)&&(t._changeParent(e,i),e instanceof yt.RootTreeRow||this.setHasChildren(e,!0),o instanceof yt.RootTreeRow||0!=o.count||this.setHasChildren(o,!1),this._fireRowParentChanged(t,e,i),!0)},u.prototype.toTreeString=function(){return this._rootRow.toTreeString()},u.prototype.beginUpdate=function(){this._checkClientState(),this._eventLock++},u.prototype.endUpdate=function(t){void 0===t&&(t=!0),this._checkClientState(),this._eventLock=Math.max(0,this._eventLock-1),0==this._eventLock&&(t&&(0<this._resetLock?this._fireReset():this._fireRefresh(),this._countDirty&&this._fireRowCountChanged()),this._resetLock=0,this._countDirty=!1)},u.prototype.$_extractTreeRowIds=function(t){if(t){for(var e=t.length,i=new Array(e),o=0;o<e;o++)i[o]=t[o].rowId;return i}return null},u.prototype.$_searchDataRow=function(t,e,i,o,r,n){var s=t.length;if(s<1)return-1;var a=Math.min(e.length,i.length);if(a<1)return-1;for(var l=!o||o.allFields,u=o&&o.caseSensitive,h=o&&o.partialMatch,c=null,p=[],d=0;d<a;d++)p[d]=this.getField(e[d]).dataType;r=Math.max(0,r),n=Math.min(s-1,n);for(var _=r;_<=n;_++){var f=!0;if(f)for(d=0;d<a;d++){var y=this.rowById(t[_]).getValue(e[d]);switch(p[d]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(i[d]instanceof Date)f=U.Utils.compareTextValue(i[d],y,u,h);else{if(!c){var m=/[.]/.test(i[d])?"yyyy.MM.dd":/[/]/.test(i[d])?"yyyy/MM/dd":/[-]/.test(i[d])?"yyyy-MM-dd":"yyyyMMdd";c=new L.DateTimeConverter(m)}f=U.Utils.compareTextValue(i[d],y?c.getText(y):y,u,h)}break;default:f=U.Utils.compareTextValue(i[d],y,u,h)}if(f&&!l)return t[_];if(!f&&l)break}if(f)return t[_]}return-1},u.prototype.searchDataRow=function(t,e,i,o,r,n){var s;if(void 0===o&&(o=0),void 0===r&&(r=!0),void 0===n&&(n=null),i=i instanceof T.SearchOptions?i:i?new T.SearchOptions(i):null,null!=n){var a=this.rowById(n);if(!a)return-1;s=this.$_extractTreeRowIds(a.descendants)}else s=this.$_extractTreeRowIds(this._rootRow.descendants);if(!Array.isArray(s)||s.length<=0)return-1;var l=s.length,u=Math.max(0,s.indexOf(o)),h=-1;if(t&&0<t.length&&e&&0<e.length){for(var c=t.length,p=[],d=0;d<c;d++){var _=t[d];if(U.Utils.isNumber(_))p.push(_);else{var f=this.getFieldIndex(t[d]);0<=f&&p.push(f)}}0<p.length&&(h=u<l?this.$_searchDataRow(s,p,e,i,u,l-1):-1)<0&&r&&0<u&&(h=this.$_searchDataRow(s,p,e,i,0,u-1))}return h},u.prototype.$_searchData=function(t,e,i,o,r,n,s){var a=this.rowCount;if(a<1)return null;for(var l=o&&o.caseSensitive,u=o&&o.partialMatch,h=this.fieldCount,c=e.length,p=null,d=[],_=0;_<h;_++)d[_]=this.getField(_).dataType;r=Math.max(0,r),n=Math.min(a-1,n),(s=Math.max(0,s))>=e.length&&(r++,s=0);for(var f=r;f<=n;f++)for(_=r<f?0:s;_<c;_++){var y=!1,m=e[_];if(0<=m&&m<h){var g=this.rowById(t[f]).getValue(m);switch(d[m]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(i instanceof Date)y=U.Utils.compareTextValue(i,g,l,u);else{if(!p){var v=/[.]/.test(i)?"yyyy.MM.dd":/[/]/.test(i)?"yyyy/MM/dd":/[-]/.test(i)?"yyyy-MM-dd":"yyyyMMdd";p=new L.DateTimeConverter(v)}y=U.Utils.compareTextValue(i,g?p.getText(g):g,l,u)}break;default:y=U.Utils.compareTextValue(i,g,l,u)}if(y)return{dataRow:t[f],fieldIndex:m,searchFieldIndex:_}}}return null},u.prototype.searchData=function(t,e,i,o,r,n,s){var a;if(void 0===o&&(o=0),void 0===r&&(r=0),void 0===n&&(n=!0),void 0===s&&(s=-1),i=i instanceof T.SearchCellOptions?i:i?new T.SearchCellOptions(i):null,0<=s){var l=this.rowById(s);if(!l)return null;a=this.$_extractTreeRowIds(l.descendants)}else a=this.$_extractTreeRowIds(this._rootRow.descendants);if(!Array.isArray(a)||a.length<=0)return null;var u=a.length,h=null;if(o=Math.max(0,a.indexOf(o)),!t||t.length<1){t=[];for(var c=this.getFields(),p=0;p<c.length;p++)t.push(c[p].orgFieldName)}if(t&&0<t.length&&null!=e){for(var d=t.length,_=[],f=0;f<d;f++){var y=t[f];U.Utils.isNumber(y)?_.push(y):_.push(this.getFieldIndex(t[f]))}0<_.length&&(r=Math.max(0,r),!(h=o<u?this.$_searchData(a,_,e,i,o,u-1,r):null)&&n&&0<o&&(h=this.$_searchData(a,_,e,i,0,o-1,0)),h&&(h.fieldName=this.getOrgFieldName(h.fieldIndex)))}return h},u.prototype.$_hideDataRows=function(t,e){if(null!=t){for(var i=U.Utils.isArray(t)?t:[t],o=this._hiddenRows.length,r=[],n=0,s=i.length;n<s;n++){var a=i[n];if(null!=this._findRowById(a))if(r.push(a),e)this._hiddenRows.indexOf(a)<0&&this._hiddenRows.push(a);else{var l=this._hiddenRows.indexOf(a);0<=l&&this._hiddenRows.splice(l,1)}}this._hiddenRows.length!==o&&this._fireRowsHiddenChanged(r,e)}},u.prototype.hideRows=function(t){this.$_hideDataRows(t,!0)},u.prototype.showRows=function(t){this.$_hideDataRows(t,!1)},u.prototype.clearHiddenRows=function(){if(0<this._hiddenRows.length){var t=this._hiddenRows.concat();this._hiddenRows=[],this._fireRowsHiddenChanged(t,!1)}},u.prototype.getHiddenRows=function(){var t=this._hiddenRows.concat();return t.sort(function(t,e){return t-e}),t},u.prototype.isHiddenRow=function(t){return!!this.rowById(t)&&0<=this._hiddenRows.indexOf(t)},Object.defineProperty(u.prototype,"hiddenCount",{get:function(){return this._hiddenRows.length},enumerable:!0,configurable:!0}),u.prototype.summarize=function(t,e){if(null==t)return!1;t.clear();var i=this.rowCount;if(i<1)return!1;if(t.count=i,t.sum=0,t.min=Number.MAX_VALUE,t.max=Number.MIN_VALUE,t.dataCount=0,this.$_summarizeChildren(this._rootRow,t),t.avg=t.sum/t.count,t.dataAvg=0===t.dataCount?NaN:t.sum/t.dataCount,e){var o=this.$_summarizeVars(this._rootRow,t);t.varsp=o/t.count,t.vars=o/(t.count-1)}return!0},u.prototype.summarizeRange=function(t,e,i){if(null==t||null==e)return!1;t.clear();var o=e.length;if(o<1)return!1;for(var r=0,n=t.field,s=0,a=NaN,l=NaN,u=0;u<o;){var h=e[u++].getValue(n);if(!isNaN(h)){s=a=l=h,r++;break}}for(;u<o;)h=e[u++].getValue(n),isNaN(h)||(s+=h,h<a&&(a=h),l<h&&(l=h),r++);if(t.count=o,0<r&&(t.sum=s,t.min=a,t.max=l,t.avg=s/o,t.dataCount=r,t.dataAvg=0===t.dataCount?NaN:t.sum/t.dataCount,i))if(1<o){for(var c=0,p=t.avg,d=0;d<o;d++)h=e[d++].getValue(n),isNaN(h)||(c+=Math.pow(h-p,2));t.varsp=c/o,t.vars=c/(o-1)}else t.varsp=0,t.vars=0;return!0},Object.defineProperty(u.prototype,"rowCount",{get:function(){return this._rootRow.descendantCount},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"immediateUpdate",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isSummarized",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"canUndo",{get:function(){return this._commands&&this._commands.canUndo},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"canRedo",{get:function(){return this._commands&&this._commands.canRedo},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"undoing",{get:function(){return this._commands&&this._commands.undoing},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"redoing",{get:function(){return this._commands&&this._commands.redoing},enumerable:!0,configurable:!0}),u.prototype.getRow=function(t){return this.rowById(t).values},u.prototype.deleteRows=function(t){if(this._checkClientState()&&t&&0<t.length){var e=this._softDeleting;this.beginUpdate();try{this._softDeleting=!1,this._tagLock=!0;try{for(var i=t.length-1;0<=i;i--){var o=t[i],r=o&&o.parent;r&&r._removeChild(o,!0)}}finally{this._tagLock=!1}}finally{this._softDeleting=e,this.endUpdate(!1)}this._rowsRemoved(t)}},u.prototype.equalValues=function(t,e,i){if(e===i)return!0;var o=this._fields[t],r=e.getValue(t),n=i.getValue(t);return o.equalValues(r,n)},u.prototype.sameValues=function(t,e,i){if(e===i)return!0;var o=this._fields[t],r=e.getValue(t),n=i.getValue(t);return o.sameValues(r,n)},u.prototype.compareValues=function(t,e,i){if(e===i)return 0;var o=e.getValue(t),r=i.getValue(t);return null===o?null===r?0:-1:null===r?1:r<o?1:o<r?-1:0},u.prototype.compareNumbers=function(t,e,i){if(e===i)return 0;var o=e.getValue(t),r=i.getValue(t);return isNaN(o)?isNaN(r)?0:-1:isNaN(r)?1:r<o?1:o<r?-1:0},u.prototype.compareBools=function(t,e,i){if(e===i)return 0;var o=e.getValue(t),r=i.getValue(t);return o&&!r?1:!o&&r?-1:0},u.prototype.compareDates=function(t,e,i){if(e===i)return 0;var o=e.getValue(t),r=i.getValue(t);return o instanceof Date?r instanceof Date?r<o?1:o<r?-1:0:1:r instanceof Date?-1:0},u.prototype.compareObjects=function(t,e,i){var o=this._values[e],r=this._values[i];if(o===r)return 0;var n=o?o[t]:null,s=r?r[t]:null;return n?s?this.getField(t).$_compareObject(n,s,e,i):1:s?-1:0},u.prototype.$_getSortedRows=function(t){var e;switch(this.getField(t).dataType){case H.ValueType.NUMBER:e=this.compareNumbers;break;case H.ValueType.DATETIME:e=this.compareDates;break;case H.ValueType.BOOLEAN:e=this.compareBools;break;case H.ValueType.OBJECT:e=this.compareObjects;break;default:e=this.compareValues}var i=this.getDescendants(this._rootRow,0);return this.$_sortRows(i,t,e.bind(this),0,i.length-1),i},u.prototype.getDistinctValues=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i=H.SortDirection.ASCENDING),this._checkFieldIndex(t);var o=[];if(e<0&&(e=this.getDescendantCount(this._rootRow)),0<e){var r=this.getField(t).dataType==H.ValueType.NUMBER,n=this.$_getSortedRows(t);i===H.SortDirection.DESCENDING&&n.reverse(),o.push(n[0]._values[t]);for(var s=1,a=n.length;s<a&&!(o.length>=e);s++)if(!this.equalValues(t,n[s-1],n[s])){var l=n[s]._values[t];-1!=o.indexOf(l)||r&&isNaN(l)||o.push(l)}}return o},u.prototype._doFieldsReset=function(){n.prototype._doFieldsReset.call(this),this._clearRows(),this._fireReset()},u.prototype.refreshClients=function(){this._fireRefreshClient()},u.prototype.savePoint=function(t){if(void 0===t&&(t=!0),this._checkClientState()){if(0<this.fieldCount&&0<this._rootRow.count){var e=this._rootRow.copy(),i=this._nextPoint++;return t||e.clearRowStates(!1,!1),this._points.push({id:i,data:e}),i}return-1}},u.prototype.rollback=function(t){if(void 0===t&&(t=0),this._checkClientState())for(var e=this._points.length-1;0<=e;e--){var i=this._points[e];if(i.id==t){this.$_removeSavePoints(e+1),this._rowMap=[],this._rootRow.set(i.data),this._fireReset();break}}},u.prototype.$_removeSavePoints=function(t){for(var e=this._points,i=e.length-1;t<=i;i--)e[i].data=null,e.pop()},u.prototype.clearSavePoints=function(){this.$_removeSavePoints(0)},u.prototype.getSavePoints=function(){for(var t=[],e=0,i=this._points.length;e<i;e++)t.push(this._points[e].id);return t},u.prototype._doCheckStatesChanged=function(){this.$_resetOrgValues()},u.prototype._doRestoreModeChanged=function(){this.$_resetOrgValues()},u.prototype._hasChildrenChanged=function(t){this._fireHasChildrenChanged(t)},u.prototype._iconIndexChanged=function(t){this._fireIconIndexChanged(t)},u.prototype._stateChanged=function(t,e){this._fireRowStateChanged(t,e)},u.prototype._valueChanged=function(t,e){this._fireValueChanged(t,e)},u.prototype._rowAdding=function(t,e,i){return this._fireRowAdding(t,e,i)},u.prototype._rowAdded=function(t){this._tagLock||this._tags.addRow(t),this._eventLock<=0&&(this._fireRowAdded(t),this._fireRowCountChanged())},u.prototype._rowsAdded=function(t,e){this._tagLock||this._tags.addRows(e),this._eventLock<=0&&(this._fireRowsAdded(t,e),this._fireRowCountChanged())},u.prototype._rowRemoving=function(t){return this._fireRowRemoving(t)},u.prototype._rowRemoved=function(t){this._tagLock||this._tags.removeRow(t),this._eventLock<=0&&(this._fireRowRemoved(t),this._fireRowCountChanged())},u.prototype._rowsRemoving=function(t){return this._fireRowsRemoving(t)},u.prototype._rowsRemoved=function(t){this._tagLock||this._tags.removeRows(t),this._eventLock<=0&&(this._fireRowsRemoved(t),this._fireRowCountChanged())},u.prototype._rowCleared=function(t){if(t){var e=t.children;this._tags.removeRows(e),this._eventLock<=0&&(this._fireRowsRemoved(e),this._fireRowCountChanged())}},u.prototype._rowUpdating=function(t){return this._fireRowUpdating(t)},u.prototype._rowUpdated=function(t){this._tags.updateRow(t),this._eventLock<=0&&this._fireRowUpdated(t)},u.prototype.getRowId=function(t){throw new Error("Method not implemented.")},u.prototype.getValue=function(t,e){throw new Error("Method not implemented.")},u.prototype.setValue=function(t,e,i){throw new Error("Method not implemented.")},u.prototype.getRowObject=function(t){throw new Error("Method not implemented.")},u.prototype.getRowState=function(t){var e=this.rowById(t);return e?e.rowState:w.RowState.NONE},u.prototype.setRowState=function(t,e,i){var o=this.rowById(t);if(o&&(this.checkStates||i)){var r=o.rowState;e!=r&&o._changeRowState(e,!0,!!w.isDeletedState(r)||void 0)}},u.prototype.changeRowStates=function(t,e){for(var i=t.length,o=[],r=0;r<i;r++){var n=t[r];n._changeRowState(e,!1,!1)&&o.push(n)}0<o.length&&this._fireRowStatesChanged(o)},u.prototype.clearRowStates=function(t,e){this._checkClientState()&&this._rootRow.clearRowStates(t,e)},u.prototype.$_collectStateRows=function(t,e,i){for(var o=0,r=t.count;o<r;o++){var n=t.getChild(o);n.rowState==e&&i.push(n.rowId),this.$_collectStateRows(n,e,i)}},u.prototype.getStateRows=function(t){var e=[];return this.$_collectStateRows(this._rootRow,t,e),e},u.prototype.$_collectAllStateRows=function(t,e){for(var i=0,o=t.count;i<o;i++){var r=t.getChild(i);switch(r.rowState){case w.RowState.CREATED:e.created.push(r.rowId);break;case w.RowState.UPDATED:e.updated.push(r.rowId);break;case w.RowState.DELETED:e.deleted.push(r.rowId);break;case w.RowState.CREATE_AND_DELETED:e.createAndDeleted.push(r.rowId)}this.$_collectAllStateRows(r,e)}},u.prototype.getAllStateRows=function(){var t={created:[],updated:[],deleted:[],createAndDeleted:[]};return this.$_collectAllStateRows(this._rootRow,t),t},u.prototype.setRowStates=function(t,e,i,o){if(this._checkClientState()){for(var r=o?null:[],n=0,s=t.length;n<s;n++){var a=this.rowById(t[n]);a&&(this.checkStates||i)&&a._changeRowState(e,o,!1)&&!o&&r.push(a)}!o&&0<r.length&&this._fireRowStatesChanged(r)}},u.prototype.$_getRowStateCount=function(t,e){for(var i=0,o=0,r=t.count;o<r;o++){var n=t.getChild(o);0<=e.indexOf(n.rowState)&&i++,i+=this.$_getRowStateCount(n,e)}return i},u.prototype.getRowStateCount=function(t){return this.$_getRowStateCount(this._rootRow,t)},u.prototype.restoreUpdatedStates=function(t){this.restoreUpdatedRows(t)},u.prototype.restoreUpdatedRows=function(t){if(this._checkClientState()){var e=[];if(null==t)this._rootRow.$_restoreRow(!0,e);else for(var i=t.length;i--;){var o=this.rowById(t[i]);o&&o.$_restoreRow(!1,e)}1==e.length?this._fireRowStateChanged(e[0],!1):1<e.length&&this._fireRowStatesChanged(e)}},u.prototype.getUpdatedCells=function(t){var e=this.restoreMode;if(e!=y.RestoreMode.AUTO&&e!=y.RestoreMode.EXPLICIT)return null;if(null==t)t=this.getStateRows(w.RowState.UPDATED);else if(!Array.isArray(t)){if("number"!=typeof t)return null;t=[t]}if(!Array.isArray(t))return null;for(var i=[],o=0,r=t.length;o<r;o++){var n=this.rowById(t[o]);if(n){var s=n.$_getUpdatedCells();s&&0<s.length&&i.push({__rowId:n.rowId,updatedCells:s})}}return i},u.prototype.canUpdateRow=function(t){return!0},u.prototype.canInsertRow=function(t){return!0},u.prototype.canDeleteRow=function(t){return!0},u.prototype.isDataChanged=function(t,e){var i=this.rowById(t),o=i._orgValues;if(i.rowState!==w.RowState.UPDATED||!o)return!1;if(o){var r=o[e],n=i._values[e],s=this._fields[e];return s&&s.dataType!==H.ValueType.OBJECT&&!s.sameValues(r,n)}return!1},u.prototype._findRowById=function(t){return this._rootRow.findById(t)},u.prototype._checkSum=function(t){if(t!=this.rowCount)throw new Error("Invalid row count: "+t+" <> "+this.rowCount)},u.prototype._clearRows=function(){this._rootRow._removeChildren(),this._rowMap=[],this._rootRow&&0<this._rootRow.descendantCount||(this._nextRowId=1),this._tags.clearRows(),this._checkSum(0)},u.prototype.findRow=function(t,e){return t&&0<t.length&&e&&e.length>=t.length?this._rootRow.findChild(t,e):null},u.prototype.$_resetOrgValues=function(){this._needOrgValues=this.checkStates&&this.restoreMode!=y.RestoreMode.NONE,this._needRestore=this._needOrgValues&&this.restoreMode==y.RestoreMode.AUTO,this._rootRow._clearOrgValues()},u.prototype.$_summarizeChildren=function(t,e){for(var i=e.field,o=t.count,r=0;r<o;r++){var n=t.getChild(r),s=n.getValue(i);isNaN(s)||(e.sum+=s,e.dataCount++,s<e.min&&(e.min=s),s>e.max&&(e.max=s)),this.$_summarizeChildren(n,e)}},u.prototype.$_summarizeVars=function(t,e){for(var i=e.field,o=e.avg,r=t.count,n=0,s=0;s<r;s++){var a=t.getChild(s),l=a.getValue(i);isNaN(l)||(n+=Math.pow(l-o,2)),n+=this.$_summarizeVars(a,e)}return n},u.prototype._summarizeChildren=function(t,e){for(var i=e.field,o=t.count,r=0;r<o;r++){var n=t.getChild(r),s=n.getValue(i);isNaN(s)||(e.sum+=s,s<e.min&&(e.min=s),s>e.max&&(e.max=s)),this._summarizeChildren(n,e)}},u.prototype._summarizeVars=function(t,e){for(var i=e.field,o=e.avg,r=t.count,n=0,s=0;s<r;s++){var a=t.getChild(s),l=a.getValue(i);isNaN(l)||(n+=Math.pow(l-o,2)),n+=this._summarizeVars(a,e)}return n},u.prototype._summarize=function(t,e){if(null==t)return!1;if(t.clear(),this.rowCount<1)return!1;if(t.count=0,t.sum=0,t.min=Number.MIN_VALUE,t.max=Number.MAX_VALUE,this._summarizeChildren(this._rootRow,t),t.avg=t.sum/t.count,e){var i=this._summarizeVars(this._rootRow,t);t.vars=i/t.count}return!0},u.prototype._fireDisposed=function(){this._eventLock<=0&&this.fireEvent(u.DISPOSED)},u.prototype._fireReset=function(){this._eventLock<=0&&this.fireEvent(u.RESET)},u.prototype._fireRefresh=function(){this._eventLock<=0&&this.fireEvent(u.REFRESH)},u.prototype._fireRefreshClient=function(){this._eventLock<=0&&this.fireEvent(u.REFRESH_CLIENT)},u.prototype._fireCleared=function(){this._eventLock<=0&&this.fireEvent(u.CLEARED)},u.prototype._fireRowCountChanged=function(){this._eventLock<=0&&this.fireEvent(u.ROW_COUNT_CHANGED,this.rowCount)},u.prototype._fireRowAdding=function(t,e,i){return!(this._eventLock<=0)||this.fireConfirmEvent(u.ROW_ADDING,t,e,i)},u.prototype._fireRowAdded=function(t){this._eventLock<=0&&this.fireEvent(u.ROW_ADDED,t)},u.prototype._fireRowsAdded=function(t,e){this._eventLock<=0&&this.fireEvent(u.ROWS_ADDED,t,e)},u.prototype._fireRowRemoving=function(t){return!(this._eventLock<=0)||this.fireConfirmEvent(u.ROW_REMOVING,t)},u.prototype._fireRowRemoved=function(t){this._eventLock<=0&&this.fireEvent(u.ROW_REMOVED,t)},u.prototype._fireRowsRemoving=function(t){return!(this._eventLock<=0)||this.fireConfirmEvent(u.ROWS_REMOVING,t)},u.prototype._fireRowsRemoved=function(t){this._eventLock<=0&&this.fireEvent(u.ROWS_REMOVED,t)},u.prototype._fireRowUpdating=function(t){return!(this._eventLock<=0)||this.fireConfirmEvent(u.ROW_UPDATING,t)},u.prototype._fireRowUpdated=function(t){this._eventLock<=0&&this.fireEvent(u.ROW_UPDATED,t)},u.prototype._fireValueChanging=function(t,e,i){return!(this._eventLock<=0)||this.fireConfirmEvent(u.VALUE_CHNAGED,t,e,i)},u.prototype._fireValueChanged=function(t,e){this._eventLock<=0&&this.fireEvent(u.VALUE_CHNAGED,t,e)},u.prototype._fireIconIndexChanged=function(t){this._eventLock<=0&&this.fireEvent(u.ICON_INDEX_CHANGED,t)},u.prototype._fireHasChildrenChanged=function(t){this._eventLock<=0&&this.fireEvent(u.HAS_CHILDREN_CHANGED,t)},u.prototype._fireRowStateChanged=function(t,e){this._eventLock<=0&&this.fireEvent(u.ROW_STATE_CHANGED,t,e)},u.prototype._fireRowStatesChanged=function(t){this._eventLock<=0&&this.fireEvent(u.ROW_STATES_CHANGED,t)},u.prototype._fireRowSiblingMoving=function(t,e){return!(this._eventLock<=0)||this.fireConfirmEvent(u.ROW_SIBLING_MOVING,t,e)},u.prototype._fireRowSiblingMoved=function(t,e){this._eventLock<=0&&this.fireEvent(u.ROW_SIBLING_MOVED,t,e)},u.prototype._fireRowParentChanging=function(t,e,i){return!(this._eventLock<=0)||this.fireConfirmEvent(u.ROW_PARENT_CHANGING,t,e,i)},u.prototype._fireRowParentChanged=function(t,e,i){this._eventLock<=0&&this.fireEvent(u.ROW_PARENT_CHANGED,t,e,i)},u.prototype._fireRowsHiddenChanged=function(t,e){this._eventLock<=0&&this.fireEvent(u.ROWS_HIDDEN_CHANGED,t,e)},u.prototype.undo=function(){this.canUndo&&this._commands.undo()},u.prototype.redo=function(){this.canRedo&&this._commands.redo(!0)},u.prototype.clearCommandStack=function(){this._commands.flush()},u.DISPOSED="onTreeDataProviderDisposed",u.RESET="onTreeDataProviderReset",u.REFRESH="onTreeDataProviderRefresh",u.REFRESH_CLIENT="onTreeDataProviderRefreshClient",u.CLEARED="onTreeDataProviderCleared",u.ROW_COUNT_CHANGED="onTreeDataProviderRowCountChanged",u.ROW_ADDING="onTreeDataProviderRowAdding",u.ROW_ADDED="onTreeDataProviderRowAdded",u.ROWS_ADDED="onTreeDataProviderRowsAdded",u.ROW_REMOVING="onTreeDataProviderRowRemoving",u.ROW_REMOVED="onTreeDataProviderRowRemoved",u.ROWS_REMOVING="onTreeDataProviderRowsRemoving",u.ROWS_REMOVED="onTreeDataProviderRowsRemoved",u.ROW_UPDATING="onTreeDataProviderRowUpdating",u.ROW_UPDATED="onTreeDataProviderRowUpdated",u.VALUE_CHANGING="onTreeDataProviderValueChanging",u.VALUE_CHNAGED="onTreeDataProviderValueChanged",u.ICON_INDEX_CHANGED="onTreeDataProviderIconIndexChanged",u.HAS_CHILDREN_CHANGED="onTreeDataProviderHasChildrenChanged",u.ROW_STATE_CHANGED="onTreeDataProviderRowStateChanged",u.ROW_STATES_CHANGED="onTreeDataProviderRowStatesChanged",u.ROW_SIBLING_MOVING="onTreeDataProviderRowSiblingMoving",u.ROW_SIBLING_MOVED="onTreeDataProviderRowSiblingMoved",u.ROW_PARENT_CHANGING="onTreeDataProviderRowParentChanging",u.ROW_PARENT_CHANGED="onTreeDataProviderRowParentChanged",u.ROWS_HIDDEN_CHANGED="onTreeDataProviderRowsHideChanged",u.GET_HANDLER="getHandler",u);function u(t){void 0===t&&(t=!1);var e=n.call(this)||this;return e._countDirty=!1,e._tagLock=!1,e._points=[],e._nextPoint=0,e._rowMap=[],e._needOrgValues=!1,e._needRestore=!1,e._checkParentProc=null,e._hiddenRows=[],t&&(e._commands=new _t.LocalTreeDataCommandStack(e)),e._rootRow=new yt.RootTreeRow(e),e._tags=new B.TreeDataTagCollection(e),e}e.LocalTreeDataProvider=s});t(mt);mt.TreeDataRowImpl,mt.LocalTreeDataProvider;var gt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype.load=function(t,e,i){var o=new pt.DataFillOptions(i);if(this.$_checkEmpty(e,o))return 0;switch(this.$_prepareLoad(o),t=t&&t.toLowerCase()){case"json":return this.$_loadJson(e,o);case"xml":return this.$_loadXml(e,o);case"csv":return this.$_loadCsv(e,o)}return 0},s.prototype.$_loadJson=function(t,e){if("string"==typeof t&&(t=JSON.parse(t)),t){var i=e.childrenField,o=e.iconField;if(e.fillMode!=pt.DataFillMode.APPEND)return this._ds.setJsonRows(t,e.rows,i,o);var r=this._ds.rowById(e.parentId);return this._ds.appendJsonRows(r,t,e.rows,i,o)}return 0},s.prototype.$_loadXml=function(t,e){if("string"==typeof t&&(t=ct.XmlUtils.parseXml(t)),t&&t.documentElement){var i=e.childrenField,o=e.iconField;if(e.fillMode!=pt.DataFillMode.APPEND)return this._ds.setXmlRows(t,e.rows,i,o);var r=this._ds.rowById(e.parentId);return this._ds.appendXmlRows(r,t,e.rows,i,o)}return 0},s.prototype.$_loadCsv=function(t,e){var i=e.start,o=e.count,r=e.quoted,n=e.delimiter,s=ht.DataHelper.csvToArray(this._ds,t,i,o,r,n);if(s&&0<(o=s.length)){var a=e.treeField,l=e.childrenField,u=e.iconField,h=e.needSorting;if(e.fillMode==pt.DataFillMode.APPEND){var c=this._ds.rowById(e.parentId);this._ds.appendDataRows(c,s,a,h,l,u)}else this._ds.setRows(s,a,h,l,u);return s.length}return 0},s.prototype.$_fillEmpty=function(t){t.fillMode===pt.DataFillMode.SET&&this._ds.setRows(null,null,!1,null,null)},s.prototype.$_checkEmpty=function(t,e){return!t&&(this.$_fillEmpty(e),!0)},s.prototype.$_prepareLoad=function(t){},s);function s(t){var e=r.call(this)||this;return e._ds=t,e}e.TreeDataLoader=n});t(gt);gt.TreeDataLoader;var vt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n=(r.getFieldIndex=function(t,e){return"string"==typeof e?t.getFieldIndex(e):e},r.fillData=function(t,e,i,o){var r=new pt.DataLoader(t);try{r.load(e,i,o)}finally{r.dispose()}},r.fillTreeData=function(t,e,i,o){var r=new gt.TreeDataLoader(t);try{r.load(e,i,o)}finally{r.dispose()}},r.extractTreeRows=function(t){if(t){for(var e=t.length,i=new Array(e),o=0;o<e;o++)i[o]=t[o].rowId;return i}return null},r);function r(){}e.DataDelegateUtils=n;var s=(a.prototype.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this._debugging&&console.log(t,e)},a);function a(){this._debugging=U.Utils.isDebugging}e.EventListenerBase=s;var l=(u.prototype.dispose=function(){this._dp.dispose(),this._dp=null},Object.defineProperty(u.prototype,"subTypeEnabled",{get:function(){return this._dp.subTypeEnabled},set:function(t){this._dp.subTypeEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"undoable",{get:function(){return this._dp.undoable},set:function(t){this._dp.undoable=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"insertable",{get:function(){return this._dp.insertable},set:function(t){this._dp.insertable=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"updatable",{get:function(){return this._dp.updatable},set:function(t){this._dp.updatable=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"deletable",{get:function(){return this._dp.deletable},set:function(t){this._dp.deletable=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"softDeleting",{get:function(){return this._dp.softDeleting},set:function(t){this._dp.softDeleting=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"deleteCreated",{get:function(){return this._dp.deleteCreated},set:function(t){this._dp.deleteCreated=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"checkStates",{get:function(){return this._dp.checkStates},set:function(t){this._dp.checkStates=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"restoreMode",{get:function(){return this._dp.restoreMode},set:function(t){this._dp.restoreMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"strictRestore",{get:function(){return this._dp.strictRestore},set:function(t){this._dp.strictRestore=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"booleanFormat",{get:function(){return this._dp.booleanFormat},set:function(t){this._dp.booleanFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"datetimeFormat",{get:function(){return this._dp.datetimeFormat},set:function(t){this._dp.datetimeFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"baseYear",{get:function(){return this._dp.baseYear},set:function(t){this._dp.baseYear=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"amText",{get:function(){return this._dp.amText},set:function(t){this._dp.amText=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"pmText",{get:function(){return this._dp.pmText},set:function(t){this._dp.pmText},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"commitBeforeDataEdit",{get:function(){return this._dp.commitBeforeDataEdit},set:function(t){this._dp.commitBeforeDataEdit=t},enumerable:!0,configurable:!0}),u.prototype.getOptions=function(){var t=this._dp;return{subTypeEnabled:t.subTypeEnabled,undoable:t.undoable,insertable:t.insertable,updatable:t.updatable,deletable:t.deletable,softDeleting:t.softDeleting,deleteCreated:t.deleteCreated,checkStates:t.checkStates,restoreMode:t.restoreMode.toString(),strictRestore:t.strictRestore,booleanFormat:t.booleanFormat,datetimeFormat:t.datetimeFormat,baseYear:t.baseYear,amText:t.amText,pmText:t.pmText,commitBeforeDataEdit:t.commitBeforeDataEdit}},u.prototype.setOptions=function(t){this._dp.assignFrom(t)},u.prototype.beginUpdate=function(){this._dp.beginUpdate()},u.prototype.endUpdate=function(t){void 0===t&&(t=!0),this._dp.endUpdate(t)},u.prototype.getFields=function(){return this._dp.getFields()},u.prototype.setFields=function(t){U.Utils.isArray(t)&&this._dp.setFields(t)},u.prototype.addField=function(t,e,i){return this._dp.addField(t,e,i)},u.prototype.getFieldCount=function(){return this._dp.fieldCount},u.prototype.fieldByName=function(t){return this._dp.fieldByName(t)},u.prototype.getFieldNames=function(){return this._dp.getFieldNames()},u.prototype.getOrgFieldNames=function(){return this._dp.getOrgFieldNames()},u.prototype.getFieldName=function(t){return this._dp.getFieldName(t)},u.prototype.getOrgFieldName=function(t){return this._dp.getOrgFieldName(t)},u.prototype.getFieldIndex=function(t){return this._dp.getFieldIndex(t)},u.prototype.hasData=function(t){return this._dp.hasData(t)},u.prototype.getValues=function(t){return this._dp.getRow(t)},u.prototype.getJsonRow=function(t){return this._dp.getRowObject(t)},u.prototype.checkRowStates=function(t){this._dp.checkStates=t},u.prototype.getRowState=function(t){return this._dp.getRowState(t)},u.prototype.getStateRows=function(t){return this._dp.getStateRows(t)},u.prototype.getAllStateRows=function(){return this._dp.getAllStateRows()},u.prototype.clearRowStates=function(t,e){void 0===e&&(e=!1),this._dp.clearRowStates(t,e)},u.prototype.setRowState=function(t,e,i){void 0===e&&(e=w.RowState.NONE),void 0===i&&(i=!1),this._dp.setRowState(t,e,i)},u.prototype.setRowStates=function(t,e,i,o){void 0===e&&(e=w.RowState.NONE),void 0===i&&(i=!1),void 0===o&&(o=!1),this._dp.setRowStates(t,e,i,o)},u.prototype.getRowStateCount=function(t){if(!t)return 0;var e=[];if("*"==t||"all"==t)e.push(w.RowState.CREATED,w.RowState.UPDATED,w.RowState.DELETED,w.RowState.CREATE_AND_DELETED);else for(var i=Array.isArray(t)?t:[t],o=0,r=i.length;o<r;o++)e.push(i[o]);return 0<e.length?this._dp.getRowStateCount(e):void 0},u.prototype.restoreUpdatedStates=function(t){return this._dp.restoreUpdatedStates(t)},u.prototype.restoreUpdatedRows=function(t){return this._dp.restoreUpdatedRows(t)},u.prototype.getUpdatedCells=function(t){return this._dp.getUpdatedCells(t)},u.prototype.getDistinctValues=function(t,e,i){void 0===e&&(e=-1),void 0===i&&(i="ascending");var o=i||H.SortDirection.ASCENDING,r="string"==typeof t?this._dp.getFieldIndex(t):t;return this._dp.getDistinctValues(r,e,o)},u.prototype.savePoint=function(t){return void 0===t&&(t=!0),this._dp.savePoint(t)},u.prototype.rollback=function(t){void 0===t&&(t=0),this._dp.rollback(t)},u.prototype.clearSavePoints=function(){this._dp.clearSavePoints()},u.prototype.getSavePoints=function(){return this._dp.getSavePoints()},u.prototype.setDataComparer=function(t,e){var i="string"==typeof t?this._dp.getFieldIndex(t):t;this._dp.setDataComparer(i,e)},u.prototype.exportToCsv=function(t){this._dp.exportToCsv(t)},u.prototype.destroy=function(){this.dispose()},u.prototype.undo=function(){this._dp.undo()},u.prototype.redo=function(){this._dp.redo()},u.prototype.getProvider=function(){return this._dp},u);function u(t){this._dp=this._createProvider(t),this._listener=this._createListener(this._dp)}e.DataProviderBase=l;var h,c=(i(p,h=l),p.prototype.getRowCount=function(){return this._dp.rowCount},p.prototype.setRowCount=function(t,e,i,o){void 0===e&&(e=!1),void 0===i&&(i=null),void 0===o&&(o="none");var r=o;return this._dp.setRowCount(t,e,i,r)},p.prototype.setFilters=function(t,e){void 0===e&&(e="and"),this._dp.setFilters(t,e)},p.prototype.fillJsonData=function(t,e){var i=e instanceof pt.DataFillOptions?e:new pt.DataFillOptions(e);n.fillData(this._dp,"json",t,i)},p.prototype.fillXmlData=function(t,e){var i=e instanceof pt.DataFillOptions?e:new pt.DataFillOptions(e);n.fillData(this._dp,"xml",t,i)},p.prototype.fillCsvData=function(t,e){var i=e instanceof pt.DataFillOptions?e:new pt.DataFillOptions(e);n.fillData(this._dp,"csv",t,i)},p.prototype.setRows=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1),this._dp.setRows(t,e,i)},p.prototype.addRows=function(t,e,i,o){void 0===e&&(e=0),void 0===i&&(i=-1),void 0===o&&(o=!1),this._dp.appendRows(t,e,i,o)},p.prototype.insertRows=function(t,e,i,o,r){void 0===i&&(i=0),void 0===o&&(o=-1),void 0===r&&(r=!1),this._dp.insertRows(t,e,i,o,r)},p.prototype.updateRows=function(t,e,i,o,r){void 0===i&&(i=0),void 0===o&&(o=-1),void 0===r&&(r=!1),this._dp.updateRows(t,e,i,o,r)},p.prototype.updateStrictRows=function(t,e,i,o,r){void 0===i&&(i=0),void 0===o&&(o=-1),void 0===r&&(r=!1),this._dp.updateStrictRows(t,e,i,o,r)},p.prototype.clearRows=function(){this._dp.clearRows()},p.prototype.updateRow=function(t,e){this._dp.updateRow(t,e)},p.prototype.updateStrictRow=function(t,e){this._dp.updateStrictRow(t,e)},p.prototype.hideRows=function(t){this._dp.hideRows(t)},p.prototype.showHiddenRows=function(t){this._dp.showRows(t)},p.prototype.getHiddenRows=function(){return this._dp.getHiddenRows()},p.prototype.isHiddenRow=function(t){return this._dp.isHiddenRow(t)},p.prototype.resetHiddenRows=function(){this._dp.clearHiddenRows()},p.prototype.addRow=function(t){return this._dp.appendRow(t)},p.prototype.insertRow=function(t,e){return this._dp.insertRow(t,e)},p.prototype.removeRow=function(t){this._dp.removeRow(t)},p.prototype.removeRows=function(t,e){void 0===e&&(e=!1),this._dp.removeRows(t,e)},p.prototype.moveRow=function(t,e){this._dp.moveRow(t,e)},p.prototype.moveRows=function(t,e,i){this._dp.moveRows(t,e,i)},p.prototype.getValue=function(t,e){var i=n.getFieldIndex(this._dp,e);return this._dp.getValue(t,i)},p.prototype.setValue=function(t,e,i){var o=n.getFieldIndex(this._dp,e);this._dp.setValue(t,o,i)},p.prototype.getRows=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=-1),this._dp.getRows(t,e)},p.prototype.getJsonRows=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=-1),this._dp.getRowObjects(t,e)},p.prototype.getOutputRows=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1);var o=new I.DataOutputOptions(t),r=null;try{r=this._dp.getOutputObjects(o,e,i)}finally{o.dispose()}return r},p.prototype.getOutputRow=function(t,e){var i=new I.DataOutputOptions(t),o=null;try{o=this._dp.getOutputObject(i,e)}finally{i.dispose()}return o},p.prototype.getFieldValues=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=-1);var o=n.getFieldIndex(this._dp,t);return this._dp.getColumn(o,e,i)},p.prototype.searchDataRow=function(t){if(t){var e=t.fields,i=t.values,o=void 0!==t.startIndex?t.startIndex:0,r=void 0===t.wrap||t.wrap;return this._dp.searchDataRow(e,i,t,o,r)}return-1},p.prototype.searchData=function(t){if(t){var e=t.fields,i=t.value,o=void 0!==t.startIndex?t.startIndex:0,r=void 0!==t.startFieldIndex?t.startFieldIndex:0,n=void 0===t.wrap||t.wrap;return this._dp.searchData(e,i,t,o,r,n)}return null},p.prototype._createProvider=function(t){return new j.LocalDataProvider(t)},p.prototype._createListener=function(t){return new m(this,t)},p);function p(){var t=null!==h&&h.apply(this,arguments)||this;return t._onRowCountChanged=null,t.onRowCountChanged=null,t.onRowUpdating=null,t.onRowUpdated=null,t.onRowsUpdated=null,t.onRowInserting=null,t.onRowInserted=null,t.onRowsInserted=null,t.onRowDeleting=null,t.onRowDeleted=null,t.onRowsDeleted=null,t.onRowMoving=null,t.onRowMoved=null,t.onRowsMoving=null,t.onRowsMoved=null,t.onValueChanged=null,t.onDataChanged=null,t.onRowStateChanged=null,t.onRowStatesChanged=null,t.onRowStatesCleared=null,t.onRestoreRows=null,t}e.LocalDataProvider=c;var d,_=(i(f,d=l),f.prototype.dispose=function(){d.prototype.dispose.call(this)},f.prototype.getRowCount=function(){return this._dp.rowCount},f.prototype.setRows=function(t,e,i,o,r){this._dp.setRows(t,e,i,o,r)},f.prototype.setCsvRows=function(t,e,i,o,r){this._dp.setCsvRows(t,e,i,o,r)},f.prototype.setXmlRows=function(t,e,i,o){this._dp.setXmlRows(t,e,i,o)},f.prototype.setObjectRows=function(t,e,i,o){this._dp.setJsonRows(t,e,i,o)},f.prototype.setNestedRows=function(t,e,i,o,r){this._dp.setJsonRows2(t,e,i,o,r)},f.prototype.fillJsonData=function(t,e){var i=new pt.DataFillOptions(e);try{n.fillTreeData(this._dp,"json",t,i)}finally{i.dispose(),i=null}},f.prototype.fillXmlData=function(t,e){var i=new pt.DataFillOptions(e);try{n.fillTreeData(this._dp,"xml",t,i)}finally{i.dispose(),i=null}},f.prototype.fillCsvData=function(t,e){var i=new pt.DataFillOptions(e);try{n.fillTreeData(this._dp,"csv",t,i)}finally{i.dispose(),i=null}},f.prototype.getIconIndex=function(t){return this._dp.rowById(t).iconIndex},f.prototype.setIconIndex=function(t,e){this._dp.rowById(t).iconIndex=e},f.prototype.getParent=function(t){var e=this._dp.rowById(t);return e&&e.parent?e.parent.rowId:-1},f.prototype.getLevel=function(t){return this._dp.rowById(t).level},f.prototype.getChildCount=function(t){if(null==t)return this._dp.getChildCount(null);var e=this._dp.rowById(t);return e&&e.children?e.children.length:0},f.prototype.getChildren=function(t){var e;return e=null==t?this._dp.getRows(null):this._dp.rowById(t).children,n.extractTreeRows(e)},f.prototype.getDescendantCount=function(t){return null==t?this._dp.getDescendantCount(null):this._dp.rowById(t).descendantCount},f.prototype.getDescendants=function(t,e){null!=t&&this._dp.rowById(t);var i=this._dp.getDescendants(null,e);return n.extractTreeRows(i)},f.prototype.getAncestors=function(t){var e=this._dp.rowById(t);return e&&e.ancestors?n.extractTreeRows(e.ancestors):null},f.prototype.getJsonRow=function(t){var e=this._dp.rowById(t);return e?e.getObject():null},f.prototype.getJsonRows=function(t,e,i,o){void 0===i&&(i="rows"),void 0===o&&(o="iconIndex");var r=null==t?this._dp.rootRow:this._dp.rowById(t);return r?r.getChildObjects(e,i,o,!0):null},f.prototype.getOutputRow=function(t,e,i){void 0===i&&(i="iconIndex");var o,r=new I.DataOutputOptions(t);try{var n=null==e?this._dp.rootRow:this._dp.rowById(e);o=n?n.getOutput(t,i):null}finally{r.dispose()}return o},f.prototype.getOutputRows=function(t,e,i,o,r){void 0===o&&(o="rows"),void 0===r&&(r="iconIndex");var n,s=new I.DataOutputOptions(t);try{var a=null==e?this._dp.rootRow:this._dp.rowById(e);n=a?a.getChildOutputObjects(s,i,o,r):null}finally{s.dispose()}return n},f.prototype.addChildRow=function(t,e,i,o){void 0===i&&(i=-1),void 0===o&&(o=!1);var r=this._dp,n=r.rowById(t)||r.rootRow,s=r.createRow(e,i,o);return n.addChild(s,!1)?s.rowId:-1},f.prototype.insertChildRow=function(t,e,i,o,r){void 0===o&&(o=-1),void 0===r&&(r=!1);var n=this._dp,s=n.rowById(t)||n.rootRow,a=n.createRow(i,o,r);return s.insertChild(e,a,!1)?a.rowId:-1},f.prototype.updateRow=function(t,e){var i=this._dp.rowById(t);return!!i&&i.update(e)},f.prototype.updateStrictRow=function(t,e){var i=this._dp.rowById(t);return!!i&&i.updateStrict(e)},f.prototype.removeRow=function(t){var e=this._dp.rowById(t);return!(!e||!e.parent)&&e.parent.removeChild(e)},f.prototype.removeRows=function(t){if(t&&0<t.length){for(var e=[],i=t.length;i--;){var o=this._dp.rowById(t[i]);o&&e.push(o)}return this._dp.removeRows(e)}return!1},f.prototype.clearRows=function(){this._dp.clearRows()},f.prototype.hideRows=function(t){this._dp.hideRows(t)},f.prototype.showHiddenRows=function(t){this._dp.showRows(t)},f.prototype.getHiddenRows=function(){return this._dp.getHiddenRows()},f.prototype.isHiddenRow=function(t){return this._dp.isHiddenRow(t)},f.prototype.resetHiddenRows=function(){this._dp.clearHiddenRows()},f.prototype.getValue=function(t,e){var i=this._dp.rowById(t),o=n.getFieldIndex(this._dp,e);return i?i.getValue(o):null},f.prototype.setValue=function(t,e,i){var o=this._dp.rowById(t),r=n.getFieldIndex(this._dp,e);o&&o.setValue(r,i,!1)},f.prototype.moveRowSibling=function(t,e){var i=this._dp.rowById(t);return!!i&&this._dp.moveRowSibling(i,e)},f.prototype.changeRowParent=function(t,e,i){var o=this._dp.rowById(t),r=this._dp.rowById(e);return!(!o||!r)&&this._dp.changeRowParent(o,r,i)},f.prototype.searchDataRow=function(t){if(t){var e=t.fields,i=t.values,o=void 0!==t.startIndex?t.startIndex:0,r=void 0===t.wrap||t.wrap,n=t.parentId;return this._dp.searchDataRow(e,i,t,o,r,n)}return-1},f.prototype.searchData=function(t){if(t){var e=t.fields,i=t.value,o=void 0!==t.startIndex?t.startIndex:0,r=void 0!==t.startFieldIndex?t.startFieldIndex:0,n=void 0===t.wrap||t.wrap,s=t.parentId;return this._dp.searchData(e,i,t,o,r,n,s)}return null},f.prototype._createProvider=function(t){return new mt.LocalTreeDataProvider(t)},f.prototype._createListener=function(t){return new b(this,t)},f);function f(t){return void 0===t&&(t=!1),d.call(this,t)||this}e.LocalTreeDataProvider=_;var y,m=(i(g,y=s),g.prototype.dispose=function(){this._del=null,this._provider.removeListener(this),this._provider=null},g.prototype.onDataProviderRowCountChanged=function(t){this._del.onRowCountChanged?this._del.onRowCountChanged(this._del,t.rowCount):this.log("onRowCountChanged: "+t.rowCount)},g.prototype.onDataProviderRowUpdating=function(t,e,i){return this._del.onRowUpdating?this._del.onRowUpdating(this._del,e):(this.log("onRowUpdating: "+e),!0)},g.prototype.onDataProviderRowUpdated=function(t,e){this._del.onRowUpdated?this._del.onRowUpdated(this._del,e):this.log("onRowUpdated: "+e)},g.prototype.onDataProviderRowsUpdated=function(t,e,i){this._del.onRowsUpdated?this._del.onRowsUpdated(this._del,e,i):this.log("onRowsUpdated: "+e+", "+i)},g.prototype.onDataProviderRowInserting=function(t,e,i){return this._del.onRowInserting?this._del.onRowInserting(this._del,e,i):(this.log("onRowInserting: "+e),!0)},g.prototype.onDataProviderRowInserted=function(t,e){this._del.onRowInserted?this._del.onRowInserted(this._del,e):this.log("onRowInserted: "+e)},g.prototype.onDataProviderRowsInserted=function(t,e,i){this._del.onRowsInserted?this._del.onRowsInserted(this._del,e,i):this.log("onRowsInserted: "+e+", "+i)},g.prototype.onDataProviderRowRemoving=function(t,e){return this._del.onRowDeleting?this._del.onRowDeleting(this._del,e):(this.log("onRowDeleting: "+e),!0)},g.prototype.onDataProviderRowRemoved=function(t,e){this._del.onRowDeleted?this._del.onRowDeleted(this._del,e):this.log("onRowDeleted: "+e)},g.prototype.onDataProviderRowsRemoving=function(t,e){return!0},g.prototype.onDataProviderRowsRemoved=function(t,e){this._del.onRowsDeleted?this._del.onRowsDeleted(this._del,e):this.log("onRowsDeleted: ",e)},g.prototype.onDataProviderRowMoving=function(t,e,i){return this._del.onRowMoving?this._del.onRowMoving(this._del,e,i):(this.log("onRowMoving: "+e+", "+i),!0)},g.prototype.onDataProviderRowMoved=function(t,e,i){this._del.onRowMoved?this._del.onRowMoved(this._del,e,i):this.log("onRowMoved: "+e+", "+i)},g.prototype.onDataProviderRowsMoving=function(t,e,i,o){return this._del.onRowsMoving?this._del.onRowsMoving(this._del,e,i,o):(this.log("onRowsMoving: "+e+", "+i+", "+o),!0)},g.prototype.onDataProviderRowsMoved=function(t,e,i,o){this._del.onRowsMoved?this._del.onRowsMoved(this._del,e,i,o):this.log("onRowsMoved: "+e+", "+i+", "+o)},g.prototype.onDataProviderValueChanged=function(t,e,i){this._del.onValueChanged?this._del.onValueChanged(this._del,e,i):this.log("onValueChanged:"+e+", "+i)},g.prototype.onDataProviderDataChanged=function(t){this._del.onDataChanged?this._del.onDataChanged(this._del):this.log("onDataChanged")},g.prototype.onDataProviderStateChanged=function(t,e){this._del.onRowStateChanged?this._del.onRowStateChanged(this._del,e):this.log("onRowStateChanged: "+e)},g.prototype.onDataProviderStatesChanged=function(t,e){this._del.onRowStatesChanged?this._del.onRowStatesChanged(this._del,e):this.log("onRowStatesChanged",e)},g.prototype.onDataProviderStatesCleared=function(t){this._del.onRowStatesCleared?this._del.onRowStatesCleared(this._del):this.log("onRowStatesCleared")},g.prototype.onDataProviderRestoreRows=function(t,e){this._del.onRestoreRows?this._del.onRestoreRows(this._del,e):this.log("onRestoreRows",e)},g);function g(t,e){var i=y.call(this)||this;return i._del=t,i._provider=e,i._provider.addListener(i),i}var v,b=(i(C,v=s),C.prototype.dispose=function(){this._del=null,this._provider.removeListener(this),this._provider=null},C.prototype.onTreeDataProviderRowCountChanged=function(t){this._del.onRowCountChanged?this._del.onRowCountChanged(this._del,t.rowCount):this.log("onRowCountChanged: "+t.rowCount)},C.prototype.onTreeDataProviderRowAdding=function(t,e,i,o){return this._del.onRowAdding?this._del.onRowAdding(this._del,e.rowId,i,o._values):(this.log("onRowAdding: "+e.rowId+", "+i,o._values),!0)},C.prototype.onTreeDataProviderRowAdded=function(t,e){this._del.onRowAdded?this._del.onRowAdded(this._del,e.rowId):this.log("onRowAdded: "+e.rowId)},C.prototype.onTreeDataProviderRowsAdded=function(t,e,i){var o=n.extractTreeRows(i);this._del.onRowsAdded?this._del.onRowsAdded(this._del,e.rowId,o):this.log("onRowsAdded: "+e.rowId,o)},C.prototype.onTreeDataProviderRowRemoving=function(t,e){return this._del.onRowDeleting?this._del.onRowDeleting(this._del,e.rowId):(this.log("onRowDeleting: "+e.rowId),!0)},C.prototype.onTreeDataProviderRowRemoved=function(t,e){this._del.onRowDeleted?this._del.onRowDeleted(this._del,e.rowId):this.log("onRowDeleted: "+e.rowId)},C.prototype.onTreeDataProviderRowsRemoved=function(t,e){var i=n.extractTreeRows(e);this._del.onRowsDeleted?this._del.onRowsDeleted(this._del,i):this.log("onRowsDeleted: ",i)},C.prototype.onTreeDataProviderRowUpdating=function(t,e){return this._del.onRowUpdating?this._del.onRowUpdating(this._del,e.rowId):(this.log("onRowUpdating:"+e.rowId),!0)},C.prototype.onTreeDataProviderRowUpdated=function(t,e){this._del.onRowUpdated?this._del.onRowUpdated(this._del,e.rowId):this.log("onRowUpdated: "+e.rowId)},C.prototype.onTreeDataProviderValueChanged=function(t,e,i){this._del.onValueChanged?this._del.onValueChanged(this._del,e.rowId,i):this.log("onValueChanged: "+e.rowId+", "+i)},C.prototype.onTreeDataProviderRowStateChanged=function(t,e){this._del.onRowStateChanged?this._del.onRowStateChanged(this._del,e.rowId):this.log("onRowStateChanged: "+e.rowId)},C.prototype.onTreeDataProviderRowStatesChanged=function(t,e){var i=n.extractTreeRows(e);this._del.onRowStatesChanged?this._del.onRowStatesChanged(this._del,i):this.log("onRowStatesChanged: ",i)},C.prototype.onTreeDataProviderRowSiblingMoving=function(t,e,i){return this._del.onRowSiblingMoving?this._del.onRowSiblingMoving(this._del,e.rowId,i):(this.log("onRowSiblingMoveing: "+e.rowId+", "+i),!0)},C.prototype.onTreeDataProviderRowSiblingMoved=function(t,e,i){this._del.onRowSiblingMoved?this._del.onRowSiblingMoved(this._del,e.rowId,i):this.log("onSiblingMoved: "+e.rowId+", "+i)},C.prototype.onTreeDataProviderRowParentChanging=function(t,e,i,o){if(this._del.onRowParentChanging)return this._del.onRowParentChanging(this._del,e.rowId,i.rowId,o);this.log("onRowParentChanging: "+e.rowId+", "+i.rowId+", "+o)},C.prototype.onTreeDataProviderRowParentChanged=function(t,e,i,o){this._del.onRowParentChanged?this._del.onRowParentChanged(this._del,e.rowId,i.rowId,o):this.log("onRowParentChanged: "+e.rowId+", "+i.rowId+", "+o)},C);function C(t,e){var i=v.call(this)||this;return i._del=t,i._provider=e,i._provider.addListener(i),i}});t(vt);vt.DataDelegateUtils,vt.EventListenerBase,vt.DataProviderBase,vt.LocalDataProvider,vt.LocalTreeDataProvider;var bt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"count",{get:function(){return this._urls.length},enumerable:!0,configurable:!0}),s.prototype.addUrl=function(t){t&&this._urls.indexOf(t)<0&&this._urls.push(t)},s.prototype.addUrls=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t)for(var i=0;i<t.length;i++)this.addUrl(t[i])},s.prototype.getImage=function(t){return 0<=t&&t<this._urls.length?this._rootUrl+this._urls[t]:null},s);function s(t,e){var i=r.call(this)||this;return i._urls=[],i._name=t,i._rootUrl=e,i}e.ImageList=n});t(bt);bt.ImageList;var Ct=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=P.DataCellRenderer,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this)||this;return e._type=t,e}e.CustomCellRenderer=n;var a,l=(a=P.DataCellRenderer,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"type",{get:function(){return this._impl&&this._impl.type},enumerable:!0,configurable:!0}),u.prototype._doInitContent=function(t){this._impl&&this._impl.initContent&&this._impl.initContent.call(this,t)},u.prototype._doClearContent=function(t){this._impl&&this._impl.clearContent&&this._impl.clearContent.call(this,t)},u.prototype._doRenderCell=function(t,e,i,o,r){this._impl&&this._impl.render.call(this,t.getHandler(),e,o,r)},u.prototype._doClick=function(t){return this._impl&&this._impl.click&&this._impl.click.call(this,t)},u);function u(t,e){var i=a.call(this)||this;return i._impl=t&&(t.render,1)?t:null,i._impl&&(i._impl.type=e),i}e.CustomCellRendererImpl=l});t(Ct);Ct.CustomCellRenderer,Ct.CustomCellRendererImpl;var wt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype.run=function(t,e,i,o,r,n,s){this._rs=t.provider;var a=this._ds=this._rs.dataSource;this._parent=t,this._field=e;var l=this._ds.getField(e);if(this._comparer=this._ds._comparers[e]||this._rs._labelComparer[e],this._comparer)this._comparer=this.$_userComparer;else switch(l.dataType){case H.ValueType.NUMBER:case H.ValueType.DATETIME:this._comparer=a.compareNumbers;break;case H.ValueType.BOOLEAN:this._comparer=a.compareBools;break;case H.ValueType.OBJECT:this._comparer=a.compareObjects;break;default:this._comparer=o?a.compareTexts:a.compareValues}this.$_sort(r,n,i,s)},s.prototype.$_sort=function(t,e,i,o){do{var r=this._parent,n=this._field,s=t,a=e,l=Math.floor((t+e)/2),u=r.getItem(l).dataRow,h=r.getItem(l).row;do{if(i==H.SortDirection.ASCENDING){for(;s<=a&&(0==(c=this._comparer(this._field,h,r.getItem(s).row))&&o&&(c=u-r.getItem(s).dataRow),!(c<=0));)s++;for(;s<=a&&(0==(c=this._comparer(n,h,r.getItem(a).row))&&o&&(c=u-r.getItem(a).dataRow),!(0<=c));)a--}else{for(;s<=a&&(0==(c=this._comparer(n,h,r.getItem(s).row))&&o&&(c=u-r.getItem(s).dataRow),!(0<=c));)s++;for(;s<=a;){var c;if(0==(c=this._comparer(n,h,r.getItem(a).row))&&o&&(c=u-r.getItem(a).dataRow),c<=0)break;a--}}s<=a&&(s!=a&&r._exchangeItems(s,a),s++,a--)}while(s<=a);t<a&&this.$_sort(t,a,i,o),t=s}while(t<e)},s);function s(){var t=r.call(this)||this;return t.$_userComparer=function(t,e,i){if(this._comparer)return this._comparer(t,e._rowId,i.rowId)},t}e.TreeItemsSorter=n});t(wt);wt.TreeItemsSorter;var xt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=d.DataTag,i(s,r),s.prototype._doDispose=function(){this._styleMap=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"isEmpty",{get:function(){return 0==this._styleMap.length},enumerable:!0,configurable:!0}),s.prototype.setCellStyle=function(t,e,i){if(e<0)this._styleMap[t]=i;else{var o=this._styleMap[t];if(o)if(o instanceof Array)o[e]=i;else{for(var r=this._owner.dataSource.fieldCount,n=[],s=0;s<r;s++)n[s]=o;this._styleMap[t]=n}var a=this._styleMap[t];(a=a||[])[e]=i,this._styleMap[t]=a}},s.prototype.setCellStyles=function(t,e,i){if(e&&!(e.length<1)&&i){var o=this._owner.dataSource,r=o.fieldCount,n=i;if(n instanceof Array){n=n.concat();for(var s=Math.min(r,n.length),a=0;a<s;a++){var l=Math.floor(n[a]);isNaN(l)||l<0?n[a]=-1:n[a]=l}!function(t,e,i,o){for(var r=i.length,n=Math.min(o.length,e.fieldCount),s=0;s<r;s++)if(i[s]instanceof Array)for(var a=0;a<n;a++)o[a]}(0,o,e,n)}else{var u=[];for(var h in i){var c=i[h];0<=(l=isNaN(c)?o.getFieldIndex(c):Math.floor(c))&&l<r&&(u[h]=l)}!function(t,e,i){for(var o=0,r=e.length;o<r;o++)if(e[o])for(var n in i)i[n]}(0,e,u)}}},s.prototype.removeCellStyle=function(t){for(var e=0,i=this._styleMap.length;e<i;e++){var o=this._styleMap[e];if(o instanceof Array)for(var r=o.length-1;0<=r;r--)o[r]===t&&(o[r]=null);else this._styleMap[e]===t&&delete this._styleMap[e]}},s.prototype.clearCellStyles=function(){this._styleMap=[]},s.prototype.checkCellStyle=function(t,e){var i=this._styleMap[t];return i instanceof Array?!!i[e]:!!i},s.prototype.getCellStyle=function(t,e){var i=this._styleMap[t];return i instanceof Array?i[e]:i},s.prototype.connect=function(t){},s.prototype.disconnect=function(){},s.prototype.clearRows=function(){this._styleMap=[]},s.prototype.setRows=function(){this._owner.dataSource&&(this._styleMap.length=Math.min(this._styleMap.length,this._owner.dataSource.rowCount))},s.prototype.setRowCount=function(t){this._styleMap.length=t},s.prototype.insertRow=function(t){this._styleMap.splice(t,0,null)},s.prototype.insertRows=function(t,e){for(var i=0;i<e;i++)this._styleMap.splice(t,0,null)},s.prototype.removeRow=function(t){this._styleMap.splice(t,1)},s.prototype.removeRows=function(t){for(var e=t.length-1;0<=e;e--)this._styleMap.splice(t[e],1)},s.prototype.updateRow=function(){},s.prototype.updateRows=function(t,e){},s.prototype.setValue=function(t,e){},s.prototype.moveRow=function(t,e){var i=this._styleMap.splice(t,1);this._styleMap.splice(e,0,i[0])},s.prototype.moveRows=function(t,e,i){for(var o=this._styleMap.splice(t,e),r=0;r<e;r++)this._styleMap.splice(i+r,0,o[r])},s);function s(t){var e=r.call(this)||this;return e._styleMap=[],e._owner=t,e}e.CellStyleMap=n;var a,l=(a=d.DataTag,i(u,a),u.prototype._doDispose=function(){this._editableMap=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"isEmpty",{get:function(){return 0==this._editableMap.length&&!this._editableMap[-1]},enumerable:!0,configurable:!0}),u.prototype.setReadOnly=function(t,e,i){var o=this._editableMap[t]=this._editableMap[t]||[];o[e]=o[e]||{},o[e]._readOnly=i},u.prototype.setEditable=function(t,e,i){var o=this._editableMap[t]=this._editableMap[t]||[];o[e]=o[e]||{},o[e]._editable=i},u.prototype.getReadOnly=function(t,e){var i=this._editableMap[t]&&this._editableMap[t][e];return i&&i._readOnly},u.prototype.getEditable=function(t,e){var i=this._editableMap[t]&&this._editableMap[t][e];return i&&i._editable},u.prototype.setCursor=function(t,e,i){var o=this._editableMap[t]=this._editableMap[t]||[];o[e]=o[e]||{},o[e]._cursor=i},u.prototype.getCursor=function(t,e){var i=this._editableMap[t]&&this._editableMap[t][e];return i&&i._cursor},u.prototype.setEditor=function(t,e,i){var o=this._editableMap[t]=this._editableMap[t]||[];o[e]=o[e]||{},o[e]._editor=i},u.prototype.getEditor=function(t,e,i){var o=this._editableMap[t]&&this._editableMap[t][e];return o&&o._editor},u.prototype.removeEditableMap=function(t,e){if(null!=t)if((e=arguments.length<2?-1:e)<0)delete this._editableMap[t];else{var i=this._editableMap[t];i&&delete i[e]}},u.prototype.clearEditableMap=function(){return(0!==this._editableMap.length||null!=this._editableMap[-1])&&(this._editableMap=[],!0)},u.prototype.getWritable=function(t,e){var i=this.getReadOnly(t,e),o=this.getEditable(t,e);return!i&&o},u.prototype.connect=function(t){},u.prototype.disconnect=function(){},u.prototype.clearRows=function(){},u.prototype.setRows=function(){},u.prototype.setRowCount=function(t){},u.prototype.insertRow=function(t){},u.prototype.insertRows=function(t,e){},u.prototype.removeRow=function(t){},u.prototype.removeRows=function(t){},u.prototype.updateRow=function(){},u.prototype.updateRows=function(t,e){},u.prototype.setValue=function(t,e){},u.prototype.moveRow=function(t,e){},u.prototype.moveRows=function(t,e,i){},u);function u(t){var e=a.call(this)||this;return e._editableMap=[],e}e.CellEditableMap=l});t(xt);xt.CellStyleMap,xt.CellEditableMap;var It=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=O.DataRowExpressionRuntime,i(s,r),s);function s(){return r.call(this)||this}e.CheckableExpressionRuntime=n;var a,l=(a=d.DataTag,i(u,a),u.clearCheckables=function(t){for(var e=t.itemCount;e--;)t.getItem(e)._setCheckable(!0)},u.prototype.connect=function(t){this._runtime.setDataSource(t)},u.prototype.disconnect=function(){},u.prototype.clearRows=function(){u.clearCheckables(this._owner)},u.prototype.setRows=function(){for(var t=this._owner._rows,e=t.length;e--;){var i=t[e];this.$_setCheckable(i)}},u.prototype.insertRow=function(t){var e=this._owner.getItemOfRow(t);this.$_setCheckable(e)},u.prototype.insertRows=function(t,e){for(var i=0;i<e;i++){var o=this._owner.getItemOfRow(t+i);o instanceof Z.GridItem&&this.$_setCheckable(o)}},u.prototype.updateRow=function(t){var e=this._owner.getItemOfRow(t);this.$_setCheckable(e)},u.prototype.updateRows=function(t,e){for(var i=0;i<e;i++){var o=this._owner.getItemOfRow(t+i);o instanceof Z.GridItem&&this.$_setCheckable(o)}},u.prototype.changeStates=function(t){if(t)for(var e=t.length;e--;){var i=this._owner.getItemOfRow(t[e]);i instanceof Z.GridItem&&this.$_setCheckable(i)}},u.prototype.$_setCheckable=function(t){this._runtime.setItem(t),t._setCheckable(this._exprNode.evaluate(this._runtime))},u);function u(t,e){var i=a.call(this)||this;return i._runtime=new n,i._owner=t,i._exprNode=q.ExpressionParser.Default.parse(e,["value","values"]),i._runtime=new n,i}var h,c=(h=S.ItemProvider,i(p,h),p.prototype._doDispose=function(){function t(t){for(var e=0,i=t.length;e<i;e++)t[e]&&t[e].dispose();t.length=0}this.dataSource=null,t(this._rows),t(this._filteredItems),t(this._pageItems),t(this._sortedItems),t(this._pubItems),t(this._items),t(this._distinctRows),this._cellStyles&&this._cellStyles.dispose(),this._cellStyles=null,this._editableMap&&this._editableMap.dispose(),this._editableMap=null,this._filterRuntime&&this._filterRuntime.dispose(),this._filterRuntime=null,this._sortFields.length=0,this._labelComparer={},this._summaryMap=null,this._checkableTag=null,h.prototype._doDispose.call(this)},p.prototype.getCommandStates=function(t){return this._rows[t]._extents},p.prototype.setCommandStates=function(t,e){this._rows[t]._extents=e},Object.defineProperty(p.prototype,"isFilterOr",{get:function(){return this._filterOr},set:function(t){t!=this._filterOr&&(this._filterOr=t,this.$_buildItems(),this._fireRefresh())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isFiltered",{get:function(){return this._filtered},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isSorted",{get:function(){return this._sorted},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isPaging",{get:function(){return this._paging},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"pageStartIndex",{get:function(){return this._pageStart},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"sorter",{get:function(){return this._sorter||this._defSorter},set:function(t){this._sorter=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"summaryMode",{set:function(t){t!=this._summaryMode&&(this._summaryMode=t,this.$_resetSummary(),this.$_buildItems(),this._fireRefresh())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"sortMode",{get:function(){return this._sortMode},set:function(t){this._sortMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"filterMode",{get:function(){return this._filterMode},set:function(t){this._filterMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"checkableExpression",{get:function(){return this._checkableExpression},set:function(t){t!=this._checkableExpression&&(this._checkableExpression=t,this._checkableTag&&(this._checkableTag.disconnect(),this._checkableTag=null),t&&(this._checkableTag=new l(this,t),this._dataSource&&this._checkableTag.connect(this._dataSource)))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"labelComparer",{get:function(){return this._labelComparer},set:function(t){this._labelComparer=t},enumerable:!0,configurable:!0}),p.prototype.getFieldDomain=function(t){for(var e=this._rows.length,i=[],o=void 0,r=0;r<e;r++){var n=this._dataSource.getValue(r,t);n!=o&&i.indexOf(n)<0&&i.push(n),o=n}return i},p.prototype.beginFilter=function(){this._filterLock++},p.prototype.endFilter=function(t,e,i){void 0===t&&(t=!0),void 0===e&&(e=null),void 0===i&&(i=null),0<this._filterLock&&(this._filterLock=Math.max(0,this._filterLock-1),0==this._filterLock&&t&&this.applyFilters(!0,e,i))},p.prototype.hasFilter=function(t){var e=this._filters[t];return e&&0<e.length},p.prototype.addFilter=function(t,e){var i=e&&e.criteria;if(0<=t){this._fireFilterAdded(t,i);var o=this._filters[t];o||(o=[],this._filters[t]=o);var r=new X.ColumnFilterRun(e);return o.push(r),this.applyFilters(),r}},p.prototype.removeFilter=function(t,e){if(this._filtered&&this._filters[t]){this._fireFilterRemoved(t,e);var i=this._filters[t],o=i.indexOf(e);0<=o&&(i.splice(o,1),this.applyFilters())}},p.prototype.clearFilters=function(t){if(this._filtered&&this._filters[t]){this._fireFilterCleared(t);var e=this._filters[t];0<e.length&&(e.length=0,delete this._filters[t],this.applyFilters())}},p.prototype.clearAllFilters=function(){this._filtered&&(this._fireFilterAllCleared(),this._filters=[],this.applyFilters())},p.prototype.hasFilters=function(){for(var t=this._filters.length,e=0;e<t;e++){var i=this._filters[e];if(i&&0<i.length)return!0}return!1},p.prototype.applyFilters=function(t,e,i){if(void 0===t&&(t=!0),void 0===e&&(e=null),void 0===i&&(i=null),!(0<this._filterLock)){this.$_buildItems();try{t&&this._fireRefresh()}finally{this._fireFiltered(e,i)}}},p.prototype.orderBy=function(t,e,i,o){void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===o&&(o=!0),this._fireSort(t,e,i),this._sortFields=[],this._sortDirections=[],this._sortCases=[];for(var r=t?t.length:0,n=e?e.length:0,s=i?i.length:0,a=0;a<n;a++)e[a]=e[a]==H.SortDirection.ASCENDING||e[a]==H.SortDirection.DESCENDING?e[a]:H.SortDirection.ASCENDING;for(a=0;a<r;a++)this._sortFields.push(t[a]),a<n?this._sortDirections.push(e[a]):0<n?this._sortDirections.push(e[n-1]):this._sortDirections.push(H.SortDirection.ASCENDING),a<s?this._sortCases.push(i[a]):0<s?this._sortCases.push(i[s-1]):this._sortCases.push(H.SortCase.SENSITIVE);this._sorted=this.$_checkSorted(),this.$_buildItems();try{o&&this._fireRefresh()}finally{this._fireSorted()}},p.prototype.getSortFields=function(){return this._sortFields.slice()},p.prototype.getSortDirections=function(){return this._sortDirections.slice()},p.prototype.getSortCases=function(){return this._sortCases.concat()},p.prototype.setPaging=function(t,e,i,o){void 0===e&&(e=10),void 0===i&&(i=-1),void 0===o&&(o=null),e=Math.max(e,1),i=Math.max(i,-1),t==this._paging&&e==this._pageSize&&i==this._pageCount&&o==this._pagingSource||(this._currPage=0,this._paging=t,this._pagingSource=o,this._pageSize=e,this._pageCount=i,this.$_buildItems(),this._fireRefresh())},Object.defineProperty(p.prototype,"page",{get:function(){return this._paging?this._currPage:-1},enumerable:!0,configurable:!0}),p.prototype.setPage=function(t,e){void 0===t&&(t=0),void 0===e&&(e=-1),this._paging&&(t=Math.max(0,Math.min(this.pageCount-1,t)),e=Math.max(-1,e),t==this._currPage&&e==this._pageStartIndex||(this._currPage=t,this._pageStartIndex=e,this.$_buildPage(),this._fireRefresh()))},Object.defineProperty(p.prototype,"pageCount",{get:function(){return this._paging?0<=this._pageCount?this._pageCount:Math.floor((this._dataSource.rowCount+this._pageSize-1)/this._pageSize):0},set:function(t){this._paging&&(t=Math.max(-1,t))!=this._pageCount&&(this._pageCount=t,this.$_buildPage(),this._fireRefresh())},enumerable:!0,configurable:!0}),p.prototype.getCheckedRows=function(t){for(var e=t?this._dataSource.rowCount:this.itemCount,i=[],o=0;o<e;o++){var r=t?this._rows[o]:this._pubItems[o];r.checked&&i.push(r.dataRow)}return i},p.prototype.resetCheckables=function(){for(var t=this._rows.length;t--;)this._rows[t]._setCheckable(!0);this._fireRefresh()},p.prototype.applyCheckables=function(){this._checkableTag?this._checkableTag.setRows():l.clearCheckables(this),this._fireRefresh()},Object.defineProperty(p.prototype,"dataSource",{get:function(){return this._dataSource},set:function(t){t!==this._dataSource&&(this.$_clearRows(),this._dataSource&&!this.$_disposing&&(this._dataSource.removeTag(this._cellStyles),this._dataSource.removeTag(this._editableMap),this._checkableTag&&this._checkableTag.disconnect(),this._dataSource.removeListener(this),this._dataSource.unregisterCommandListener(this)),this._dataSource=t,this._dataSource&&(this._checkableTag&&this._checkableTag.connect(this._dataSource),this.$_buildRows(),this._dataSource.addListener(this),this._dataSource.addTag(this._cellStyles),this._dataSource.addTag(this._editableMap),this._dataSource.registerCommandListener(this)),this.disposing||(this.$_resetSummary(),this._fireReset()))},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"itemCount",{get:function(){return this._pubCount},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"fixedCount",{get:function(){return this._fixedCount},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"maxItemCount",{get:function(){return this._maxItemCount},set:function(t){(t=Math.max(0,t))!=this._maxItemCount&&(this._maxItemCount=t,this._refreshItems())},enumerable:!0,configurable:!0}),p.prototype._hideDeletedChanged=function(){this.$_buildItems(),this._fireRefresh()},p.prototype.getItem=function(t){return t<0||t>=this._pubCount?null:this._pubItems[t]},p.prototype.getItems=function(t,e){return this._pubItems.slice(t,t+e)},p.prototype.getIndexOfRow=function(t){if(0<=t&&t<this._rows.length){var e=this._rows[t];return e&&0<=this._pubItems.indexOf(e)?e.index:-1}return-1},p.prototype.getItemOfRow=function(t,e){if(void 0===e&&(e=!1),0<=t&&t<this._rows.length){var i=this._rows[t];return 0<=i.index||e?i:null}return null},p.prototype._refreshItems=function(){var t={};this.$_saveExtents(t),this.$_clearRows(),this.$_buildRows(t),this._fireRefresh()},p.prototype.setFixed=function(t,e,i){(t=Math.max(0,t))==this._fixedCount&&e==this._fixedSorting&&i==this._filtering||(this._fixedCount=t,this._fixedSorting=e,this._fixedFiltering=i,this.$_buildItems(),this._fireRefresh())},p.prototype.exchange=function(t,e){if(t!=e&&!this._sorted&&!this._filtered){if(t<0||t>=this._rows.length)throw new Error("index1 is out of bounds: "+t);if(e<0||e>=this._rows.length)throw new Error("index2 is out of bounds: "+t);var i=this._rows[t];this._rows[t]=this._rows[e],this._rows[e]=i}},p.prototype.clearDisplayLevels=function(){for(var t=this._rows,e=t.length,i=0;i<e;i++)t[i]._displayLevel=-1},p.prototype.getAllItems=function(){return this._pubItems.slice()},p.prototype.hasCellStyle=function(){return!this._cellStyles.isEmpty},p.prototype.setCellStyle=function(t,e,i){this._cellStyles.setCellStyle(t,e,i)},p.prototype.setCellStyles=function(t,e,i){this._cellStyles.setCellStyles(t,e,i)},p.prototype.removeCellStyle=function(t){this._cellStyles.removeCellStyle(t)},p.prototype.clearCellStyles=function(){this._cellStyles.clearCellStyles()},p.prototype.checkCellStyle=function(t,e){return this._cellStyles.checkCellStyle(t,e)},p.prototype.getCellStyle=function(t,e){return this._cellStyles.getCellStyle(t,e)},p.prototype.setCellEditable=function(t,e,i){this._editableMap.setEditable(t,e,i)},p.prototype.setCellReadOnly=function(t,e,i){this._editableMap.setReadOnly(t,e,i)},p.prototype.getCellEditable=function(t,e){return this._editableMap.getEditable(t,e)},p.prototype.getCellReadOnly=function(t,e){return this._editableMap.getReadOnly(t,e)},p.prototype.setCellCursor=function(t,e,i){return this._editableMap.setCursor(t,e,i)},p.prototype.getCellCursor=function(t,e){return this._editableMap.getCursor(t,e)},p.prototype.setCellEditor=function(t,e,i){return this._editableMap.setEditor(t,e,i)},p.prototype.getCellEditor=function(t,e){return this._editableMap.getEditor(t,e,void 0)},p.prototype.clearEditableMap=function(){return this._editableMap.clearEditableMap()},p.prototype.getNumber=function(t){var e=this.$_getSummary(t);return e?e.count:this.itemCount},p.prototype.getSum=function(t){var e=this.$_getSummary(t);return e?e.sum:NaN},p.prototype.getMax=function(t){var e=this.$_getSummary(t);return e?e.max:NaN},p.prototype.getMin=function(t){var e=this.$_getSummary(t);return e?e.min:NaN},p.prototype.getAvg=function(t){var e=this.$_getSummary(t);return e?e.avg:NaN},p.prototype.getVar=function(t){var e=this.$_getSummary(t);return e?e.vars:NaN},p.prototype.getVarp=function(t){var e=this.$_getSummary(t);return e?e.varsp:NaN},p.prototype.getStdev=function(t){var e=this.$_getSummary(t);return e?Math.sqrt(e.vars):NaN},p.prototype.getStdevp=function(t){var e=this.$_getSummary(t);return e?Math.sqrt(e.varsp):NaN},p.prototype.$_saveExtents=function(t){for(var e=0,i=this._rows.length;e<i;e++){var o=this._rows[e];0<=o.dataRowId&&(t[o.dataRowId]=o._extents)}},p.prototype.$_clearRows=function(){this._rows.length=0,this._filteredItems.length=0,this._filtered=!1,this._sorted=!1,this._sortedItems.length=0,this._pubItems=this._rows,this.$_clearDistincts()},p.prototype.$_clearIndicies=function(){for(var t=this._rows.length;t--;)this._rows[t]._index=-1},p.prototype.$_clearDistincts=function(){for(var t=this._distinctRows.length;t--;)this._distinctRows[t]=null;this._distinctRows.length=0},p.prototype.$_buildRows=function(t){void 0===t&&(t=null);var e=this._dataSource;if(e){this._filtered=this.$_checkFiltered(),this._sorted=this.$_checkSorted(),this._rowCount=e.rowCount,!this._filtered&&!this._paging&&0<this.maxItemCount&&(this._rowCount=Math.min(this._rowCount,this.maxItemCount)),this._rows=new Array(this._rowCount);for(var i=0,o=this._rows.length;i<o;i++){var r=this._rows[i]=this.$_createRow(i);t&&t.hasOwnProperty(r.dataId)&&(r._extents=t[r.dataId])}this.$_buildItems(),this._checkableTag&&this._checkableTag.setRows()}},p.prototype.$_resetCounts=function(){this._filtered?this._pubCount=this._itemCount=this._items.length:this._pubCount=this._itemCount=this._rowCount=this._rows.length},p.prototype.$_buildItems=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=0<this.maxItemCount?this.maxItemCount:this._rows.length,o=this._dataSource.hiddenCount;if(this._rowCount=this._rows.length,this._pubItems=this._items=this._rows,this._pubCount=this._itemCount=this._rows.length,this._filtered=this.$_checkFiltered(),this._sorted=this.$_checkSorted(),(this._filtered||this._paging)&&this.$_clearIndicies(),this._filtered){if(this._filteredItems.length=0,this.hideDeleted||0<o)for(var r=0;r<this._rowCount;r++){var n=this._rows[r],s=this._dataSource.getRowState(this._rows[r].dataRow),a=this._dataSource.isHiddenRow(this._rows[r].dataRow);this.hideDeleted&&w.isDeletedState(s)||a?n._index=-1:n._index=0}else for(r=0;r<this._rowCount;r++)this._rows[r]._index=0;var l=this.fixedCount,u=0<l&&!this._fixedFiltering,h=this._rows.length;if(!t){r=0;for(var c=this._filters.length;r<c;r++)if(m=this._filters[r])for(var p=0;p<m.length;p++)m[p].prepare(this._filterRuntime,this._dataSource)}this._paging||(h=Math.min(h,i));var d=0;for(r=0;r<this._rowCount&&d<h;r++)if(0<=(n=this._rows[r]).index)if(t||u&&d<l)this._filteredItems.push(n),d++;else{var _=!this._filterOr,f=0,y=0;for(c=this._filters.length;y<c;y++){var m;if((m=this._filters[y])&&f++,this._filterOr){if(m&&this.$_select(m,n,y)){_=!0;break}}else if(m&&!this.$_select(m,n,y)){_=!1;break}}_||0===f?(this._filteredItems.push(n),d++):n._index=-1}this._pubItems=this._items=this._filteredItems,this._pubCount=this._itemCount=this._items.length}else this._filteredItems.length=0;if(this._sorted){if(e){var g=this._sortedItems;for(r=g.length;r--;)g[r].index<0&&g.splice(r,1)}else this.$_sortRows();this._pubItems=this._sortedItems}else this._sortedItems.length=0;this._paging&&this.$_buildPageItems(),this.$_clearSummary(),this._resetItemIndicies(0)},p.prototype.$_buildPageItems=function(){var t=this._sorted?this._sortedItems:this._filtered?this._filteredItems:this._items;this._pageItems.length=0;for(var e=this._pageStart=0<=this._pageStartIndex?this._pageStartIndex:this._currPage*this._pageSize,i=t.length,o=0<this.maxItemCount?this.maxItemCount:i,r=Math.min(this._pageSize,o);e<i&&0<r;e++,r--)this._pageItems.push(t[e]);this._pubItems=this._pageItems,this._pubCount=this._pubItems.length},p.prototype.$_buildPage=function(){this.$_clearIndicies(),this.$_buildPageItems(),this._resetItemIndicies(0)},p.prototype.$_compareFuncs=function(t,e){for(var i={},o=this._dataSource,r=0,n=t.length;r<n;r++){var s=o.getField(t[r]);if(s){var a=o.getDataComparer(s.index)?o.getDataComparer(s.index):this._labelComparer[s.index],l=e[r]==H.SortCase.INSENSITIVE;if(!a)switch(s.dataType){case H.ValueType.DATETIME:case H.ValueType.NUMBER:a=o.compareNumbers.bind(o);break;case H.ValueType.BOOLEAN:a=o.compareBools.bind(o);break;case H.ValueType.OBJECT:a=o.compareObjects.bind(o);break;default:a=l?o.compareTexts.bind(o):o.compareValues.bind(o)}a&&(i[t[r]]=a)}}return i},p.prototype.$_sortRows=function(t){void 0===t&&(t=null);var e=t||this._items.slice(),i=[];0<this._fixedCount&&!this._fixedSorting&&(i=e.splice(0,this._fixedCount));var l=this.$_compareFuncs(this._sortFields,this._sortCases);e.sort(function(t,e){for(var i,o,r,n=0,s=0,a=this._sortFields.length;s<a&&(o=this._sortDirections[s],r=this._sortFields.length==s+1,!(i=l[this._sortFields[s]])||0===(n=i(this._sortFields[s],t.dataRow,e.dataRow)));s++);return n=0==(n*=o===H.SortDirection.DESCENDING?-1:1)&&r?o===H.SortDirection.DESCENDING?e.dataRow-t.dataRow:t.dataRow-e.dataRow:n}.bind(this)),this._sortedItems=i.concat(e)},p.prototype.$_createRow=function(t){var e=new Z.GridRow(t);return this.attachItem(e),e._dataRowId=e.dataId,e},p.prototype.$_createAllRow=function(){for(var t=0;t<this._rowCount;t++)this._rows[t]||(this._rows[t]=this.$_createRow(t))},p.prototype.$_resetSummary=function(){this._summaryMap=[]},p.prototype.$_clearSummary=function(){if(this._summaryMap)for(var t=this._summaryMap.length-1;0<=t;t--)this._summaryMap[t]&&this._summaryMap[t].clear()},p.prototype.$_getSummary=function(t){var e=this._summaryMap[t];if(!e){var i=this._dataSource;i&&i.canSummarize(t)&&(e=new E.FieldSummary(t),this._summaryMap[t]=e)}return e&&0==e.count&&0<this.itemCount&&this.$_summarize(e),e},p.prototype.$_summarize=function(t){var e=this._dataSource;if(e)if(this._filtered){for(var i=this._items.length,o=new Array(i),r=0;r<i;r++)o[r]=this._pubItems[r].dataRow;e.summarizeRange(t,o,this._summaryMode==H.SummaryMode.STATISTICAL)}else e.summarize(t,this._summaryMode==H.SummaryMode.STATISTICAL)},p.prototype.$_needSort=function(){return this._sorted&&this._sortMode==H.SortMode.AUTO},p.prototype.$_needFilter=function(){return this._filtered&&this._filterMode==H.FilterMode.AUTO},p.prototype.$_checkFiltered=function(){return!!this._dataSource&&(this._filters.length=this._dataSource.fieldCount,this.hasFilters()||this.hideDeleted&&0<this._dataSource.deletedCount||0<this._dataSource.hiddenCount)},p.prototype.$_select=function(t,e,i){for(var o=t.length,r=0;r<o;r++)if(t[r].select(this._filterRuntime,e,i))return!0;return!1},p.prototype.$_checkSorted=function(){for(var t=this._sortFields.length-1;0<=t;t--)this._sortFields[t]>this._dataSource.fieldCount&&(this._sortFields.splice(t,1),this._sortDirections.splice(t,1),this._sortCases.splice(t,1));return this._sortFields&&0<this._sortFields.length},p.prototype.onDataSourceCommandStackChanged=function(t,e,i){this._fireCommandStackChanged(e,i)},p.prototype.onDataProviderDisposed=function(t){t.removeTag(this._cellStyles),t.removeTag(this._editableMap),this._checkableTag&&this._checkableTag.disconnect(),this.$_clearRows(),this.$_resetSummary(),this._fireReset(),this.dataSource=null},p.prototype.onDataProviderReset=function(t){this.$_clearRows(),this.$_buildRows(),this.$_resetSummary(),this._fireReset()},p.prototype.onDataProviderRefresh=function(t){this._refreshItems()},p.prototype.onDataProviderRefreshClient=function(t){this._fireRefreshClient()},p.prototype.onDataProviderRowCountChanged=function(t,e){this._fireRefreshClient()},p.prototype.onDataProviderRowInserting=function(t,e,i){return!0},p.prototype.onDataProviderRowInserted=function(t,e,i){var o=this._rows,r=e<o.length?o[e]:null,n=this.$_createRow(e);o.splice(e,0,n);for(var s=e,a=o.length;s<a;s++)o[s]._dataRow=s;if(this.$_needFilter()||this.$_needSort()||this._paging)this.$_buildItems();else{if(this._filtered){var l=this._filteredItems;e=null!=i?i:Math.max(0,r?l.indexOf(r):l.length),l.splice(e,0,n)}this._sorted&&(l=this._sortedItems,e=null!=i?i:Math.max(0,r?l.indexOf(r):l.length),l.splice(e,0,n)),this.$_clearSummary(),this.$_resetCounts(),this._resetItemIndicies(this._sorted?0:e)}this._checkableTag&&this._checkableTag.insertRow(n),this._fireItemInserted(n)},p.prototype.onDataProviderRowsInserted=function(t,e,i,o){if(!(i<0)){for(var r,n=this._rows,s=e<n.length?n[e]:null,a=[],l=0;l<i;l++)a.push(r=this.$_createRow(e+l)),n.splice(e+l,0,r);var u=n.length;for(l=e;l<u;l++)n[l]._dataRow=l;if(this.$_needFilter()||this.$_needSort()||this._paging)this.$_buildItems();else{if(this._filtered){var h=this._filteredItems;for(e=null!=o?o:Math.max(0,s?h.indexOf(s):h.length),l=0;l<a.length;l++)h.splice(e+l,0,a[l])}if(this._sorted)for(h=this._sortedItems,e=null!=o?o:Math.max(0,s?h.indexOf(s):h.length),l=0;l<a.length;l++)h.splice(e+l,0,a[l]);this.$_clearSummary(),this.$_resetCounts(),this._resetItemIndicies(e)}this._checkableTag&&this._checkableTag.insertRows(e,i),this._fireRefresh()}},p.prototype.onDataProviderRowRemoving=function(t,e){return!0},p.prototype.$_silentRemoveRow=function(t){var e,i;this._filtered&&0<=(i=(e=this._filteredItems).indexOf(t))&&e.splice(i,1),this._sorted&&0<=(i=(e=this._sortedItems).indexOf(t))&&e.splice(i,1),this.$_clearSummary(),this.$_resetCounts(),this._resetItemIndicies(0)},p.prototype.onDataProviderRowRemoved=function(t,e){var i=this._rows,o=i[e];i.splice(e,1);for(var r=i.length-1;e<=r;r--)i[r]._dataRow=r;this.$_needFilter()||this.$_needSort()||this._paging?this.$_buildItems():this.$_silentRemoveRow(o),this._fireItemDeleted(o)},p.prototype.onDataProviderRowsRemoving=function(t,e){return!0},p.prototype.$_silentRemoveRows=function(t){if(this._filtered)for(var e=this._filteredItems,i=0;i<t.length;i++){var o=t[i];0<=(r=e.indexOf(o))&&e.splice(r,1)}if(this._sorted)for(e=this._sortedItems,i=0;i<t.length;i++){var r;o=t[i],0<=(r=e.indexOf(o))&&e.splice(r,1)}this.$_clearSummary(),this.$_resetCounts(),this._resetItemIndicies(0)},p.prototype.onDataProviderRowsRemoved=function(t,e){if(e&&!(e.length<1)){1<e.length&&e.sort(function(t,e){return t-e});for(var i=this._rows,o=e[0],r=[],n=e.length-1;0<=n;n--)r.push(i[e[n]]),i.splice(e[n],1);for(n=this._rows.length-1;o<=n;n--)i[n]._dataRow=n;this.$_needFilter()||this.$_needSort()||this._paging?this.$_buildItems():this.$_silentRemoveRows(r),this._fireRefresh()}},p.prototype.onDataProviderRowUpdating=function(t,e,i){return!0},p.prototype.onDataProviderRowUpdated=function(t,e){this.$_needFilter()||this.$_needSort()||this._paging?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.updateRow(this._rows[e]),this._rows[e]&&this._fireItemUpdated(this._rows[e])},p.prototype.onDataProviderRowsUpdated=function(t,e,i){this.$_needFilter()||this.$_needSort()||this._paging?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.updateRows(e,i),this._fireRefresh()},p.prototype.onDataProviderValueChanging=function(t,e,i,o){return!0},p.prototype.onDataProviderValueChanged=function(t,e,i){this.$_needFilter()||this.$_needSort()||this._paging?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.updateRow(this._rows[e]),this._rows[e]&&this._fireItemUpdated(this._rows[e])},p.prototype.onDataProviderRowMoving=function(t,e,i){return!0},p.prototype.onDataProviderRowMoved=function(t,e,i){for(var o=this._rows,r=o.length,n=e=Math.min(e,i);n<r;n++)o[n]._dataRow=n;(this._sorted||this._paging||this.hideDeleted)&&(this.$_buildItems(),this._resetItemIndicies(0)),this._fireRefresh()},p.prototype.onDataProviderRowsMoving=function(t,e,i,o){return!0},p.prototype.onDataProviderRowsMoved=function(t,e,i,o){this._refreshItems()},p.prototype.onDataProviderStateChanged=function(t,e){if(this.hideDeleted){var i=this._rows[e];w.isDeletedState(i.rowState)&&(this.$_needFilter()||this.$_needSort()||this._paging?this.$_buildItems():this.$_checkFiltered()&&(!this._filteredItems||this._filteredItems.length<=0)||this.isSorted&&(!this._sortedItems||this._sortedItems.length<=0)?this.$_buildItems(!0,!0):this.$_silentRemoveRow(i),this._fireRefresh())}this._checkableTag&&this._checkableTag.updateRow(this._rows[e]),this._fireRowStateChanged(this._rows[e])},p.prototype.onDataProviderRowHided=function(t,e,i){if(this._filtered=this.$_checkFiltered(),i){if(this.$_needFilter()||this.$_needSort()||this._paging)this.$_buildItems();else if(this.$_checkFiltered()&&(!this._filteredItems||this._filteredItems.length<=0)||this.isSorted&&(!this._sortedItems||this._sortedItems.length<=0))this.$_buildItems(!0,!0);else{var o=this.getItemsByRows(e);this.$_silentRemoveRows(o)}this._fireRefresh()}else this._refreshItems()},p.prototype.onDataProviderStatesChanged=function(t,e){if(this.hideDeleted){for(var i=!1,o=0,r=e.length;o<r;o++){var n=e[o],s=this._rows[n];if(w.isDeletedState(s.rowState)){i=!0;break}}if(i){if(this.$_needFilter()||this.$_needSort()||this._paging)this.$_buildItems();else if(this.$_checkFiltered()&&(!this._filteredItems||this._filteredItems.length<=0)||this.isSorted&&(!this._sortedItems||this._sortedItems.length<=0))this.$_buildItems(!0,!0);else{var a=this.getItemsByRows(e);this.$_silentRemoveRows(a)}this._fireRefresh()}}this._checkableTag&&this._checkableTag.changeStates(e),this._fireRowStatesChanged(this.getItemsByRows(e))},p.prototype.onDataProviderRestoreRows=function(t,e){this.$_needFilter()||this.$_needSort()||this._paging?this.$_buildItems():this.$_clearSummary(),this._checkableTag&&this._checkableTag.changeStates(e),this._fireRowStatesChanged(this.getItemsByRows(e)),this._fireRefresh()},p.prototype.onDataProviderStatesCleared=function(t){this._pubCount!=t.rowCount&&this._refreshItems(),this._fireRowStatesCleared()},p);function p(t){var e=h.call(this,t)||this;return e._sortMode=H.SortMode.AUTO,e._filterMode=H.FilterMode.AUTO,e._filterOr=!1,e._checkableExpression=null,e._rows=[],e._filteredItems=[],e._pageItems=[],e._sortedItems=[],e._pubItems=e._rows,e._items=e._rows,e._distinctRows=[],e._cellStyles=new xt.CellStyleMap(e),e._editableMap=new xt.CellEditableMap(e),e._rowCount=0,e._fixedCount=0,e._fixedSorting=!1,e._maxItemCount=0,e._itemCount=0,e._pubCount=0,e._filtered=!1,e._filtering=!1,e._filters=[],e._filterRuntime=new X.ColumnFilterRuntime,e._filterLock=0,e._fixedFiltering=!1,e._sorted=!1,e._sortFields=[],e._sortDirections=[],e._sortCases=[],e._labelComparer={},e._sorter=null,e._defSorter=null,e._paging=!1,e._pagingSource=H.PagingSource.ROWS,e._pageSize=10,e._pageCount=-1,e._pageStartIndex=-1,e._currPage=0,e._pageStart=0,e._summaryMode=H.SummaryMode.AGGREGATE,e._summaryMap=null,e._checkableTag=null,e}e.DefaultItemProvider=c});t(It);It.CheckableExpressionRuntime,It.DefaultItemProvider;var Et=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.clearCheckables=function(t){for(var o=function(t){if(t){t.setCheckable(!0);for(var e=t.count;e--;){var i=t.getItem(e);i instanceof c&&o(i)}}},e=t.itemCount;e--;){var i=t.getItem(e);i instanceof c&&o(i)}},s.prototype.connect=function(t){this._runtime.setDataSource(t)},s.prototype.disconnect=function(){},s.prototype.clearRows=function(){s.clearCheckables(this._owner)},s.prototype.setRows=function(){for(var t=this._owner.itemCount;t--;){var e=this._owner.getItem(t);e instanceof c&&this.$_setCheckable(e,!0)}},s.prototype.addRow=function(t,e){void 0===e&&(e=!0);var i=this._owner.getItemOfRow(t.rowId);i instanceof c&&this.$_setCheckable(i,e)},s.prototype.addRows=function(t){for(var e=t.length;e--;){var i=this._owner.getItemOfRow(t[e].rowId);i instanceof c&&this.$_setCheckable(i,!0)}},s.prototype.updateRow=function(t){var e=this._owner.getItemOfRow(t.rowId);e instanceof c&&this.$_setCheckable(e,!1)},s.prototype.changeStates=function(t){for(var e=t.length;e--;){var i=this._owner.getItemOfRow(t[e].rowId);i instanceof c&&this.$_setCheckable(i,!1)}},s.prototype.$_setCheckable=function(t,e){if(t&&(this._runtime.setItem(t),t.setCheckable(this._exprNode.evaluate(this._runtime)),e))for(var i=t.count;i--;){var o=t.getItem(i);o instanceof c&&this.$_setCheckable(o,!0)}},s);function s(t,e){var i=r.call(this)||this;return i._owner=t,i._exprNode=q.ExpressionParser.Default.parse(e,["value","values"]),i._runtime=new It.CheckableExpressionRuntime,i}var a,l=(a=Z.GridItem,i(u,a),Object.defineProperty(u.prototype,"isLeaf",{get:function(){return!0},enumerable:!0,configurable:!0}),u);function u(){return a.call(this)||this}e.TreeItemFooter=l;var h,c=(h=Z.GroupItem,i(p,h),p.getTemp=function(t){return p.$_tempItem._dataRow=t,p.$_tempItem},p.prototype.dispose=function(){this._dataRow=null,h.prototype.dispose.call(this)},Object.defineProperty(p.prototype,"iconHeight",{get:function(){return this._iconHeight},set:function(t){this._iconHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"row",{get:function(){return this._dataRow},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"rowId",{get:function(){return this._dataRow?this._dataRow.rowId:-1},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"iconIndex",{get:function(){return this._dataRow.iconIndex},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"hasChildren",{get:function(){return 0<this.count||this._dataRow.hasChildren},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"rootItem",{get:function(){for(var t=this;1<t.level;)t=t.parent;return t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"summaryMode",{get:function(){return H.SummaryMode.AGGREGATE},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isData",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isDataRow",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"checked",{get:function(){return this._dataRow&&0!=(this._dataRow._extents&Z.ITEM_EXT_CHECKED)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"footer",{get:function(){return this._footer},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"footerCount",{get:function(){return this._footer?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dataRow",{get:function(){return this._dataRow?this._dataRow.rowId:-1},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dataId",{get:function(){return this._dataRow?this._dataRow.rowId:-1},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"descendantCount",{get:function(){return this._dataRow.descendantCount},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"rowState",{get:function(){return this._dataRow.rowState},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"isLeaf",{get:function(){return 0==this.count},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"resizable",{get:function(){return!0},enumerable:!0,configurable:!0}),p.prototype.getFooter=function(t){return this._footer},p.prototype.isFooter=function(t){return t===this._footer},p.prototype.canEdit=function(){return!0},p.prototype.createFooter=function(){this._footer||(this._footer=new l)},p.prototype._setChecked=function(t){if(this._dataRow){var e=this._dataRow._extents;this._dataRow._extents=t?e|Z.ITEM_EXT_CHECKED:e&~Z.ITEM_EXT_CHECKED}},Object.defineProperty(p.prototype,"checkable",{get:function(){return!this._dataRow||0==(this._dataRow._extents&Z.ITEM_UNCHECKABLE)},enumerable:!0,configurable:!0}),p.prototype._setCheckable=function(t){if(this._dataRow){var e=this._dataRow._extents;this._dataRow._extents=t?e&~Z.ITEM_UNCHECKABLE:e|Z.ITEM_UNCHECKABLE}},p.prototype.setExpanded=function(t,e,i){this.expanded},p.prototype.getData=function(t){return this._dataRow.getValue(t)},p.prototype.setData=function(t,e){this._dataRow.setValue(t,e,!1)},p.prototype.setItem=function(t,e){h.prototype.setItem.call(this,t,e),e._addChildren(t.children),t.clear()},p.prototype.exchange=function(t,e){this._exchangeItems(t,e)},p.prototype.moveChild=function(t,e){var i=t+e,o=this._children,r=o[t];if(e<0)for(var n=t;i<n;n--)o[n]=o[n-1];else for(n=t;n<i;n++)o[n]=o[n+1];o[i]=r},p.prototype.changeParent=function(t,e){this.parent.remove(this),t&&t.insert(e,this)},p.prototype.getRowData=function(){return this._dataRow&&this._dataRow._values.concat()},p.$_tempItem=new p(null),p);function p(t){var e=h.call(this)||this;return e._iconHeight=0,e._dataRow=t,e}e.TreeItem=c;var d,_=(i(f,d=c),Object.defineProperty(f.prototype,"id",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"provider",{get:function(){return this._rs},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"level",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"expanded",{get:function(){return!0},enumerable:!0,configurable:!0}),f.prototype.setExpanded=function(t,e,i){},Object.defineProperty(f.prototype,"isLeaf",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"visible",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dataSource",{get:function(){return this._rs.dataSource},enumerable:!0,configurable:!0}),f);function f(t){var e=d.call(this,null)||this;return e._rs=t,e}var y,m=(y=ue.Base,i(g,y),Object.defineProperty(g.prototype,"provider",{get:function(){return this._rs},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"fixedCount",{get:function(){return this._fixedCount},enumerable:!0,configurable:!0}),g.prototype.getItem=function(t){return this._items[t]},g.prototype.setItem=function(t,e){this._items[t]=e},g.prototype.indexOf=function(t){return this._items.indexOf(t)},g.prototype.clear=function(){this._items.length=0},g.prototype.expand=function(t,e,i){void 0===i&&(i=0),t&&this.$_expandItem(t,e,i)},g.prototype.collapse=function(t){if(t)for(var e=this._rs,i=this._items,o=t.index+1;o<i.length&&i[o].level>t.level;){if(i[o]==t.footer){e.footerWhenCollapsed||(i[o]._index=-1,i.splice(o,1));break}i[o]._index=-1,i.splice(o,1)}},g.prototype.getNext=function(t){return t&&t.visible&&t.index<this.count-1?this._items[t.index+1]:null},g.prototype.getPrior=function(t){return t&&t.visible&&0<t.index?this._items[t.index-1]:null},g.prototype.insert=function(t,e){this._items.splice(e,0,t)},g.prototype.remove=function(t){var e=this._items,i=e.indexOf(t);if(0<=i&&(e.splice(i,1),t.expanded))for(;i<e.length&&t.isDescendant(e[i]);)e.splice(i,1)},g.prototype.$_collectChildren=function(t,e,i,o){for(var r=0,n=t.count;r<n;r++){var s=t.getItem(r);s&&(e.push(s),(i&&s.level<o||s.expanded)&&this.$_collectChildren(s,e,i,o))}t.footer&&e.push(t.footer)},g.prototype.$_expandItem=function(t,e,i){var o,r=this._items,n=this._list;if(o=t instanceof _?this._fixedCount:t.index+1,i=Math.max(0,i),n.length=0,this.$_collectChildren(t,n,e,0<i?t.level+i:1e6),e){for(var s=o,a=r.length;s<a&&!(r[s].level<=t.level);s++);r.splice(o,s-o)}for(s=0,a=n.length;s<a;s++)r.splice(o+s,0,n[s])},g.prototype._clearAndInit=function(t){this.clear(),this._fixedCount=Math.min(t,this._rs.itemCount);for(var e=0;e<this._fixedCount;e++)this._items.push(this._rs.getItem(e))},g);function g(t){var e=y.call(this)||this;return e._fixedCount=0,e._items=new Array,e._list=new Array,e._rs=t,e}var v,b=(v=S.ItemProvider,i(C,v),C.prototype._doDispose=function(){this._filters=null,this._filterRuntime=null,this._sorter=null,this._sortFields=null,this._sortDirections=null,this._sortCases=null,this._visibleItems=null,this._itemMap=null,this._summaryMap=null,this._checkableExpression=null,this._checkableTag=null,v.prototype._doDispose.call(this)},C.prototype.getCommandStates=function(t){return this._itemMap[t.rowId]._extents},C.prototype.setCommandStates=function(t,e){this._itemMap[t.rowId]._extents=e},Object.defineProperty(C.prototype,"expandWhenGrouping",{get:function(){return this._expandWhenGrouping},set:function(t){t!=this._expandWhenGrouping&&(this._expandWhenGrouping=t)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"footerWhenExpanded",{get:function(){return this._footerWhenExpanded},set:function(t){t!=this._footerWhenExpanded&&(this._footerWhenExpanded=t)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"footerWhenCollapsed",{get:function(){return this._footerWhenCollapsed},set:function(t){t!=this._footerWhenCollapsed&&(this._footerWhenCollapsed=t)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"sorted",{get:function(){return this._sortFields&&0<this._sortFields.length},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"labelComparer",{get:function(){return this._labelComparer},set:function(t){this._labelComparer=t},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"summaryMode",{get:function(){return this._summaryMode},set:function(t){t!=this._summaryMode&&(this._summaryMode=t,this.$_resetSummary(),this._fireRefresh())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"groupSummaryMode",{get:function(){return this._groupSummaryMode},set:function(t){t!=this._groupSummaryMode&&(this._groupSummaryMode=t,this.$_resetGroupSummary(),this._fireRefresh())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"hideDeleted",{get:function(){return this._hideDeleted},set:function(t){t!=this._hideDeleted&&(this._hideDeleted=t,this._saveAndRefresh())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"checkableExpression",{get:function(){return this._checkableExpression},set:function(t){t!=this._checkableExpression&&(this._checkableExpression=t,this._checkableTag&&(this._checkableTag.disconnect(),this._checkableTag=null),t&&(this._checkableTag=new n(this,t),this.dataSource&&this._checkableTag.connect(this.dataSource)))},enumerable:!0,configurable:!0}),C.prototype.$_needSort=function(){return this._sortFields&&0<this._sortFields.length&&this._sortMode==H.SortMode.AUTO},C.prototype.insertItem=function(t,e,i,o){var r=this._visibleItems;t.collapsed&&r.expand(t,!1);var n=r.indexOf(t.getItem(i));if(o){t.insert(i+1,e);for(var s=r.count,a=t.level+1;++n<s&&!(r.getItem(n).level<=a););r.insert(e,n)}else t.insert(i,e),r.insert(e,n)},C.prototype.appendItem=function(t,e){var i,o=this._visibleItems;t.collapsed&&o.expand(t,!1),i=0<t.count?o.indexOf(t.getItem(t.count-1)):o.indexOf(t);for(var r=o.count,n=t.level;++i<r&&!(o.getItem(i).level<=n););t.add(e),o.insert(e,i)},C.prototype.removeItem=function(t){this._visibleItems.remove(t),t.parent.remove(t)},C.prototype.$_calcLevel=function(t,e,i){var o,r,n=t.count,s=e;for(o=0;o<n;o++)(r=t.getItem(o))&&(s=Math.max(s,e+1),i&&!r.expanded||(s=Math.max(s,this.$_calcLevel(r,e+1,i))));return s},C.prototype.getLevels=function(t){return this.$_calcLevel(this._rootItem,0,t)},C.prototype.$_setExpanded=function(t,e,i){if(this._setExpanded(t,!0),this.dataSource.setHasChildren(t.row,!1),e)for(var o=0,r=t.count;o<r;o++){var n=t.getItem(o);n instanceof c&&(n.expanded||n.level<i)&&this.$_setExpanded(n,!0,i)}},C.prototype._expandItem=function(t,e,i,o,r){if(t&&(e||!t.expanded)){if(r&&!this._fireExpanding(t))return;this._visibleItems.collapse(t),this._visibleItems.expand(t,i,o),this._resetItemIndicies(t===this._rootItem?0:t.index),this.$_setExpanded(t,i,0<o?t.level+o:1e6);try{this._fireRefresh()}finally{r&&this._fireExpanded(t)}}},C.prototype.expand=function(t,e,i,o){void 0===o&&(o=0),this._expandItem(t,i,e,o,!0)},C.prototype.expandAll=function(t){this._expandItem(this._rootItem,!0,!0,0<t?t+1:0,!0)},C.prototype.$_setCollapsed=function(t,e){if(this._setExpanded(t,!1),e)for(var i=0,o=t.count;i<o;i++){var r=t.getItem(i);r instanceof c&&this.$_setCollapsed(r,!0)}},C.prototype._collapseItem=function(t,e,i,o){if(t&&(e||t.expanded)){if(o&&!this._fireCollapsing(t))return;this._visibleItems.collapse(t),this.$_setCollapsed(t,i),t==this._rootItem&&this._visibleItems.expand(this._rootItem,!1),this._resetItemIndicies(t===this._rootItem?0:t.index);try{this._fireRefresh()}finally{o&&this._fireCollapsed(t)}}},C.prototype.collapse=function(t,e){this._collapseItem(t,!1,e,!0)},C.prototype.collapseAll=function(){this._collapseItem(this._rootItem,!0,!0,!0)},C.prototype.$_saveExpanded=function(t,e){for(var i=0,o=e.count;i<o;i++){var r=e.getItem(i);r&&(t[r.rowId]=Z.ITEM_EXT_FILTERED|(r.expanded?Z.ITEM_EXT_SAVEEXPAND:0),0<r.count&&this.$_saveExpanded(t,r))}},C.prototype.orderBy=function(t,e,i,o){void 0===o&&(o=!0),this._fireSort(t,e,i),this._sortFields=[],this._sortDirections=[],this._sortCases=[];for(var r=t?t.length:0,n=e?e.length:0,s=i?i.length:0,a=0;a<r;a++)this._sortFields.push(t[a]),a<n?this._sortDirections.push(e[a]):0<n?this._sortDirections.push(e[n-1]):this._sortDirections.push(H.SortDirection.ASCENDING),a<s?this._sortCases.push(i[a]):0<s?this._sortCases.push(i[s-1]):this._sortCases.push(H.SortCase.SENSITIVE);var l=[];this.$_saveExpanded(l,this._rootItem),this.$_clearItems(),this.$_buildTree(l);try{o&&this._fireRefresh()}finally{this._fireSorted()}},C.prototype.getSortFields=function(){return this._sortFields.concat()},C.prototype.getSortDirections=function(){return this._sortDirections.concat()},C.prototype.getSortCases=function(){return this._sortCases.concat()},C.prototype.beginFiltering=function(){this._filterLock++},C.prototype.$_prepareFiltering=function(t,e){for(var i=e._dataRow.count,o=e.rowId,r=o<=-1||this.$_selectItem(e),n=0;n<i;n++){var s=new c(e._dataRow._children[n]);s&&!this.dataSource.isHiddenRow(s.rowId)&&(r=this.$_prepareFiltering(t,s)||r)}return t[o]=r&&0<=o?t[o]|Z.ITEM_EXT_FILTERED:t[o]&~Z.ITEM_EXT_FILTERED,r},C.prototype.endFiltering=function(t,e,i){var o=[];t&&this._addParentNodeOnFiltering&&this.$_prepareFiltering(o,this._rootItem),0<this._filterLock&&(this._filterLock=Math.max(0,this._filterLock-1),t&&0==this._filterLock&&this.applyFilters(o,e,i))},C.prototype.hasFilter=function(t){var e=this._filters[t];return!!e&&0<e.length},C.prototype.addFilter=function(t,e){this._fireFilterAdded(t,e.text);var i=this._filters[t];i||(i=[],this._filters[t]=i);var o=new X.ColumnFilterRun(e);return i.push(o),o},C.prototype.removeFilter=function(t,e){if(this._filtered&&this._filters[t]){this._fireFilterRemoved(t,e);for(var i=this._filters[t],o=i.length;o--;)if(i[o]===e){i.splice(o,1),this.applyFilters(null,null,null);break}}},C.prototype.clearFilters=function(t){if(this._filtered&&this._filters[t]){this._fireFilterCleared(t);var e=this._filters[t];e&&0<e.length&&(e.splice(0,e.length),this._filters[t]=null,this.applyFilters(null,null,null))}},C.prototype.clearAllFilters=function(){this._filtered&&(this._fireFilterAllCleared(),this._filters={},this.applyFilters(null,null,null))},C.prototype.hasFilters=function(){for(var t in this._filters){var e=this._filters[t];if(e&&0<e.length)return!0}return!1},C.prototype.applyFilters=function(t,e,i){var o=this.dataSource,r=o.fieldCount;for(var n in this._filters)Number(n)>=r&&(this._filters[n]=null);if(this._filtered=this.hasFilters(),this._filtered)for(var s in this._filters){var a=this._filters[s];if(a)for(var l=a.length;l--;)a[l].prepare(this._filterRuntime,o)}if(0==this._filterLock){this.$_clearItems(),this.$_buildTree(t);try{this._fireRefresh()}finally{this._fireFiltered(e,i)}}},C.prototype.getItemByRow=function(t){return t?this._itemMap[t.rowId]:null},C.prototype.getCheckedRows=function(){var t=[];return function t(e,i){if(e instanceof c)for(var o=0,r=e.count;o<r;o++){var n=e.getItem(o),s=void 0;n.checked&&(s=n.row)&&i.push(s),t(n,i)}}(this._rootItem,t),t},C.prototype.getCheckedRowIds=function(){var t=[];return function t(e,i){if(e instanceof c)for(var o=0,r=e.count;o<r;o++){var n=e.getItem(o),s=void 0;n.checked&&0<=(s=n.dataRow)&&i.push(s),t(n,i)}}(this._rootItem,t),t},C.prototype.resetCheckables=function(){this._checkableTag&&(this._checkableTag.clearRows(),this._fireRefresh())},C.prototype.applyCheckables=function(){this._checkableTag?this._checkableTag.setRows():n.clearCheckables(this),this._fireRefresh()},C.prototype.$_checkChildren=function(t,e,i){for(var o=0,r=t.count;o<r;o++){var n=t.getItem(o);n&&(i?n.checkable&&this._setCheckItem(n,e):this._setCheckItem(n,e)),n instanceof c&&this.$_checkChildren(n,e,i)}},C.prototype._clearChecked=function(){this.$_checkChildren(this._rootItem,!1,!1)},C.prototype.checkAll=function(t,e,i,o){e?v.prototype.checkAll.call(this,t,e,i,o,!1):(this.$_checkChildren(this._rootItem,t,i),o?this._fireItemAllChecked(t):this._fireRefreshClient())},C.prototype.hasCellstyle=function(){return!this._cellStyles.isEmpty()},C.prototype.setCellStyle=function(t,e,i){this._cellStyles.setCellStyle(t,e,i)},C.prototype.setCellStyles=function(t,e,i){this._cellStyles.setCellStyles(t,e,i)},C.prototype.removeCellStyle=function(t){this._cellStyles.removeCellStyle(t)},C.prototype.clearCellStyles=function(){this._cellStyles.clearCellStyles()},C.prototype.checkCellStyle=function(t,e){return this._cellStyles.checkCellStyle(t,e)},C.prototype.getCellStyle=function(t,e){return this._cellStyles.getCellStyle(t,e)},C.prototype.setCellEditable=function(t,e,i){this._editableMap.setEditable(t,e,i)},C.prototype.setCellReadOnly=function(t,e,i){this._editableMap.setReadOnly(t,e,i)},C.prototype.getCellEditable=function(t,e){return this._editableMap.getEditable(t,e)},C.prototype.getCellReadOnly=function(t,e,i){return this._editableMap.getReadOnly(t,e)},C.prototype.setCellCursor=function(t,e,i){this._editableMap.setCursor(t,e,i)},C.prototype.getCellCursor=function(t,e){return this._editableMap.getCursor(t,e)},C.prototype.setCellEditor=function(t,e,i){this._editableMap.setEditor(t,e,i)},C.prototype.getCellEditor=function(t,e){return this._editableMap.getEditor(t,e)},C.prototype.clearEditableMap=function(){return this._editableMap.clearEditableMap()},Object.defineProperty(C.prototype,"dataSource",{get:function(){return this._ds},set:function(t){t!==this._ds&&(this.$_clearItems(),this.$_resetSummary(),this._ds&&(this._ds.removeTag(this._cellStyles),this._ds.removeTag(this._editableMap),this._ds.removeListener(this),this._ds.unregisterCommandListener(this)),this._ds=t,this._ds&&(this.$_buildTree(null),this._ds.addTag(this._cellStyles),this._ds.addTag(this._editableMap),this._ds.addListener(this),this._ds.registerCommandListener(this)),this._fireReset())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"itemCount",{get:function(){return this._visibleItems.count},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"rowCount",{get:function(){return this._itemCount},enumerable:!0,configurable:!0}),C.prototype._createRootItem=function(){var t=new _(this);return this._setExpanded(t,!0),t},C.prototype.getItem=function(t){return 0<=t&&t<this._visibleItems.count?this._visibleItems.getItem(t):null},C.prototype.getItems=function(t,e){throw new Error("Method not implemented.")},C.prototype.getItemOfRow=function(t,e){throw new Error("Method not implemented.")},C.prototype.$_collectItems=function(t,e){for(var i=0,o=t.count;i<o;i++){var r=t.getItem(i);r instanceof c&&(e.push(r),this.$_collectItems(r,e))}},C.prototype.getAllItems=function(){var t=[];return this.$_collectItems(this._rootItem,t),t},C.prototype.getSum=function(t){var e=this.$_getSummary(t);return e?e.sum:NaN},C.prototype.getMax=function(t){var e=this.$_getSummary(t);return e?e.max:NaN},C.prototype.getMin=function(t){var e=this.$_getSummary(t);return e?e.min:NaN},C.prototype.getAvg=function(t){var e=this.$_getSummary(t);return e?e.avg:NaN},C.prototype.getVar=function(t){var e=this.$_getSummary(t);return e?e.vars:NaN},C.prototype.getVarp=function(t){var e=this.$_getSummary(t);return e?e.varsp:NaN},C.prototype.getStdev=function(t){var e=this.$_getSummary(t);return e?Math.sqrt(e.vars):NaN},C.prototype.getStdevp=function(t){var e=this.$_getSummary(t);return e?Math.sqrt(e.varsp):NaN},C.prototype.getDataCount=function(t){var e=this.$_getSummary(t);return e?e.dataCount:0},C.prototype.getDataAvg=function(t){var e=this.$_getSummary(t);return e?e.dataAvg:NaN},C.prototype.findItem=function(t,e,i,o,r){var n=this.dataSource;if(!n)return-1;if(this.itemCount<1)return-1;var s=Math.min(t.length,e.length);if(s<1)return-1;for(var a=!i||i.allFields,l=i&&i.caseSensitive,u=i&&i.partialMatch,h=null,c=[],p=0;p<s;p++)c[p]=n.getField(t[p]).dataType;o=Math.max(0,o),r=Math.min(this._visibleItems.count-1,r);for(var d=o;d<=r;d++){var _=this._visibleItems.getItem(d),f=0<=_.dataRow;if(f)for(p=0;p<s;p++){var y=_.getData(t[p]);switch(c[p]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(e[p]instanceof Date)f=U.Utils.compareTextValue(e[p],y,l,u);else{if(!h){var m=/[.]/.test(e[p])?"yyyy.MM.dd":/[/]/.test(e[p])?"yyyy/MM/dd":/[-]/.test(e[p])?"yyyy-MM-dd":"yyyyMMdd";h=new L.DateTimeConverter(m)}f=U.Utils.compareTextValue(e[p],y?h.getText(y):y,l,u)}break;default:f=U.Utils.compareTextValue(e[p],y,l,u)}if(f&&!a)return d;if(!f&&a)break}if(f)return d}return-1},C.prototype.findCell=function(t,e,i,o,r,n){var s=this.dataSource;if(!s)return null;if(this.itemCount<1)return null;for(var a=i&&i.caseSensitive,l=i&&i.partialMatch,u=s.fieldCount,h=t.length,c=null,p=[],d=0;d<u;d++)p[d]=s.getField(d).dataType;o=Math.max(0,o),r=Math.min(this._visibleItems.count-1,r),(n=Math.max(0,n))>=t.length&&(o++,n=0);for(var _=o;_<=r;_++){var f=this._visibleItems.getItem(_),y=!1;if(0<=f.dataRow)for(d=o<_?0:n;d<h;d++){var m=t[d];if(0<=m&&m<u){var g=f.getData(m);switch(p[m]){case H.ValueType.DATETIME:case H.ValueType.DATE:if(e instanceof Date)y=U.Utils.compareTextValue(e,g,a,l);else{if(!c){var v=/[.]/.test(e)?"yyyy.MM.dd":/[/]/.test(e)?"yyyy/MM/dd":/[-]/.test(e)?"yyyy-MM-dd":"yyyyMMdd";c=new L.DateTimeConverter(v)}y=U.Utils.compareTextValue(e,g?c.getText(g):g,a,l)}break;default:y=U.Utils.compareTextValue(e,g,a,l)}if(y)return{itemIndex:_,fieldIndex:m,searchFieldIndex:d}}}}return null},C.prototype.$_internalAddItem=function(t,e,i){var o=c.getTemp(e),r=this.dataSource;return(this.hideDeleted&&w.isDeletedState(o.rowState)||r.isHiddenRow(e.rowId))&&(o=null),o&&(i&&i[e.rowId]&Z.ITEM_EXT_FILTERED||this.$_selectItem(o))?(o=new c(e),t.insert(e.index,o),this._itemCount++,this._itemMap[e.rowId]=o):null},C.prototype.$_internalRemoveItem=function(t){t&&(t.parent.remove(t),this._itemCount--,this._itemMap[t.row.rowId]=void 0)},C.prototype.$_internalRowStateChanged=function(t,e){if(void 0===e&&(e=!0),t)if(this.hideDeleted&&w.isDeletedState(t.rowState)){var i=t.parent;this.$_internalRemoveItem(t),this.$_clearSummary(),i.expanded&&i.visible&&(this._visibleItems.remove(t),e=!0),e&&this._fireRefresh()}else this._fireItemChanged(t)},C.prototype.$_selectField=function(t,e,i){for(var o=0,r=t.length;o<r;o++)if(t[o].select(this._filterRuntime,e,i))return!0;return!1},C.prototype.$_selectItem=function(t){if(!t)return!1;for(var e in this._filters){var i=this._filters[e];if(i&&!this.$_selectField(i,t,Number(e)))return!1}return!!t&&!0},C.prototype._setItem=function(t,e){this._visibleItems.setItem(t.index,e),this._resetItemIndex(t.index)},C.prototype.$_resetVisibleItems=function(){this._visibleItems._clearAndInit(this.fixedCount),this._visibleItems.expand(this._rootItem,!1),this._setExpanded(this._rootItem,!0),this._resetItemIndicies(0)},C.prototype.$_clearItems=function(){this._visibleItems.clear(),this._rootItem.clear(),this._itemMap=[],this._itemCount=0},C.prototype.$_buildItems=function(t,e){for(var i=t.row,o=i.count,r=0;r<o;r++){var n=i.getChild(r),s=this.$_internalAddItem(t,n,e);s&&(e&&this._setExpanded(s,0!=(e[n.rowId]&Z.ITEM_EXT_SAVEEXPAND)),0<n.count&&this.$_buildItems(s,e))}},C.prototype.$_sortItem=function(t){var e=t.count;1<e&&this.$_sort(t,0,0,e-1);for(var i=0;i<e;i++){var o=t.getItem(i);o instanceof c&&this.$_sortItem(o)}},C.prototype.$_sort=function(t,e,i,o){var r,n=this._sortFields[e],s=this._sortDirections[e],a=this.dataSource,l=this._sortCases[e]==H.SortCase.INSENSITIVE;if(this._sorter.run(t,n,s,l,i,o,e+1==this._sortFields.length),r=a.getField(n).dataType==H.ValueType.TEXT&&l?a.equalTexts.bind(a):a.equalValues.bind(a),e+1<this._sortFields.length){for(var u=i,h=u;u<o;)u++,r(n,t.getItem(u).row,t.getItem(u-1).row)||(this.$_sort(t,e+1,h,u-1),h=u);h<o&&this.$_sort(t,e+1,h,o)}},C.prototype.$_buildTree=function(t){var e=this.dataSource;this._rootItem._dataRow=e.rootRow,this._itemMap[this._rootItem._dataRow.rowId]=this._rootItem,this.$_buildItems(this._rootItem,t),this.$_clearSummary();for(var i=e.fieldCount,o=this._sortFields,r=this._sortDirections,n=this._sortCases,s=o.length;s--;)(o[s]<0||o[s]>=i)&&(o.splice(s,1),r.splice(s,1),n.splice(s,1));this.sorted&&0<this._rootItem.count&&this.$_sortItem(this._rootItem),this.$_resetVisibleItems(),this._checkableTag&&(!t||t.length<=0)&&this._checkableTag.setRows()},C.prototype.$_resetSummary=function(){this._summaryMap=[]},C.prototype.$_resetGroupSummary=function(){},C.prototype.$_clearSummary=function(){if(this._summaryMap)for(var t=this._summaryMap.length;t--;)this._summaryMap[t]&&this._summaryMap[t].clear()},C.prototype.$_getSummary=function(t){var e=this._summaryMap[t];if(!e){var i=this.dataSource;i&&i.canSummarize(t)&&(e=new E.FieldSummary(t),this._summaryMap[t]=e)}return e&&0==e.count&&0<this.itemCount&&this.$_summarize(e),e},C.prototype.$_summarize=function(t){var e=this.dataSource;if(e)if(this._filtered||this.hideDeleted||0<e.hiddenCount){for(var i=this._rootItem.getDescendants(!1),o=i.length,r=[],n=0;n<o;n++){var s=i[n];s instanceof c&&!e.isHiddenRow(s.rowId)&&r.push(s.row)}t.count=r.length,e.summarizeRange(t,r,this.summaryMode==H.SummaryMode.STATISTICAL)}else t.count=e.rowCount,e.summarize(t,this.summaryMode==H.SummaryMode.STATISTICAL)},C.prototype._fireItemChanged=function(t){this._eventLock<=0&&this.fireEvent(C.ITEM_CHANGED,t)},C.prototype._fireExpanding=function(t){return!(this._eventLock<=0)||this.fireConfirmEvent(C.EXPANDING,t)},C.prototype._fireExpanded=function(t){this._eventLock<=0&&this.fireEvent(C.EXPANDED,t)},C.prototype._fireCollapsing=function(t){return!(this._eventLock<=0)||this.fireConfirmEvent(C.COLLAPSING,t)},C.prototype._fireCollapsed=function(t){this._eventLock<=0&&this.fireEvent(C.COLLAPSED,t)},C.prototype._fireParentChanging=function(t,e,i){return!(this._eventLock<=0)||this.fireConfirmEvent(C.PARENT_CHANGING,t,e,i)},C.prototype._fireParentChanged=function(t,e,i){this._eventLock<=0&&this.fireEvent(C.PARENT_CHANGED,t,e,i)},C.prototype._refreshItems=function(){this.$_clearItems(),this.$_buildTree(null),this._fireRefresh()},C.prototype._saveAndRefresh=function(){var t=[];this.$_saveExpanded(t,this._rootItem),this.$_clearItems(),this.$_buildTree(t),this._fireRefresh()},C.prototype.onDataSourceCommandStackChanged=function(t,e,i){this._fireCommandStackChanged(e,i)},C.prototype.onTreeDataProviderDisposed=function(t){t.removeTag(this._cellStyles),this.$_clearItems(),this.$_resetSummary(),this._fireReset(),this.dataSource=null},C.prototype.onTreeDataProviderReset=function(t){this.$_clearItems(),this.$_resetSummary(),this.$_buildTree(null),this._fireReset()},C.prototype.onTreeDataProviderRefresh=function(t){this._refreshItems()},C.prototype.onTreeDataProviderRefreshClient=function(t){this._fireRefreshClient()},C.prototype.onDataProvderCleared=function(t){this._refreshItems()},C.prototype.onTreeDataProviderRowCountChanged=function(t,e){},C.prototype.onTreeDataProviderRowAdding=function(t,e,i){return!0},C.prototype.onTreeDataProviderRowAdded=function(t,e){if(this.$_needSort())this._saveAndRefresh();else{var i=this._itemMap[e.parent.rowId],o=this.$_internalAddItem(i,e,null);o?(this.$_buildItems(o,null),this.$_clearSummary(),i.expanded?this._expandItem(i,!0,!1,0,!1):this._fireItemChanged(i)):this.$_resetVisibleItems()}this._checkableTag&&(this._checkableTag.addRow(e,!1),0<e.parent.level&&this._checkableTag.addRow(e.parent,!1))},C.prototype.onTreeDataProviderRowsAdded=function(t,e,i){if(this.$_needSort())this._saveAndRefresh();else{var o,r=this._itemMap[e.rowId];if(r&&i&&0<(o=i.length)){for(var n=0;n<o;n++){var s=i[n],a=this.$_internalAddItem(r,s,null);a&&this.$_buildItems(a,null)}this.$_clearSummary(),r.expanded?this._expandItem(r,!0,!1,0,!1):this._fireItemChanged(r),this._checkableTag&&(this._checkableTag.addRows(i),0<e.level&&this._checkableTag.addRow(e))}}},C.prototype.onTreeDataProviderRowRemoving=function(t,e){return!0},C.prototype.onTreeDataProviderRowRemoved=function(t,e){var i=this._itemMap[e.rowId];if(i){var o=i.parent;this.$_internalRemoveItem(i),this.$_clearSummary(),o.expanded&&o.visible&&(this._visibleItems.remove(i),this._fireRefresh())}},C.prototype.onTreeDataProviderRowsRemoving=function(t,e){return!0},C.prototype.onTreeDataProviderRowsRemoved=function(t,e){for(var i=e.length,o=!1,r=0;r<i;r++){var n=e[r],s=this._itemMap[n.rowId];if(s){var a=s.parent;this.$_internalRemoveItem(s),a.expanded&&a.visible&&(this._visibleItems.remove(s),o=!0)}}this.$_clearSummary(),o&&this._fireRefresh()},C.prototype.onTreeDataProviderRowUpdating=function(t,e){return!0},C.prototype.onTreeDataProviderRowUpdated=function(t,e){if(this.$_needSort())this._saveAndRefresh();else{var i=this._itemMap[e.rowId];this.$_clearSummary(),this._fireItemUpdated(i)}this._checkableTag&&this._checkableTag.updateRow(e)},C.prototype.onTreeDataProviderValueChanging=function(t,e,i){return!0},C.prototype.onTreeDataProviderValueChanged=function(t,e,i){if(this.$_needSort())this._saveAndRefresh();else{var o=this._itemMap[e.rowId];this.$_clearSummary(),this._fireItemUpdated(o)}this._checkableTag&&this._checkableTag.updateRow(e)},C.prototype.onTreeDataProviderIconIndexChanged=function(t,e){var i=this._itemMap[e.rowId];i&&i.isVisible()&&this._fireItemChanged(i)},C.prototype.onTreeDataProviderHasChildrenChanged=function(t,e){var i=this._itemMap[e.rowId];i&&i.isVisible()&&this._fireItemChanged(i)},C.prototype.onTreeDataProviderRowStateChanged=function(t,e,i){var o=this._itemMap[e.rowId];this.$_internalRowStateChanged(o,i),this._checkableTag&&this._checkableTag.updateRow(e),!o&&i&&this._saveAndRefresh()},C.prototype.onTreeDataProviderRowStatesChanged=function(t,e){var i=e.length,o=!1;if(1==i){var r=e[0];o=!(l=this._itemMap[r.rowId]),this.$_internalRowStateChanged(l),this._checkableTag&&this._checkableTag.updateRow(r),o&&this._saveAndRefresh()}else if(0<i){var n=!1;if(this.hideDeleted)for(var s=0,a=e.length;s<a;s++){var l=this._itemMap[e[s].rowId];if(o=o||!l,l&&w.isDeletedState(l.rowState)){var u=l.parent;this.$_internalRemoveItem(l),u.expanded&&u.visible&&this._visibleItems.remove(l),n=!0}}this._checkableTag&&this._checkableTag.changeStates(e),n&&this.$_clearSummary(),o?this._saveAndRefresh():this._fireRefresh()}},C.prototype.onTreeDataProviderRowSiblingMoved=function(t,e,i){if(!this.$_needSort()){var o=this._itemMap[e.rowId];o&&(o.parent.moveChild(o.childIndex,i),this.$_resetVisibleItems(),this._fireRefresh())}},C.prototype.onTreeDataProviderRowParentChanged=function(t,e,i,o){var r=this._itemMap[e.rowId];if(r){var n=this._itemMap[i.rowId];this.$_needSort()&&(o=n?n.count():0),r.changeParent(n,o),this.$_resetVisibleItems(),this._fireRefresh()}},C.prototype.onTreeDataProviderRowHiddenChanged=function(t,e,i){if(i){for(var o=!1,r=0,n=e.length;r<n;r++){var s=e[r],a=this._itemMap[s];if(a){var l=a.parent;this.$_internalRemoveItem(a),l.expanded&&l.visible&&this._visibleItems.remove(a),o=!0}}o&&this.$_clearSummary(),this._fireRefresh()}else this._saveAndRefresh()},C.ITEM_CHANGED="onTreeItemProviderItemChanged",C.EXPANDING="onTreeItemProviderExpanding",C.EXPANDED="onTreeItemProviderExpanded",C.COLLAPSING="onTreeItemProviderCollapsing",C.COLLAPSED="onTreeItemProviderCollapsed",C.PARENT_CHANGING="onTreeItemProviderParentChanging",C.PARENT_CHANGED="onTreeItemProviderParentChanged",C);function C(){var t=v.call(this,null)||this;return t._sortMode=H.SortMode.AUTO,t._expandWhenGrouping=!0,t._footerWhenExpanded=!0,t._footerWhenCollapsed=!0,t._summaryMode=H.SummaryMode.AGGREGATE,t._groupSummaryMode=H.SummaryMode.AGGREGATE,t._checkableExpression=null,t._cellStyles=null,t._editableMap=null,t._filters={},t._filterRuntime=new X.ColumnFilterRuntime,t._filtered=!1,t._sorter=new wt.TreeItemsSorter,t._sortFields=[],t._sortDirections=[],t._sortCases=[],t._visibleItems=new m(t),t._itemMap=[],t._itemCount=0,t._summaryMap=null,t._checkableTag=null,t._filterLock=0,t._addParentNodeOnFiltering=!1,t}e.TreeItemProvider=b});t(Et);Et.TreeItemFooter,Et.TreeItem,Et.TreeItemProvider;var St=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(o.empty=function(){return new o},o.create=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),new o(t,e)},Object.defineProperty(o.prototype,"isEmpty",{get:function(){return 0===this.x||0===this.y},enumerable:!0,configurable:!0}),o.prototype.clone=function(){return new o(this.x,this.y)},o.prototype.equals=function(t){return t===this||t&&this.x===t.x&&this.y===t.y},o.prototype.setEmpty=function(){return this.x=this.y=0,this},o.prototype.set=function(t,e){return this.x=t,this.y=e,this},o.prototype.round=function(){var t=this.clone();return t.x>>>=0,t.y>>>=0,t},o.prototype.toString=function(){return"{x: "+this.x+", y: "+this.y+"}"},o.EMPTY=new o,o);function o(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}e.Point=i});t(St);St.Point;var Ot=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Y.EventAware,i(s,r),s.prototype._doDispose=function(){if(this._removeEventListeners(this._dom),U.Utils.detach(this._dom),this._dom=null,this._elements){for(var t=0,e=this._elements;t<e.length;t++)e[t].dispose();this._elements.length=0}this._parent=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"container",{get:function(){return this._parent&&this._parent.container},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"childCount",{get:function(){return this._elements?this._elements.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isSingleton",{get:function(){return this._parent&&1==this._parent.childCount&&this._parent._elements[0]===this},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"x",{get:function(){return this._x},set:function(t){t!=this._x&&(this._x=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"y",{get:function(){return this._y},set:function(t){t!=this._y&&(this._y=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"width",{get:function(){return this._width},set:function(t){(t=Math.max(0,t))!=this._width&&(this._width=t,this.sizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"height",{get:function(){return this._height},set:function(t){(t=Math.max(0,t))!=this._height&&(this._height=t,this.sizeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"right",{get:function(){return this._x+this._width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bottom",{get:function(){return this._y+this._height},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"position",{get:function(){return new St.Point(this._x,this._y)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bounds",{get:function(){return new G.Rectangle(this._x,this._y,this._width,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"clientRect",{get:function(){return new G.Rectangle(0,0,this._width,this._height)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&(this._visible=t,this._dom&&(this._dom.style.display=this._visible?this._getCssDisplay():"none"),this.invalidate(!0),this._visibleChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mouseEnabled",{get:function(){return this._mouseEnabled},set:function(t){this._mouseEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hovered",{get:function(){return this._hovered},set:function(t){t!=this._hovered&&(this._hovered=t,this._hoverChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isLayer",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"clickable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mouseX",{get:function(){var t=this.container;if(t){for(var e=t._currentX,i=this;i&&void 0!==i;)e-=i._x,i=i._parent;return e}return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mouseY",{get:function(){var t=this.container;if(t){for(var e=t._currentY,i=this;i&&void 0!==i;)e-=i._y,i=i._parent;return e}return NaN},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"style",{get:function(){return this._dom.style},enumerable:!0,configurable:!0}),s.prototype.canHover=function(){return!0},s.prototype.getChildren=function(){return this._elements&&this._elements.concat()},s.prototype.getChild=function(t){return this._elements[t]},s.prototype.indexOf=function(t){return this._elements?this._elements.indexOf(t):-1},s.prototype.contains=function(t){return this._elements&&0<=this._elements.indexOf(t)},s.prototype.getAncestor=function(t){for(var e=this._parent;e;){if(e instanceof t)return e;e=e._parent}return null},s.prototype.addChild=function(t){return this.insertChild(-1,t)},s.prototype.insertChild=function(t,e){if(!e||this.contains(e))return!1;var i=this._elements||[],o=e._dom;if(t<0||t>=i.length)this._dom&&o&&this._dom.appendChild(o),i.push(e);else{if(o){var r=this._elements[t]._dom;this._dom&&r&&this._dom.insertBefore(o,r)}i.splice(t,0,e)}return this._elements=i,e._parent=this,e.$_attached(this),this.invalidate(),!0},s.prototype.removeChild=function(t){if(t&&this._elements){var e=this._elements.indexOf(t);if(0<=e)return this.removeChildAt(e)===t}return!1},s.prototype.removeChildAt=function(t){if(0<=t&&t<this.childCount){var e=this._elements[t];return this._elements.splice(t,1),this._dom&&e._dom&&this._dom.removeChild(e._dom),e._parent=null,e._dirty=!1,e.$_detached(this),this.invalidate(),e}return null},s.prototype.removeLast=function(){return this._elements&&0<this._elements.length?this.removeChildAt(this._elements.length-1):null},s.prototype.clear=function(){var t=this._elements;if(0<(t?t.length:0)){for(var e=0,i=t;e<i.length;e++){var o=i[e];o._parent=null,o.$_detached(this)}if(this._elements=[],this._dom)for(;this._dom.lastChild;)this._dom.removeChild(this._dom.lastChild);return this.invalidate(),!0}return!1},s.prototype.hideAll=function(){if(this._elements)for(var t=0,e=this._elements;t<e.length;t++)e[t].visible=!1},s.prototype.invalidate=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t||!this._dirty){this._dirty=!0;var i=this.container;i&&i.invalidateElement(this)}if(e&&this._elements)for(var o=0,r=this._elements;o<r.length;o++)r[o].invalidate(t,!0)},s.prototype.validate=function(){this._dirty=!1},s.prototype.invalidateLayout=function(){var t=this.container;t&&t.invalidateLayout()},s.prototype.getBounds=function(t){return void 0===t&&(t=null),t?t.set(this._x,this._y,this._width,this._height):new G.Rectangle(this._x,this._y,this._width,this._height)},s.prototype.getClientRect=function(t){return void 0===t&&(t=null),t?t.set(0,0,this._width,this._height):new G.Rectangle(0,0,this._width,this._height)},s.prototype.containsInBounds=function(t,e){return t>=this._x&&t<this._x+this._width&&e>=this._y&&e<this._y+this._height},s.prototype.containsInClient=function(t,e){return 0<=t&&t<this._width&&0<=e&&e<this._height},s.prototype.parentToElement=function(t,e,i){for(var o=this;o&&o!=t;)e-=o._x,i-=o._y,o=o._parent;return new St.Point(e,i)},s.prototype.translateBy=function(t,e){void 0===e&&(e=null);var i=t;for(e=e||new G.Rectangle(0,0,this._width,this._height);i&&i!==this;)e.x-=i._x,e.y-=i._y,i=i._parent;return e},s.prototype.topBy=function(t,e){for(var i=this._y+e,o=this._parent;o&&o!==t;)i+=o._y,o=o._parent;return i},s.prototype.boundsBy=function(t,e){void 0===e&&(e=null);var i=this._x,o=this._y,r=this._parent;for(e&&(i+=e.x,o+=e.y);r&&r!==t;)i+=r._x,o+=r._y,r=r._parent;return e?new G.Rectangle(i,o,e.width,e.height):new G.Rectangle(i,o,this._width,this._height)},s.prototype.boundsByContainer=function(t){void 0===t&&(t=null);var e=this._x,i=this._y;t&&(e+=t.x,i+=t.y);for(var o=this._parent;o&&void 0!==o._x;)e+=o._x,i+=o._y,o=o._parent;return t?new G.Rectangle(e,i,t.width,t.height):new G.Rectangle(e,i,this._width,this._height)},s.prototype.boundsByScreen=function(t){return void 0===t&&(t=null),t=this.boundsByContainer(t),t=this.container.toScreen(t)},s.prototype.containerToElement=function(t,e){for(var i=this;i;)t-=i._x,e-=i._y,i=i._parent;return new St.Point(t,e)},s.prototype.hitTest=function(t,e){return 0<=t&&t<this._width&&0<=e&&e<this._height},s.prototype.findChildAt=function(t,e,i){var o=this._elements,r=o?o.length:0;if(0<r)for(var n=r-1;0<=n;n--){var s=o[n];if(s.visible){var a=t-s._x,l=e-s._y;if((i||s._mouseEnabled)&&(s.isLayer||s.hitTest(a,l))){var u=s.findChildAt(a,l,i);if(u)return u;if(!s.isLayer&&s._mouseEnabled)return s}}}return null},s.prototype.move=function(t,e){t==this._x&&e==this._y||(this._x=t,this._y=e,this.invalidate())},s.prototype.resize=function(t,e){t==this._width&&e==this._height||(this._width=t,this._height=e,this.invalidate())},s.prototype.setBounds=function(t,e,i,o){t==this._x&&e==this._y&&i==this._width&&o==this._height||(this._x=t,this._y=e,this._width=i,this._height=o,this.invalidate())},s.prototype.setBoundsI=function(t,e,i,o){e>>=0,i>>=0,o>>=0,(t>>=0)==this._x&&e==this._y&&i==this._width&&o==this._height||(this._x=t,this._y=e,this._width=i,this._height=o,this.invalidate())},s.prototype.setRect=function(t){t.x==this._x&&t.y==this._y&&t.width==this._width&&t.height==this._height||(this._x=t.x,this._y=t.y,this._width=t.width,this._height=t.height,this.invalidate())},s.prototype.setRectI=function(t){var e=t.x>>0,i=t.y>>0,o=t.width>>0,r=t.height>>0;e==this._x&&i==this._y&&o==this._width&&r==this._height||(this._x=e,this._y=i,this._width=o,this._height=r,this.invalidate())},s.prototype.draw=function(){this._dirty&&this._dom&&(this._beforeDraw(this._dom),this._doDraw(this._dom),this._dirty=!1)},s.prototype.resetSize=function(){this._dom&&this._setSizeStyle(this._dom.style)},s.prototype.getHtml=function(){return this._dom&&this._dom.outerHTML},s.prototype.setImportantStyle=function(t,e){this._dom.style.setProperty(t,e,"important")},s.prototype._createDom=function(){return document.createElement("div")},s.prototype._initDom=function(t){var e=t.style;e.position="absolute",e.boxSizing="border-box",this._addEventListeners(t)},s.prototype._addEventListeners=function(t){},s.prototype._removeEventListeners=function(t){},s.prototype.$_attached=function(t){this._doAttached(t)},s.prototype._doAttached=function(t){},s.prototype.$_detached=function(t){this._doDetached(t)},s.prototype._doDetached=function(t){},s.prototype._setSizeStyle=function(t){t.width=this._width+"px",t.height=this._height+"px"},s.prototype._getCssDisplay=function(){return"block"},s.prototype.resetClassName=function(){this._setClassName(this._dom)},s.prototype._setClassName=function(t){var e=this._getCssSelector();e!=this._className&&(this._className=e,(t||this._dom).className=e||"")},s.prototype._beforeDraw=function(t){this._setClassName(t);var e=t.style;e.left=this._x+"px",e.top=this._y+"px",this._setSizeStyle(e)},s.prototype._hoverChanged=function(){},s.prototype._visibleChanged=function(){},s.prototype.sizeChanged=function(){this.invalidate(),this._doSizeChanged()},s.prototype._doSizeChanged=function(){},s);function s(t){void 0===t&&(t=null);var e=r.call(this)||this;e._x=0,e._y=0,e._width=0,e._height=0,e._visible=!0,e._mouseEnabled=!0,e._elements=null,e._dirty=!0,e._hovered=!1,e._className="",e._name=t;var i=e._dom=e._createDom();return i&&e._initDom(i),e}e.VisualElement=n;var a,l=(i(u,a=n),Object.defineProperty(u.prototype,"isLayer",{get:function(){return!0},enumerable:!0,configurable:!0}),u.prototype._getCssSelector=function(){},u.prototype._doDraw=function(t){},u);function u(){return null!==a&&a.apply(this,arguments)||this}e.LayerElement=l});t(Ot);Ot.VisualElement,Ot.LayerElement;var Rt=e(function(t,e){var o,i,r,n,s,a=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),(i=e.SelectionMode||(e.SelectionMode={})).NONE="none",i.SINGLE="single",i.EXTENDED="extended",(n=r=e.SelectionStyle||(e.SelectionStyle={})).BLOCK="block",n.ROWS="rows",n.COLUMNS="columns",n.SINGLE_ROW="singleRow",n.SINGLE_COLUMN="singleColumn",n.SINGLE="single",n.NONE="none",(s=e.SelectionDisplay||(e.SelectionDisplay={})).CELL="cell",s.CELL_AND_BORDER="cellAndBorder",s.MASK="mask",e.isSingleSelectionStyle=function(t){return t==r.SINGLE_ROW||t==r.SINGLE_COLUMN||t==r.SINGLE},e.isRowSelectionStyle=function(t){return t==r.ROWS||t==r.SINGLE_ROW},e.isColumnSelectionStyle=function(t){return t==r.COLUMNS||t==r.SINGLE_COLUMN};var l,u=(l=ue.Base,a(h,l),h.prototype._doDispose=function(){l.prototype._doDispose.call(this)},Object.defineProperty(h.prototype,"grid",{get:function(){return this._manager&&this._manager.grid},enumerable:!0,configurable:!0}),h.prototype.inflate=function(t,e){switch(t){case"left":this._inflateLeft(e);break;case"right":this._inflateRight(e);break;case"top":this._inflateTop(e);break;case"bottom":this._inflateBottom(e)}},h.prototype.getItems=function(t){void 0===t&&(t=!0);for(var e=this.grid,i=[],o=this.getBounds(),r=o.top,n=o.bottom,s=r;s<=n;s++){var a=e.getItem(s);a&&(!t||0<=a.dataRow)&&i.push(a)}return i},h.prototype._resized=function(){this._manager&&this._manager._itemResized(this)},h);function h(t){var e=l.call(this)||this;return e._manager=t,e}e.SelectionItem=u;var c,p=(c=Y.EventAware,a(d,c),d.prototype._doDispose=function(){this._grid=null,this._items=null,c.prototype._doDispose.call(this)},Object.defineProperty(d.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"exclusiveMode",{get:function(){return this._exclusiveMode},set:function(t){t!=this._exclusiveMode&&(this._exclusiveMode=t,this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"itemStyle",{get:function(){return this._itemStyle},set:function(t){t!=this._itemStyle&&(this._itemStyle=t,this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"single",{get:function(){return 1==this._items.length&&this._items[0].single},enumerable:!0,configurable:!0}),d.prototype.lock=function(){this._locked=!0},d.prototype.unlock=function(){this._locked=!1},d.prototype.getItem=function(t){return this._items[t]},d.prototype.add=function(t,e,i){if(this._locked)return null;if(i==r.NONE)return this.clear(),null;this._exclusiveMode&&i!=this._style&&this.clear();var o=null;switch(i){case r.COLUMNS:o=new C(this,t.layout,e.layout);break;case r.SINGLE_COLUMN:o=new C(this,t.layout,t.layout);break;case r.ROWS:o=new g(this,t.itemIndex,e.itemIndex);break;case r.SINGLE_ROW:o=new g(this,t.itemIndex,t.itemIndex);break;case r.BLOCK:o=new f(this,t,e);break;case r.SINGLE:o=new f(this,t,t)}return this._addItem(o)},d.prototype.remove=function(t){if(!this._locked){var e=this._items.indexOf(t);0<=e&&(this._items.splice(e,1),this.fireEvent(d.REMOVED,t))}},d.prototype.clear=function(){this._locked||0<this._items.length&&(this._items.length=0,this.fireEvent(d.CLEARED))},d.prototype.containsItem=function(t){return!1},d.prototype.containsColumn=function(t){return!1},d.prototype.containsCell=function(t){return this.contains(t.itemIndex,t.column)},d.prototype.contains=function(t,e){for(var i=0,o=this._items.length;i<o;i++)if(this._items[i].contains(t,e))return!0;return!1},d.prototype.normalize=function(){},d.prototype._changed=function(){this.fireEvent(d.CHANGED)},d.prototype._addItem=function(t){if(!t)throw new Error("item is null");return this._items.indexOf(t)<0&&(this._items.push(t),this.fireEvent(d.ADDED,t)),t},d.prototype._itemResized=function(t){this.fireEvent(d.RESIZED,t)},d.CHANGED="onSelectionChanged",d.ADDED="onSelectionAdded",d.REMOVED="onSelectionRemoved",d.CLEARED="onSelectionCleared",d.RESIZED="onSelectionResized",d.ENDED="onSelectionEnded",d);function d(t){var e=c.call(this)||this;return e._exclusiveMode=!0,e._itemStyle=r.BLOCK,e._items=[],e._locked=!1,e._grid=t,e}e.SelectionManager=p;var _,f=(a(y,_=u),Object.defineProperty(y.prototype,"startIndex",{get:function(){return this._startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"endIndex",{get:function(){return this._endIndex},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"style",{get:function(){return r.BLOCK},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"single",{get:function(){return et.CellIndex.areEquals(this._startIndex,this._endIndex)},enumerable:!0,configurable:!0}),y.prototype.getBounds=function(){var t=this.grid;if(this._startIndex.normalize(t),this._endIndex.normalize(t),et.CellIndex.areEquals(this._startIndex,this._endIndex))return et.CellRange.create(this._startIndex);var e=this._startIndex.layout&&this._startIndex.layout.dataRoot,i=this._endIndex.layout&&this._endIndex.layout.dataRoot;return et.CellRange.createRange(this._startIndex.itemIndex,e,this._endIndex.itemIndex,i)},y.prototype.contains=function(t,e){return this.getBounds().contains(t,e)},y.prototype.resizeTo=function(t){this.grid.isValid(t)&&!et.CellIndex.areEquals(t,this._endIndex)&&(this._endIndex.assign(t),this._resized())},y.prototype.intersectsWith=function(t){return this.getBounds().intersectsWith(t.getBounds())},y.prototype.mergeWith=function(t){},y.prototype.getData=function(t){if(void 0===t&&(t=-1),0==t)return null;var e,i=this.grid,o=i.collectDataColumns(this._startIndex.layout,this._endIndex.layout);if(!o||(e=o.length)<1)return null;for(var r=Math.min(this._startIndex.itemIndex,this._endIndex.itemIndex),n=Math.max(this._startIndex.itemIndex,this._endIndex.itemIndex),s=[],a=r;a<=n;a++){var l=i.getItem(a);if(l){for(var u={},h=0;h<e;h++){var c=o[h];u[c.fieldName]=l.getData(c.dataIndex)}if(s.push(u),0<t&&s.length==t)break}}return s},y.prototype._inflateLeft=function(t){this._startIndex.layout.distance<=this._endIndex.layout.distance?t.layout!==this._startIndex.layout&&(this._startIndex.layout=t.layout,this._resized()):t.layout!==this._endIndex.layout&&(this._endIndex.layout=t.layout,this._resized())},y.prototype._inflateRight=function(t){this._startIndex.layout.distance>this._endIndex.layout.distance?t.layout!==this._startIndex.layout&&(this._startIndex.layout=t.layout,this._resized()):t.layout!==this._endIndex.layout&&(this._endIndex.layout=t.layout,this._resized())},y.prototype._inflateTop=function(t){var e=this.grid,i=Math.max(0,Math.min(e.itemCount-1,t.itemIndex));this._startIndex.itemIndex<=this._endIndex.itemIndex?i!==this._startIndex.itemIndex&&(this._startIndex.itemIndex=i,this._resized()):i!==this._endIndex.itemIndex&&(this._endIndex.itemIndex=i,this._resized())},y.prototype._inflateBottom=function(t){var e=this.grid,i=Math.max(0,Math.min(e.itemCount-1,t.itemIndex));this._startIndex.itemIndex>this._endIndex.itemIndex?i!==this._startIndex.itemIndex&&(this._startIndex.itemIndex=i,this._resized()):i!==this._endIndex.itemIndex&&(this._endIndex.itemIndex=i,this._resized())},y.prototype.setValues=function(t){var e,i=this.grid,o=i.collectDataColumns(this._startIndex.layout,this._endIndex.layout);if(o&&!((e=o.length)<1))for(var r=Math.min(this._startIndex.itemIndex,this._endIndex.itemIndex),n=Math.max(this._startIndex.itemIndex,this._endIndex.itemIndex),s=r;s<=n;s++){var a=i.getItem(s);if(a)for(var l=0;l<e;l++){var u=o[l];a.setData(u.dataIndex,t)}}},y.prototype.toString=function(){return this._startIndex+" ~ "+this._endIndex},y);function y(t,e,i){var o=_.call(this,t)||this;return o._startIndex=e.clone(),o._endIndex=i.clone(),o}e.BlockSelection=f;var m,g=(a(v,m=u),Object.defineProperty(v.prototype,"startRow",{get:function(){return this._startRow},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"endRow",{get:function(){return this._endRow},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"topRow",{get:function(){return Math.min(this._startRow,this._endRow)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"bottomRow",{get:function(){return Math.max(this._startRow,this._endRow)},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"style",{get:function(){return r.ROWS},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"single",{get:function(){return!1},enumerable:!0,configurable:!0}),v.prototype.getBounds=function(){var t=this.grid,e=t.itemCount;return this._startRow=Math.max(0,Math.min(e-1,this._startRow)),this._endRow=Math.max(0,Math.min(e-1,this._endRow)),this._startRow<=this._endRow?et.CellRange.createRange(this._startRow,t.getVisibleLayout(0),this._endRow,t.getVisibleLayout(t.visibleLayoutCount-1)):et.CellRange.createRange(this._endRow,t.getVisibleLayout(0),this._startRow,t.getVisibleLayout(t.visibleLayoutCount-1))},v.prototype.contains=function(t,e){return t>=this.topRow&&t<=this.bottomRow},v.prototype.resizeTo=function(t){var e=Math.max(0,t.itemIndex);e!=this._endRow&&(this._endRow=Math.max(0,Math.min(this.grid.itemCount-1,e)),this._resized())},v.prototype.intersectsWith=function(t){return this.getBounds().intersectsWith(t.getBounds())},v.prototype.mergeWith=function(t){},v.prototype.getData=function(t){if(void 0===t&&(t=-1),0==t)return null;var e=this.grid,i=e.collectDataColumns(e.getVisibleLayout(0),e.getVisibleLayout(e.visibleLayoutCount-1));if(!i)return null;var o=i.length;if(o<1)return null;for(var r=Math.max(0,Math.min(this._startRow,this._endRow)),n=Math.min(e.itemCount-1,Math.max(this._startRow,this._endRow)),s=[],a=r;a<=n;a++){var l=e.getItem(a);if(l){for(var u={},h=0;h<o;h++){var c=i[h];u[c.fieldName]=l.getData(c.dataIndex)}if(s.push(u),0<t&&s.length==t)break}}return s},v.prototype._inflateLeft=function(t){},v.prototype._inflateRight=function(t){},v.prototype._inflateTop=function(t){var e=t.itemIndex;e!=this.topRow&&(this._startRow<=this._endRow?this._startRow=Math.max(0,Math.min(this.grid.itemCount-1,e)):this._endRow=Math.max(0,Math.min(this.grid.itemCount-1,e)),this._resized())},v.prototype._inflateBottom=function(t){var e=t.itemIndex;e!=this.bottomRow&&(this._startRow>this._endRow?this._startRow=Math.max(0,Math.min(this.grid.itemCount-1,e)):this._endRow=Math.max(0,Math.min(this.grid.itemCount-1,e)),this._resized())},v.prototype.setValues=function(t){var e=this.grid,i=e.collectDataColumns(e.getVisibleLayout(0),e.getVisibleLayout(e.visibleLayoutCount-1));if(i){var o=i.length;if(!(o<1))for(var r=Math.max(0,Math.min(this._startRow,this._endRow)),n=Math.min(e.itemCount-1,Math.max(this._startRow,this._endRow)),s=r;s<=n;s++){var a=e.getItem(s);if(a)for(var l=0;l<o;l++){var u=i[l];a.setData(u.dataIndex,t)}}}},v);function v(t,e,i){var o=m.call(this,t)||this;return o._startRow=e,o._endRow=i,o}e.RowSelection=g;var b,C=(a(w,b=u),Object.defineProperty(w.prototype,"startLayout",{get:function(){return this._startLayout},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"endLayout",{get:function(){return this._endLayout},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"leftLayout",{get:function(){return this._startLayout.distance<=this._endLayout.distance?this._startLayout:this._endLayout},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"rightLayout",{get:function(){return this._startLayout.distance>this._endLayout.distance?this._startLayout:this._endLayout},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"style",{get:function(){return r.COLUMNS},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"single",{get:function(){return!1},enumerable:!0,configurable:!0}),w.prototype.getBounds=function(){return this._startLayout.distance<=this._endLayout.distance?et.CellRange.createRange(0,this._startLayout,this._startLayout.grid.itemCount-1,this._endLayout):et.CellRange.createRange(0,this._endLayout,this._endLayout.grid.itemCount-1,this._startLayout)},w.prototype.contains=function(t,e){return!1},w.prototype.resizeTo=function(t){t.layout!==this._endLayout&&(this._endLayout=t.layout,this._resized())},w.prototype.intersectsWith=function(t){return this.getBounds().intersectsWith(t.getBounds())},w.prototype.mergeWith=function(t){},w.prototype.getData=function(t){if(void 0===t&&(t=-1),0==t)return null;var e=this.grid,i=e.collectDataColumns(this._startLayout,this._endLayout);if(!i)return null;for(var o=e.itemCount,r=[],n=0;n<o;n++){var s=e.getItem(n);if(s){for(var a={},l=0,u=i.length;l<u;l++)a[i[l].fieldName]=s.getData(i[l].dataIndex);if(r.push(a),0<t&&r.length==t)break}}return r},w.prototype._inflateLeft=function(t){var e=t.layout;e!==this.leftLayout&&(this._startLayout.distance<=this._endLayout.distance?this._startLayout=e:this._endLayout=e,this._resized())},w.prototype._inflateRight=function(t){var e=t.layout;e!==this.rightLayout&&(this._startLayout.distance>this._endLayout.distance?this._startLayout=e:this._endLayout=e,this._resized())},w.prototype._inflateTop=function(t){},w.prototype._inflateBottom=function(t){},w.prototype.setValues=function(t){var e=this.grid,i=e.collectDataColumns(this._startLayout,this._endLayout);if(i)for(var o=e.itemCount,r=0;r<o;r++){var n=e.getItem(r);if(n)for(var s=0,a=i.length;s<a;s++)n.setData(i[s].dataIndex,t)}},w);function w(t,e,i){var o=b.call(this,t)||this;return o._startLayout=e,o._endLayout=i,o}e.ColumnSelection=C;var x,I=(x=Ot.LayerElement,a(E,x),E.prototype._getCssSelector=function(){return"rg-selection"},E.prototype._initDom=function(t){x.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},E);function E(){return x.call(this,"selectionView")||this}e.SelectionView=I;var S,O=(S=Ot.LayerElement,a(R,S),Object.defineProperty(R.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),R.prototype.prepare=function(){this._toped=this._bottomed=this._lefted=this._righted=!1},R.prototype.updateElement=function(){var t=0,e=0,i=this.width,o=this.height;this._lefted&&(t-=10,i+=10),this._righted&&(i+=10),this._toped&&(e-=10,o+=10),this._bottomed&&(o+=10),this._view.setBounds(t,e,i,o)},R.prototype._initDom=function(t){S.prototype._initDom.call(this,t),this.setImportantStyle("overflow","hidden"),this.setImportantStyle("pointer-events","none")},R);function R(){var t=S.call(this,"selectionMask")||this;return t._toped=!1,t._bottomed=!1,t._lefted=!1,t._righted=!1,t._view=new I,t.addChild(t._view),t}e.SelectionMask=O;var D,P=(D=Ot.LayerElement,a(T,D),T.prototype._doDispose=function(){D.prototype._doDispose.call(this)},T.prototype.addView=function(t){var e=t.$_hash,i=this._views[e];return i||(i=this._pool.pop()||new O,this._views[e]=i),i._item=t,this.addChild(i),i},T.prototype.clearViews=function(){for(var t in this._views){var e=this._views[t];this.removeChild(e),this._pool.push(e)}this._views={}},T.prototype.layout=function(){var t=this._grid.layoutManager;for(var e in this._grid.selections,this._views){var i=this._views[e],o=i.item,r=!1,n=new G.Rectangle;if(!o.single&&(i.prepare(),o instanceof g?(r=this.$_getSelectionRowsRect(t,o,i,n),i._lefted=!0,i._righted=!0):o instanceof C?(r=this.$_getSelectionColumnsRect(t,o,i,n),i._toped=!0,i._bottomed=!0):r=this.$_getSelectionRangeRect(t,o,i,n),r)){var s=t.footerBounds.y;n.bottom>s&&(i._bottomed=!0,n.bottom=s)}i.visible=r,i.visible&&(i.setRectI(n),i.updateElement(),i.invalidate())}},T.prototype.$_getSelectionRowsRect=function(t,e,i,o){var r,n,s=this._grid,a=e.getBounds(),l=a.r1,u=a.r2,h=t.itemCount,c=t.fixedItemCount,p=s.topIndex;if(0<c){if(p+c+h<=l||u<0||c<=l&&u<p+c)return!1;var d=t.fixedHeight+s.fixedOptions.rowBarHeight;l<c?r=t.getItemBounds(Math.max(0,l)):((r=t.getItemBounds(Math.max(0,l-p))).y<d&&(i._toped=!0),r.y=Math.max(r.y,d)),u<c?n=t.getItemBounds(u):l<=c&&u<c+p?n=t.getItemBounds(Math.min(c+p,c)-1):p<=u?(n=t.getItemBounds(Math.min(t.itemCount+c-1,u-p))).y=Math.max(n.y,d):n=r}else{if(!(0<h))return!1;if(p+h<=l||u<p)return!1;d=l-p,r=t.getItemBounds(Math.max(0,d)),n=t.getItemBounds(Math.min(h-1,u-p)),d<0&&(i._toped=!0)}return o.copy(r.union(n)),o.offset(0,t.contentBounds.y+t.bodyBounds.y),o.right=0<t.rightLayoutCount?t.rightContentBounds.right:t.bodyBounds.right,!0},T.prototype.$_getSelectionColumnsRect=function(t,e,i,o){var r=this._grid,n=e.getBounds(),s=t.fixedLayoutCount,a=t.rightLayoutCount,l=(t.rightFirstLayout,n.c1.root.vindex),u=n.c2.root.vindex,h=(r.fixedOptions.colBarWidth,t.getDataLayoutRect(n.c1)),c=t.getDataLayoutRect(n.c2);if(o.left=Math.min(h.x,c.x),o.right=Math.max(h.right,c.right),o.y=t.headerBounds.bottom,o.height=t.getItemRect(t.itemCount-1).bottom,0<t.fixedItemCount&&(o.height+=t.fixedHeight),s<=l){var p=t.fixedContentBounds.right;o.x<p&&(i._lefted=!0,o.left=Math.max(o.left,p))}if(0<a){var d=t.rightFirstLayout;d<=l?o.width=0:u<d&&(o.right=Math.min(o.right,t.rightContentBounds.x),i._righted=!0)}return!0},T.prototype.$_getSelectionRangeRect=function(t,e,i,o){var r=new G.Rectangle;return!!this.$_getSelectionRowsRect(t,e,i,r)&&(o.y=r.y,o.bottom=r.bottom,this.$_getSelectionColumnsRect(t,e,i,r),o.x=r.x,o.right=r.right,!0)},T);function T(t){var e=D.call(this,"selectionLayer")||this;return e._pool=[],e._views={},e._grid=t,e}e.SelectionLayer=P});t(Rt);Rt.SelectionMode,Rt.SelectionStyle,Rt.SelectionDisplay,Rt.isSingleSelectionStyle,Rt.isRowSelectionStyle,Rt.isColumnSelectionStyle,Rt.SelectionItem,Rt.SelectionManager,Rt.BlockSelection,Rt.RowSelection,Rt.ColumnSelection,Rt.SelectionView,Rt.SelectionMask,Rt.SelectionLayer;var Dt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=J.VisualObject,i(s,r),Object.defineProperty(s.prototype,"displayOrder",{get:function(){return this._displayOrder},set:function(t){t!=this._displayOrder&&(this._displayOrder=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headText",{get:function(){return this._headText},set:function(t){t!=this._headText&&(this._headText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footText",{get:function(){return this._footText},set:function(t){t!=this._footText&&(this._footText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sumText",{get:function(){return this._sumText},set:function(t){t!=this._sumText&&(this._sumText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"popupMenu",{get:function(){return this._popupMenu},set:function(t){t!=this._popupMenu&&(this._popupMenu=t,this._popupMenuName="string"==typeof t?t:null)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"popupMenuName",{get:function(){return this._popupMenuName?this._popupMenuName:this._popupMenu?(this._popupMenuName=this.getHeadStyleName()+"_menu",this._grid&&this._grid.addPopupMenu(this._popupMenuName,this._popupMenu,!0),this._grid&&this._popupMenuName):null},enumerable:!0,configurable:!0}),s.prototype.getHeadCell=function(){return this._headCell},s.prototype.getFootCell=function(){return this._footCell},s.prototype.getSumCell=function(){return this._sumCell},s.prototype._createHeadCell=function(){return new it.StyledCell(this)},s.prototype._createFootCell=function(){return new it.StyledCell(this)},s.prototype._createSumCell=function(){return new it.StyledCell(this)},s);function s(t){var e=r.call(this,t)||this;return e._displayOrder=0,e._headText=null,e._footText=null,e._sumText=null,e._headCell=e._createHeadCell(),e._footCell=e._createFootCell(),e._sumCell=e._createSumCell(),e.visible=!0,e}e.SectionObject=n});t(Dt);Dt.SectionObject;var Pt=e(function(t,e){var o,n,i,r,s,a=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),(i=n=e.IndicatorValue||(e.IndicatorValue={})).NONE="none",i.INDEX="index",i.ROW="row",(s=r=e.StateMark||(e.StateMark={})).DEFAULT="default",s.TEXT="text",s.NONE="none",s.IMAGE="image";var l,u=(l=it.GridCell,a(h,l),h.prototype._doDispose=function(){l.prototype._doDispose.call(this)},Object.defineProperty(h.prototype,"indicator",{get:function(){return this._indicator},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"itemState",{get:function(){return this._itemState},set:function(t){t!=this._itemState&&(this._itemState=t)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"text",{get:function(){var t,e=this._indicator,i=this.index,o=i.item,r="";if(o&&o.itemState==Z.ItemState.NORMAL)switch(e.displayValue){case n.INDEX:0<=(t=e.owner.getIndicatorIndex(o))&&(t+=e.indexOffset,e.zeroBase||t++,r=String(t));break;case n.ROW:0<=(t=i.dataRow)&&(t+=e.rowOffset,e.zeroBase||t++,r=String(t))}return r},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"value",{get:function(){return null},enumerable:!0,configurable:!0}),h);function h(t){var e=l.call(this,"indicatorCell")||this;return e._itemState=Z.ItemState.NORMAL,e._indicator=t,e}e.RowIndicatorCell=u;var c,p=(c=Dt.SectionObject,a(d,c),d.prototype._doDispose=function(){c.prototype._doDispose.call(this)},Object.defineProperty(d.prototype,"displayValue",{get:function(){return this._displayValue},set:function(t){t!=this._displayValue&&(this._displayValue=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"zeroBase",{get:function(){return this._zeroBase},set:function(t){t!=this._zeroBase&&(this._zeroBase=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"indexOffset",{get:function(){return this._indexOffset},set:function(t){t!=this._indexOffset&&(this._indexOffset=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"rowOffset",{get:function(){return this._rowOffset},set:function(t){t!=this._rowOffset&&(this._rowOffset=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"minWidth",{get:function(){return this._minWidth},set:function(t){t!=this._minWidth&&(this._minWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!=this._maxWidth&&(this._maxWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"selectable",{get:function(){return this._selectable},set:function(t){t!=this._selectable&&(this._selectable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"mark",{get:function(){return this._mark},set:function(t){t!=this._mark&&(this._mark=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"showFocus",{get:function(){return this._showFocus},set:function(t){t!=this._showFocus&&(this._showFocus=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"showSelection",{get:function(){return this._showSelection},set:function(t){t!=this._showSelection&&(this._showSelection=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"staticOrder",{get:function(){return 0},enumerable:!0,configurable:!0}),d.prototype.getCell=function(t){var e=this._cell;if(e.setIndex(t),t.item){var i=t.item.itemState;i==Z.ItemState.NORMAL&&this._grid.focusedIndex.itemIndex==t.itemIndex&&(i=Z.ItemState.FOCUSED),e.itemState=i}return e},d.prototype.getHeadStyleName=function(){return"rg-rowindicator-head"},d.prototype.getFootStyleName=function(){return"rg-rowindicator-foot"},d.prototype.getSumStyleName=function(){return"rg-rowindicator-sum"},d);function d(t){var e=c.call(this,t)||this;return e._displayValue=n.INDEX,e._zeroBase=!1,e._indexOffset=0,e._rowOffset=0,e._minWidth=40,e._maxWidth=0,e._width=0,e._selectable=!0,e._mark=r.DEFAULT,e._showFocus=!0,e._showSelection=!1,e._cell=new u(e),e.headText="No.",e.footText="Σ",e.sumText="Σ",e}e.RowIndicator=p});t(Pt);Pt.IndicatorValue,Pt.StateMark,Pt.RowIndicatorCell,Pt.RowIndicator;var Tt=e(function(t,i){var o,e=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(i,"__esModule",{value:!0});var r,n=(r=ue.Base,e(s,r),s.ToCss=function(t){},s.prototype.proxy=function(){return{fontFamily:this.fontFamily,fontSize:this.fontSize,fontBold:this.fontBold,textAlignment:this.textAlignment,lineAlignment:this.lineAlignment,foreground:this.foreground,background:this.background,borderLeft:this.borderLeft,borderTop:this.borderTop,borderRight:this.borderRight,borderBottom:this.borderBottom}},s.prototype.toCss=function(){var t=new CSSStyleDeclaration;return t.fontFamily=this.fontFamily,t.fontSize=this.fontSize+"px",t.fontWeight=this.fontBold?"bold":"normal",t.verticalAlign="far"==this.lineAlignment?"bottom":"near"==this.lineAlignment?"top":"middle",t.textAlign="far"==this.textAlignment?"right":"near"==this.textAlignment?"left":"center",t.color=this.foreground,t.background=this.background,t.borderLeft=this.borderLeft,t.borderTop=this.borderTop,t.borderRight=this.borderRight,t.borderBottom=this.borderBottom,t},s);function s(t){var e=r.call(this)||this;return t&&e.extend(t),e}i.DocumentTitleStyle=n;var a,l,u,h,c,p=(a=ue.Base,e(d,a),d.prototype._doDispose=function(){this._styles=null,a.prototype._doDispose.call(this)},Object.defineProperty(d.prototype,"cssStyle",{get:function(){return this._styles?this._styles.toCss():null},enumerable:!0,configurable:!0}),d.prototype.proxy=function(){return{message:this.message,visible:this.visible,styles:this._styles.proxy(),spaceTop:this.spaceTop,spaceBottom:this.spaceBottom,height:this.height}},d);function d(t){var e=a.call(this)||this;return e._styles=null,e.message="",e.visible=!0,e.spaceTop=0,e.spaceBottom=0,e.height=-1,t&&e.extend(t),t.styles&&(e._styles=new n(t.styles)),e}i.DocumentTitle=p,i.VIS_DEFAULT="default",i.VIS_HIDDEN="hidden",i.VIS_VISIBLE="visible",i.INDICATOR_DEFAULT="default",i.INDICATOR_ITEM="item",i.INDICATOR_ROW="row",i.PIXELS_PER_CHAR=7,(u=l=i.ExportType||(i.ExportType={})).EXCEL="excel",u.CSV="csv",(c=h=i.ExportTarget||(i.ExportTarget={})).LOCAL="local",c.TARGET="target";var _,f=(_=ue.Base,e(y,_),Object.defineProperty(y.prototype,"fileName",{get:function(){if(this._fileName.indexOf(".")<0){var t=this.type===l.CSV?".csv":".xlsx";return this._fileName+t}return this._fileName},set:function(t){t!=this._fileName&&(this._fileName=t?t.trim():null)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&(this._datetimeFormat=t)&&(this._datetimeWritter=$.DateTimeWriter.getFormatter(t))},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._booleanFormatter=t?W.BooleanFormatter.getFormatter(t):null)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){t!=this._numberFormat&&(this._numberFormat=t,this._numberFormatter=t?z.DecimalFormatter.getFormatter(t):null)},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"booleanFormatter",{get:function(){return this._booleanFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"datetimeWriter",{get:function(){return this._datetimeWritter},enumerable:!0,configurable:!0}),Object.defineProperty(y.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!0,configurable:!0}),y);function y(t){var e=_.call(this)||this;return e._booleanFormatter=null,e._numberFormatter=null,e._datetimeWritter=null,e.type=l.EXCEL,e.target=h.LOCAL,e.url=void 0,e.nullDateText="",e.datetimeCallback=null,e.numberCallback=null,e.booleanCallback=null,e.objectCallback=null,e.textCallback=null,e.start=0,e.count=-1,e.done=null,e.showProgress=!1,e.progressMessage=null,e.progressMax=0,e.prepareProgress=10,e.assignFrom(t),e.progressMessage=e.progressMessage||"Exporting...",e}i.ExportBaseOptions=f;var m,g=(e(v,m=f),v.prototype._doDispose=function(){this._documentTitle&&(this._documentTitle=this._documentTitle.dispose()),this._documentSubtitle&&(this._documentSubtitle=this._documentSubtitle.dispose()),this._documentTail&&(this._documentTail=this._documentTail.dispose()),m.prototype._doDispose.call(this)},Object.defineProperty(v.prototype,"documentTitle",{get:function(){return this._documentTitle},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"documentSubtitle",{get:function(){return this._documentSubtitle},enumerable:!0,configurable:!0}),Object.defineProperty(v.prototype,"documentTail",{get:function(){return this._documentTail},enumerable:!0,configurable:!0}),v.prototype.indicatorVisible=function(t){if(t)switch(this.indicator){case i.VIS_VISIBLE:return!0;case i.VIS_HIDDEN:return!1;case i.VIS_DEFAULT:default:return t.rowIndicator.visible}return!1},v.prototype.checkBarVisible=function(t){if(t)switch(this.checkBar){case i.VIS_VISIBLE:return!0;case i.VIS_HIDDEN:return!1;case i.VIS_DEFAULT:default:return t.checkBar.visible}return!1},v.prototype.headerVisible=function(t){if(t)switch(this.header){case i.VIS_VISIBLE:return!0;case i.VIS_HIDDEN:return!1;case i.VIS_DEFAULT:default:return t.header.visible}return!1},v.prototype.headerSummaryVisible=function(t){if(t)switch(this.headerSummary){case i.VIS_VISIBLE:return!0;case i.VIS_HIDDEN:return!1;case i.VIS_DEFAULT:default:return t.headerSummary.visible}return!1},v.prototype.footerVisible=function(t){if(t)switch(this.footer){case i.VIS_VISIBLE:return!0;case i.VIS_HIDDEN:return!1;case i.VIS_DEFAULT:default:return t.footer.visible}return!1},v.prototype.showIndicatorRow=function(t){if(t)switch(this.indicatorValue){case i.INDICATOR_ITEM:return!1;case i.INDICATOR_ROW:return!0;case i.INDICATOR_DEFAULT:default:return t.rowIndicator.displayValue==Pt.IndicatorValue.ROW}return!1},v.prototype.assignFrom=function(t){var e=Object.getPrototypeOf(this);for(var i in t)if("type"==i||"target"==i){t[i];var o=t[i].toUpperCase();"type"!=i||"EXCEL"!=o&&"CSV"!=o||(this.type=l[o]),"target"!=i||"LOCAL"!=o&&"REMOTE"!=o||(this.target=h[o])}else if("documentTitle"==i||"documentSubtitle"==i||"documentTail"==i)this["_"+i]=new p(t[i]);else{var r=Object.getOwnPropertyDescriptor(e,i);r&&r.set&&r.set.call(this,t[i])}},v);function v(t){var e=m.call(this,t)||this;return e._documentTitle=null,e._documentSubtitle=null,e._documentTail=null,e.linear=!1,e.allColumns=!1,e.allItems=!0,e.onlyCheckedItems=!1,e.pagingAllItems=!1,e.indicator=i.VIS_DEFAULT,e.checkBar=i.VIS_HIDDEN,e.header=i.VIS_DEFAULT,e.footer=i.VIS_DEFAULT,e.headerSummary=i.VIS_DEFAULT,e.indicatorValue=i.INDICATOR_DEFAULT,e.checkMark="v",e.indenting=!0,e.checkNumber=!1,e.separateRows=!1,e.showConfirm=!0,e.confirmMessage="Excel 문서로 저장하시겠습니까?",e.confirmTitle="Excel 저장",e.lookupDisplay=!1,e.compatibility=!1,e.showLevelOutline=!0,e.showProgress=!1,e.progressMessage=null,e.applyFitStyle=!1,e.applyDynamicStyles=!1,e.applyDefaultColumnFormat=!1,e.sheetName=null,e.exportSeriesColumn=!1,e.replaceCrText=null,e.replaceLfText=null,e.showColumns=null,e.hideColumns=null,e}i.GridExportOptions=g;var b,C=(e(w,b=f),w.prototype.assignFrom=function(t){var e=Object.getPrototypeOf(this);for(var i in t)if("type"==i||"target"==i){t[i];var o=t[i].toUpperCase();"type"!=i||"EXCEL"!=o&&"CSV"!=o||(this.type=l[o]),"target"!=i||"LOCAL"!=o&&"REMOTE"!=o||(this.target=h[o])}else{var r=Object.getOwnPropertyDescriptor(e,i);r&&r.set&&r.set.call(this,t[i])}},w);function w(t){var e=b.call(this,t)||this;return e.lfText=null,e.crText=null,e.seperator=null,e.exportFields=null,e.hideFields=null,e.includeFieldNames=!1,e}i.DataExportOptions=C;var x,I=(e(E,x=g),Object.defineProperty(E.prototype,"exportGrids",{get:function(){return this._grids},enumerable:!0,configurable:!0}),E.prototype._doDispose=function(){for(var t=this._grids.length;t--;)delete this._grids[t];this._grids=null,x.prototype._doDispose.call(this)},E.prototype._parseGrids=function(t,e){var i=e.exportGrids;if(i&&Array.isArray(i))for(var o=0,r=i.length;o<r;o++){var n={grid:i[o].grid,sheetName:i[o].sheetName};this._grids.push(n)}},E);function E(t,e){var i=x.call(this,e)||this;return i._grids=[],i._parseGrids(t,e),i}i.GridMultiExportOptions=I});t(Tt);Tt.DocumentTitleStyle,Tt.DocumentTitle,Tt.VIS_DEFAULT,Tt.VIS_HIDDEN,Tt.VIS_VISIBLE,Tt.INDICATOR_DEFAULT,Tt.INDICATOR_ITEM,Tt.INDICATOR_ROW,Tt.PIXELS_PER_CHAR,Tt.ExportType,Tt.ExportTarget,Tt.ExportBaseOptions,Tt.GridExportOptions,Tt.DataExportOptions,Tt.GridMultiExportOptions;var kt=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(o.prototype.export=function(t,e){this.grid=t,this.options=e},o);function o(){this.progressMax=0,this.prepareProgress=10,this.indicatorNo=1}e.ExporterBase=i});t(kt);kt.ExporterBase;var Mt=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i,d=function(t){this.colIndex=0,this.colSpan=0,this.rowIndex=0,this.rowSpan=0,this.width=0,this.valueType=H.ValueType.TEXT,this.column=t,this.dataColumn=t instanceof ut.DataColumn?t:null};e.ColumnArrayItem=d,(i=e.ExportSparkType||(e.ExportSparkType={})).NONE="",i.LINE="line",i.COLUMN="column",i.STACKED="stacked";var o=(Object.defineProperty(r.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"colCount",{get:function(){return this._headerRows.length&&this._headerRows[0].length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"headerRowCount",{get:function(){return this._headerRows.length},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dataRowCount",{get:function(){return this._dataRows.length},enumerable:!0,configurable:!0}),r.prototype.getHeader=function(t,e){return this._headerRows[t][e]},r.prototype.getItem=function(t,e){return this._dataRows[t][e]},r.prototype.setItem=function(t,e,i){this._dataRows[t][e]=i},r.prototype.parse=function(){var t,e=this._grid,i=(this._linearize,this._allColumns),o=this._includes;for(this._excludes,i||0<o.length?e.columnCount:e.visibleLayoutCount,t=0;t<1;t++)this._headerRows.push([]);for(t=0;t<1;t++)this._dataRows.push([])},r.prototype.$_parseRows=function(t,l){var e=this._grid,i=(this._linearize,this._allColumns),o=this._includes,r=this._excludes;function n(t,e,i,o,r){for(var n=0;n<o;n++)for(var s=0;s<i;s++){var a=new d(r);a.colIndex=s,a.colSpan=i,a.rowIndex=n,a.rowSpan=o,l[e+n][t+s]=a,r instanceof ut.DataColumn?a.valueType=r.valueType||H.ValueType.TEXT:a.valueType=H.ValueType.TEXT}}for(var s=l.length,a=0,u=!i&&0==o.length,h=u?e.visibleLayoutCount:e.columnCount,c=0;c<h;c++){var p=u?e.getVisibleLayout(c).firstColumn:e.getColumn(c);((i||p.layout.visible)&&r.indexOf(p.name)<0||!p.layout.visible&&0<=o.indexOf(p.name))&&n(a++,0,1,s,p)}},r.prototype.setDataColumns=function(t){var e,i;this._dataColumns=[];for(var o=0,r=t.length;o<r;o++){e=[];for(var n=0,s=t[o].length;n<s;n++)i=t[o][n],e.push(i.column.name);this._dataColumns.push(e)}},r.prototype.setSparkInfo=function(t){},r);function r(t,e,i,o,r){this._grid=t,this._linearize=e,this._allColumns=i,this._includes=o,this._excludes=r,this._headerRows=[],this._dataRows=[],this._dataColumns=[],this.parse()}e.ColumnArray=o;var n=(h.encode=function(t){var e,i,o,r,n,s,a,l="",u=0;for(t=h.utf8_encode(t);u<t.length;)r=(e=t.charCodeAt(u++))>>2,n=(3&e)<<4|(i=t.charCodeAt(u++))>>4,s=(15&i)<<2|(o=t.charCodeAt(u++))>>6,a=63&o,isNaN(i)?s=a=64:isNaN(o)&&(a=64),l=l+this._keyStr.charAt(r)+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(a);return l},h.decode=function(t){var e,i,o,r,n,s,a="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)e=h._keyStr.indexOf(t.charAt(l++))<<2|(r=h._keyStr.indexOf(t.charAt(l++)))>>4,i=(15&r)<<4|(n=h._keyStr.indexOf(t.charAt(l++)))>>2,o=(3&n)<<6|(s=h._keyStr.indexOf(t.charAt(l++))),a+=String.fromCharCode(e),64!=n&&(a+=String.fromCharCode(i)),64!=s&&(a+=String.fromCharCode(o));return a=h.utf8_decode(a)},h.utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e+=String.fromCharCode(o):(127<o&&o<2048?e+=String.fromCharCode(o>>6|192):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128)),e+=String.fromCharCode(63&o|128))}return e},h.utf8_decode=function(t){for(var e="",i=0,o=0,r=0,n=0,s=t.length;i<s;)(o=t.charCodeAt(i))<128?(e+=String.fromCharCode(o),i++):191<o&&o<224?(r=t.charCodeAt(i+1),e+=String.fromCharCode((31&o)<<6|63&r),i+=2):(r=t.charCodeAt(i+1),n=t.charCodeAt(i+2),e+=String.fromCharCode((15&o)<<12|(63&r)<<6|63&n),i+=3);return e},h);function h(){}e.Base64=n});t(Mt);Mt.ColumnArrayItem,Mt.ExportSparkType,Mt.ColumnArray,Mt.Base64;var Lt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=kt.ExporterBase,i(s,r),s.prototype.export=function(t,e){this.export(t,e),this.grid=t;var i=this.options=e;this.indicator=i.indicatorVisible(t)?t.rowIndicator:null,this.header=i.headerVisible(t)?t.header:null,this.headerSummary=i.headerSummaryVisible(t)?t.headerSummary:null,this.footer=i.footerVisible(t)?t.footer:null,this.indicatorHead=t.rowIndicator.headText||"No",this.indicatorFoot=t.rowIndicator.footText||"",this.indicatorSummary=t.rowIndicator.sumText,this.setProgress=function(t){},this.done=function(){this.save()},this.buildBook()},s.prototype.prepare=function(){},s.prototype.finallize=function(){},s.prototype.buildBook=function(){this.buildSheet(this.grid)},s.prototype.buildSheet=function(t){this.header&&this.buildHeader(t),this.headerSummary&&this.buildHeaderSummary(t),this.buildItems(t),this.footer&&this.buildFooter(t),this.done()},s.prototype.addQuatation=function(t,e){if(null!=t){if(this.options){var i=this.options,o=i.replaceCrText,r=i.replaceLfText;o&&t&&(t=t.replace(/\n/g,o)),r&&t&&(t=t.replace(/\r/g,r))}(e===H.ValueType.TEXT||0<=t.indexOf("\n")||0<=t.indexOf(",")||0<=t.indexOf('"'))&&(t='"'+t.replace(/\"/g,'""')+'"')}return null===t?"":t},s.prototype.buildHeader=function(t){var e=[];this.indicator&&e.push(this.indicatorHead);for(var i=t.visibleLayoutCount,o=0;o<i;o++){var r=t.getVisibleLayout(o).firstColumn;e.push(this.addQuatation(r.header.text))}this._rows.push(e.join(","))},s.prototype.buildHeaderSummary=function(t){for(var e,i=[],o=this.options,r=0,n=t.visibleLayoutCount;r<n;r++){var s=t.getVisibleLayout(r),a=s.firstColumn,l=t.headerSummary.getCell(s),u=l.value;e="number"==typeof u?isNaN(u)?l.text:String(u):u instanceof Date?o.datetimeCallback?(u=o.datetimeCallback(-1,a.name,u))instanceof Date?L.DateTimeConverter.Default.getText(u):u:L.DateTimeConverter.Default.getText(u):null==u?l.text:String(u),i.push(this.addQuatation(e))}this._rows.push(i.join(","))},s.prototype.buildFooter=function(t){for(var e,i=this.options,o=t.footer,r=0;r<1;r++){var n=[];this.indicator&&n.push(0==r?this.indicatorFoot:"");for(var s=0,a=t.visibleLayoutCount;s<a;s++){var l=t.getVisibleLayout(s),u=l.firstColumn,h=o.getCell(l),c=h.value;e="number"==typeof c?isNaN(c)?h.text:String(c):c instanceof Date?i.datetimeCallback?(c=i.datetimeCallback(-1,u.name,c))instanceof Date?L.DateTimeConverter.Default.getText(c):c:L.DateTimeConverter.Default.getText(c):null==c?h.text:String(c),n.push(this.addQuatation(e))}this._rows.push(n.join(","))}},s.prototype.buildItems=function(t){for(var e=this.allItems?this.allItems.length:t.itemSource.itemCount,i=this.allItems,o=0;o<e;o++){var r=i?i[o]:t.getItem(o);this.buildRow(t,r)}},s.prototype.buildRow=function(t,e){var i,o,r=this.options,n=t.visibleLayoutCount,s=[];if(this.indicator){var a=r.showIndicatorRow(t)?e.dataRow:this.indicatorNo++;s.push(a.toString())}for(var l=0;l<n;l++){var u=t.getVisibleLayout(l).firstColumn,h=void 0;if(i=void 0,u instanceof ut.DataColumn){h=u.getField();var c=e.getData(u.dataIndex);switch(new et.CellIndex(t,e.index,u),h.dataType){case H.ValueType.NUMBER:i=isNaN(c)||null==c?"":r.numberCallback?r.numberCallback?r.numberCallback(e.index,u.name,c):o():String(c);break;case H.ValueType.BOOLEAN:null!=c&&(r.booleanCallback?c=r.booleanCallback?r.booleanCallback(e.index,u.name,c):o():r.booleanFormat&&(c=r.booleanFormatter.formatValue(c)),i=String(c));break;case H.ValueType.DATE:case H.ValueType.DATETIME:c&&(i=r.datetimeCallback?(c=r.datetimeCallback?r.datetimeCallback(e.index,u.name,c):o())instanceof Date?L.DateTimeConverter.Default.getText(c):c:L.DateTimeConverter.Default.getText(c));break;case H.ValueType.OBJECT:break;default:i=null!=(c=r.textCallback?r.textCallback(e.index,u.name,c):o())?String(c):""}}s.push(this.addQuatation(i,h&&h.dataType))}this._rows.push(s.join(","))},s.prototype.buildGroupHeader=function(t,e){},s.prototype.buildGroupFooter=function(t,e){},s.prototype.buildMergedGroupHeader=function(t,e){},s.prototype.buildMergedGroupFooter=function(t,e){},s.prototype.save=function(){var t=this.options,e=t.fileName||"realgrid.csv",i="\ufeff"+this._rows.join("\n");t.target==Tt.ExportTarget.LOCAL?this.saveLocal(e,i):this.saveServer(e,i)},s.prototype.saveLocal=function(t,e){e=e;var i=new Blob([e],{type:"text/csv charset=UTF-8"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,t);else if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(i,t);else{var o=document.createElement("a");document.body.appendChild(o);var r=URL.createObjectURL(i);o.href=r,o.download=t,o.click(),document.body.removeChild(o)}},s.prototype.saveServer=function(t,e){var i='<form name="tempForm" action="'+this.options.url+'" method="post">';i+='<input type="hidden" name="fileName" value = "'+t+'"/>',i+='<input type="hidden" name="data" value = "'+Mt.Base64.encode(e)+'"/>',i+='<input id="submitBtn" type="submit"/>',i+="</form>";var o=document.createElement("div");o.innerHTML=i,document.body.appendChild(o),document.getElementById("submitBtn").click(),document.body.removeChild(o)},s.prototype.prepareColumns=function(){},s);function s(){return r.call(this)||this}e.GridCsvExporter=n});t(Lt);Lt.GridCsvExporter;var Ft=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=q.ExpressionRuntime,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype.isIdentifier=function(t){return t=t.toLowerCase(),s.IDENTS.hasOwnProperty(t)?s.IDENTS[t]:r.prototype.isIdentifier.call(this,t)},s.prototype.evaluateIdentifier=function(t){switch(t){case s.ID_COUNT:return this._getCount();case s.ID_SUM:return this._getSum();case s.ID_MAX:return this._getMax();case s.ID_MIN:return this._getMin();case s.ID_AVG:return this._getAvg();case s.ID_VAR:return this._getVar();case s.ID_VARP:return this._getVarp();case s.ID_STDEV:return this._getStdev();case s.ID_STDEVP:return this._getStdevp();case s.ID_DCOUNT:return this._getDataCount();case s.ID_DSUM:return this._getDataSum()}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},s.prototype.evaluateIndexerI=function(t,e){throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},s.prototype.evaluateIndexerS=function(t,e,i){throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)},s.IDENTS={count:s.ID_COUNT=0,sum:s.ID_SUM=1,max:s.ID_MAX=2,min:s.ID_MIN=3,avg:s.ID_AVG=4,var:s.ID_VAR=5,varp:s.ID_VARP=6,stdev:s.ID_STDEV=7,stdevp:s.ID_STDEVP=8,dcount:s.ID_DCOUNT=9,dsum:s.ID_DSUM=10},s);function s(){return r.call(this)||this}e.SummaryExpressionRuntime=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){this._grid=null,this._ds=null,this._column=null,this._summarizer=null,a.prototype._doDispose.call(this)},u.prototype.setColumn=function(t,e){this._column=t,this._grid=t.grid,this._ds=this._grid.dataSource,this._fieldCount=this._ds.fieldCount,this._summarizer=e},u.prototype.isIdentifier=function(t){return t=t.toLowerCase(),n.IDENTS.hasOwnProperty(t)?n.IDENTS[t]:a.prototype.isIdentifier.call(this,t)},u.prototype.evaluateIndexerI=function(t,e){if(this._summarizer){if(e<0||e>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds: "+e);switch(t){case n.ID_SUM:return this._summarizer.getSum(e);case n.ID_COUNT:return this._summarizer.getCount(e);case n.ID_MAX:return this._summarizer.getMax(e);case n.ID_MIN:return this._summarizer.getMin(e);case n.ID_AVG:return this._summarizer.getAvg(e);case n.ID_VAR:return this._summarizer.getVar(e);case n.ID_VARP:return this._summarizer.getVarp(e);case n.ID_STDEV:return this._summarizer.getStdev(e);case n.ID_STDEVP:return this._summarizer.getStdevp(e)}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)}switch(t){case n.ID_SUM:case n.ID_COUNT:return 0;case n.ID_MAX:case n.ID_MIN:case n.ID_AVG:case n.ID_VAR:case n.ID_VARP:case n.ID_STDEV:case n.ID_STDEVP:return NaN}},u.prototype.evaluateIndexerS=function(t,e,i){if(this._summarizer&&this._ds){var o=i?this._ds.getFieldIndexC(e):this._ds.getFieldIndex(e);if(o<0||o>=this._fieldCount)throw new q.ExpressionEvaluationError("Data field index out of bounds: "+o);switch(t){case n.ID_SUM:return this._summarizer.getSum(o);case n.ID_COUNT:return this._summarizer.getCount(o);case n.ID_MAX:return this._summarizer.getMax(o);case n.ID_MIN:return this._summarizer.getMin(o);case n.ID_AVG:return this._summarizer.getAvg(o);case n.ID_VAR:return this._summarizer.getVar(o);case n.ID_VARP:return this._summarizer.getVarp(o);case n.ID_STDEV:return this._summarizer.getStdev(o);case n.ID_STDEVP:return this._summarizer.getStdevp(o)}throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t)}switch(t){case n.ID_SUM:case n.ID_COUNT:return 0;case n.ID_MAX:case n.ID_MIN:case n.ID_AVG:case n.ID_VAR:case n.ID_VARP:case n.ID_STDEV:case n.ID_STDEVP:return NaN}},u.prototype._getCount=function(){return this._summarizer?this._summarizer.getCount(this._column.dataIndex):0},u.prototype._getSum=function(){return this._summarizer?this._summarizer.getSum(this._column.dataIndex):0},u.prototype._getMax=function(){return this._summarizer?this._summarizer.getMax(this._column.dataIndex):NaN},u.prototype._getMin=function(){return this._summarizer?this._summarizer.getMin(this._column.dataIndex):NaN},u.prototype._getAvg=function(){return this._summarizer?this._summarizer.getAvg(this._column.dataIndex):NaN},u.prototype._getVar=function(){return this._summarizer?this._summarizer.getVar(this._column.dataIndex):NaN},u.prototype._getVarp=function(){return this._summarizer?this._summarizer.getVarp(this._column.dataIndex):NaN},u.prototype._getStdev=function(){return this._summarizer?this._summarizer.getStdev(this._column.dataIndex):NaN},u.prototype._getStdevp=function(){return this._summarizer?this._summarizer.getStdevp(this._column.dataIndex):NaN},u.prototype._getDataCount=function(){return this._summarizer?this._summarizer.getDataCount(this._column.dataIndex):NaN},u.prototype._getDataSum=function(){return this._summarizer?this._summarizer.getDataSum(this._column.dataIndex):NaN},u);function u(){return a.call(this)||this}e.ColumnSummaryRuntime=l;var h,c=(i(p,h=l),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),p.prototype.setItem=function(t){this._item=t},p.prototype._getCount=function(){return this._item.getNumber(this._column.dataIndex)},p.prototype._getSum=function(){return this._item.getSum(this._column.dataIndex)},p.prototype._getMax=function(){return this._item.getMax(this._column.dataIndex)},p.prototype._getMin=function(){return this._item.getMin(this._column.dataIndex)},p.prototype._getAvg=function(){return this._item.getAvg(this._column.dataIndex)},p.prototype._getVar=function(){return this._item.getVar(this._column.dataIndex,1)},p.prototype._getVarp=function(){return this._item.getVar(this._column.dataIndex,0)},p.prototype._getStdev=function(){return this._item.getStdev(this._column.dataIndex,1)},p.prototype._getStdevp=function(){return this._item.getStdev(this._column.dataIndex,0)},p.prototype._getDataCount=function(){return this._item.getDataCount(this._column.dataIndex)},p.prototype._getDataSum=function(){return this._item.getDataSum(this._column.dataIndex)},p);function p(){return h.call(this)||this}e.RowGroupSummaryRuntime=c});t(Ft);Ft.SummaryExpressionRuntime,Ft.ColumnSummaryRuntime,Ft.RowGroupSummaryRuntime;var At=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){this._columns=null,this._owner=null,this._nameMap=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"count",{get:function(){return this._columns.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columns",{get:function(){return this._columns.slice()},enumerable:!0,configurable:!0}),s.prototype.getColumn=function(t){return this._columns[t]},s.prototype.setColumns=function(t){if(this._columns.length=0,this._nameMap={},t)for(var e=0,i=t;e<i.length;e++){var o=i[e],r=this._addColumn(o);if(!r)throw new Error("column is undefined");r.$_owner=this}},s.prototype.add=function(t,e){var i=this._addColumn(t,void 0===e?-1:e);return null!=i&&(i.$_owner=this),i},s.prototype.remove=function(t){return!!this._removeColumn(t)&&!(t.$_owner=void 0)},s.prototype.resetIndices=function(){if(this._owner)for(var t=0,e=this._columns.length;t<e;t++){var i=this._columns[t];i.$_setIndex(t),i._resetIndices(this._owner)}},s.prototype.resetSortStates=function(){if(this._owner)for(var t=this._owner.getSortDirections(),e=this._owner.getSortFields(),i=0,o=this._columns.length;i<o;i++){var r=this._columns[i];r instanceof ut.DataColumn&&(r.sortOrder=e.indexOf(r.dataIndex),r.sortDirection=t[r.sortOrder])}},s.prototype.columnByName=function(t){return this._nameMap[t]},s.prototype.columnByField=function(t){if(0<=t)for(var e=0,i=this.count;e<i;e++){var o=this.getColumn(e);if(o instanceof ut.DataColumn&&o.dataIndex==t)return o}return null},s.prototype._addColumn=function(t,e){void 0===e&&(e=-1);var i=this._columns;if(!t||t instanceof ut.GridColumn||(t=$e.GridBase.createColumn(t)),t instanceof ut.GridColumn){if(0<=i.indexOf(t))throw new Error("column is already contained");e<0?i.push(t):i.splice(e,0,t);var o=t.name;return o&&(this._nameMap[o]=t),t}return null},s.prototype._removeColumn=function(t){var e=this._columns.indexOf(t);return 0<=e&&(this._columns.splice(e,1),!0)},s);function s(t){var e=r.call(this)||this;return e._columns=[],e._nameMap={},e._owner=t,e}e.ColumnCollection=n});t(At);At.ColumnCollection;var Vt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=it.GridCell,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(t){this._text=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"template",{get:function(){return this._template},set:function(t){this._template=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemOffset",{get:function(){return this._itemOffset},set:function(t){this._itemOffset=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemGap",{get:function(){return this._itemGap},set:function(t){this._itemGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"imageList",{get:function(){return this._imageList},set:function(t){this._imageList=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"imageIndex",{get:function(){return this._imageIndex},set:function(t){this._imageIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(t){this._imageUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkLocation",{get:function(){return this._checkLocation},set:function(t){this._checkLocation=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"imageLocation",{get:function(){return this._imageLocation},set:function(t){this._imageLocation=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(t){this._showTooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tooltip",{get:function(){return this._tooltip},set:function(t){this._tooltip=t},enumerable:!0,configurable:!0}),s);function s(){var t=r.call(this,"headerCell")||this;return t._itemOffset=2,t._itemGap=2,t._imageIndex=-1,t._checkLocation=H.ColumnHeaderItemLocation.NONE,t._imageLocation=H.ColumnHeaderItemLocation.NONE,t._checked=!1,t._showTooltip=!0,t}e.HeaderCell=n;var a,l=(a=J.VisualObject,i(u,a),u.prototype._doDispose=function(){this._cell=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"minRowHeight",{get:function(){return this._minRowHeight},set:function(t){t!=this._minRowHeight&&(this._minRowHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minHeight",{get:function(){return this._minHeight},set:function(t){t!=this._minHeight&&(this._minHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"heights",{get:function(){return this._heights&&this._heights.slice()},set:function(t){t!=this._heights&&(this._heights=t&&t.slice(),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"resizable",{get:function(){return this._resizable},set:function(t){t!=this._resizable&&(this._resizable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortable",{get:function(){return this._sortable},set:function(t){t!=this._sortable&&(this._sortable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"filterable",{get:function(){return this._filterable},set:function(t){t!=this._filterable&&(this._filterable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"subTextGap",{get:function(){return this._subTextGap},set:function(t){t!=this._subTextGap&&(this._subTextGap=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemOffset",{get:function(){return this._itemOffset},set:function(t){t!=this._itemOffset&&(this._itemOffset=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemGap",{get:function(){return this._itemGap},set:function(t){t!=this._itemGap&&(this._itemGap=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"imageList",{get:function(){return this._imageList},set:function(t){t!=this._imageList&&(this._imageList=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(t){t!=this._showTooltip&&(this._showTooltip=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showSelection",{get:function(){return this._showSelection},set:function(t){t!=this._showSelection&&(this._showSelection=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortWidth",{get:function(){return this._sortWidth},set:function(t){t!=this._sortWidth&&(this._sortWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sortHeight",{get:function(){return this._sortHeight},set:function(t){t!=this._sortHeight&&(this._sortHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"filterWidth",{get:function(){return this._filterWidth},set:function(t){t!=this._filterWidth&&(this._filterWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"filterHeight",{get:function(){return this._filterHeight},set:function(t){t!=this._filterHeight&&(this._filterHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"popupWidth",{get:function(){return this._popupWidth},set:function(t){t!=this._popupWidth&&(this._popupWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"popupHeight",{get:function(){return this._popupHeight},set:function(t){t!=this._popupHeight&&(this._popupHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"checkWidth",{get:function(){return this._checkWidth},set:function(t){t!=this._checkWidth&&(this._checkWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"checkHeight",{get:function(){return this._checkHeight},set:function(t){t!=this._checkHeight&&(this._checkHeight=t,this._changed())},enumerable:!0,configurable:!0}),u.prototype.getCell=function(t){var e=this._cell;if(e.setLayout(t),t instanceof A.CellLayoutGroupItem)e.text=t.header.text;else{var i=t.firstColumn;if(e.index.set(-1,i),i){var o=i.header,r=void 0;e.text=o.displayText,e.template=o.realizeTemplate(),e.itemOffset=void 0===(r=o.itemOffset)?this._itemOffset:r,e.itemGap=void 0===(r=o.itemGap)?this._itemGap:r,e.imageList=this._imageList,e.imageIndex=o.imageIndex,e.imageUrl=o.imageUrl,e.checkLocation=o.checkLocation,e.imageLocation=o.imageLocation,e.checked=i.checked,e.showTooltip=o.showTooltip,e.tooltip=o.tooltip}}return e},u.prototype.clean=function(){a.prototype.clean.call(this)},u);function u(t){var e=a.call(this,t)||this;return e._minRowHeight=21,e._minHeight=23,e._height=0,e._resizable=!1,e._sortable=!0,e._filterable=!0,e._subTextGap=1,e._itemOffset=2,e._itemGap=2,e._showSelection=!1,e._showTooltip=!1,e._sortWidth=16,e._sortHeight=16,e._filterWidth=16,e._filterHeight=16,e._popupWidth=16,e._popupHeight=16,e._checkWidth=16,e._checkHeight=16,e._cell=new n,e.visible=!0,e}e.GridHeader=l});t(Vt);Vt.HeaderCell,Vt.GridHeader;var Nt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=q.ExpressionRuntime,i(s,r),s.prototype._doDispose=function(){this._cell=null,this._grid=null,r.prototype._doDispose.call(this)},s.prototype.setCell=function(t){this._cell=t,this._grid=t.index&&t.index.grid},s.prototype.isIdentifier=function(t){return t=t.toLowerCase(),s.IDENTS.hasOwnProperty(t)?s.IDENTS[t]:r.prototype.isIdentifier.call(this,t)},s.prototype.evaluateIdentifier=function(t){switch(t){case s.ID_VALUE:return this._cell.value;case s.ID_FIELD:return this._cell.index.dataField;case s.ID_LEVEL:return this._cell.level}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},s.prototype.evaluateIndexerI=function(t,e){},s.prototype.evaluateIndexerS=function(t,e,i){},s.IDENTS={value:s.ID_VALUE=0,field:s.ID_FIELD=1,level:s.ID_LEVEL=2},s);function s(){return r.call(this)||this}e.FooterExpressionRuntime=n;var a,l=(a=it.GridCell,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"level",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"errorDetail",{get:function(){return this._errorDetail},enumerable:!0,configurable:!0}),u.prototype.calculate=function(){var t=this.dataColumn,e=t&&t.grid;if(this._value=NaN,this._error=null,e&&e.summaryMode!=H.SummaryMode.NONE&&0<=t.dataIndex){var i=this._getSummary(t,this._childIndex),o=i&&i.expression;try{if(o&&0<e.rowCount){var r=e.columnSummaryRuntime;r.setColumn(t,e.summarizer),this._value=i.evaluate(r,this._childIndex)}var n=i.valueCallback;n&&(this._value=n(i,this._value))}catch(t){this._error=t,this._errorDetail=t}}},Object.defineProperty(u.prototype,"text",{get:function(){if(this._error)return it.GridCell.ERROR},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"template",{get:function(){var t=this._getSummary(this.valueColumn,this._childIndex);return t?t.realizeTemplate(this):void 0},enumerable:!0,configurable:!0}),u.prototype.getDisplayText=function(t){var e=this._value,i=this.dataColumn,o="";if(void 0!==e&&i)if(i.valueType==H.ValueType.DATETIME){var r=void 0;e instanceof Date&&(r=t.datetimeWriter)?o=r.getText(this._value):e&&(o=e)}else{var n=void 0,s=Number(e);!isNaN(s)&&(n=t.numberFormatter)?o=n.getText(s):e&&(o=e)}if(o){var a=t.prefix;a&&(o=a+o),(a=t.suffix)&&(o+=a)}return!o&&i&&(o=this._getSummary(i,this._childIndex).text),o},u.prototype.getSummary=function(){return this._getSummary(this.valueColumn,this._childIndex)},u);function u(t){var e=a.call(this,t)||this;return e._childIndex=0,e._error=null,e._errorDetail=null,e}e.SummaryCell=l;var h,c=(i(p,h=l),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"footerIndex",{get:function(){return this._childIndex},set:function(t){t!=this._childIndex&&(this._childIndex=t)},enumerable:!0,configurable:!0}),p.prototype._getSummary=function(t,e){return t&&t.footers.getItem(e)},p);function p(){return h.call(this,"footerCell")||this}e.FooterCell=c;var d,_=(d=J.VisualObject,i(f,d),f.prototype._doDispose=function(){d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"styleName",{get:function(){return this._styleName},set:function(t){t!=this._styleName&&(this._styleName=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"displayIndex",{get:function(){return this._displayIndex},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"minHeight",{get:function(){return this._minHeight},set:function(t){(t=Math.max(0,t))!=this._minHeight&&(this._minHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this._height},set:function(t){(t=Math.max(0,t))!=this._height&&(this._height=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"resizable",{get:function(){return this._resizable},set:function(t){t!=this._resizable&&(this._resizable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"cellStyleCallback",{get:function(){return this._cellStyleCallback},set:function(t){t!==this._cellStyleCallback&&(this._cellStyleCallback=t,this.refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"textFormat",{get:function(){return this._textFormat},set:function(t){t!=this._textFormat&&(this._textFormat=t,this._textFormatter=t?lt.TextFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&(this._datetimeFormat=t,this._datetimeWriter=t?$.DateTimeWriter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){t!=this._numberFormat&&(this._numberFormat=t,this._numberFormatter=t?z.DecimalFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._boolFormatter=t?W.BooleanFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"textFormatter",{get:function(){return this._textFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"boolFormatter",{get:function(){return this._boolFormatter},enumerable:!0,configurable:!0}),f.prototype.getCell=function(t){var e=this._cell,i=t.firstColumn;return e.index.set(-1,i),e._childIndex=this._childIndex,e.calculate(),e},f.prototype.getCellStyle=function(t,e){var i,o=t.getSummary(),r=o?o.styleName:"",n=this._cellStyleCallback;return n&&(i=n(this._grid,t),e.assign(i)),o&&(n=o.styleCallback)&&(i=n(this._grid,t),e.assign(i)),!e.styleName&&r&&(e.styleName=r),e.styleName?e.styleName=this.getCellStyleName()+" "+e.styleName:e.styleName=this.getCellStyleName(),e},f.prototype.getCellFormatters=function(t,e){return e?(e.numberFormatter=e.numberFormatter||t.numberFormatter||this.numberFormatter,e.datetimeWriter=e.datetimeWriter||t.datetimeWriter||this.datetimeWriter,e.booleanFormatter=e.booleanFormatter||t.boolFormatter||this.boolFormatter,e.textFormatter=e.textFormatter||t.textFormatter||this.textFormatter,e.prefix=e.prefix||t.prefix,e.suffix=e.suffix||t.suffix):((e=this._formatter).numberFormatter=t.numberFormatter||this.numberFormatter,e.datetimeWriter=t.datetimeWriter||this.datetimeWriter,e.booleanFormatter=t.boolFormatter||this.boolFormatter,e.textFormatter=t.textFormatter||this.textFormatter,e.prefix=t.prefix,e.suffix=t.suffix),e},f.prototype._visibleChanged=function(){d.prototype._visibleChanged.call(this),this.$_owner&&this.$_owner.$_visibleChanged(this)},f);function f(t){var e=d.call(this,t)||this;return e._minHeight=23,e._height=0,e._resizable=!1,e._numberFormat=z.DecimalFormatter.DEFAULT_FORMAT,e._datetimeFormat=$.DateTimeWriter.DEFAULT_FORMAT,e._childIndex=0,e._displayIndex=0,e._runtime=new n,e._datetimeWriter=$.DateTimeWriter.Default,e._numberFormatter=z.DecimalFormatter.Default,e._formatter={numberFormatter:null,datetimeWriter:null,booleanFormatter:null,textFormatter:null,prefix:"",suffix:""},e._cell=e._createCell(),e.visible=!0,e}e.GridSummaryObject=_;var y,m=(i(g,y=_),Object.defineProperty(g.prototype,"footerIndex",{get:function(){return this._childIndex},enumerable:!0,configurable:!0}),g.prototype.getCellStyleName=function(){return g.CELL_CSS},g.prototype._createCell=function(){return new c},g.CELL_CSS="rg-footer-cell",g);function g(t){return y.call(this,t)||this}e.GridFooter=m;var v,b=(v=J.VisualObject,i(C,v),C.prototype._doDispose=function(){for(var t=0,e=this._items;t<e.length;t++)e[t].dispose();this._items=null,this._visibles=null,v.prototype._doDispose.call(this)},Object.defineProperty(C.prototype,"visible",{get:function(){return this._visible&&0<this._visibles.length},set:function(t){this._setVisible(t)},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"visibleCount",{get:function(){return this._visibles.length},enumerable:!0,configurable:!0}),C.prototype.get=function(t){return this._items[t]},C.prototype.getVisible=function(t){return this._visibles[t]},C.prototype.assignFrom=function(t){var e;if(v.prototype.assignFrom.call(this,t),t&&t.items?e=U.Utils.makeArray(t.items):U.Utils.isArray(t)&&(e=t),e){for(var i=e.length;this._items.length>i;)this._items.pop().dispose();for(var o=0,r=e.length;o<r;o++){var n=e[o];n&&(this._items[o]||(this._items[o]=this._createSummary()),this._items[o].assignFrom(n))}this.$_resetVisibles()}},C.prototype.$_visibleChanged=function(t){this.$_resetVisibles()},C.prototype.$_resetVisibles=function(){for(var t=this._visibles.length=0,e=0;t<this._items.length;t++){var i=this._items[t];i._childIndex=t,i.visible&&(this._visibles.push(i),i._displayIndex=e++)}this.owner&&this.owner.refreshView()},C);function C(t){var e=v.call(this,t)||this;return e._items=[],e._visibles=[],e._items.push(e._createSummary(t)),e._visibles.push(e._items[0]),e}e.SummaryCollection=b;var w,x=(i(I,w=b),I.prototype._createSummary=function(t){return new m(t||this._grid)},I);function I(){return null!==w&&w.apply(this,arguments)||this}e.GridFooterCollection=x});t(Nt);Nt.FooterExpressionRuntime,Nt.SummaryCell,Nt.FooterCell,Nt.GridSummaryObject,Nt.GridFooter,Nt.SummaryCollection,Nt.GridFooterCollection;var jt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=it.GridCell,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"value",{get:function(){return null},enumerable:!0,configurable:!0}),s);function s(){return r.call(this,"stateBarCell")||this}e.StateBarCell=n;var a,l=(a=Dt.SectionObject,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mark",{get:function(){return this._mark},set:function(t){t!=this._mark&&(this._mark=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stateTexts",{get:function(){return this._stateTexts},set:function(t){if(t!=this._stateTexts){for(var e in t)this._stateTexts.hasOwnProperty(e)&&(this._stateTexts[e]=t[e]);this._changed()}},enumerable:!0,configurable:!0}),u.prototype.stateText=function(t){return this.stateTexts[t]||""},Object.defineProperty(u.prototype,"staticOrder",{get:function(){return 1e3},enumerable:!0,configurable:!0}),u.prototype.getCell=function(t){var e=this._cell;return e.setIndex(t),e},u.prototype.getHeadStyleName=function(){return"rg-statebar-head"},u.prototype.getFootStyleName=function(){return"rg-statebar-foot"},u.prototype.getSumStyleName=function(){return"rg-statebar-sum"},u);function u(t){var e=a.call(this,t)||this;return e._width=20,e._mark=Pt.StateMark.DEFAULT,e._stateTexts={},e._stateTexts[w.RowState.CREATED]="C",e._stateTexts[w.RowState.UPDATED]="U",e._stateTexts[w.RowState.DELETED]="D",e._stateTexts[w.RowState.CREATE_AND_DELETED]="X",e._cell=new n,e}e.StateBar=l});t(jt);jt.StateBarCell,jt.StateBar;var Bt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=q.ExpressionRuntime,i(a,r),a.prototype._doDispose=function(){this._cell=null,this._grid=null,r.prototype._doDispose.call(this)},a.prototype.setCell=function(t){this._cell=t,this._grid=t.index&&t.index.grid},a.prototype.isIdentifier=function(t){return t=t.toLowerCase(),a.IDENTS.hasOwnProperty(t)?a.IDENTS[t]:r.prototype.isIdentifier.call(this,t)},a.prototype.evaluateIdentifier=function(t){switch(t){case a.ID_VALUE:case a.ID_CHECKED:return this._cell.item.checked;case a.ID_CHECKABLE:return this._cell.item.checkable;case a.ID_ROW:return this._cell.item.index;case a.ID_DATA_ROW:return this._cell.item.dataRow;case a.ID_STATE:switch(this._cell.item.rowState){case w.RowState.CREATED:return"c";case w.RowState.UPDATED:return"u";case w.RowState.DELETED:return"d";case w.RowState.CREATE_AND_DELETED:return"x"}return}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},a.prototype.evaluateIndexerI=function(t,e){if(this._cell){var i=this._cell.item,o=(i&&i.dataSource).fieldCount;if(t!=a.ID_VALUE&&t!=a.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);if(e<0||o<=e)throw new q.ExpressionEvaluationError("Data field index out of bounds:"+e);return i.getData(e)}},a.prototype.evaluateIndexerS=function(t,e,i){if(t!=a.ID_VALUE&&t!=a.ID_VALUES)throw new q.ExpressionEvaluationError("Invalid identifier indexer: "+t);var o=this._cell.item,r=o&&o.dataSource,n=r.fieldCount;if(r){var s=i?r.getFieldIndexC(e):r.getFieldIndex(e);if(s<0||n<=s)throw new q.ExpressionEvaluationError("Data field is not exists:"+e);return o.getData(s)}},a.IDENTS={value:a.ID_VALUE=0,values:a.ID_VALUES=1,checked:a.ID_CHECKED=2,checkable:a.ID_CHECKABLE=3,row:a.ID_ROW=4,datarow:a.ID_DATA_ROW=5,state:a.ID_STATE=6},a);function a(){return r.call(this)||this}e.CheckBarExpressionRuntime=n;var s,l=(s=it.GridCell,i(u,s),u.prototype._doDispose=function(){s.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"getText",{get:function(){return String(this.index.dataRow)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this.item.checked},enumerable:!0,configurable:!0}),u);function u(){return s.call(this,"checkBarCell")||this}e.CheckBarCell=l;var h,c=(h=Dt.SectionObject,i(p,h),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"exclusive",{get:function(){return this._exclusive},set:function(t){t!=this._exclusive&&(this._exclusive=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showAll",{get:function(){return this._showAll},set:function(t){t!=this._showAll&&(this._showAll=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"showGroup",{get:function(){return this._showGroup},set:function(t){t!=this._showGroup&&(this._showGroup=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"visibleOnly",{get:function(){return this._visibleOnly},set:function(t){t!=this._visibleOnly&&(this._visibleOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"checkableOnly",{get:function(){return this._checkableOnly},set:function(t){t!=this._checkableOnly&&(this._checkableOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"checkableExpression",{get:function(){return this._checkableExpression},set:function(t){t!=this._checkableExpression&&(this._checkableExpression=t,this._grid.itemSource.checkableExpression=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"syncHeadCheck",{get:function(){return this._syncHeadCheck},set:function(t){t!=this._syncHeadCheck&&(this._syncHeadCheck=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"staticOrder",{get:function(){return 2e3},enumerable:!0,configurable:!0}),p.prototype.getCell=function(t){var e=this._cell;return e.setIndex(t),e._exclusive=this._exclusive,e},p.prototype.getHeadStyleName=function(){return"rg-checkbar-head"},p.prototype.getFootStyleName=function(){return"rg-checkbar-foot"},p.prototype.getSumStyleName=function(){return"rg-checkbar-sum"},p);function p(t){var e=h.call(this,t)||this;return e._width=20,e._exclusive=!1,e._showAll=!0,e._showGroup=!0,e._visibleOnly=!1,e._checkableOnly=!0,e._syncHeadCheck=!1,e._cell=new l,e._runtime=new n,e._allChecked=!1,e}e.CheckBar=c});t(Bt);Bt.CheckBarExpressionRuntime,Bt.CheckBarCell,Bt.CheckBar;var $t=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=J.VisualObject,i(s,r),s.prototype._doDispose=function(){this._dataCell=null,this._literalCell=null,this._seriesCell=null,this._mergedCell=null,this._rowRuntime=null,this._cellRuntime=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"rowRuntime",{get:function(){return this._rowRuntime},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellRunTime",{get:function(){return this._cellRuntime},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellStyleCallback",{get:function(){return this._cellStyleCallback},set:function(t){t!==this._cellStyleCallback&&(this._cellStyleCallback=t,this.refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowStyleCallback",{get:function(){return this._rowStyleCallback},set:function(t){t!==this._rowStyleCallback&&(this._rowStyleCallback=t,this.refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellButtonWidth",{get:function(){return this._cellButtonWidth},set:function(t){t!=this._cellButtonWidth&&(this._cellButtonWidth=t,this.refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editButtonWidth",{get:function(){return this._editButtonWidth},set:function(t){t!=this._editButtonWidth&&(this._editButtonWidth=t,this.refreshOwner())},enumerable:!0,configurable:!0}),s.prototype.getCell=function(t,e){var i,o=t.column;return t.dataColumn,t.colFixed,(i=e?this._mergedCell:o instanceof ut.DataColumn?this._dataCell:o instanceof ut.SeriesColumn?this._seriesCell:o instanceof it.LiteralCell?this._literalCell:this._dataCell).setIndex(t),i},s.prototype.getCellSimple=function(t,e){var i=t.column,o=e?this._mergedCell:i instanceof ut.SeriesColumn?this._seriesCell:i instanceof it.LiteralCell?this._literalCell:this._dataCell;return o.setIndex(t),o},s.prototype.getCellStyle=function(t,e){var i,o=t.valueColumn,r=o&&o.styleName,n=this._cellStyleCallback;return n&&(i=n(this._grid,t),e.assign(i)),o&&(i=o.getCellStyle(t),e.assign(i)),!e.styleName&&r&&(e.styleName=r),e.styleName?e.styleName="rg-data-cell "+e.styleName:e.styleName="rg-data-cell",e},s.prototype.getCellFormatters=function(t,e,i){return e?(e.numberFormatter=e.numberFormatter||t.numberFormatter||i.numberFormatter,e.datetimeWriter=e.datetimeWriter||t.datetimeWriter||i.datetimeWriter,e.booleanFormatter=e.booleanFormatter||t.boolFormatter||i.boolFormatter,e.textFormatter=e.textFormatter||t.textFormatter||i.textFormatter,e.prefix=e.prefix||t.prefix,e.suffix=e.suffix||t.suffix):((e=this._formatter).numberFormatter=t.numberFormatter||i.numberFormatter,e.datetimeWriter=t.datetimeWriter||i.datetimeWriter,e.booleanFormatter=t.boolFormatter||i.boolFormatter,e.textFormatter=t.textFormatter||i.textFormatter,e.prefix=t.prefix,e.suffix=t.suffix),e},s.prototype.getRowStyle=function(t,e){var i=this._rowStyleCallback;if(i){var o=i(this._grid,t,e);if(o)return o}return e?s.FIXED_ROW_STYLE:s.ROW_STYLE},s.prototype._prepareUpdate=function(){var t=this._grid=this.owner;this._ds=t.dataSource,this._rowRuntime.setDataSource(this._ds),this._cellRuntime.setDataSource(this._ds),this._showChangeMarker=t.displayOptions.showChangeMarker},s.ROW_STYLE="rg-data-row",s.FIXED_ROW_STYLE="rg-fixed-row",s);function s(t){var e=r.call(this,t)||this;return e._cellButtonWidth=16,e._editButtonWidth=16,e._showChangeMarker=!1,e._formatter={numberFormatter:null,datetimeWriter:null,booleanFormatter:null,textFormatter:null,prefix:"",suffix:""},e._dataCell=new it.DataCell,e._literalCell=new it.LiteralCell,e._seriesCell=new it.SeriesCell,e._mergedCell=new it.MergedDataCell,e._rowRuntime=new O.DataRowExpressionRuntime,e._cellRuntime=new O.DataCellExpressionRuntime,e}e.GridBody=n});t($t);$t.GridBody;var Ht=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){return this._grid=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),s.prototype._changed=function(){this._grid&&this._grid.optionsChanged(this)},s.prototype._invalidateOwner=function(){this._grid&&this._grid.invalidate()},s.prototype._layoutOwner=function(){this._grid&&this._grid.invalidateLayout()},s.prototype._refreshOwner=function(){this._grid&&this._grid.refreshView()},s.prototype._invalidateEditor=function(){},s);function s(t){var e=r.call(this)||this;return e._grid=t,e}e.GridBaseOptions=n});t(Ht);Ht.GridBaseOptions;var Gt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"colCount",{get:function(){return this._colCount},set:function(t){(t=Math.max(0,t))!=this._colCount&&(this._colCount=t,this.grid&&this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightCount",{get:function(){return this._rightCount},set:function(t){(t=Math.max(0,t))!=this._rightCount&&(this._rightCount=t,this.grid&&this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowCount",{get:function(){return this._rowCount},set:function(t){(t=Math.max(0,t))!=this._rowCount&&(this._rowCount=t,this.$_resetItemSource())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightFixed",{get:function(){return this._rightFixed},set:function(t){t!=this._rightFixed&&(this._rightFixed=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"exceptFromFiltering",{get:function(){return this._exceptFromFiltering},set:function(t){t!=this._exceptFromFiltering&&(this._exceptFromFiltering=t,this.$_resetItemSource())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"exceptFromSorting",{get:function(){return this._exceptFromSorting},set:function(t){t!=this._exceptFromSorting&&(this._exceptFromSorting=t,this.$_resetItemSource())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editable",{get:function(){return this._editable},set:function(t){t!=this._editable&&(this._editable=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowEditable",{get:function(){return this._rowEditable},set:function(t){t!=this._rowEditable&&(this._rowEditable=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"resizable",{get:function(){return this._resizable},set:function(t){t!=this._resizable&&(this._resizable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowResizable",{get:function(){return this._rowResizable},set:function(t){t!=this._rowResizable&&(this._resizable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"movable",{get:function(){return this._movable},set:function(t){t!=this._movable&&(this._movable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ignoreColumnStyles",{get:function(){return this._ignoreColumnStyles},set:function(t){t!=this._ignoreColumnStyles&&(this._ignoreColumnStyles=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ignoreDynamicStyles",{get:function(){return this._ignoreDynamicStyles},set:function(t){t!=this._ignoreDynamicStyles&&(this._ignoreDynamicStyles=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"colBarWidth",{get:function(){return this._colBarWidth},set:function(t){(t=Math.max(0,t))!=this._colBarWidth&&(this._colBarWidth=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightBarWidth",{get:function(){return this._rightBarWidth},set:function(t){(t=Math.max(0,t))!=this._rightBarWidth&&(this._rightBarWidth=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowBarHeight",{get:function(){return this._rowBarHeight},set:function(t){(t=Math.max(0,t))!=this._rowBarHeight&&(this._rowBarHeight=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowBarStyle",{get:function(){return this._rowBarStyle},set:function(t){t!=this._rowBarStyle&&(this._rowBarStyle=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowBarCellStyle",{get:function(){return this._rowBarCellStyle},set:function(t){t!=this._rowBarCellStyle&&(this._rowBarCellStyle=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnBarStyle",{get:function(){return this._columnBarStyle},set:function(t){t!=this._columnBarStyle&&(this._columnBarStyle=t,this._refreshOwner())},enumerable:!0,configurable:!0}),s.prototype.$_resetItemSource=function(){var t,e=this.grid;e&&(t=e.itemSource)&&t.setFixed(this._rowCount,!this._exceptFromSorting,!this._exceptFromFiltering)},s.ROW_BAR_STYLE="rg-fixed-row-bar",s.ROW_BAR_CELL_STYLE="rg-fixed-row-bar-cell",s.COLUMN_BAR_STYLE="rg-fixed-column-bar",s);function s(t){var e=r.call(this,t)||this;return e._colCount=0,e._rightCount=0,e._rowCount=0,e._rightFixed=!0,e._exceptFromFiltering=!0,e._exceptFromSorting=!0,e._editable=!0,e._rowEditable=!0,e._resizable=!1,e._rowResizable=!1,e._movable=!1,e._colBarWidth=3,e._rightBarWidth=3,e._rowBarHeight=3,e._ignoreColumnStyles=!1,e._ignoreDynamicStyles=!1,e._rowBarStyle=s.ROW_BAR_STYLE,e._rowBarCellStyle=s.ROW_BAR_CELL_STYLE,e._columnBarStyle=s.COLUMN_BAR_STYLE,e}e.FixedOptions=n});t(Gt);Gt.FixedOptions;var Ut=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"refreshMode",{get:function(){return this._refreshMode},set:function(t){t!=this._refreshMode&&(this._refreshMode=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnResizable",{get:function(){return this._columnResizable},set:function(t){t!=this._columnResizable&&(this._columnResizable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnMovable",{get:function(){return this._columnMovable},set:function(t){t!=this._columnMovable&&(this._columnMovable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"parentChangable",{get:function(){return this._parentChangable},set:function(t){t!=this._parentChangable&&(this._parentChangable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minColumnWidth",{get:function(){return this._minColumnWidth},set:function(t){(t=Math.max(0,t))!=this._minColumnWidth&&(this._minColumnWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"defaultColumnWidth",{get:function(){return this._defaultColumnWidth},set:function(t){t!=this._defaultColumnWidth&&(this._defaultColumnWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fitStyle",{get:function(){return this._fitStyle},set:function(t){t!=this._fitStyle&&(this._fitStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowResizable",{get:function(){return this._rowResizable},set:function(t){t!=this._rowResizable&&(this._rowResizable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"eachRowResizable",{get:function(){return this._eachRowResizable},set:function(t){t!=this._eachRowResizable&&(this._eachRowResizable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(t){t!=this._rowHeight&&(this._rowHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minRowHeight",{get:function(){return this._minRowHeight},set:function(t){(t=Math.max(s.MIN_ROW_HEIGHT,t))!=this._minRowHeight&&(this._minRowHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxRowHeight",{get:function(){return this._maxRowHeight},set:function(t){(t=Math.max(0,t))!=this._maxRowHeight&&(this._maxRowHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(t){(t=Math.max(0,t))!=this._minCellWidth&&(this._minCellWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hscrollBar",{get:function(){return this._hscrollBar},set:function(t){t!=this._hscrollBar&&(this._hscrollBar=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"vscrollBar",{get:function(){return this._vscrollBar},set:function(t){t!=this._vscrollBar&&(this._vscrollBar=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"liveScroll",{get:function(){return this._liveScroll},set:function(t){t!=this._liveScroll&&(this._liveScroll=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"horizLiveScroll",{get:function(){return this._horizLiveScroll},set:function(t){t!=this._horizLiveScroll&&(this._horizLiveScroll=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scrollDuration",{get:function(){return this._scrollDuration},set:function(t){t!=this._scrollDuration&&(this._scrollDuration=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hscrollDuration",{get:function(){return this._hscrollDuration},set:function(t){t!=this._hscrollDuration&&(this._hscrollDuration=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hintDelay",{get:function(){return this._hintDelay},set:function(t){(t=Math.max(t,0))!=this._hintDelay&&(this._hintDelay=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"emptyShowTooltip",{get:function(){return this._emptyShowTooltip},set:function(t){t!=this._emptyShowTooltip&&(this._emptyShowTooltip=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowChangeDelay",{get:function(){return this._rowChangeDelay},set:function(t){t!=this._rowChangeDelay&&(this._rowChangeDelay=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"horzScrollStep",{get:function(){return this._horzScrollStep},set:function(t){t!=this._horzScrollStep&&(this._horzScrollStep=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"emptyMessage",{get:function(){return this._emptyMessage},set:function(t){t!=this._emptyMessage&&(this._emptyMessage=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showEmptyMessage",{get:function(){return this._showEmptyMessage},set:function(t){t!=this._showEmptyMessage&&(this._showEmptyMessage=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"heightMeasurer",{get:function(){return this._heightMeasurer},set:function(t){t!=this._heightMeasurer&&(this._heightMeasurer=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fitWhenResized",{get:function(){return this._fitWhenResized},set:function(t){t!=this._fitWhenResized&&(this._fitWhenResized=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"focusVisible",{get:function(){return this._focusVisible},set:function(t){t!=this._focusVisible&&(this._focusVisible=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowFocusType",{get:function(){return this._rowFocusType},set:function(t){t!=this._rowFocusType&&(this._rowFocusType=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wheelEnabled",{get:function(){return this._wheelEnabled},set:function(t){t!=this._wheelEnabled&&(this._wheelEnabled=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wheelScrollLines",{get:function(){return this._wheelScrollLines},set:function(t){t!=this._wheelScrollLines&&(this._wheelScrollLines=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wheelScrollHorz",{get:function(){return this._wheelScrollHorz},set:function(t){t!=this._wheelScrollHorz&&(this._wheelScrollHorz=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wheelAccelDelay",{get:function(){return this._wheelAccelDelay},set:function(t){t!=this._wheelAccelDelay&&(this._wheelAccelDelay=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wheelAccelScroll",{get:function(){return this._wheelAccelScroll},set:function(t){t!=this._wheelAccelScroll&&(this._wheelAccelScroll=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"wheelEventPropagate",{get:function(){return this._wheelEventPropagate},set:function(t){t!=this._wheelEventPropagate&&(this._wheelEventPropagate=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightClickable",{get:function(){return this._rightClickable},set:function(t){t!=this._rightClickable&&(this._rightClickable=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editItemMerging",{get:function(){return this._editItemMerging},set:function(t){t!=this._editItemMerging&&(this._editItemMerging=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showInnerFocus",{get:function(){return this._showInnerFocus},set:function(t){t!=this._showInnerFocus&&(this._showInnerFocus=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"toastZIndex",{get:function(){return this._toastZIndex},set:function(t){t!=this._toastZIndex&&(this._toastZIndex=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"popupDropdownCount",{get:function(){return this._popupDropdownCount},set:function(t){t!=this._popupDropdownCount&&(this._popupDropdownCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"drawBorderTop",{get:function(){return this._drawBorderTop},set:function(t){t!=this._drawBorderTop&&(this._drawBorderTop=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"drawBorderBottom",{get:function(){return this._drawBorderBottom},set:function(t){t!=this._drawBorderBottom&&(this._drawBorderBottom=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"drawBorderLeft",{get:function(){return this._drawBorderLeft},set:function(t){t!=this._drawBorderLeft&&(this._drawBorderLeft=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"drawBorderRight",{get:function(){return this._drawBorderRight},set:function(t){t!=this._drawBorderRight&&(this._drawBorderRight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"drawLastColumnRight",{get:function(){return this._drawLastColumnRight},set:function(t){t!=this._drawLastColumnRight&&(this._drawLastColumnRight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cursorCallback",{get:function(){return this._cursorCallback},set:function(t){this._cursorCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(t){t!=this._selectionMode&&(this._selectionMode=t,this.grid.clearSelection())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectionStyle",{get:function(){return this._selectionStyle},set:function(t){if(t!=this._selectionStyle){var e=this.grid.selections;0<e.count&&(e.getItem(0).getBounds(),e.clear()),this._selectionStyle=t,this._refreshOwner()}},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selectionDisplay",{get:function(){return this._selectionDisplay},set:function(t){t!=this._selectionDisplay&&(this._selectionDisplay=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowHoverType",{get:function(){return this._rowHoverType},set:function(t){t!=this._rowHoverType&&(this._rowHoverType=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowBlockType",{get:function(){return this._rowBlockType},set:function(t){t!=this._rowBlockType&&(this._rowBlockType=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowBlockCallback",{get:function(){return this._rowBlockCallback},set:function(t){t!==this._rowBlockCallback&&(this._rowBlockCallback=t,this._rowBlockType!=H.RowMaskType.NONE&&this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showEmptyTooltip",{get:function(){return this._showEmptyTooltip},set:function(t){this._showEmptyTooltip=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showChangeMarker",{get:function(){return this._showChangeMarker},set:function(t){t!=this._showChangeMarker&&(this._showChangeMarker=t,this._refreshOwner())},enumerable:!0,configurable:!0}),s.MIN_ROW_HEIGHT=20,s);function s(t){var e=r.call(this,t)||this;return e._refreshMode=H.RefreshMode.ALL,e._columnResizable=!0,e._columnMovable=!0,e._parentChangable=!1,e._minColumnWidth=2,e._defaultColumnWidth=120,e._fitStyle=H.GridFitStyle.NONE,e._rowResizable=!1,e._eachRowResizable=!1,e._rowHeight=0,e._minRowHeight=23,e._maxRowHeight=0,e._minCellWidth=0,e._hscrollBar=!0,e._vscrollBar=!0,e._liveScroll=!0,e._horizLiveScroll=!0,e._scrollDuration=0,e._hscrollDuration=0,e._hintDelay=0,e._emptyShowTooltip=!1,e._rowChangeDelay=0,e._horzScrollStep=8,e._emptyMessage="이 곳에 표시할 메시지를 DisplayOptions.emptyMessage 속성으로 설정합니다.",e._showEmptyMessage=!0,e._heightMeasurer=null,e._fitWhenResized=!0,e._focusVisible=!0,e._rowFocusType=H.RowMaskType.NONE,e._wheelEnabled=!0,e._wheelScrollLines=3,e._wheelScrollHorz=16,e._wheelAccelDelay=0,e._wheelAccelScroll=null,e._wheelEventPropagate=!0,e._rightClickable=!0,e._editItemMerging=!1,e._showInnerFocus=!0,e._toastZIndex=3e3,e._popupDropdownCount=0,e._drawBorderTop=!0,e._drawBorderBottom=!0,e._drawBorderLeft=!0,e._drawBorderRight=!0,e._drawLastColumnRight=!0,e._cursorCallback=null,e._selectionMode=Rt.SelectionMode.SINGLE,e._selectionStyle=Rt.SelectionStyle.BLOCK,e._selectionDisplay=Rt.SelectionDisplay.CELL,e._rowHoverType=H.RowMaskType.NONE,e._rowBlockType=H.RowMaskType.NONE,e._showEmptyTooltip=!1,e._showChangeMarker=!0,e}e.DisplayOptions=n});t(Ut);Ut.DisplayOptions;var Wt=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=(o.empty=function(){return new o},o.create=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),new o(t,e)},Object.defineProperty(o.prototype,"isEmpty",{get:function(){return 0===this.width||0===this.height},enumerable:!0,configurable:!0}),o.prototype.clone=function(){return new o(this.width,this.height)},o.prototype.equals=function(t){return t===this||t&&this.width===t.width&&this.height===t.height},o.prototype.setEmpty=function(){return this.width=this.height=0,this},o.prototype.set=function(t,e){return this.width=t,this.height=e,this},o.prototype.round=function(){var t=this.clone();return t.width>>>=0,t.height>>>=0,t},o.prototype.toString=function(){return"{width: "+this.width+", height: "+this.height+"}"},o.EMPTY=new o,o);function o(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.width=t,this.height=e}e.Size=i});t(Wt);Wt.Size;var zt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ot.VisualElement,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){for(var t=this.parent;t;){if(t instanceof $e.GridBase)return t;t=t.parent}return null},enumerable:!0,configurable:!0}),s.prototype.measure=function(t,e,i){return this._setClassName(this._dom),this._doMeasure(t,e,i)},s.prototype.layoutContent=function(t){this._doPrepareContent(t),this._doLayoutContent(t)},s.prototype._getCssSelector=function(){return""},s.prototype._getCssDisplay=function(){return"table"},s.prototype._doDraw=function(t){this._doRender(t)},s.prototype._doMeasure=function(t,e,i){return new Wt.Size(e,i)},s.prototype._doPrepareContent=function(t){},s.prototype._doLayoutContent=function(t){},s.prototype._doRender=function(t){},s);function s(t){return void 0===t&&(t=null),r.call(this,t)||this}e.GridElement=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){this._model=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),u.prototype.setCursor=function(t){t!==this._cursor&&(this._cursor=t,this._dom.style.cursor=t)},u);function u(t,e){void 0===e&&(e=null);var i=a.call(this,e)||this;return i._cursor="default",i._model=t,i}e.VisualObjectElement=l;var h,c=(i(p,h=n),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},p.prototype._createDom=function(){var t=h.prototype._createDom.call(this),e=this._span=document.createElement("span");return t.appendChild(e),t},p.prototype._getCssSelector=function(){return"rg-empty-grid"},p.prototype._doDraw=function(t){var e=this.grid.displayOptions.emptyMessage;this._span.textContent=e},p);function p(){return h.call(this,"emptyGridView")||this}e.EmptyGridElement=c});t(zt);zt.GridElement,zt.VisualObjectElement,zt.EmptyGridElement;var Kt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=zt.VisualObjectElement,i(s,r),s.prototype._doDispose=function(){this._tbody=null,this._thead=null,this._table=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"tableRowCount",{get:function(){return this._tbody.childElementCount},enumerable:!0,configurable:!0}),s.prototype.getCellPoint=function(t,e){return(e=e||new St.Point).x+=t.offsetLeft,e.y+=t.offsetTop,e},s.prototype._createDom=function(){var t=document.createElement("div"),e=this._table=document.createElement("table"),i=e.style;return i.setProperty("table-layout","fixed","important"),i.setProperty("width","0px","important"),e.className="rg-table",t.appendChild(e),this._thead=document.createElement("thead"),e.appendChild(this._thead),this._tbody=document.createElement("tbody"),e.appendChild(this._tbody),t},s.prototype._clearSpans=function(){},s.prototype._addSpan=function(t,e,i,o){},s.prototype._addColSpan=function(t,e,i){},s.prototype._addRowSpan=function(t,e,i){},s.prototype._initDom=function(t){r.prototype._initDom.call(this,t),t.style.overflow="hidden"},s.prototype._doPrepareContent=function(t){this._doPrepareTableExtents(t),this._doPrepareTable(t)},s.prototype._doDraw=function(t){this._doRender(t),this._doRenderTable(this._tbody)},s.prototype._doPrepareTableExtents=function(t){},s.prototype._doPrepareTable=function(t){this._doPrepareTableHead(t,this._thead),this._doPrepareTableRows(t,this._tbody)},s.prototype._doPrepareTableHead=function(t,e){var i;0==e.childElementCount?(i=document.createElement("tr"),e.appendChild(i),i.setAttribute("aria-hidden","true"),(a=i.style).setProperty("border","0px none","important")):i=e.lastElementChild;for(var o=this._getCellCount(t);i.childElementCount<o;)(s=document.createElement("th")).scope="col",(a=s.style).setProperty("visibility","hidden","important"),a.setProperty("margin","0px","important"),a.setProperty("padding","0px","important"),a.setProperty("font-size","0px","important"),a.setProperty("line-height","0px","important"),a.height="0px",i.appendChild(s);for(;i.childElementCount>o;)i.removeChild(i.lastChild);for(var r=i.children,n=0;n<r.length;n++){var s,a;(a=(s=r[n]).style).width=this._getCellWidth(t,n)+"px"}},s.prototype._prepareTableRowCells=function(t,e){for(var i=this._getCellCount(t),o=0;e.childElementCount<i;){var r=document.createElement("td");e.appendChild(r);var n=this._prepareCellContent(r,o++);r.appendChild(n)}for(;e.childElementCount>i;)e.removeChild(e.lastChild);return e.childElementCount},s.prototype._isFixedHeight=function(t){return!0},s.prototype._getMinRowHeight=function(t){return t.minRowHeight},s.prototype._doPrepareTableRow=function(t,e,i,o){this._prepareTableRowCells(t,o);var r=this._isFixedHeight(t),n=o.children,s=r?this._getTableRowHeight(t,i):this._getMinRowHeight(t),a=s-1+"px",l=o.style;o.$_view=this.$_hash,o.$_type=this instanceof d?null:t.getItem(e).isData?"d":"g",l.height=s+"px",l.display="";for(var u=0,h=n.length;u<h;u++){var c=n[u],p=c.firstElementChild;p||(p=this._prepareCellContent(c,u),c.appendChild(p)),p.style.maxHeight=r?a:"",p.style.overflow="hidden"}},s.prototype._doRenderTable=function(t){for(var e=t.children,i=0;i<e.length;i++){var o=e[i];this._renderRow(o,i)}},s.prototype._renderRow=function(t,e){this._doDrawRow(e,t);for(var i=t.children,o=0;o<i.length;o++){var r=i[o];this._renderCell(r.lastElementChild,e,o)}},s.prototype._renderCell=function(t,e,i){this._doDrawCell(e,i,t)},s.prototype._prepareCellContent=function(t,e){return document.createElement("div")},s.prototype._doDrawRow=function(t,e){},s.prototype._doDrawCell=function(t,e,i){},s.prototype._getTableRow=function(t,e){return this._tbody.children[e]},s.prototype._getTableCell=function(t,e){return this._tbody.children[t].children[e]},s.prototype.getCellContent=function(t,e){return this._tbody.children[t].children[e].firstElementChild},s.prototype.getContentAt=function(t){var e,i=t.grid.layoutManager,o=i.fixedItemCount,r=t.column?t.column.index:0;return e=0<o?t.itemIndex<o?t.itemIndex:t.itemIndex-i.topIndex+1:t.itemIndex-i.topIndex,this.getCellContent(e,r)},s);function s(t,e){return void 0===e&&(e=null),r.call(this,t,e)||this}e.TableBaseElement=n;var a,d=(i(l,a=n),l.prototype._doPrepareTableRows=function(t,e){for(var i=this._getTableRowCount(t);e.childElementCount<i;){var o=document.createElement("tr");e.appendChild(o)}for(;e.childElementCount>i;)e.removeChild(e.lastChild);for(var r=e.children,n=0;n<i;n++)(o=r[n]).style.height=this._getTableRowHeight(t,n)+"px",this._doPrepareTableRow(t,n,n,o)},l.prototype._getTableRowCount=function(t){return 1},l);function l(){return null!==a&&a.apply(this,arguments)||this}e.SimpleTableElement=d;var u,h=(i(c,u=n),c.prototype._getTrs=function(t){return 1},c.prototype._getTableRowCount=function(t){var e=t.fixedItemCount,i=e+t.itemCount;return i*=this._trs,i+=0<e?1:0},c.prototype.$_getTableIndex=function(t,e){var i=t.fixedItemCount,o=e*this._trs;return 0<i&&i<=e?1+o:o},c.prototype._getTableRow=function(t,e){var i=this.$_getTableIndex(t,e);return this._tbody.children[i]},c.prototype.$_getTableRowAt=function(t,e){var i=this.$_getTableIndex(t,e);return this._tbody.children[i]},c.prototype._getTableRowInternal=function(t,e,i){var o=this.$_getTableIndex(t,e);return this._tbody.children[o+i]},c.prototype._doPrepareTableRows=function(t,e){for(var i=t.$_getItems(),o=this._trs=this._getTrs(t),r=t.fixedItemCount,n=t.itemCount+r,s=this._trCount=this._getTableRowCount(t);e.childElementCount<s;){var a=document.createElement("tr");e.appendChild(a)}for(;e.childElementCount>s;)e.removeChild(e.lastChild);var l=e.children,u=0,h=0;if(0<r){for(u=0;u<r;u++)for(var c=0;c<o;c++,h++)this._doPrepareTableRow(t,u,h,l[h]);this.$_prepareFixedBar(t,l[h++])}for(;u<n;u++){var p=i[u].isData?o:1;for(c=0;c<p;c++,h++)this._doPrepareTableRow(t,u,h,l[h])}},c.prototype.$_prepareFixedBar=function(t,e){var i=this._prepareTableRowCells(t,e),o=t.fixedBarHeight,r=e.style;0<o?r.height=t.fixedBarHeight+"px":r.display="none";for(var n=e.children,s=0;s<i;s++){var a=n[s].firstElementChild;a&&(a.rowSpan=1,a.style.maxHeight="0px",a.style.overflow="hidden")}return o},c.prototype._getTableRowHeight=function(t,e){var i=t.fixedItemCount;return 0<i&&i<e?t.getTableItemHeight(e-i):t.getTableItemHeight(e)},c.prototype._getCellContent=function(t){return t.firstElementChild},c.prototype._updateCellContent=function(t,e,i){this._doUpdateCellContent(t,e,this._getCellContent(i))},c.prototype._doUpdateCellContent=function(t,e,i){},c);function c(){var t=null!==u&&u.apply(this,arguments)||this;return t._trCount=0,t._trs=1,t}e.DataTableElement=h});t(Kt);Kt.TableBaseElement,Kt.SimpleTableElement,Kt.DataTableElement;var Yt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r="rowspan",n="colspan",v=(s.prototype.dispose=function(){this.cell=this.check=this.sort=this.filter=null,this.layout=null},s.prototype.span=function(){this.spanned=!0,this.clear(!1)},s.prototype.clear=function(t){1<this.colSpan&&(this.colSpan=1,this.cell.removeAttribute(n)),1<this.rowSpan&&(this.rowSpan=1,this.cell.removeAttribute(r)),this.visible!==t&&(this.visible=t,this.cell.style.display=t?"":"none");var e=this.cell.firstElementChild,i=e.firstElementChild,o=e.style;return 0<this.checkWidth&&(e.removeChild(this.check),this.check=null,this.checkWidth=0),0<this.filterWidth&&(e.removeChild(this.filter),this.filter=null,this.filterWidth=0),0<this.sortWidth&&(e.removeChild(this.sort),this.sort=null,this.sortWidth=0),0<this.popupWidth&&(e.removeChild(this.popup),this.popup=null,this.popupWidth=0),this.className&&(this.cell.className=this.className=""),this.rendererClass&&(e.className=this.rendererClass=""),0!=this.marginLeft&&(o.marginLeft="",this.marginLeft=0),0!=this.marginRight&&(o.marginRight="",this.marginRight=0),0!=this.marginTop&&(o.marginTop="",this.marginTop=0),0!=this.marginBottom&&(o.marginBottom="",this.marginBottom=0),this.text&&(i.textContent=this.text=""),this.html&&(i.innerHTML=this.html=""),this},s.prototype.setColSpan=function(t){return this.colSpan!=t&&(1<(this.colSpan=t)?this.cell.colSpan=t:this.cell.removeAttribute(n)),this},s.prototype.setRowSpan=function(t){return this.rowSpan!=t&&(1<(this.rowSpan=t)?this.cell.rowSpan=t:this.cell.removeAttribute(r)),this},s.prototype.setVisible=function(t){return t!==this.visible&&(this.visible=t,this.cell.style.display=t?"":"none"),this},s.prototype.set=function(t,e,i){return this.colSpan!=t&&(1<(this.colSpan=t)?this.cell.colSpan=t:this.cell.removeAttribute(n)),this.rowSpan!=e&&(1<(this.rowSpan=e)?this.cell.rowSpan=e:this.cell.removeAttribute(r)),this.visible!==i&&(this.visible=i,this.cell.style.display=i?"":"none"),this},s.prototype.setText=function(t,e){e!=this.text&&(t.textContent=this.text=e)},s.prototype.setHtml=function(t,e){e!=this.html&&(t.innerHTML=this.html=e)},s.prototype.setClassName=function(t){return t!=this.className&&(this.cell.className=this.className=t,!0)},s.prototype.setRendererClassName=function(t,e){e!=this.rendererClass&&(t.className=this.rendererClass=e)},s.prototype.setDivMarigns=function(t,e,i,o,r){e!=this.marginLeft&&(t.marginLeft=e?e+"px":"",this.marginLeft=e),i!=this.marginRight&&(t.marginRight=i?i+"px":"",this.marginRight=i),o!=this.marginTop&&(t.marginTop=o?o+"px":"",this.marginTop=o),r!=this.marginBottom&&(t.marginBottom=r?r+"px":"",this.marginBottom=r)},s);function s(t){this.cell=null,this.check=null,this.sort=null,this.filter=null,this.popup=null,this.layout=null,this.visible=void 0,this.spanned=!1,this.width=0,this.height=0,this.rowSpan=1,this.colSpan=1,this.className="",this.rendererClass="",this.text=void 0,this.html=void 0,this.showTooltip=!0,this.tooltip="",this.sortWidth=0,this.filterWidth=0,this.checkWidth=0,this.popupWidth=0,this.marginLeft=0,this.marginRight=0,this.marginTop=0,this.marginBottom=0,this.cell=t}e.HeaderTableCell=v;var a,l=(a=Kt.SimpleTableElement,i(F,a),F.renderCell=function(t,e){e.textContent=t.text||""},F.prototype._doDispose=function(){for(var t=0;t<this._cells.length;t++)for(var e=this._cells[t],i=0;i<e.length;i++)e[i].dispose(),e[i]=null;this._cells=null,a.prototype._doDispose.call(this)},F.prototype.tableCellByCell=function(t){for(var e=0;e<this._cells.length;e++)for(var i=this._cells[e],o=0;o<i.length;o++){var r=i[o];if(r&&r.cell===t)return r}return null},F.prototype.layoutByCell=function(t){var e=this.tableCellByCell(t);return e&&e.layout},F.prototype.columnByCell=function(t){var e=this.layoutByCell(t);return e&&e._columnObj},F.prototype.refresh=function(t){for(var e=t.layoutManager,i=e.cellLayouts._headerCells,o=this._getFirstCell(e),r=this._getStartCell(e),n=this._getEndCell(e),s=0;s<i.length;s++)for(var a=i[s],l=this._getTableRow(e,s),u=r;u<=n;u++){var h=a[u];if(h instanceof A.CellLayoutColumnItem){var c=l.children[u-o];c.$_foc=t.isFocusedColumn(h.firstColumn),U.Utils.setClassName(c,this.$_getCellSelector(h,c))}}},F.prototype.getRowAt=function(t){for(var e=1;e<this._rowPoints.length-1;e++)if(t<this._rowPoints[e])return e-1;return this._rowPoints.length-2},F.prototype.getLayoutHeight=function(t,e){var i=t.hrow,o=e?t.hlen:t.hspan;return this._rowPoints[i+o]-this._rowPoints[i]},F.prototype.getLayoutPos=function(t){return this._rowPoints[t.hrow]},F.prototype._getCssSelector=function(){return"rg-header"},F.prototype._isFixedHeight=function(){return this._fixedHeight},F.prototype._getMinRowHeight=function(t){return this._minRowHeight},F.prototype._prepareCellContent=function(t,e){var i=document.createElement("div"),o=document.createElement("span");return i.appendChild(o),i},F.prototype._doMeasure=function(t,e,i){var o=this.model,r=t.layoutManager.headerRows,n=o.height;return this._minRowHeight=o.minRowHeight,this._fixedHeight=n<=0,this._fixedHeight&&(n=Math.max(this._minRowHeight,t.heightMeasurer.headerHeight)*r),n=Math.max(o.minHeight,n),Wt.Size.create(e,n)},F.prototype._doPrepareTableExtents=function(t){var e=this._rowPoints,i=this.height,o=Math.floor(i/t.headerRows);if(e.length=this._getTableRowCount(t)+1,(e[0]=0)<e.length){for(var r=1;r<e.length-1;r++)e[r]=e[r-1]+o;e[r]=i}},F.prototype._doLayoutContent=function(t){var e=t.grid,i=this.model,o=t.cellLayouts._headerCells,r=o.length,n=this._getFirstCell(t),s=this._getStartCell(t)-n,a=this._getEndCell(t)-n;this.$_refreshCells(t,o,this._tbody),this.$_refreshSpans(r,s,a);for(var l=0;l<r;l++)for(var u=this._cells[l],h=s;h<=a;h++){var c=u[h];if(c.visible){var p=c.layout,d=c.cell;if(c.setClassName(this.$_getCellSelector(p,d)),p.isNull)c.setText(d.firstElementChild.firstElementChild,p.header.text);else if(p instanceof A.CellLayoutGroupItem)c.setText(d.firstElementChild.firstElementChild,p.header.text);else{var _=i.getCell(p);this._updateCell(e,i,_,c)}}}},F.prototype._doRender=function(t){},F.prototype._getTableRowCount=function(t){return t.headerRows},F.prototype._getTableRowHeight=function(t,e){return this._rowPoints[e+1]-this._rowPoints[e]},F.prototype.$_getCellHeight=function(t){var e=t.row,i=this._rowPoints[e];return this._rowPoints[e+t.hspan]-i},F.prototype._getCellCount=function(t){return t.cellCount-t.fixedCellCount-t.rightCellCount},F.prototype._getCellWidth=function(t,e){return t.getCellWidth(e)},F.prototype._doDrawCell=function(t,e,i){},F.prototype.$_getCellSelector=function(t,e){return t instanceof A.CellLayoutGroupItem?"rg-header-group-cell":e.$_foc?"rg-header-cell rg-header-focus":"rg-header-cell"},F.prototype._getFirstCell=function(t){return t._firstCell},F.prototype._getLastCell=function(t){return t._lastCell},F.prototype._getStartCell=function(t){return t.getStartCell()},F.prototype._getEndCell=function(t){return t.getEndCell()},F.prototype.$_refreshCells=function(t,e,i){for(var o=U.Utils.getTimer(),r=this._cells,n=i.children,s=n.length,a=this._getFirstCell(t),l=this._getLastCell(t)-a+1,u=r.length;u<s;u++)r.push([]);for(var h=0;h<s;h++){for(var c=r[h],p=n[h].children,d=e[h],_=0;_<l;_++){var f=p[_],y=d[_+a],m=c[_];m?m.cell!==f||m.layout!=y&&(m.layout=y,m.clear(!0)):(m=c[_]=new v(p[_])).layout=y,m.height=this.$_getCellHeight(m.layout),m.width=this._getCellWidth(t,_),m.spanned=!1}for(_=l;_<c.length;_++)c[_].dispose();c.length=l}for(h=s;h<r.length;h++){var g=r[h];for(_=0;_<g.length;_++)g[_].dispose(),g[_]=null}r.length=s,o=U.Utils.getTimer()-o,console.log("$$$$ REFRESH_HEADER_CELLS: "+o)},F.prototype.$_refreshSpans=function(t,e,i){for(var o=0;o<t;o++)for(var r=this._cells[o],n=e;n<=i;n++){var s=r[n],a=s.layout,l=a.parent,u=l&&l.vertical;if(s.spanned);else if(a.isProxy)s.clear(!1);else{var h=0,c=a.getHeaderSpan()-1;if(0<c)for(var p=0,d=a.vindex+1;p++<c&&d<l.visibleCount;){var _=l.getVisible(d++);u?(h+=_._hspan,this._cells[o+p][n].span()):(h+=_._cspan,r[n+p].span())}(a instanceof A.CellLayoutGroupItem||a.isNull)&&s.clear(!0),u?s.set(a._cspan,a._hspan+h,!0):s.set(a._cspan+h,a._hspan,!0)}}},F.prototype._updateCell=function(t,e,i,o){var r=t.sortingOptions,n=t.filteringOptions,s=o.layout.firstColumn,a=i.checkLocation,l=a&&a!=H.ColumnHeaderItemLocation.NONE?e.checkWidth:0,u=0<l?e.checkWidth:0,h=s&&this.$_canSortHandleVisible(r,s),c=s&&s.sortDirection||H.SortDirection.NONE,p=h?e.sortWidth:0,d=s&&this.$_canFilterHandleVisible(n,s)?e.filterWidth:0,_=s&&this.$_canPopupHandleVisible(s)?e.popupWidth:0,f=o.cell.firstElementChild,y=f.firstElementChild,m=o.width,g=o.height,v=0,b=0,C=0,w=0;o.setRendererClassName(f,F.RENDERER_STYLE);var x=o.check;if(0<l){var I;x?I=x.style:(x=document.createElement("input"),(o.check=x).type="checkbox",x.className="rg-header-check",(I=x.style).position="absolute",I.display="inline-block"),o.checkWidth<=0&&(f.appendChild(x),o.checkWidth=l),x.checked=s.checked;var E=0,S=0;switch(a){case"left":case"leftEdge":v+=l,S=Math.floor((g-e.checkHeight)/2);break;case"right":case"rightEdge":b+=l,E=m-l,S=Math.floor((g-e.checkHeight)/2);break;case"top":case"topEdge":C+=u,E=Math.floor((m-p-d-e.checkWidth)/2);break;case"bottom":case"bottomEdge":w+=u,E=Math.floor((m-p-d-e.checkWidth)/2),S=g-e.checkHeight}I.left=E+"px",I.top=S+"px"}else 0<o.checkWidth&&(f.removeChild(x),o.checkWidth=0);var O,R=o.filter;0<d?(R?O=R.style:(R=document.createElement("span"),(O=(o.filter=R).style).position="absolute",O.display="inline-block"),o.filterWidth<=0&&(f.appendChild(R),o.filterWidth=d),R.className="rg-header-filtering",b+=d,O.left=m-b+"px",O.top=Math.floor((g-e.filterHeight)/2)+"px",O.width=d+"px",O.height=e.filterWidth+"px"):0<o.filterWidth&&(f.removeChild(R),o.filterWidth=0);var D=o.sort;if(h){var P;switch(D?P=D.style:(D=document.createElement("span"),(P=(o.sort=D).style).position="absolute",P.display="inline-block"),o.sortWidth<=0&&(f.appendChild(D),o.sortWidth=p),c){case H.SortDirection.DESCENDING:D.className="rg-header-sort-descending";break;case H.SortDirection.ASCENDING:D.className="rg-header-sort-ascending";break;default:D.className="rg-header-sort-none"}b+=p,P.left=m-b+"px",P.top="0px",P.width=p+"px",P.height="100%",r.showSortOrder&&0<=s.sortOrder?(P.backgroundPositionY="9px",D.textContent=(s.sortOrder+1).toString()):(P.backgroundPositionY="center",D.textContent="")}else 0<o.sortWidth&&(f.removeChild(D),o.sortWidth=0);var T,k=o.popup;0<_?(k?T=k.style:(k=document.createElement("span"),(T=(o.popup=k).style).position="absolute",T.display="inline-block"),o.popupWidth<=0&&(f.appendChild(k),o.popupWidth=_),k.className="rg-header-popup",b+=_,T.left=m-b+"px",T.top=Math.floor((g-e.popupHeight)/2)+"px",T.width=_+"px",T.height=e.popupWidth+"px"):0<o.popupWidth&&(f.removeChild(k),o.popupWidth=0);var M=f.style;o.showTooltip=i.showTooltip,o.tooltip=i.tooltip,o.setDivMarigns(M,v,b,C,w);var L=i.template;L?o.setHtml(y,L):o.setText(y,i.text||"")},F.prototype.$_canPopupHandleVisible=function(t){return!!t.header.popupMenuName},F.prototype.$_canFilterHandleVisible=function(t,e){var i=e.hasFilters;if(i)switch(t.handleVisibility){case H.HandleVisibility.HIDDEN:i=!1}return i},F.prototype.$_canSortHandleVisible=function(t,e){switch(t.handleVisibility){case H.HandleVisibility.VISIBLE:return 0<=e.sortOrder;case H.HandleVisibility.HOVERED:return this.hovered&&0<=e.sortOrder;case H.HandleVisibility.ALWAYS:return!0;case H.HandleVisibility.HIDDEN:return!1}return 0<=e.sortOrder},F.prototype.$_canCheckHandleVisible=function(t,e){return!1},F.prototype.$_checkHeight=function(){return this._table.offsetHeight!=this._rowPoints[this._rowPoints.length-1]},F.prototype.$_getHeights=function(t){var e=this._tbody.rows;if(0==t.length)for(var i=0,o=this._rowPoints.length-1;i<o;i++)t[i]=0;for(i=0;i<t.length;i++)t[i]=Math.max(t[i],e[i].offsetHeight)},F.prototype.$_adjustHeights=function(t){for(var e=this._tbody.rows,i=this._rowPoints,o=i[0]=0,r=i.length-1;o<r;o++)e[o].style.height=t[o]+"px",i[o+1]=i[o]+t[o];return i[i.length-1]},F.prototype.$_distributeHeights=function(t,e){for(var i=e.length,o=0,r=0;r<i;r++)o+=e[r];if(o<t){var n=this._tbody.rows,s=t-o,a=s;for(r=0;r<i-1;r++){var l=Math.floor(s*e[r]/o);e[r]+=l,n[r].style.height=e[r]+"px",a-=l}e[r]+=a,n[r].style.height=e[r]+"px"}},F.RENDERER_STYLE="rg-header-renderer",F);function F(t){var e=a.call(this,t,"headerView")||this;return e._rowPoints=[],e._cells=[],e}e.HeaderElement=l;var u,h=(i(c,u=l),c.prototype._getFirstCell=function(t){return this._getStartCell(t)},c.prototype._getLastCell=function(t){return this._getEndCell(t)},c.prototype._getStartCell=function(t){return 0},c.prototype._getEndCell=function(t){return t.fixedCellCount-1},c.prototype._getCellCount=function(t){return t.fixedCellCount},c.prototype._getCellWidth=function(t,e){return t.getFixedCellWidth(e)},c);function c(){return null!==u&&u.apply(this,arguments)||this}e.FixedHeaderElement=h;var p,d=(i(_,p=l),_.prototype._getFirstCell=function(t){return this._getStartCell(t)},_.prototype._getLastCell=function(t){return this._getEndCell(t)},_.prototype._getStartCell=function(t){return t.cellCount-t.rightCellCount},_.prototype._getEndCell=function(t){return t.cellCount-1},_.prototype._getCellCount=function(t){return t.cellCount-1},_.prototype._getCellWidth=function(t,e){return t.getRightCellWidth(e)},_);function _(){return null!==p&&p.apply(this,arguments)||this}e.RightHeaderElement=d});t(Yt);Yt.HeaderTableCell,Yt.HeaderElement,Yt.FixedHeaderElement,Yt.RightHeaderElement;var qt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Kt.DataTableElement,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype.getCellIndex=function(t){return t.parentElement.$_row},s.prototype._isFixedHeight=function(){return!0},s.prototype._prepareCellContent=function(t,e){return document.createElement("div")},s.prototype._doUpdateCellContent=function(t,e,i){i.textContent=e.text},s.prototype._doRender=function(t){},s.prototype._getCellCount=function(t){return 1},s.prototype._getCellWidth=function(t,e){return this.width},s.prototype._layoutFixedBar=function(t,e){var i=this._tbody.children[e];i.$_idx=e,i.$_row=-99,U.Utils.setClassName(i,t.rowBarStyle);var o=i.children[0];o.$_foc=!1,U.Utils.setClassName(o,t.rowBarCellStyle)},s);function s(t,e){return r.call(this,t,e)||this}e.SectionObjectElement=n});t(qt);qt.SectionObjectElement;var Xt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=qt.SectionObjectElement,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype.refresh=function(t){for(var e=0;e<this._count;e++){var i=this._getTableCell(e,0);i.$_foc=t.isFocusedRow(i.parentElement.$_row),U.Utils.setClassName(i,this.$_getCellSelector(i))}},s.prototype._getCssSelector=function(){return"rg-rowindicator"},s.prototype._doPrepareTableRows=function(t,e){r.prototype._doPrepareTableRows.call(this,t,e)},s.prototype._doMeasure=function(t,e,i){var o=this.model,r=o.width;return r=Math.max(0<o.minWidth?o.minWidth:r,Math.min(0<o.maxWidth?o.maxWidth:r)),new Wt.Size(r,i)},s.prototype._doLayoutContent=function(t){for(var e=t.grid,i=this.model,o=t.topIndex,r=t.itemCount,n=t.fixedItemCount,s=this._count=n+r,a=e.focusedRow,l=0;l<s;l++){var u=l<n?l:l+o,h=et.CellIndex.temp(e,u),c=i.getCell(h),p=this._getTableRow(t,l),d=p.children[0];p.$_row<0&&(p.className=""),p.$_row=u,d.$_foc=u==a,U.Utils.setClassName(d,this.$_getCellSelector(d)),this._updateCellContent(e,c,d)}0<n&&this._layoutFixedBar(e.fixedOptions,n)},s.prototype.$_getCellSelector=function(t){if(t.$_foc){var e=this.grid.getItem(t.parentElement.$_row).itemState;return Z.ItemState_isInserting(e)?"rg-rowindicator-cell rg-rowindicator-focus rg-rowindicator-inserting":e==Z.ItemState.UPDATING?"rg-rowindicator-cell rg-rowindicator-focus rg-rowindicator-editing":"rg-rowindicator-cell rg-rowindicator-focus"}return"rg-rowindicator-cell"},s);function s(t){var e=r.call(this,t,"rowIndicatorView")||this;return e._count=0,e}e.RowIndicatorElement=n});t(Xt);Xt.RowIndicatorElement;var Jt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=zt.GridElement,i(s,r),s.prototype._doDispose=function(){this._grid=null,this._index&&this._index.dispose(),this._index=null,this._cellDom&&this._cellDom.parentElement.removeChild(this._cellDom),this._cellDom=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"fixed",{get:function(){return this._fixed},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"index",{get:function(){return this._index},set:function(t){et.CellIndex.areEquals(this._index,t)||(this._index.assignFrom(t),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"item",{get:function(){return this._index.item},enumerable:!0,configurable:!0}),s.prototype.updateCell=function(t,e,i){i!=this._cellDom&&(i&&this._clearCellDom(i),this._clearCellCache(),this._cellDom=i),this._grid=t,this.index=e.index,this._doPrepareValue(t,e),this._doUpdateContent(t,e,this._cellDom)},s.prototype.removeCellDom=function(t){void 0===t&&(t=!1),t&&this._cellDom&&this._clearCellDom(this._cellDom),this._cellDom=null,this._clearCellCache()},s.prototype._createDom=function(){return null},s.prototype._clearCellDom=function(t){t.innerHTML=""},s.prototype._clearCellCache=function(){},Object.defineProperty(s.prototype,"valueColumn",{get:function(){return this._index.valueColumn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataColumn",{get:function(){return this._index.dataColumn},enumerable:!0,configurable:!0}),s.prototype._changed=function(){this.invalidate()},s.prototype._doPrepareValue=function(t,e){},s.prototype._doUpdateContent=function(t,e,i){},s.prototype._doLayoutContent=function(t){},s);function s(t){void 0===t&&(t=null);var e=r.call(this,t)||this;return e._fixed=!1,e._index=new et.CellIndex,e}e.CellElement=n;var a,l=(i(u,a=n),u.prototype._doPrepareValue=function(t,e){},u);function u(t){return void 0===t&&(t=null),a.call(this,t)||this}e.ValueCellElement=l});t(Jt);Jt.CellElement,Jt.ValueCellElement;var Zt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=P.TextCellRenderer,i(s,r),Object.defineProperty(s.prototype,"valueSeparator",{get:function(){return this._valueSeparator},set:function(t){t!=this._valueSeparator&&(this._valueSeparator=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return s.SERIES_TYPE},enumerable:!0,configurable:!0}),s.prototype._makeText=function(t,e){return e.getDisplayText(t,this._valueSeparator)||""},s.SERIES_TYPE="series",s);function s(){var t=r.call(this)||this;return t._valueSeparator=",",t}e.SeriesTextCellRenderer=n;var a,l=(a=P.DataCellRenderer,i(u,a),u.prototype._getValues=function(t){return t.value||[]},u);function u(){return a.call(this)||this}var h,c=(i(p,h=l),Object.defineProperty(p.prototype,"baseValue",{get:function(){return this._baseValue},set:function(t){t!=this._baseValue&&(this._baseValue=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"firstStyle",{get:function(){return this._firstStyle},set:function(t){t!=this._firstStyle&&(this._firstStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"lastStyle",{get:function(){return this._lastStyle},set:function(t){t!=this._lastStyle&&(this._lastStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"highStyle",{get:function(){return this._highStyle},set:function(t){t!=this._highStyle&&(this._highStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"lowStyle",{get:function(){return this._lowStyle},set:function(t){t!=this._lowStyle&&(this._lowStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"belowStyle",{get:function(){return this._belowStyle},set:function(t){t!=this._belowStyle&&(this._belowStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"pointStyle",{get:function(){return this._pointStyle},set:function(t){t!=this._pointStyle&&(this._pointStyle=t,this._changed())},enumerable:!0,configurable:!0}),p.prototype._doInitContent=function(t){var e=this._div=document.createElement("div");e.style.position="relative",e.style.height="100%",t.appendChild(e);var i=(this._svg=rt.SvgElement.createSVG(e)).style;i.position="absolute",i.left="0px",i.top="0px",i.width="100%",i.height="100%"},p.prototype._doRenderCell=function(t,e,i,o,r){this._div;var n=this._svg;n.setAttribute("class",this._getChartStyle()),this._values=this._getValues(e),rt.SvgElement.renderSVG2(n,this.$_render)},p.prototype._getPoints=function(t,e,i){for(var o=t.length,r=[],n=i-e,s=0;s<o;s++){var a=t[s],l=5+s/(o-1)*90,u=10+(isNaN(a)||0==n?80:80*(1-(a-e)/n));r.push(l,u)}return r},p.prototype._getBasePoint=function(t,e,i){var o=e-t;return 0+(isNaN(i)||0==o?100:100*(1-(i-t)/o))},p);function p(){var t=h.call(this)||this;return t._baseValue=NaN,t.$_render=function(t,e,i){var o=this._values;if(o&&o.length){for(var r=o.length,n=o[0],s=o[0],a=1;isNaN(n)&&a<r;)s=n=o[a++];for(;a<r;a++){var l=o[a];isNaN(l)||(l<n&&(n=l),s<l&&(s=l))}var u=isNaN(this._baseValue)?n:this._baseValue;isNaN(n)||this._renderChart(t,o,n,s,u)}}.bind(t),t}var d,_=(i(f,d=c),Object.defineProperty(f.prototype,"chartStyle",{get:function(){return this._chartStyle},set:function(t){t!=this._chartStyle&&(this._chartStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"curved",{get:function(){return this._curved},set:function(t){t!=this._curved&&(this._curved=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"type",{get:function(){return f.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"styleName",{get:function(){return f.STYLE_NAME},enumerable:!0,configurable:!0}),f.prototype._getChartStyle=function(){return this._chartStyle},f.prototype._renderChart=function(t,e,i,o,r){for(var n,s=isNaN(r)?o:Math.max(o,r),a=isNaN(r)?i:Math.min(i,r),l=this._getPoints(e,a,s),u=e.length,h=0;h<u-1;h++)if(t.sline(null,l[2*h]+"%",l[2*h+1]+"%",l[2*(h+1)]+"%",l[2*(h+1)+1]+"%"),n=this.pointStyle){var c=l[2*h],p=l[2*h+1];t.scircle(n,c+"%",p+"%","2")}if((n=this.firstStyle)&&(c=l[0],p=l[1],t.scircle(n,c+"%",p+"%","2")),(n=this.lastStyle)&&(c=l[2*(u-1)],p=l[2*(u-1)+1],t.scircle(n,c+"%",p+"%","2")),n=this.highStyle)for(h=0;h<u;h++)e[h]>=o&&(c=l[2*h],p=l[2*h+1],t.scircle(n,c+"%",p+"%","2"));if(n=this.lowStyle)for(h=0;h<u;h++)e[h]<=i&&(c=l[2*h],p=l[2*h+1],t.scircle(n,c+"%",p+"%","2"))},f.TYPE="sparkline",f.STYLE_NAME="rg-renderer "+(f.STYLE="rg-sparkline-renderer"),f.CHART_STYLE="rg-sparkline-renderer-chart",f);function f(){var t=d.call(this)||this;return t._chartStyle=f.CHART_STYLE,t._curved=!1,t.lastStyle="rg-sparkline-renderer-last",t.highStyle="rg-sparkline-renderer-high",t.lowStyle="rg-sparkline-renderer-low",t}e.SparkLineRenderer=_;var y,m=(i(g,y=c),Object.defineProperty(g.prototype,"chartStyle",{get:function(){return this._chartStyle},set:function(t){t!=this._chartStyle&&(this._chartStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"barWidth",{get:function(){return this._barWidth},set:function(t){(t=Math.max(0,t))!=this._barWidth&&(this._barWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"type",{get:function(){return g.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"styleName",{get:function(){return g.STYLE_NAME},enumerable:!0,configurable:!0}),g.prototype._getChartStyle=function(){return this._chartStyle},g.prototype._renderChart=function(t,e,i,o,r){for(var n,s=isNaN(r)?o:Math.max(o,r),a=isNaN(r)?i:r,l=e.length,u=this._getBasePoint(a,s,r),h=100/l,c=0+h/2,p=s-a,d=h*this._barWidth,_=0;_<l;_++){var f=e[_];if(!isNaN(f)){n=f<=i&&this.lowStyle?this.lowStyle:o<=f&&this.highStyle?this.highStyle:f<r&&this.belowStyle?this.belowStyle:0==_&&this.firstStyle?this.firstStyle:_==l-1&&this.lastStyle?this.lastStyle:null;var y=0==p?1:Math.max(1,Math.floor(100*(f-a)/p));t.pbounds(n,c-d/2,u,d,-y)}c+=h}},g.TYPE="sparkcolumn",g.STYLE_NAME="rg-renderer "+(g.STYLE="rg-sparkcolumn-renderer"),g.CHART_STYLE="rg-sparkcolumn-renderer-chart",g);function g(){var t=y.call(this)||this;return t._chartStyle=g.CHART_STYLE,t._barWidth=.8,t.lastStyle="rg-sparkcolumn-renderer-last",t.highStyle="rg-sparkcolumn-renderer-high",t.lowStyle="rg-sparkcolumn-renderer-low",t}e.SparkColumnRenderer=m;var v,b=(i(C,v=c),Object.defineProperty(C.prototype,"chartStyle",{get:function(){return this._chartStyle},set:function(t){t!=this._chartStyle&&(this._chartStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"barWidth",{get:function(){return this._barWidth},set:function(t){(t=Math.max(0,t))!=this._barWidth&&(this._barWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"belowHeight",{get:function(){return this._belowHeight},set:function(t){(t=Math.max(0,t))!=this._belowHeight&&(this._belowHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"type",{get:function(){return C.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"styleName",{get:function(){return C.STYLE_NAME},enumerable:!0,configurable:!0}),C.prototype._getChartStyle=function(){return this._chartStyle},C.prototype._renderChart=function(t,e,i,o,r){for(var n=e.length,s=100/n,a=0+s/2,l=s*this._barWidth,u=0+100*(1-this._belowHeight),h=0;h<n;h++){var c=e[h];if(!isNaN(c)&&c!=r){var p=null;c<r&&this.belowStyle&&(p=this.belowStyle);var d=c<r?100:0;t.pbounds(p,Math.floor(a-l/2),Math.floor(d),Math.floor(l),Math.floor(u-d))}a+=s}},C.TYPE="sparkwinloss",C.STYLE_NAME="rg-renderer "+(C.STYLE="rg-sparkwinloss-renderer"),C.CHART_STYLE="rg-sparkwinloss-renderer-chart",C);function C(){var t=v.call(this)||this;return t._chartStyle=C.CHART_STYLE,t._barWidth=.8,t._belowHeight=.4,t.belowStyle="rg-sparkwinloss-renderer-below",t}e.SparkWinLossRenderer=b});t(Zt);Zt.SeriesTextCellRenderer,Zt.SparkLineRenderer,Zt.SparkColumnRenderer,Zt.SparkWinLossRenderer;var Qt=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,b=ut,n=(r=Jt.ValueCellElement,i(s,r),Object.defineProperty(s.prototype,"expanderVisible",{get:function(){return!1},set:function(t){this.expanderVisible},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),s.prototype._doUpdateContent=function(t,e,i){i.textContent=this._text},s);function s(t){return r.call(this,t||"dataCellView")||this}e.DataCellElement=n;var a,l=(a=zt.GridElement,i(u,a),u.prototype._doDispose=function(){this._item=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"itemIndex",{get:function(){return this._item.index},enumerable:!0,configurable:!0}),u.prototype.updateItem=function(t,e){this._item=t,this._domIndex=e},u.prototype.clearContent=function(t,e){},u.prototype._createDom=function(){return null},u.prototype._changed=function(){this.invalidate()},u.prototype._getTableRow=function(t,e){return this.parent._getTableRow(t,this._domIndex)},u.prototype._getCellContent=function(t){return this.parent.getCellContent(this._domIndex,t)},u);function u(t){void 0===t&&(t=null);var e=a.call(this,t)||this;return e._domIndex=-1,e}e.ItemElement=l;var h,C="rg-expander-expanded",w="rg-expander-collapsed",c=(i(p,h=l),p.isExpander=function(t){var e=t.className;return e==C||e==w},p.prototype.clearContent=function(t,e){for(var i=this.parent,o=this._getFirstCell(t),r=this._getStartCell(t)-o,n=this._getEndCell(t)-o,s=0;s<e;s++)for(var a=i._cells[this._domIndex+s],l=r;l<=n;l++){var u=a[l].renderer2;u&&u.clearContent()}},p.prototype._doLayoutContent=function(t){var e=t.grid,i=(e.editOptions.isWritable(),t.cellLayouts.dataRows),o=e.body,r=this.parent._cells,n=this._getFirstCell(t),s=this._getStartCell(t)-n,a=this._getEndCell(t)-n,l=e.focusedIndex,u=l&&l.itemIndex==this._item.index,h=l.column,c=this._item.index;this._item instanceof Q.MergedGroupFooter&&(a=Math.min(a,e.rowGroupLevels-1),c=this._item.parent.index);for(var p=et.CellIndex.temp(e,c),d=0;d<i;d++)for(var _=r[this._domIndex+d],f=s;f<=a;f++){var y=_[f],m=y.layout;if(y.visible){var g=m.firstColumn;if(y.width=t.getCellWidth(f),y.height=t.getTableRowHeight(y.trow),g instanceof b.ValueColumn){p.layout=g.layout;var v=o.getCell(p,!1);y.mouseEntered=!1,y.focused=u&&h===g,this._updateDataCell(e,t,o,v,g,y)}}}},p.prototype._getFirstCell=function(t){return t._firstCell},p.prototype._getLastCell=function(t){return t._lastCell},p.prototype._getStartCell=function(t){return t.getStartCell()},p.prototype._getEndCell=function(t){return this._item instanceof Q.MergedGroupHeader?t.getStartCell()+this._item.groupLevel:t.getEndCell()},p.prototype._createRenderer=function(t,e,i,o){return t.delegate.createRenderer(i,o)},p.prototype._getRenderer=function(t,e){return e.valueColumn.renderer},p.prototype._renderDataCell=function(t,e,i,o){var r,n,s=o.cell,a=this._getRenderer(t,i);"string"==typeof a?r=a:(r=a&&a.type||(o.layout.firstColumn instanceof ut.SeriesColumn?Zt.SeriesTextCellRenderer.SERIES_TYPE:P.TextCellRenderer.TYPE),n=a);var l=!1;o.renderer2&&!o.rendererChanged&&o.renderer2.type==r||(o.renderer2&&o.renderer2.clearAndDispose(),o.renderer2=this._createRenderer(t,i,r,n),l=!(o.rendererChanged=!1));var u=s.firstElementChild,h=o.renderer2;!l&&h&&h._dom!=u&&(h.clearContent(),l=!0);var c=this.$_buttonWidth(t,o),p=this.$_editButtonWidth(t,o),d=o.cellButton,_=o.editButton;if(0<c){var f=void 0;d?f=d.style:(d=document.createElement("span"),(f=(o.cellButton=d).style).position="absolute",f.display="inline-block",f.height="100%"),o.buttonWidth<=0&&(s.appendChild(d),o.buttonWidth=c),o.resetButtonClass(),o.setButtonBounds(f,o.width-c,0,c,o.height)}else 0<o.buttonWidth&&(s.removeChild(d),o.buttonWidth=0);0<p?(f=void 0,_?f=_.style:(_=document.createElement("span"),(f=(o.editButton=_).style).position="absolute",f.display="inline-block",f.height="100%"),o.editWidth<=0&&(s.appendChild(_),o.editWidth=p),o.resetEditClass(),o.setEditBounds(f,o.width-p-c,0,p,o.height)):0<o.editWidth&&(s.removeChild(_),o.editWidth=0);var y=h.styleName;l?h.initContent(i._index,u,y):h.checkClassName(y)&&(h.clearContent(),h.initContent(i._index,u,y)),h.renderCell(t,i,o);var m=i.changed&&e._showChangeMarker;if(m!=o.valueChanged){if(m){var g=o.changedMarker;g||((g=o.changedMarker=document.createElement("div")).className="rg-changed-marker",g.style.position="absolute",g.style.display="block",g.style.top="0px",o.changedMarker=g),s.appendChild(g)}else o.changedMarker&&o.valueChanged&&s.removeChild(o.changedMarker);o.valueChanged=m}if(o.merged&&o.groupItem){var v=o.expander;v||((v=o.expander=document.createElement("span")).style.position="absolute",v.style.display="inline-block",v.style.top="2px",v.style.left="2px",s.appendChild(v)),v.className=o.groupItem.expanded?C:w}else o.expander&&(s.removeChild(o.expander),o.expander=null)},p.prototype._updateDataCell=function(t,e,i,o,r,n){var s=i.getCellStyle(o,n.style.clear());n.setClassName(s.styleName),n.refreshFormatters(s),i.getCellFormatters(r,n,t.formatOptions),n.setEditor(s.editor||r.editor),n.button=r.button;var a=t.$_editOptionsWritable;if(a=(a=a&&r.isWritable()&&(e.fixedItemCount<1||t.$_fixedRowEditable||n.item.index>=e.fixedItemCount))&&n.renderer2&&n.renderer2.canEditable(),n.writable=a,r instanceof ut.DataColumn&&r.layout.blanked)switch(o.blankState){case H.BlankState.HEAD:case H.BlankState.BODY:n.setBorderBottom(0);break;case H.BlankState.TAIL:case H.BlankState.NONE:n.setBorderBottom(1)}else n.setBorderBottom(1);this._renderDataCell(t,i,o,n)},p.prototype.$_getButtonVisible=function(t,e,i){var o=!1;switch(i){case H.ButtonVisibility.ALWAYS:o=!0;break;case H.ButtonVisibility.HIDDEN:o=!1;break;case H.ButtonVisibility.VISIBLE:o=e.focused;break;case H.ButtonVisibility.ROWFOCUSED:o=t.focusedIndex&&t.focusedIndex.itemIndex==e.item.index||e.mouseEntered;break;case H.ButtonVisibility.DEFAULT:default:o=e.focused||e.mouseEntered}return o},p.prototype.$_buttonWidth=function(t,e){var i=0;if(e.button!=H.CellButton.NONE){var o=e.layout.firstColumn;this.$_getButtonVisible(t,e,o.buttonVisiblility)&&(i=t.body.cellButtonWidth)}return i},p.prototype.$_editButtonWidth=function(t,e){var i=0;if(e.writable)if(e.renderer2&&!e.renderer2.canEditable());else{e.item;var o=e.dataColumn,r=e.editorType;if(t.delegate.hasEditorButton(r)){var n=!1;if(et.CellIndex.equalsTo(t.focusedIndex,e.item.index,e.layout)){var s=t.delegate.getCellEditor(r);n=!!s&&s.listing}(n||this.$_getButtonVisible(t,e,o.editButtonVisibility))&&(i=t.body.cellButtonWidth)}}return i},p);function p(t){return void 0===t&&(t=null),h.call(this,t)||this}e.RowElement=c;var d,_=(i(f,d=c),f.prototype._getFirstCell=function(t){return this._getStartCell(t)},f.prototype._getLastCell=function(t){return this._getEndCell(t)},f.prototype._getStartCell=function(t){return 0},f.prototype._getEndCell=function(t){return t.fixedCellCount-1},f);function f(){return null!==d&&d.apply(this,arguments)||this}e.FixedRowElement=_;var y,m=(i(g,y=c),g.prototype._getFirstCell=function(t){return this._getStartCell(t)},g.prototype._getLastCell=function(t){return this._getEndCell(t)},g.prototype._getStartCell=function(t){return t.cellCount-t.rightCellCount},g.prototype._getEndCell=function(t){return t.cellCount-1},g);function g(){return null!==y&&y.apply(this,arguments)||this}e.RightRowElement=m});t(Qt);Qt.DataCellElement,Qt.ItemElement,Qt.RowElement,Qt.FixedRowElement,Qt.RightRowElement;var te=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r="rowspan",n="colspan",E=(s.prototype.dispose=function(){this.renderer2=this.renderer2&&this.renderer2.clearAndDispose(),this.item=null,this.cell=null,this.layout=null},Object.defineProperty(s.prototype,"dataColumn",{get:function(){return this.layout.firstColumn},enumerable:!0,configurable:!0}),s.prototype.reset=function(t){return this.cell=t,this.className="",this.text=void 0,this.visible=void 0,this},s.prototype.span=function(){this.spanned=!0,this.clear(!1)},s.prototype.clear=function(t){return 1<this.colSpan&&(this.colSpan=1,this.cell.removeAttribute(n)),1<this.rowSpan&&(this.rowSpan=1,this.cell.removeAttribute(r)),this.visible!==t&&(this.visible=t,this.cell.style.display=t?"":"none"),this},s.prototype.setColSpan=function(t){return this.colSpan!=t&&(1<(this.colSpan=t)?this.cell.colSpan=t:this.cell.removeAttribute(n)),this},s.prototype.setRowSpan=function(t){return this.rowSpan!=t&&(1<(this.rowSpan=t)?this.cell.rowSpan=t:this.cell.removeAttribute(r)),this},s.prototype.setVisible=function(t){return t!==this.visible&&(this.visible=t,this.cell.style.display=t?"":"none"),this},s.prototype.set=function(t,e,i){return this.colSpan!=t&&(1<(this.colSpan=t)?this.cell.colSpan=t:this.cell.removeAttribute(n)),this.rowSpan!=e&&(1<(this.rowSpan=e)?this.cell.rowSpan=e:this.cell.removeAttribute(r)),this.visible!==i&&(this.visible=i,this.cell.style.display=i?"":"none"),this},s.prototype.refreshFormatters=function(t){var e;this.textFormatter=null,this.numberFormatter=null,this.datetimeWriter=null,this.booleanFormatter=null,(e=t.textFormat)&&(this.textFormatter&&this.textFormatter.format==e||(this.textFormatter=lt.TextFormatter.getFormatter(e))),(e=t.numberFormat)&&(this.numberFormatter&&this.numberFormatter.format==e||(this.numberFormatter=z.DecimalFormatter.getFormatter(e))),(e=t.datetimeFormat)&&(this.datetimeWriter&&this.datetimeWriter.format==e||(this.datetimeWriter=$.DateTimeWriter.getFormatter(e))),(e=t.booleanFormat)&&(this.booleanFormatter&&this.booleanFormatter.format==e||(this.booleanFormatter=W.BooleanFormatter.getFormatter(e)))},s.prototype.setClassName=function(t){return t!=this.className&&(this.cell.className=this.className=t,!0)},s.prototype.setEditor=function(t){this.editor=t,this.editorType=ut.ColumnStyle.getEditorType(t)},s.prototype.setBorderBottom=function(t){t!=this.borderBottom&&(this.borderBottom=t,this.cell.style.borderBottom=0==t?"0":"")},s.prototype.setMarginRight=function(t,e){e!=this.marginRight&&(this.marginRight=e,t.style.marginRight=0==e?"0":e+"px")},s.prototype.isCellButton=function(t){return t===this.cellButton},s.prototype.isEditButton=function(t){return t===this.editButton},s.prototype.resetButtonClass=function(){var t=this.button==H.CellButton.POPUP?"rg-button-popup":"rg-button-action";t!=this.buttonClass&&(this.buttonClass=t,this.cellButton.className=t)},s.prototype.resetEditClass=function(){var t="date"==this.editorType||"btdate"==this.editorType?"rg-button-calendar":"rg-button-list";t!=this.editClass&&(this.editClass=t,this.editButton.className=t)},s.prototype.setButtonBounds=function(t,e,i,o,r){var n=this.buttonRect;n.x!=e&&(t.left=0!=e?e+"px":"0",n.x=e),n.y!=i&&(t.top=0!=i?i+"px":"0",n.y=i),n.width!=o&&(t.width=o+"px",n.width=o)},s.prototype.setEditBounds=function(t,e,i,o,r){var n=this.editRect;n.x!=e&&(t.left=0!=e?e+"px":"0",n.x=e),n.y!=i&&(t.top=0!=i?i+"px":"0",n.y=i),n.width!=o&&(t.width=o+"px",n.width=o)},s.prototype.getIndex=function(t){return t.set(this.item.index,this.layout.firstColumn)},s.prototype.toString=function(){return"Body Cell("+this.layout.col+", "+this.item.index+", "+this.layout.row+")"},s);function s(t){this.cell=null,this.cellButton=null,this.editButton=null,this.changedMarker=null,this.expander=null,this.item=null,this.rowIndex=-1,this.trow=-1,this.tcol=-1,this.head=null,this.layout=null,this.visible=void 0,this.merged=!1,this.spanned=!1,this.width=0,this.height=0,this.rowSpan=1,this.colSpan=1,this.text=void 0,this.template=void 0,this.className="",this.marginRight=-1,this.style=new ut.ColumnStyle,this.rendererChanged=!1,this.valueChanged=!1,this.mouseEntered=!1,this.focused=!1,this.borderBottom=1,this.writable=!0,this.button=H.CellButton.NONE,this.buttonWidth=0,this.buttonClass="",this.buttonRect=new G.Rectangle(-1,-1,-1,-1),this.editWidth=0,this.editClass="",this.editRect=new G.Rectangle(-1,-1,-1,-1),this.cell=t,this.text=t.textContent}e.BodyTableCell=E;var a,l=(a=Kt.DataTableElement,i(u,a),u.prototype._doDispose=function(){for(var t=0;t<this._cells.length;t++)for(var e=this._cells[t],i=0;i<e.length;i++)e[i].dispose(),e[i]=null;this._cells=null,a.prototype._doDispose.call(this)},u.prototype.bodyCellByCell=function(t){for(var e=0;e<this._cells.length;e++)for(var i=this._cells[e],o=0;o<i.length;o++){var r=i[o];if(r&&r.cell===t)return r}return null},u.prototype.layoutByCell=function(t){var e=this.bodyCellByCell(t);return e&&e.layout},u.prototype.columnByCell=function(t){var e=this.bodyCellByCell(t);return e&&e.layout&&e.layout._columnObj},u.prototype.getCellRectAt=function(t,e,i){var o=this.getCellAt(t,e);if(o){i&&o.merged&&(o=o.head);var r=o.trow,n=i?o.rowSpan:o.layout._dspan,s=t.getTableRowBounds(r,n),a=o.tcol;return e.colFixed?(s.x=t.getFixedCellPoint(a),s.width=t.getFixedCellWidth(a)):e.rightFixed?(s.x=t.getRightCellPoint(a),s.width=t.getRightCellWidth(a)):(s.x=t.getCellPoint(a),s.width=t.getCellWidth(a)),s}return null},u.prototype.getRowView=function(t){for(var e=0,i=this.childCount;e<i;e++){var o=this.getChild(e);if(o._item===t)return o}return null},u.prototype.getRowIndex=function(t){return this._cells[t][0].item.index},u.prototype.cleanTableRows=function(t){for(var e=this._tbody.rows,i=e.length-1;t<=i;i--)e[i].$_idx=-1,e[i].style.display="none";for(i=this._cells.length-1;t<=i;i--)for(var o=this._cells[i].length-1;0<=o;o--);},u.prototype._getCssSelector=function(){return"rg-body"},u.prototype._isFixedHeight=function(t){return!t.isAutoRowHeights()},u.prototype._getTrs=function(t){return t.cellLayouts.dataRows},u.prototype._getTableRowCount=function(t){if(t.isAutoRowHeights())return Math.ceil(t.bodyBounds.height/t.grid.displayOptions.minRowHeight);if(t.isRowGrouped()){for(var e=t.fixedItemCount,i=e+t.itemCount,o=this._trs,r=0,n=0;n<i;n++)r+=t.getItem(n).isData?o:1;return r+=e?1:0}return a.prototype._getTableRowCount.call(this,t)},u.prototype.$_getTableIndex=function(t,e){var i=t.fixedItemCount;if(i<=e&&t.isRowGrouped()){var o=this._trs,r=i*o;0<i&&r++;for(var n=i;n<e;n++)t.getItem(n).isData?r+=o:r++;return r}return r=e*this._trs,0<i&&i<=e?r+1:r},u.prototype._prepareCellContent=function(t,e){return document.createElement("div")},u.prototype._doMeasure=function(t,e,i){return new Wt.Size},u.prototype.$_refreshCells=function(t,e,i,o,r){for(var n=U.Utils.getTimer(),s=this._cells,a=e.length,l=r.children,u=t.fixedItemCount,h=0<u,c=l.length,p=this._getFirstCell(t),d=this._getLastCell(t)-p+1,_=s.length;_<c;_++)s.push([]);for(var f=_=0;_<a&&f<c;_++){var y=e[_],m=y.isData?o:1;if(h&&_==u){for(var g=s[f],v=l[f].children,b=0;b<d;b++)(x=g[b])?x.cell!==v[b]&&x.reset(v[b]):x=g[b]=new E(v[b]),x.item=null,x.rowIndex=-1,x.trow=f,x.tcol=b;f++}for(var C=0;C<m;C++){g=s[f],v=l[f].children;var w=i[C];for(b=0;b<d;b++){var x;(x=g[b])?x.cell!==v[b]&&x.reset(v[b]):(v[b],x=g[b]=new E(v[b])),x.item=y,x.rowIndex=_,x.trow=f,x.tcol=b,x.layout=w[b+p]}f++}}for(f=c;f<s.length;f++){var I=s[f];for(b=0;b<I.length;b++)I[b]=null}s.length=c,n=U.Utils.getTimer()-n,console.log("$$$$ REFRESH_CELLS: "+n)},u.prototype.$_refreshRowCells=function(t,e,i,o,r,n,s){for(var a=this._cells,l=s.children,u=this._getFirstCell(t),h=this._getLastCell(t)-u+1,c=a.length,p=o+n;c<p;c++)a.push([]);for(var d=0;d<n;d++){var _=a[o];l[o];for(var f=l[o].children,y=r[d],m=0;m<h;m++){var g=y[m+u],v=_[m];v?v.cell!==f[m]?v.reset(f[m]):v.layout!==g&&(v.rendererChanged=!0,v.layout=g,v.clear(!0)):(v=_[m]=new E(f[m])).layout=g,v.spanned=!1,v.item=e,v.rowIndex=i,v.trow=o,v.tcol=m}for(o++,m=h;m<_.length;m++)_[m],_[m].dispose();_.length=h}},u.prototype._doLayoutContent=function(t){var e=t.$_getItems(),i=t.cellLayouts._dataCells;this._mergedGrouped=t.mergedRowGrouped,this.$_refreshCells(t,e,i,this._trs,this._tbody);for(var o,r,n=this.grid,s=this.model,a=n.fixedOptions,l=this._itemCount=e.length,u=this._fixedCount=t.fixedItemCount,h=0<u,c=(n.topIndex,this._tbody.children),p=this._trs;(o=this.childCount)<l;){var d=e[o],_=this.$_borrowView(d);this.addChild(_)}for(;(o=this.childCount)>l;)this.$_removeView(o-1);var f=this._getEndCell(t)-this._getStartCell(t)+1;this.$_setCellsDisplay(t,n,this._cells,e,u,l,f);for(var y=0,m=0;y<l;y++){d=e[y],_=this.getChild(y),h&&y==u&&(c[m].$_idx=m,c[m].$_row=-99,U.Utils.setClassName(c[m],a.rowBarStyle),m++);var g=d.index,v=c[m];if(v.$_row=g,v.$_idx=m,_.updateItem(d,m++),d.isDataRow||d instanceof Q.MergedGroupHeader){var b=t.getItemBounds(g);if(_.setRect(b),r=s.getRowStyle(d,g<u),d.isDataRow)for(var C=1;C<p;C++)(x=c[m++]).$_idx=m,x.$_row=g,U.Utils.setClassName(x,r);_.layoutContent(t),U.Utils.setClassName(v,r)}else if(d.isData){for(var w=1;w<p;w++){var x;(x=c[m++]).$_idx=m,x.$_row=g}_.clearContent(t,1),d instanceof Q.MergedGroupFooter&&g==n.topIndex&&_.layoutContent(t)}else _.clearContent(t,1)}},u.prototype.layoutRow=function(t,e,i,o){var r,n=t.lm,s=t.fixedItemCount,a=this.model,l=n.cellLayouts._dataCells,u=this._tbody.rows;this.$_refreshRowCells(n,o,e,i,l,this._trs,this._tbody),this.childCount<=e?(r=this.$_borrowView(o),this.addChild(r)):r=this.getChild(e),this.$_setRowCellsDisplay(n,t,this._cells,o,e,i);var h=o.index,c=u[i];if(c.style.display="",c.$_row=h,c.$_idx=i,r.updateItem(o,i),o.isDataRow||o instanceof Q.MergedGroupHeader){r.setRect(n.getItemBounds(h));var p=a.getRowStyle(o,h<s);if(o.isDataRow)for(var d=1;d<this._trs;d++)(_=u[i+d]).$_idx=i+d,_.$_row=h,U.Utils.setClassName(_,p);r.layoutContent(n),U.Utils.setClassName(c,p)}else if(o.isData){for(d=1;d<this._trs;d++){var _;(_=u[i+d]).$_idx=i+d,_.$_row=h}r.clearContent(n,1),o instanceof Q.MergedGroupFooter&&h==t.grid.topIndex&&r.layoutContent(n)}else r.clearContent(n,1)},u.prototype.layoutFixedBar=function(t,e){var i=this._tbody.children[e],o=this.$_prepareFixedBar(t,i);return i.$_idx=e,i.$_row=-99,U.Utils.setClassName(i,t.grid.fixedOptions.rowBarStyle),o},u.prototype._doRender=function(t){},u.prototype._getCellCount=function(t){return t.cellCount-t.fixedCellCount-t.rightCellCount},u.prototype._getCellWidth=function(t,e){return t.getCellWidth(e)},u.prototype._getTableRowHeight=function(t,e){return t.getTableRowHeight(e)},u.prototype._doDrawCell=function(t,e,i){},u.prototype.getCellAt=function(t,e){var i=e.column,o=t.fixedItemCount,r=e.itemIndex;if((r<t.fixedItemCount||r>=t.topIndex&&r-t.topIndex<t.fixedItemCount+t.itemCount)&&(o<=r&&(r-=t.topIndex),(r=this.$_getTableIndex(t,r))<this._cells.length))for(var n=0;n<this._trs;n++){var s=this._cells[r+n];if(s)for(var a=0;a<s.length;a++){var l=s[a];if(l&&l.layout.isColumn(i))return l}}return null},u.prototype.getCellView=function(t,e){var i=this.getCellAt(t,e);return i&&i.cell},u.prototype._getFirstCell=function(t){return t._firstCell},u.prototype._getLastCell=function(t){return t._lastCell},u.prototype._getStartCell=function(t){return t.getStartCell()},u.prototype._getEndCell=function(t){return t.getEndCell()},u.prototype.$_removeView=function(t){var e=this.removeChildAt(t);e.validate(),this._itemViews.push(e)},u.prototype.$_borrowView=function(t){var e=this._itemViews.pop();return e=e||this.createRowElement()},u.prototype.createRowElement=function(){return new Qt.RowElement},u.prototype.$_setCellsDisplay=function(t,e,i,o,r,n,s){var a=U.Utils.getTimer(),l=this._getStartCell(t)-this._getFirstCell(t),u=0<r,h=this._trs,c=0,p=0,d=[];if(u){for(;p<r;p++)for(var _=0;_<h;_++,c++)for(var f=i[c],y=0;y<s;y++){var m=(C=(x=f[y+l]).layout).firstColumn;x.merged=!1,m?(x.setColSpan(C._cspan),x.setRowSpan(C._dspan),x.setVisible(!0)):x.clear(!1)}var g=i[c++];for(y=0;y<s;y++)(x=g[y+l]).clear(!0)}for(var v=c;p<n;p++){var b=o[p];if(b.isData||this._mergedGrouped){for(_=0;_<h;_++)for(g=i[v+_],y=0;y<s;y++){var C;if(m=(C=(x=g[y+l]).layout).firstColumn,x.merged=!1,m)if(C.merged){var w=m._merges;x.merged=!0,w.isHidden(p-r)?(x.clear(!1),x.head=d[y]):(x.setColSpan(C._cspan),x.setRowSpan(w.getMerged(p-r)*C._dspan),x.setVisible(!0),x.groupItem=this._mergedGrouped&&e.findGroupItem(b,m.dataIndex),d[y]=x.head=x)}else x.setColSpan(C._cspan),x.setRowSpan(C._dspan),x.setVisible(!0);else x.clear(!1)}v+=h}else for(g=i[v++],y=0;y<s;y++){var x;(x=g[y+l]).clear(!1),x.merged=!1}}a=U.Utils.getTimer()-a,console.log("#### CELLS_DISPLAY: "+a)},u.prototype.$_setRowCellsDisplay=function(t,e,i,o,r,n){var s=this._getFirstCell(t),a=this._getStartCell(t)-s,l=this._getEndCell(t)-s,u=e.grid,h=e.fixedItemCount,c=e.mergeHeads,p=this._trs;if(o.isData||e.mergedRowGrouped)for(var d=0;d<p;d++)for(var _=i[n+d],f=a;f<=l;f++){var y=(S=_[f]).layout,m=y.parent,g=m&&m.vertical;if(S.merged=!1,S.spanned);else if(y.isProxy)S.clear(!1);else{var v=y.spanCallback,b=v?v(y,S.item.index):void 0,C=0;if(void 0===b&&(b=y.getDataSpan()),1<b){var w=0,x=y.vindex+1;for(b--;w++<b&&x<m.visibleCount;){var I=m.getVisible(x++);g?(C+=I._dspan,this._cells[n+d+w][f].span()):(C+=I._cspan,_[f+w].span())}}var E=y.merged&&y._merges;E?(S.merged=!0,E.isHidden(r-h)?(S.set(y._cspan+C,y._dspan,!1),S.head=c[f-a]):(S.set(y._cspan+C,E.getMerged(r-h)*y._dspan,!0),S.groupItem=e.mergedRowGrouped&&u.findGroupItem(o,y.firstColumn.dataIndex),c[f-a]=S.head=S)):g?S.set(y._cspan,y._dspan+C,!0):S.set(y._cspan+C,y._dspan,!0)}}else for(_=i[n],f=a;f<=l;f++){var S;(S=_[f]).clear(!1),S.merged=!1}},u.prototype.$_refreshSpans=function(t,e,i){},u.prototype.$_cleanBodyCells=function(t){for(var e=this._cells,i=t;i<e.length;i++)for(var o=e[i],r=0;r<o.length;r++)o[r].dispose(),o[r]=null;e.length=t},u.prototype.$_resetHeights=function(t,e){var i=this._tbody.children,o=0;if(0<t.length){for(var r=1;r<t.length;r++)i[o++].style.height=t[r]-t[r-1]+"px";o++}for(r=1;r<e.length;r++)i[o++].style.height=e[r]-e[r-1]+"px"},u.prototype.$_focusChanged=function(t,e,i){if(e&&i!=e.focused&&e.item instanceof Z.GridRow){var o=this.getRowView(e.item);if(o){var r=this.model,n=e.dataColumn;if(e.focused=i,n){var s=r.getCell(et.CellIndex.temp(t,e.item.index,n),!1);o._updateDataCell(t,t.layoutManager,r,s,n,e)}}}},u.prototype.$_mouseEnteredChanged=function(t,e,i){if(e&&i!=e.mouseEntered&&e.item instanceof Z.GridRow){var o=this.getRowView(e.item);if(o){var r=this.model,n=e.dataColumn;if(e.mouseEntered=i,n){var s=r.getCell(et.CellIndex.temp(t,e.item.index,n),!1);o._updateDataCell(t,t.layoutManager,r,s,n,e)}}}},u.prototype.$_rendererChanged=function(t){for(var e=this._cells,i=0;i<e.length;i++)for(var o=e[i],r=0;r<o.length;r++)o[r].layout===t&&(o[r].rendererChanged=!0)},u);function u(t){var e=a.call(this,t,"bodyView")||this;return e._mergedGrouped=!1,e._itemCount=0,e._fixedCount=0,e._itemViews=[],e._cells=[],e}e.GridBodyElement=l;var h,c=(i(p,h=l),p.prototype._getCssSelector=function(){return"rg-fixed-body"},p.prototype._getFirstCell=function(t){return this._getStartCell(t)},p.prototype._getLastCell=function(t){return this._getEndCell(t)},p.prototype._getStartCell=function(t){return 0},p.prototype._getEndCell=function(t){return t.fixedCellCount-1},p.prototype.createRowElement=function(){return new Qt.FixedRowElement},p.prototype._getCellCount=function(t){return t.fixedCellCount},p.prototype._getCellWidth=function(t,e){return t.getFixedCellWidth(e)},p);function p(){return null!==h&&h.apply(this,arguments)||this}e.FixedBodyElement=c;var d,_=(i(f,d=l),f.prototype._getCssSelector=function(){return"rg-fixed-body"},f.prototype._getFirstCell=function(t){return this._getStartCell(t)},f.prototype._getLastCell=function(t){return this._getEndCell(t)},f.prototype._getStartCell=function(t){return t.cellCount-t.rightCellCount},f.prototype._getEndCell=function(t){return t.cellCount-1},f.prototype.createRowElement=function(){return new Qt.RightRowElement},f.prototype._getCellCount=function(t){return t.rightCellCount},f.prototype._getCellWidth=function(t,e){return t.getRightCellWidth(e)},f);function f(){return null!==d&&d.apply(this,arguments)||this}e.RightBodyElement=_});t(te);te.BodyTableCell,te.GridBodyElement,te.FixedBodyElement,te.RightBodyElement;var ee=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){this._grid=null,this._rs=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footerCount",{get:function(){return this._footerCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerSummaryCount",{get:function(){return this._headerSummaryCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"vscrollBar",{get:function(){return this._vscrollBar},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hscrollBar",{get:function(){return this._hscrollBar},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataBounds",{get:function(){return this._dataBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bodyBounds",{get:function(){return this._bodyBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedBodyBounds",{get:function(){return this._fixedBodyBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"gridBounds",{get:function(){return this._gridBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerBounds",{get:function(){return this._headerBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"summaryBounds",{get:function(){return this._summaryBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footerBounds",{get:function(){return this._footerBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"topContentBounds",{get:function(){return this._topContentBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"leftContentBounds",{get:function(){return this._leftContentBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sideContentBounds",{get:function(){return this._sideContentBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"contentBounds",{get:function(){return this._contentBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedContentBounds",{get:function(){return this._fixedContentBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightContentBounds",{get:function(){return this._rightContentBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"indicatorBounds",{get:function(){return this._indicatorBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headBounds",{get:function(){return this._headBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sumBounds",{get:function(){return this._sumBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footBounds",{get:function(){return this._footBounds},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedWidth",{get:function(){return this._fixedWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightWidth",{get:function(){return this._rightWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"topIndex",{get:function(){return this._topIndex},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedItemCount",{get:function(){return this._fixedItemCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fullItemCount",{get:function(){return this._fullItemCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedTableRowCount",{get:function(){return this._fixedTableRowCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tableRowCount",{get:function(){return this._tableRowCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"leftPos",{get:function(){return this._leftPos},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellLayouts",{get:function(){return this._cellLayouts},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"layoutCount",{get:function(){return this._layoutCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedLayoutCount",{get:function(){return this._fixedLayoutCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightLayoutCount",{get:function(){return this._rightLayoutCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstLayout",{get:function(){return this._firstLayout},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lastLayout",{get:function(){return this._lastLayout},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightFirstLayout",{get:function(){return this._layoutCount-this._rightLayoutCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"layoutsLength",{get:function(){return this._layoutsLength},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellCount",{get:function(){return this._cellCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedCellCount",{get:function(){return this._fixedCellCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightCellCount",{get:function(){return this._rightCellCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"isColumnFitted",{get:function(){return this._columnFitted},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"indicatorWidth",{get:function(){return this._indicatorBounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"stateBarWidth",{get:function(){return this._stateBarBounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkBarWidth",{get:function(){return this._checkBarBounds.width},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scrollWidth",{get:function(){return this._scrollWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedBarWidth",{get:function(){return this._fixedBarWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightBarWidth",{get:function(){return this._rightBarWidth},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedHeight",{get:function(){return this._fixedHeight},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedBarHeight",{get:function(){return this._fixedBarHeight},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowGrouped",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mergedRowGrouped",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowGroupLevels",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnMerged",{get:function(){return this._columnMerged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedColumnMerged",{get:function(){return this._fixedColumnMerged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightColumnMerged",{get:function(){return this._rightColumnMerged},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"clientRect",{get:function(){return this._clientRect},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerRows",{get:function(){return this._cellLayouts.headerRows},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerSummaryRows",{get:function(){return this._cellLayouts.dataRows},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footerRows",{get:function(){return this._cellLayouts.dataRows},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"topPanelVisible",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"minRowHeight",{get:function(){return this._minRowHeight},enumerable:!0,configurable:!0}),s.prototype.getStartCell=function(){return this._refreshMode==H.RefreshMode.VISIBLE_ONLY?this._startCell:this._firstCell},s.prototype.getEndCell=function(){return this._refreshMode==H.RefreshMode.VISIBLE_ONLY?this._endCell:this._lastCell},s.prototype.getLayout=function(t){return this._layouts[t]},s.prototype.getLayoutBounds=function(t){return new G.Rectangle(this._layoutPoints[t],0,this._layoutPoints[t+1]-this._layoutPoints[t],0)},s.prototype.getLayoutWidth=function(t){return this._layoutPoints[t+1]-this._layoutPoints[t]},s.prototype.getFixedLayoutWidth=function(t){return this._fixedLayoutPoints[t+1]-this._fixedLayoutPoints[t]},s.prototype.getRightLayoutWidth=function(t){return this._rightLayoutPoints[t+1]-this._rightLayoutPoints[t]},s.prototype.getCellIndex=function(t){for(var e=this._cellPoints,i=0;i<e.length-1;i++)if(t>=e[i]&&t<e[i+1])return i;return-1},s.prototype.getLeftCell=function(){return this.getCellIndex(this._leftPos)},s.prototype.getCellPoint=function(t){return this._cellPoints[t]},s.prototype.getCellWidth=function(t){return this._cellPoints[t+1]-this._cellPoints[t]},s.prototype.getFixedCellPoint=function(t){return this._fixedCellPoints[t]},s.prototype.getFixedCellWidth=function(t){return this._fixedCellPoints[t+1]-this._fixedCellPoints[t]},s.prototype.getRightCellPoint=function(t){return this._rightCellPoints[t]},s.prototype.getRightCellWidth=function(t){return this._rightCellPoints[t+1]-this._rightCellPoints[t]},s.prototype.$_getItems=function(){return this._items},s.prototype.getItem=function(t){return this._items[t]},s.prototype._calcDefaultRowHeight=function(t){var e=this.grid.displayOptions,i=e.rowHeight;return i<=0&&(i=t.heightMeasurer.rowHeight*this.cellLayouts.dataRows),0<e.maxRowHeight&&(i=Math.min(e.maxRowHeight,i)),i=Math.max(e.minRowHeight,i)},s.prototype._calcRowHeight=function(){return this._rowHeight},s.prototype.measure=function(t,e,i,o,r){var n=this._grid;this._rs=n.itemSource,this._cellLayouts=n._activeCellLayout,this._footerCount=n.footers.visibleCount,this._headerSummaryCount=n.headerSummaries.visibleCount,this._leftPos=e,this._topIndex=i,this._columnMerged=!1,this._fixedColumnMerged=!1,this._rightColumnMerged=!1,this._focusIndex&&!n.isValid(this._focusIndex)&&this._focusIndex.normalize(n),this._doMeasure(t,o,r),this._prevFocused=this._focusIndex,this._focusIndex=null},s.prototype.layout=function(t){var e=this._grid;this._doLayout(e,t),this.$_adjustLayout(e,this._gridBounds.clone())},s.prototype.getItemHeight=function(t){var e=t.index;return e<this._fixedItemCount?this._fixedItemPoints[e+1]-this._fixedItemPoints[e]:(e-=this._fixedItemCount-this._topIndex,this._itemPoints[e+1]-this._itemPoints[e])},s.prototype.getTableItemHeight=function(t){return t<this._fixedItemCount?this._fixedItemPoints[t+1]-this._fixedItemPoints[t]:(t-=this._fixedItemCount,this._itemPoints[t+1]-this._itemPoints[t])},s.prototype.getItemBounds=function(t){var e,i;return i=0<this._fixedItemCount&&t<this._fixedItemCount?(e=this._fixedItemPoints[t],this._fixedItemPoints[t+1]-e):(t-=this._fixedItemCount,e=this._itemPoints[t],this._itemPoints[t+1]-e),new G.Rectangle(0,e,1e3,i)},s.prototype.getItemRect=function(t,e){void 0===e&&(e=!1);var i,o,r=(e?this._fixedContentBounds:this._bodyBounds).y;return o=0<this._fixedItemCount&&t<this._fixedItemCount?(i=this._fixedItemPoints[t]+r,this._fixedItemPoints[t+1]+r-i):(t-=this._fixedItemCount,i=this._itemPoints[t]+r,this._itemPoints[t+1]+r-i),new G.Rectangle(0,i,1e3,o)},s.prototype.getTableRowHeight=function(t){return t<this._fixedTableRowCount?this._fixedTableRowPoints[t+1]-this._fixedTableRowPoints[t]:(0<this._fixedItemCount&&(t-=this._fixedItemCount*this._trs+1),this._tableRowPoints[t+1]-this._tableRowPoints[t])},s.prototype.getTableRowBounds=function(t,e){var i,o;return o=0<this._fixedTableRowCount&&t<this._fixedTableRowCount?(i=this._fixedTableRowPoints[t],this._fixedTableRowPoints[Math.min(t+e,this._fixedTableRowCount)]-i):(0<this._fixedTableRowCount&&(t-=this._fixedTableRowCount+1),i=this._tableRowPoints[t],this._tableRowPoints[Math.min(t+e,this._tableRowCount)]-i),new G.Rectangle(0,i,1e3,o)},s.prototype.getTableRowIndex=function(t){t-=this.contentBounds.y+this.bodyBounds.y;for(var e=0;e<this._fixedTableRowCount;e++)if(t<this._fixedTableRowPoints[e+1])return e;for(e=0;e<this._tableRowCount;e++)if(t<this._tableRowPoints[e+1])return e;return-1},s.prototype.setLeftPos=function(t,e){var i=this._grid;this._leftPos=e,this.$_calcLeftPos(t,this._scrollBarWidth),i.contentPane.x=this._contentBounds.x=this.fixedContentBounds.right-this._leftPos},s.prototype.isMergedCell=function(t){return!1},s.prototype.getMergedCell=function(t){var e=t.layout;if(e instanceof A.CellLayoutColumnItem&&e.canMerge()){var i=e._merges;if(i)return i.getRoom(t)}return null},s.prototype.getHeaderCellAt=function(t,e,i){void 0===i&&(i=!1);var o=this._cellLayouts._headerCells,r=this._grid.headerView.getRowAt(e-this._headerBounds.y-this._contentBounds.y),n=null;if(t<this._fixedContentBounds.right){t-=this._fixedContentBounds.x;for(var s=0;s<this._fixedCellCount;s++)if(t>=this._fixedCellPoints[s]&&t<this._fixedCellPoints[s+1]){n=o[r][s];break}}else if(t>this._rightContentBounds.x){for(t-=this._rightContentBounds.x,s=0;s<this._rightCellCount;s++)if(t>=this._rightCellPoints[s]&&t<this._rightCellPoints[s+1]){n=o[r][s+this._rightCellCount];break}}else for(t-=this._contentBounds.x,s=0;s<this._cellPoints.length;s++)if(t>=this._cellPoints[s]&&t<this._cellPoints[s+1]){n=o[r][s+this._fixedCellCount];break}return n&&!i&&n instanceof A.ProxyCellLayoutItem?n.source:n},s.prototype.getHeaderCellRect=function(t,e){void 0===e&&(e=!1);var i,o=this.grid,r=t.dataRoot.hcol,n=this.cellCount-this.rightCellCount,s=t.cspan;if(r<this._fixedCellCount){var a=this._gridBounds.x,l=r;i=new G.Rectangle(this._fixedCellPoints[l]+a,0,this._fixedCellPoints[l+s]-this._fixedCellPoints[l],0)}else i=n<=r?(a=this._rightContentBounds.x+this._grid.fixedOptions.colBarWidth,l=r-n,new G.Rectangle(this._rightCellPoints[l]+a,0,this._rightCellPoints[l+s]-this._rightCellPoints[l],0)):(a=this._contentBounds.x,l=r-this._fixedCellCount,new G.Rectangle(this._cellPoints[l]+a,0,this._cellPoints[l+s]-this._cellPoints[l],0));return i.y=this._contentBounds.y+o.headerView.getLayoutPos(t),i.height=o.headerView.getLayoutHeight(t,e),i},s.prototype.getLayoutRect=function(t){var e,i=this.rightFirstLayout;if(t<this._fixedLayoutCount){var o=this._fixedContentBounds.x,r=t;e=new G.Rectangle(this._fixedLayoutPoints[r]+o,0,this._fixedLayoutPoints[r+1]-this._fixedLayoutPoints[r],0)}else e=i<=t?(o=this._rightContentBounds.x+this._grid.fixedOptions.colBarWidth,r=t-i,new G.Rectangle(this._rightLayoutPoints[r]+o,0,this._rightLayoutPoints[r+1]-this._rightLayoutPoints[r],0)):(o=this._contentBounds.x,r=t-this._fixedLayoutCount,new G.Rectangle(this._layoutPoints[r]+o,0,this._layoutPoints[r+1]-this._layoutPoints[r],0));return e},s.prototype.getDataLayoutRect=function(t){var e,i=t.dataRoot.col,o=this.cellCount-this.rightCellCount;if(i<this._fixedCellCount){var r=this._fixedContentBounds.x,n=i;e=new G.Rectangle(this._fixedCellPoints[n]+r,0,this._fixedCellPoints[n+1]-this._fixedCellPoints[n],0)}else e=o<=i?(r=this._rightContentBounds.x+this._grid.fixedOptions.colBarWidth,n=i-o,new G.Rectangle(this._rightCellPoints[n]+r,0,this._rightCellPoints[n+1]-this._rightCellPoints[n],0)):(r=this._contentBounds.x,n=i-this._fixedCellCount,new G.Rectangle(this._cellPoints[n]+r,0,this._cellPoints[n+1]-this._cellPoints[n],0));return e},s.prototype.getBodyView=function(t){var e=this.rightFirstLayout,i=(t instanceof A.CellLayoutItem?t:t.layout).root.vindex;return i<this._fixedLayoutCount?this._grid.fixedBodyView:e<=i?this._grid.rightBodyView:this._grid.bodyView},s.prototype.mouseToIndex=function(t,e,i,o){if(o.set(-1,null),this._layoutCount<1)return o;var r=this.grid,n=this._summaryBounds.bottom,s=-1;if(n<=(i-=this._contentBounds.y)&&i<this._footerBounds.y){for(var a=0;a<this._fixedItemCount;a++)if(i>=n+this._fixedItemPoints[a]&&i<n+this._fixedItemPoints[a+1]){s=a,i-=n+this._fixedItemPoints[a];break}if(s<0&&0<this._itemCount){for(a=0;a<this._itemCount;a++)if(i>=n+this._itemPoints[a]&&i<n+this._itemPoints[a+1]){s=a,i-=n+this._itemPoints[a];break}0<=s&&(s+=r.topItem)}}else i>=this._footerBounds.y?s=-2:i<this._headerBounds.y&&(s=-3);if(o.itemIndex=s,t){var l=r.getCellViewOf(t),u=l&&r.getBodyView(l),h=u instanceof te.GridBodyElement&&u.layoutByCell(l);if(h)return o.layout=h,o}return o.layout=null,o.itemIndex=-1,o},s.prototype.mouseToIndexEx=function(t,e,i,o){if(this._layoutCount<1)return o;var r=this.grid,n=this._topIndex+this._fixedItemCount,s=this._summaryBounds.bottom,a=0;if((i-=this._contentBounds.y)<s)a=-1;else if(i>=this._bodyBounds.bottom&&i<this._footerBounds.y)a=n+this._fullItemCount;else if(i>=this._footerBounds.y)a=n+this._fullItemCount;else{a=-1,i-=s;for(var l=0;l<this._fixedItemCount;l++)if(i>=this._fixedItemPoints[l]&&i<this._fixedItemPoints[l+1]){a=l;break}if(a<0&&0<this._itemCount){for(l=0;l<this._itemCount;l++)if(i>=this._itemPoints[l]&&i<this._itemPoints[l+1]){a=l;break}0<=a&&(a+=n)}}o.itemIndex=a;var u=-1,h=this._gridBounds.x;if(e<h)u=Math.max(0,this._firstLayout-1);else if(e>=this._bodyBounds.right&&e<this._clientRect.right)u=r.visibleLayoutCount-1;else if(e>this._clientRect.right)u=Math.min(r.visibleLayoutCount-1,this._lastLayout+1);else{for(e-=h,l=0;l<this._fixedLayoutCount;l++)if(e>=this._fixedLayoutPoints[l]&&e<this._fixedLayoutPoints[l+1]){u=l;break}if(u<0&&0<this._rightLayoutCount){var c=e-this._rightContentBounds.x+this._grid.fixedOptions.colBarWidth+h;for(l=0;l<this._rightLayoutCount;l++)if(c>=this._rightLayoutPoints[l]&&c<this._rightLayoutPoints[l+1]){u=l+this.rightFirstLayout;break}}if(u<0)for(e=e-this._fixedWidth+this._leftPos,l=this._firstLayout;l<=this._lastLayout;l++)if(e>=this._layoutPoints[l-this._fixedLayoutCount]&&e<this._layoutPoints[l-this._fixedLayoutCount+1]){u=l;break}}return 0<=u&&u<r.visibleLayoutCount?o.layout=r.getVisibleCellLayout(u):o.layout=null,o},s.prototype.cellIsVisible=function(t){var e,i=t.itemIndex,o=this._fixedItemCount;if(o<=i){if(i<this._topIndex+o)return!1;if(0==this._fullItemCount&&i==this._topIndex+o)return!0;if(i>=this._topIndex+o+this._fullItemCount)return!1}var r=t.layout.vindex;if((o=this._fixedLayoutCount)<=r){if((e=this.getLayoutBounds(r-o).x)<this._leftPos)return!1;if(e+t.layout.cellWidth-this._leftPos>this._nonfixedBounds.width-this._scrollBarWidth)return!1}return!0},s.prototype.clearFocusRequest=function(){this._focusIndex=null},s.prototype.focusIsVisible=function(){return this._focusIndex&&this.cellIsVisible(this._focusIndex)},s.prototype.makeCellVisible=function(t){this._focusIndex=t.clone()},s.prototype.isAutoRowHeights=function(){return this._autoRowHeights},s.prototype.isRowGrouped=function(){return this._rowGrouped},s.prototype.$_calcFixedCellPoints=function(t,e){var i=this._layoutCount=e.visibleCount,o=e._cellWidths;if(this._fixedLayoutCount=Math.min(t.colCount,i),this._rightLayoutCount=Math.min(t.rightCount,i-this._fixedLayoutCount),this._rightFixed=t.rightFixed,this._cellCount=0,this._fixedCellCount=0,this._rightCellCount=0,this._layouts=[],this._fixedLayoutPoints=[],this._fixedWidth=0,this._rightWidth=0,this._fixedCellPoints=[],this._firstCell=0,(this._lastCell=0)<this._fixedLayoutCount){var r=this._fixedLayoutPoints,n=this._fixedCellPoints,s=0,a=0;r.push(s),n.push(s);for(var l=0;l<this._fixedLayoutCount;l++){for(var u=e.getVisible(l),h=u.cols,c=0;c<h;c++)s+=o[a++],n.push(s);this._layouts.push(u),r.push(s)}this._fixedCellCount=this._cellCount=a;var p=this._fixedBarWidth=t.colBarWidth;this._fixedWidth=r[this._fixedLayoutCount]+p}},s.prototype.$_calcCellPoints=function(t){var e=t.visibleCount-this._fixedLayoutCount-this._rightLayoutCount,i=t._cellWidths,o=this._layoutPoints=[],r=this._cellPoints=[],n=this._fixedLayoutCount,s=this._layouts;if(this._firstCell=this._cellCount,(this._layoutsLength=0)<e){var a=0,l=this._cellCount;o.push(a),r.push(a);for(var u=0;u<e;u++){for(var h=t.getVisible(u+n),c=h.cols,p=0;p<c;p++)a+=i[l++],r.push(a);s.push(h),o.push(a)}this._layoutsLength=a,this._cellCount=l,this._lastCell=l-1}},s.prototype.$_calcRightCellPoints=function(t,e){var i=e._cellWidths,o=this._layoutCount,r=this._rightLayoutPoints=[],n=this._rightCellPoints=[],s=this._layouts;if(0<this._rightLayoutCount){var a=0,l=this._cellCount;r.push(a),n.push(a);for(var u=o-this._rightLayoutCount;u<o;u++){for(var h=e.getVisible(u),c=h.cols,p=0;p<c;p++)a+=i[l++],n.push(a);s.push(h),r.push(a)}this._rightCellCount=l-this._cellCount,this._cellCount=l;var d=this._rightBarWidth=t.rightBarWidth;this._rightWidth=r[this._rightLayoutCount]+d}},s.prototype.$_calcScrollWidth=function(t,e){this._scrollWidth=t.width-this._leftContentBounds.width-this._sideContentBounds.width-this._fixedContentBounds.width-this._rightContentBounds.width-e},s.prototype.$_calcLeftPos=function(t,e){this.$_calcScrollWidth(t,e);var i=this._focusIndex&&this._focusIndex.column;if(i){var o=i.layout,r=o.root.vindex;if(r>=this._fixedLayoutCount&&r<this.rightFirstLayout){var n=this._layoutPoints[r-this._fixedLayoutCount];if(n<this._leftPos)this._leftPos=n;else{var s=n+o.width-this._leftPos-this._scrollWidth;0<s&&(this._leftPos=Math.min(n,this._leftPos+s))}}}this._leftPos=Math.max(0,Math.min(this._leftPos,this._layoutsLength-this._scrollWidth)),this._firstLayout=this._fixedLayoutCount,this._lastLayout=0<this._layoutCount?this._layoutCount-this._rightLayoutCount-1:-1},s.prototype.$_checkFitting=function(t,e){var i=t.fitStyle;if(i!=H.GridFitStyle.NONE){var o=this._cellPoints,r=o.length;if(0<r){if(i!=H.GridFitStyle.EVEN_FILL)return 0<e-o[r-1];for(var n=1,s=this._layoutsLength;n<r;n++)o[n]=o[n]*e/s;return o[r-1]=e,this._layoutsLength=e,!0}}return!1},s.prototype.$_fitColumns=function(t,e,i){var o=this._layoutsLength,r=this._cellPoints,n=r.length,s=this._fixedCellCount;if(0<n){var a=t.fitStyle,l=e._cellWidths,u=this._layouts;if(a==H.GridFitStyle.EVEN||a==H.GridFitStyle.EVEN_FILL)for(var h=1;h<n;h++)r[h]=Math.floor(r[h]*i/o);else if(a==H.GridFitStyle.FILL){var c=0,p=0;for(h=0;h<n-1;h++){var d=u[h+s].fillWidth;0<d?p+=d:c+=l[h+s]}if(0<p)for(c=i-c,h=1;h<n;h++){var _=u[h-1+s].fillWidth;r[h]=0<_?Math.floor(r[h-1]+_*c/p):Math.floor(r[h-1]+l[h-1+s])}else for(h=1;h<n;h++)r[h]=Math.floor(r[h]*i/o)}var f=0;for(h=1;h<n-1;h++){var y=r[h]-r[h-1];y<2?(f=2-y,r[h]+=2-y):0<f&&2+f<y&&(r[h]-=f,f=0)}for(h=0;h<n-1;h++)this._layouts[s+h].$_setFitWidth(r[h+1]-r[h])}this._layoutsLength=r[n-1]=i},s.prototype.$_measureTopPane=function(t){this._doMeasureTopPane(t,this._topContentBounds)},s.prototype._doMeasureTopPane=function(t,e){e.height=0},s.prototype.$_measureViewHeights=function(t,e){var i,o;this._headerBounds=e.clone(),o=t.header.visible?(i=t.headerView).measure(t,e.width,e.height):Wt.Size.EMPTY,this._headerBounds.height=o.height,this._fixedHeaderBounds=this._headerBounds.clone(),this._rightHeaderBounds=this._headerBounds.clone(),this._headBounds.y=e.y,this._headBounds.height=this._headerBounds.height,e.topBy(o.height),o=Wt.Size.EMPTY,t.headerSummaries.visible?(this._summaryBounds=e.clone(),(i=t.headerSummaryView).visible&&(o=i.measure(t,e.width,e.height)),(i=t.fixedHeaderSummaryView).visible&&(o=i.measure(t,e.width,e.height)),(i=t.rightHeaderSummaryView).visible&&(o=i.measure(t,e.width,e.height)),this._summaryBounds.height=o.height,this._fixedSummaryBounds=this._summaryBounds.clone(),this._rightSummaryBounds=this._summaryBounds.clone()):(this._summaryBounds||(this._summaryBounds=new G.Rectangle),this._fixedSummaryBounds||(this._fixedSummaryBounds=new G.Rectangle),this._rightSummaryBounds||(this._rightSummaryBounds=new G.Rectangle)),this._sumBounds.y=e.y,this._sumBounds.height=this._summaryBounds.height,e.topBy(o.height),o=Wt.Size.EMPTY,t.footers.visible?(this._footerBounds=e.clone(),(i=t.footerView).visible&&(o=i.measure(t,e.width,e.height)),(i=t.fixedFooterView).visible&&(o=i.measure(t,e.width,e.height)),(i=t.rightFooterView).visible&&(o=i.measure(t,e.width,e.height)),this._footerBounds.height=o.height,this._fixedFooterBounds=this._footerBounds.clone(),this._rightFooterBounds=this._footerBounds.clone()):(this._footerBounds||(this._footerBounds=new G.Rectangle),this._fixedFooterBounds||(this._fixedFooterBounds=new G.Rectangle),this._rightFooterBounds||(this._rightFooterBounds=new G.Rectangle)),this._footBounds.y=e.bottom-this._footerBounds.height,this._footBounds.height=this._footerBounds.height;var r=this._sumBounds.bottom,n=this._footBounds.y-r;this._indicatorBounds.y=r,this._indicatorBounds.height=n,this._stateBarBounds.y=r,this._stateBarBounds.height=n,this._checkBarBounds.y=r,this._checkBarBounds.height=n},s.prototype.$_sortSections=function(t){var e=[t.rowIndicator,t.stateBar,t.checkBar];return e.sort(function(t,e){var i=t.displayOrder,o=e.displayOrder;return i==o?t.staticOrder-e.staticOrder:i-o}),e},Object.defineProperty(s.prototype,"sectionObjects",{get:function(){return this._sectionObjects},enumerable:!0,configurable:!0}),s.prototype.$_measureLeftPane=function(t){var e,i=this._sectionObjects=this.$_sortSections(t),o=this._leftContentBounds.clone().move();this._leftContentBounds.width=0,this._headBounds=o.clone(),this._sumBounds=o.clone(),this._footBounds=o.clone();for(var r=0,n=i;r<n.length;r++){var s=n[r];s instanceof Pt.RowIndicator?(this._indicatorBounds=o.clone(),e=t.rowIndicator.visible?t.rowIndicatorView.measure(t,o.width,o.height):Wt.Size.EMPTY,this._indicatorBounds.width=e.width,this._leftContentBounds.width+=e.width,o.leftBy(e.width)):s instanceof jt.StateBar?(this._stateBarBounds=o.clone(),e=t.stateBar.visible?t.stateBarView.measure(t,o.width,o.height):Wt.Size.EMPTY,this._stateBarBounds.width=e.width,this._leftContentBounds.width+=e.width,o.leftBy(e.width)):s instanceof Bt.CheckBar&&(this._checkBarBounds=o.clone(),e=t.checkBar.visible?t.checkBarView.measure(t,o.width,o.height):Wt.Size.EMPTY,this._checkBarBounds.width=e.width,this._leftContentBounds.width+=e.width,o.leftBy(e.width))}this._headBounds.width=this._leftContentBounds.width,this._sumBounds.width=this._leftContentBounds.width,this._footBounds.width=this._leftContentBounds.width},s.prototype._measureSidePane=function(t){if(t.isSidePaneVisible()){var e=this._sideContentBounds.clone(),i=t.sideContentPane.measure(t,e.width,e.height);this._sideContentBounds.width=i.width}else this._sideContentBounds.width=0},s.prototype.$_measureFixedPane=function(t){this._fixedContentBounds.width=this._fixedWidth;var e=this._fixedContentBounds.clone().move();this._fixedHeaderBounds.x=e.x,this._fixedHeaderBounds.y=e.y,this._fixedHeaderBounds.width=e.width,e.topBy(this._fixedHeaderBounds.height),this._fixedSummaryBounds.x=e.x,this._fixedSummaryBounds.y=this._fixedHeaderBounds.bottom,this._fixedSummaryBounds.width=e.width,e.topBy(this._fixedSummaryBounds.height),this._fixedFooterBounds.x=e.x,this._fixedFooterBounds.y=e.bottom-this._fixedFooterBounds.height,this._fixedFooterBounds.width=e.width,e.bottomBy(-this._fixedFooterBounds.height),this._fixedBodyBounds=e},s.prototype.$_measureRightPane=function(t){var e=this._rightWidth;this._rightContentBounds.width=e;var i=this._rightContentBounds.clone();i.x=this._rightBarWidth,i.y=0,i.width-=i.x,this._rightHeaderBounds.x=i.x,this._rightHeaderBounds.y=i.y,this._rightHeaderBounds.width=i.width,i.topBy(this._rightHeaderBounds.height),this._rightSummaryBounds.x=i.x,this._rightSummaryBounds.y=this._rightHeaderBounds.bottom,this._rightSummaryBounds.width=i.width,i.topBy(this._rightSummaryBounds.height),this._rightFooterBounds.x=i.x,this._rightFooterBounds.y=i.bottom-this._rightFooterBounds.height,this._rightFooterBounds.width=i.width,i.bottomBy(-this._rightFooterBounds.height),this._rightBodyBounds=i},s.prototype.$_measureContentPane=function(t){var e=this._layoutsLength;this._contentBounds.width=e;var i=this._contentBounds.clone();i.x=i.y=0,this._headerBounds&&(this._headerBounds.x=i.x,this._headerBounds.y=i.y,this._headerBounds.width=i.width,i.topBy(this._headerBounds.height)),this._summaryBounds&&(this._summaryBounds.x=i.x,this._summaryBounds.y=this._headerBounds.bottom,this._summaryBounds.width=i.width,i.topBy(this._summaryBounds.height)),this._dataBounds=i.clone(),this._footerBounds&&(this._footerBounds.x=i.x,this._footerBounds.y=i.bottom-this._footerBounds.height,this._footerBounds.width=i.width,i.bottomBy(-this._footerBounds.height)),this._bodyBounds=i},s.prototype.$_calcItemHeight=function(t,e){var i=t.getItem(e).height;return isNaN(i)?this._calcRowHeight():i},s.prototype.$_calcItemPoints=function(t){var e=this.grid,i=e.itemSource,o=t.height-this._topContentBounds.height-this._headerBounds.height-this._summaryBounds.height-this._footBounds.height+1,r=0;this._compensated=0;var n=i?Math.min(i.fixedCount,i.itemCount):0;if(this._fixedItemCount=0,this._fixedBarHeight=0,this._fixedHeight=0,this._fixedItemPoints=[],0<n){this._fixedItemPoints.push(r);for(var s=0;s<n&&r<o;s++)r+=this.$_calcItemHeight(e,s),this._fixedItemPoints.push(r),this._fixedItemCount++;this._fixedHeight=r,r+=this._fixedBarHeight=e.fixedOptions.rowBarHeight}var a=e.itemCount-this._fixedItemCount;if(this._itemPoints=[r],this._itemCount=0,this._fullItemCount=0,(this._availableItemCount=0)<a&&r<o){var l=this._topIndex,u=-1;for(this._focusIndex&&(u=this._focusIndex.itemIndex)>=this._fixedItemCount&&u<l+this._fixedItemCount&&(l=this._topIndex=u-this._fixedItemCount),s=l;s<a&&r<o;s++)r+=this.$_calcItemHeight(e,s+this._fixedItemCount),this._itemCount++,this._itemPoints.push(r);if(this._fullItemCount=this._itemCount-(o<r?1:0),u>=this._topIndex+this._fixedItemCount+this._fullItemCount){r=0<this.fixedItemCount?this._fixedHeight+e.fixedOptions.rowBarHeight:0,this._topIndex=u-this._fixedItemCount-Math.max(0,this._fullItemCount-1),this._itemPoints=[r],this._itemCount=0,this._fullItemCount=0,this._availableItemCount=0;var h=e.itemCount-this._fixedItemCount;for(s=this._topIndex;s<h&&r<o;s++)r+=this.$_calcItemHeight(e,s+this._fixedItemCount),this._itemCount++,this._itemPoints.push(r);this._fullItemCount=this._itemCount-(o<=r?1:0)}}else this._topIndex=0},s.prototype.$_updateScrollInfo=function(t,e,i,o){var r=this._layoutsLength,n=this._itemPoints[this._itemPoints.length-1],s=t.fitStyle==H.GridFitStyle.EVEN_FILL;this._hscrolled=r>this._scrollWidth,this._vscrolled=0<this._topIndex||n>this._bodyBounds.height||this._topIndex+this._itemCount+this._fixedItemCount<this.grid.itemCount;var a=0<o&&this._hscrolled&&!s,l=0<i&&this._vscrolled;(a||l)&&(a&&l||(a?l=n>this._bodyBounds.height-o:s||(a=r>this._scrollWidth-i))),this._hscrollBar=a,this._vscrollBar=l,this._scrollBarWidth=l?i:0,this._scrollBarHeight=a?o:0,this._hscrolled=this._hscrolled||a,this._vscrolled=this._vscrolled||l,this._clientRect=e.clone(),this._clientRect.width-=this._hscrolled?i:0,this._clientRect.height-=this._vscrolled?o:0},s.prototype.$_adjustVerticals=function(){var t=this._scrollBarHeight,e=this._itemPoints;if(0<t){this._leftContentBounds.height-=t,this._footBounds.y-=t,this._indicatorBounds.height-=t,this._stateBarBounds.height-=t,this._checkBarBounds.height-=t,this._sideContentBounds.height-=t,this._fixedContentBounds.height-=t,this._fixedFooterBounds.y-=t,this._fixedBodyBounds.height-=t,this._contentBounds.height-=t,this._footerBounds.y-=t,this._bodyBounds.height-=t,this._rightContentBounds.height-=t,this._rightFooterBounds.y-=t,this._rightBodyBounds.height-=t;for(var i=this._bodyBounds.height;e[e.length-2]>i;)this._itemCount--,e.pop();if(0<this._compensated)for(;0<this._itemCount&&e[e.length-1]>i;){this._itemCount--,this._topIndex++,e.splice(0,1);for(var o=e[1]-e[0],r=0;r<e.length;r++)e[r]-=o}this._fullItemCount=this._itemCount-(e[this._itemCount]>=i?1:0);var n=this._focusIndex?this._focusIndex.itemIndex:-1;if(0<=n&&this._itemCount>this._fullItemCount&&n>=this._topIndex+this._fixedItemCount+this._fullItemCount){for(var s=e[this._itemCount]-e[this._itemCount-1],a=0,l=0;a<s;)a+=e[l+1]-e[l],l++;for(this._topIndex+=l,this._itemCount-=l-1,this._fullItemCount-=l-1,this._topIndex+this._fixedItemCount+this._itemCount>this.grid.itemCount&&this._itemCount--,e.splice(0,l-1),r=0;r<e.length;r++)e[r]-=a}}if(this._dataBounds.height=e[e.length-1],this._fullItemCount==this._itemCount){var u=e[e.length-1];this._indicatorBounds.height=u,this._stateBarBounds.height=u,this._checkBarBounds.height=u}},s.prototype.$_adjustHorizontals=function(t){var e=this._scrollBarWidth;this._rightContentBounds.x-=e,this.$_calcLeftPos(t,e);var i=this._cellPoints,o=i.length,r=this._leftPos,n=r+this._nonfixedBounds.width;this._startCell=this._endCell=this._firstCell;for(var s=0;s<o;s++)if(i[s]>=r){this._startCell+=s;break}for(s=o-1;0<=s;s--)if(i[s]<=n){this._endCell+=s-1;break}},s.prototype.$_calcTableRowPoints=function(){var t=this._trs,e=this._items,i=this._fixedItemCount,o=this._itemCount+i,r=this._fixedTableRowPoints=[],n=this._tableRowPoints=[],s=0;if(this._fixedTableRowCount=this._tableRowCount=0,this._fixedDataHeight=this._dataHeight=0,0<i){for(;s<i;s++){var a=this._fixedItemPoints[s];if(r.push(a),this._fixedTableRowCount++,e[s].isData)for(var l=Math.floor((this._fixedItemPoints[s+1]-a)/t),u=1;u<t;u++)r.push(a+=l),this._fixedTableRowCount++}r.push(this._fixedDataHeight=this._fixedItemPoints[i])}if(0<this.itemCount){for(;s<o;s++)if(a=this._itemPoints[s-i],l=this._itemPoints[s-i+1]-a,n.push(a),this._tableRowCount++,e[s].isData)for(l=Math.floor(l/t),u=1;u<t;u++)n.push(a+=l),this._tableRowCount++;n.push(this._dataHeight=this._itemPoints[this._itemCount]),this._dataHeight+=this._fixedDataHeight}},s.prototype._doMeasure=function(t,e,i){var o=this._grid,r=o.displayOptions,n=o.fixedOptions,s=t.clone();this._refreshMode=r.refreshMode,this._autoRowHeights=r.rowHeight<0,this._items=[],this._trs=this._cellLayouts.dataRows,this._rowGrouped=this.rowGrouped||this.mergedRowGrouped,this._hscrolled=this._vscrolled=!1,this._hscrollBar=this._vscrollBar=!1,this._minRowHeight=Math.max(Ut.DisplayOptions.MIN_ROW_HEIGHT,o.displayOptions.minRowHeight),o.heightMeasurer.measure(o),this.$_calcFixedCellPoints(n,this._cellLayouts),this.$_calcCellPoints(this._cellLayouts),this.$_calcRightCellPoints(n,this._cellLayouts),this._topContentBounds=s.clone(),this.$_measureTopPane(o),s.topBy(this.topPanelVisible?this._topContentBounds.height:0),this._leftContentBounds=s.clone(),this.$_measureLeftPane(o),s.leftBy(this._leftContentBounds.width),this._sideContentBounds=s.clone(),this._measureSidePane(o),s.leftBy(this._sideContentBounds.width),this.$_measureViewHeights(o,s.clone().move()),this._fixedContentBounds=s.clone(),this.$_measureFixedPane(o),s.leftBy(this._fixedContentBounds.width),this._rightContentBounds=s.clone(),this.$_measureRightPane(o),this._rightContentBounds.x=s.right-this._rightContentBounds.width,s.width-=this._rightContentBounds.width,this._contentBounds=s.clone(),this.$_measureContentPane(o),this._nonfixedBounds=new G.Rectangle(this._fixedContentBounds.right,this._fixedContentBounds.y,t.width-this._fixedContentBounds.right-this.rightContentBounds.width,this._footerBounds.y-this._fixedContentBounds.y),this._rowHeight=this._calcDefaultRowHeight(o),this.$_calcItemPoints(t),this.$_checkColumnMerging(o),this.$_calcScrollWidth(t,e),this.$_updateScrollInfo(r,t,e,i),this.$_adjustVerticals(),this.$_adjustHorizontals(t);var a=this._columnFitted;(this._columnFitted=this.$_checkFitting(r,this._scrollWidth))?(this.$_fitColumns(r,this.cellLayouts,this.scrollWidth),this._contentBounds.width=this._layoutsLength):this._columnFitted!=a&&o._activeCellLayout.$_clearFitWidths(),this._gridBounds=new G.Rectangle(this._fixedContentBounds.x,this._fixedContentBounds.y,t.right-this._fixedContentBounds.x,this._footerBounds.y-0)},s.prototype.$_layoutTopPane=function(t,e){var i=this._topContentBounds;this.topPanelVisible?e.setRect(i):e.setBounds(-10,-10,1,1),this._doLayoutTopPane(t,e)},s.prototype._doLayoutTopPane=function(t,e){},s.prototype.$_layoutLeftPane=function(t,e){var i,o=this._leftContentBounds;(e.visible=!o.isEmpty)&&(e.setRect(o),(i=t.headView).visible=t.header.visible,((i=t.sumView).visible=t.headerSummaries.visible)&&(i.setRect(this._sumBounds),i.layoutContent(this)),((i=t.footView).visible=t.footers.visible)&&(i.setRect(this._footBounds),i.layoutContent(this)),(i=t.rowIndicatorView).visible=t.rowIndicator.visible,(i=t.stateBarView).visible=t.stateBar.visible,(i=t.checkBarView).visible=t.checkBar.visible)},s.prototype._layoutSidePane=function(t,e){var i=this._sideContentBounds;(e.visible=!i.isEmpty)&&(e.setRect(i),e.layoutContent(this,i.width,i.height))},s.prototype._prepareItems=function(){for(var t=this._topIndex+this._fixedItemCount,e=0;e<this._fixedItemCount;e++){var i=this._rs.getItem(e);this._items.push(i)}for(e=0;e<this._itemCount;e++)i=this._rs.getItem(e+t),this._items.push(i)},s.prototype.$_layoutFixedPane=function(t,e){var i,o=this._fixedContentBounds;(e.visible=!o.isEmpty)?(e.setRect(o),((i=t.fixedHeaderView).visible=t.header.visible)&&(i.setRect(this._fixedHeaderBounds),i.layoutContent(this)),((i=t.fixedHeaderSummaryView).visible=t.headerSummaries.visible)&&(i.setRect(this._fixedSummaryBounds),i.layoutContent(this)),((i=t.fixedFooterView).visible=t.footers.visible)&&(i.setRect(this._fixedFooterBounds),i.layoutContent(this)),(i=t.fixedBodyView).visible=!0,e.layoutContent(this,o.width,o.height)):(t.fixedHeaderView.visible=!1,t.fixedHeaderSummaryView.visible=!1,t.fixedFooterView.visible=!1,t.fixedBodyView.visible=!1,t.fixedMergeView.visible=!1)},s.prototype.$_layoutRightPane=function(t,e){var i,o=this._rightContentBounds;(e.visible=!o.isEmpty)?(this._rightFixed||this._hscrolled||(o.x=this._contentBounds.right),e.setRect(o),((i=t.rightHeaderView).visible=t.header.visible)&&(i.setRect(this._rightHeaderBounds),i.layoutContent(this)),((i=t.rightHeaderSummaryView).visible=t.headerSummaries.visible)&&(i.setRect(this._rightSummaryBounds),i.layoutContent(this)),((i=t.rightFooterView).visible=t.footers.visible)&&(i.setRect(this._rightFooterBounds),i.layoutContent(this)),(i=t.rightBodyView).visible=!0,e.layoutContent(this,o.width,o.height)):(t.rightHeaderView.visible=!1,t.rightHeaderSummaryView.visible=!1,t.rightFooterView.visible=!1,t.rightBodyView.visible=!1,t.rightMergeView.visible=!1)},s.prototype.$_layoutContentPane=function(t,e){var i,o=this._contentBounds;(e.visible=!o.isEmpty)&&(o.x-=this._leftPos,e.setRect(o),((i=t.headerView).visible=t.header.visible)&&(this._headerBounds.width=o.width,i.setRect(this._headerBounds),i.layoutContent(this)),((i=t.headerSummaryView).visible=t.headerSummaries.visible)&&(this._summaryBounds.width=o.width,i.setRect(this._summaryBounds),i.layoutContent(this)),((i=t.footerView).visible=t.footers.visible)&&(this._footerBounds.width=o.width,i.setRect(this._footerBounds),i.layoutContent(this)),i=t.bodyView,this._bodyBounds.width=o.width,e.layoutContent(this,o.width,o.height))},s.prototype.$_layoutWatingPane=function(t,e){var i=t.bounds.clone();e.setRect(i),e.layoutContent(this,i.width,i.height)},s.prototype._doLayout=function(t,e){var i;this._prepareItems(),this.$_calcTableRowPoints(),i=t._topContentPane,this.$_layoutTopPane(t,i),i=t._leftContentPane,this.$_layoutLeftPane(t,i),(i=t._sideContentPane)&&this._layoutSidePane(t,i);var o=Date.now();i=t._fixedContentPane,this.$_layoutFixedPane(t,i),i=t._rightContentPane,this.$_layoutRightPane(t,i),i=t._contentPane,this.$_layoutContentPane(t,i),console.log("LAYOUT CONTENTS: "+(Date.now()-o)),i=t._waitingPane,this.$_layoutWatingPane(t,i)},s.prototype.$_adjustLayout=function(t,e){this._hscrolled,this._vscrolled;var i,o,r=this._items,n=(this._tableRowPoints,t._fixedContentPane),s=t._rightContentPane,a=t._contentPane,l=t.fixedHeaderView,u=t.rightHeaderView,h=t.headerView,c=t.headView.visible,p=n.visible&&l.visible,d=s.visible&&u.visible,_=a.visible&&h.visible,f=h.height,y=0,m=!1,g=0,v=0;if(p&&(m=l.$_checkHeight()),!m&&d&&(m=u.$_checkHeight()),!m&&_&&(m=h.$_checkHeight()),m){var b=t.header.height,C=[];y=0,p&&(l.$_getHeights(C),0<b?l.$_distributeHeights(b,C):y=Math.max(y,l.$_adjustHeights(C))),d&&(u.$_getHeights(C),0<b?u.$_distributeHeights(b,C):y=Math.max(y,u.$_adjustHeights(C))),_&&(h.$_getHeights(C),0<b?h.$_distributeHeights(b,C):y=Math.max(y,h.$_adjustHeights(C))),b<=0&&(g+=y-f,this._headBounds.height=y,this._fixedHeaderBounds.height=this._headerBounds.height=this._rightHeaderBounds.height=y,p&&l.setRect(this._fixedHeaderBounds),d&&u.setRect(this._rightHeaderBounds),_&&h.setRect(this._headerBounds))}if(0!=g&&(this._fixedSummaryBounds.y=this._rightSummaryBounds.y=this.summaryBounds.y=this._sumBounds.y+=g),t.headerSummaries.visible&&0!=g&&(p&&(t.fixedHeaderSummaryView.y=this._fixedSummaryBounds.y),d&&(t.rightHeaderSummaryView.y=this._rightSummaryBounds.y),_&&(t.headerSummaryView.y=this._summaryBounds.y),c&&(t.sumView.y=this._sumBounds.y)),e.topBy(this._headBounds.height+this._sumBounds.height),0!=g&&(v=this._sumBounds.bottom,y=Math.min(e.height,this._checkBarBounds.height),this._indicatorBounds.y=this._stateBarBounds.y=this._checkBarBounds.y=v,this._checkBarBounds.height=this._stateBarBounds.height=this._indicatorBounds.height=y,this._fixedBodyBounds.y=this.bodyBounds.y=this._rightBodyBounds.y=v,this._fixedBodyBounds.height=this._bodyBounds.height=this._rightBodyBounds.height=y),(o=t.fixedBodyView).visible&&o.setRect(this._fixedBodyBounds),(o=t.bodyView).visible&&o.setRect(this._bodyBounds),(o=t.rightBodyView).visible&&o.setRect(this._rightBodyBounds),0<r.length){this.$_layoutBodyRows(t,p,_,d,this._bodyBounds.height),i=r[r.length-1];var w=t.$_getVertScrollMax();i.index==t.itemCount-1&&this._dataHeight>e.height&&this._topIndex==w&&(console.log("VMAX: "+this._topIndex+", "+this._fullItemCount+", "+this._itemCount),this._itemCount--,this._fullItemCount--)}(o=t.headView).visible&&(o.setRect(this._headBounds),o.layoutContent(this)),(o=t.rowIndicatorView).visible&&(o.setRect(this._indicatorBounds),o.layoutContent(this)),(o=t.stateBarView).visible&&(o.setRect(this._stateBarBounds),o.layoutContent(this)),(o=t.checkBarView).visible&&(o.setRect(this._checkBarBounds),o.layoutContent(this))},s.prototype.$_layoutBodyRows=function(t,e,i,o,r){var n,s=e&&0<this._fixedCellCount?t.fixedBodyView:null,a=i&&0<this.cellCount?t.bodyView:null,l=0<(o&&this._rightCellCount)?t.rightBodyView:null;if(s&&(n=s)._doPrepareContent(this),l&&(n=l)._doPrepareContent(this),a&&(n=a)._doPrepareContent(this),n){var u,h,c,p,d,_=t.itemSource,f=_?Math.min(_.fixedCount,_.itemCount):0,y=this._autoRowHeights,m={lm:this,grid:t,topIndex:this._topIndex,fixedItemCount:f,mergedRowGrouped:this.mergedRowGrouped,mergeHeads:[]},g=this._minRowHeight,v=n._trs,b=0,C=0,w=0;this._fixedItemCount=0,this._itemCount=0,this._compensated=0,this._fixedHeight=0;var x=!1,I=[],E=[],S=[];if(this._fixedTableRowCount=0,this._tableRowCount=0,this._fixedDataHeight=this._dataHeight=0,0<f){I.push(C),E.push(w);for(var O=0;O<f&&C<r;O++){if(d=_.getItem(O),this._items.push(d),s&&s.layoutRow(m,O,b,d),a&&a.layoutRow(m,O,b,d),l&&l.layoutRow(m,O,b,d),y){if(h=d.height,c=d.heights,isNaN(h)){c=[];for(var R=0;R<v;R++)c[R]=0;if(d.heights=c,s){var D=s._tbody.children;for(R=0;R<v;R++)c[R]=Math.max(c[R],g,D[b+R].offsetHeight)}if(a)for(D=a._tbody.children,R=0;R<v;R++)c[R]=Math.max(c[R],g,D[b+R].offsetHeight);if(l)for(D=l._tbody.children,R=0;R<v;R++)c[R]=Math.max(c[R],g,D[b+R].offsetHeight)}for(R=h=0;R<v;R++)h+=c[R],E.push(w+=c[R]);d.height=h}else{for(u=w,h=this._fixedItemPoints[O+1]-this._fixedItemPoints[O],p=Math.floor(h/v),R=0;R<v-1;R++)E.push(p);E.push(w=u+h)}this._fixedTableRowCount+=v,C+=h,I.push(C),this._fixedItemCount++,this._fixedDataHeight=C,b+=v}(this._fixedHeight=C)<r&&(h=0,s&&(h=s.layoutFixedBar(this,b)),a&&(h=a.layoutFixedBar(this,b)),l&&(h=l.layoutFixedBar(this,b)),b++,C+=h,w+=h,x=!0)}var P=t.itemCount-this._fixedItemCount,T=[C];if(S.push(C),this._itemCount=0,this._fullItemCount=0,(this._availableItemCount=0)<P&&C<r){var k=this._topIndex,M=-1;for(this._focusIndex&&(M=this._focusIndex.itemIndex)>=this._fixedItemCount&&M<k+this._fixedItemCount&&(k=this._topIndex=M-this._fixedItemCount),O=k;O<P&&C<r;O++){d=_.getItem(O+f),this._items.push(d);var L=this._fixedItemCount+O-k;if(s&&s.layoutRow(m,L,b,d),a&&a.layoutRow(m,L,b,d),l&&l.layoutRow(m,L,b,d),d.isData)if(y){if(h=d.height,c=d.heights,isNaN(h)){for(d.heights=c=[],R=0;R<v;R++)c[R]=0;if(s)for(D=s._tbody.children,R=0;R<v;R++)c[R]=Math.max(c[R],g,D[b+R].offsetHeight);if(a)for(D=a._tbody.children,R=0;R<v;R++)c[R]=Math.max(c[R],g,D[b+R].offsetHeight);if(l)for(D=l._tbody.children,R=0;R<v;R++)c[R]=Math.max(c[R],g,D[b+R].offsetHeight)}for(R=h=0;R<v;R++)h+=c[R],S.push(w+=c[R]);d.height=h}else{for(u=w,h=this._itemPoints[O-k+1]-this._itemPoints[O-k],p=Math.floor(h/v),R=0;R<v-1;R++)S.push(w+=p);S.push(w=u+h)}else h=this._itemPoints[O-k+1]-this._itemPoints[O-k],S.push(w+=h);this._tableRowCount+=v,C+=h,T.push(C),this._itemCount++,this._dataHeight=C,b+=v}this._fullItemCount=this._itemCount-(r<C?1:0),y&&(s&&s.$_resetHeights(E,S),a&&a.$_resetHeights(E,S),l&&l.$_resetHeights(E,S))}else this._topIndex=0;this._fixedItemPoints=I,this._itemPoints=T,this._fixedTableRowPoints=E,this._tableRowPoints=S,this._items.length=this.fixedItemCount+this._itemCount,y&&(L=this._items.length+(0<this.fixedItemCount?1:0),e&&s.cleanTableRows(L),i&&a.cleanTableRows(L),o&&l.cleanTableRows(L)),x&&b--,e&&s.$_cleanBodyCells(b),i&&a.$_cleanBodyCells(b),o&&a.$_cleanBodyCells(b)}},s.prototype.$_prepareColumnMerges=function(t,e,i,o){for(var r=this._itemCount,n=!1,s=0,a=e.length;s<a;s++){var l=e[s],u=l&&l.layout;if(u&&u.canMerge()){var h=u._merges;h||(h=new tt.ColumnMergeManager(u),u._merges=h),h.refresh(i,o),h.prepareCells(r),t.addColumnRooms(this,s,l,h),l.layout.$_setMerged(!0),n=!0}}return n},s.prototype.$_checkColumnMerging=function(t){var e=t.fixedOptions.rowCount,i=this._contentBounds.height/t.displayOptions.minRowHeight-e,o=this._layoutCount,r=t.mergeView,n=t.fixedMergeView,s=t.rightMergeView,a=e+this._topIndex,l=Math.min(t.itemCount-1,e+this._topIndex+i-1),u=0<this._fixedLayoutCount,h=0<this._rightLayoutCount;if(r.clearRooms(),u&&n.clearRooms(),h&&s.clearRooms(),u){var c=t.getHorzColumns(0,this._fixedLayoutCount);this._fixedColumnMerged=this.$_prepareColumnMerges(n,c,a,l)}if(h){var p=t.getHorzColumns(o-this._rightLayoutCount,this._rightLayoutCount);this._rightColumnMerged=this.$_prepareColumnMerges(s,p,a,l)}var d=t.getHorzColumns(this._fixedLayoutCount,o-this._fixedLayoutCount-this._rightLayoutCount);this._columnMerged=this.$_prepareColumnMerges(r,d,a,l)},s);function s(t){var e=r.call(this)||this;return e._refreshMode=H.RefreshMode.ALL,e._leftPos=0,e._rightFixed=!0,e._footerCount=0,e._headerSummaryCount=0,e._layoutCount=0,e._fixedLayoutCount=0,e._rightLayoutCount=0,e._firstLayout=0,e._lastLayout=0,e._layoutsLength=0,e._layouts=[],e._layoutPoints=[],e._fixedLayoutPoints=[],e._rightLayoutPoints=[],e._cellCount=0,e._fixedCellCount=0,e._rightCellCount=0,e._firstCell=0,e._lastCell=0,e._startCell=0,e._endCell=0,e._cellPoints=[],e._fixedCellPoints=[],e._rightCellPoints=[],e._trs=1,e._rowGrouped=!1,e._items=[],e._topIndex=0,e._itemCount=0,e._fixedItemCount=0,e._fullItemCount=0,e._availableItemCount=0,e._fixedItemPoints=[],e._itemPoints=[],e._fixedTableRowCount=0,e._tableRowCount=0,e._fixedTableRowPoints=[],e._tableRowPoints=[],e._fixedDataHeight=0,e._dataHeight=0,e._fixedBarWidth=0,e._rightBarWidth=0,e._fixedBarHeight=0,e._columnMerged=!1,e._fixedColumnMerged=!1,e._rightColumnMerged=!1,e._fixedWidth=0,e._rightWidth=0,e._fixedHeight=0,e._autoRowHeights=!1,e._minRowHeight=Ut.DisplayOptions.MIN_ROW_HEIGHT,e._rowHeight=0,e._hscrolled=!1,e._vscrolled=!1,e._hscrollBar=!1,e._vscrollBar=!1,e._scrollBarWidth=0,e._scrollBarHeight=0,e._scrollWidth=0,e._columnFitted=!1,e._compensated=0,e._grid=t,e}e.GridLayoutManager=n});t(ee);ee.GridLayoutManager;var ie=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=qt.SectionObjectElement,i(s,r),s.prototype._getCssSelector=function(){return"rg-statebar"},s.prototype._doMeasure=function(t,e,i){var o=t.stateBar;return new Wt.Size(o.width,i)},s.prototype._doLayoutContent=function(t){var e=t.grid,i=this.model,o=i.mark,r=o==Pt.StateMark.IMAGE||o==Pt.StateMark.DEFAULT,n=t.topIndex,s=t.itemCount,a=t.fixedItemCount,l=a+s,u=e.focusedRow;this._textMark=o==Pt.StateMark.TEXT;for(var h=0;h<l;h++){var c=h<a?h:h+n,p=et.CellIndex.temp(e,c),d=i.getCell(p),_=this._getTableRow(t,h),f=_.children[0];_.$_row<0&&(_.className=""),_.$_row=c,f.$_foc=c==u,U.Utils.setClassName(f,this.$_getCellSelector(f,r)),this._updateCellContent(e,d,f)}0<a&&this._layoutFixedBar(e.fixedOptions,a)},s.prototype._doUpdateCellContent=function(t,e,i){var o=this.model;i.textContent=this._textMark?o.stateText(e.item.rowState):""},s.prototype.$_getCellSelector=function(t,e){var i=this.grid.getItem(t.parentElement.$_row);if(!(0<=i.dataRow&&e))return"rg-statebar-cell";switch(i.rowState){case w.RowState.UPDATED:return"rg-statebar-cell rg-statebar-updated";case w.RowState.CREATED:return"rg-statebar-cell rg-statebar-created";case w.RowState.DELETED:return"rg-statebar-cell rg-statebar-deleted";case w.RowState.CREATE_AND_DELETED:return"rg-statebar-cell rg-statebar-create-and-deleted";default:return"rg-statebar-cell"}},s);function s(t){var e=r.call(this,t,"stateBarView")||this;return e._textMark=!1,e}e.StateBarElement=n});t(ie);ie.StateBarElement;var oe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=qt.SectionObjectElement,i(s,r),s.prototype._getCssSelector=function(){return"rg-checkbar"},s.prototype._prepareCellContent=function(t,e){var i=document.createElement("div"),o=document.createElement("input"),r=o.style;return o.type="checkbox",o.className="rg-checkbox",r.display="inline-block",i.appendChild(o),i},s.prototype._doMeasure=function(t,e,i){var o=this.model;return this._typeChanged=o.exclusive!=this._exclusive,this._typeChanged&&(this._exclusive=o.exclusive),new Wt.Size(o.width,i)},s.prototype._doLayoutContent=function(t){for(var e=t.grid,i=this.model,o=t.topIndex,r=t.itemCount,n=this._fixedCount=t.fixedItemCount,s=n+r,a=e.focusedRow,l=0;l<s;l++){var u=l<n?l:l+o,h=et.CellIndex.temp(e,u),c=i.getCell(h),p=this._getTableRow(t,l),d=p.children[0];p.$_row<0&&(p.className=""),p.$_row=u,d.$_foc=u==a,U.Utils.setClassName(d,this.$_getCellSelector()),this._updateCellContent(e,c,d)}0<n&&this._layoutFixedBar(e.fixedOptions,n)},s.prototype._doUpdateCellContent=function(t,e,i){var o=e.item,r=i;r.checked=o&&o.checked,r.disabled=o&&!o.checkable,r.style.visibility=t.checkBar.showGroup||o instanceof Z.GridRow?"visible":"hidden",this._typeChanged&&r.setAttribute("type",this._exclusive?"radio":"checkbox")},s.prototype.getCellContent=function(t,e){return r.prototype.getCellContent.call(this,t,e).firstElementChild},s.prototype._getCellContent=function(t){return t.firstElementChild.firstElementChild},s.prototype.getCheckBox=function(t){return t.firstElementChild.firstElementChild},s.prototype.$_getCellSelector=function(){return s.CELL_CSS},s.prototype.$_setPrevChecked=function(t){this._prevChecked=t},s.CELL_CSS="rg-checkbar-cell",s);function s(t){var e=r.call(this,t,"checkBarView")||this;return e._fixedCount=0,e._prevChecked=-1,e._exclusive=!1,e._typeChanged=!1,e}e.CheckBarElement=n});t(oe);oe.CheckBarElement;var re=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r="rowspan",n="colspan",C=(s.prototype.dispose=function(){this.cell=null,this.layout=null},s.prototype.span=function(){this.spanned=!0,this.clear(!1)},s.prototype.clear=function(t){1<this.colSpan&&(this.colSpan=1,this.cell.removeAttribute(n)),1<this.rowSpan&&(this.rowSpan=1,this.cell.removeAttribute(r)),this.visible!==t&&(this.visible=t,this.cell.style.display=t?"":"none");var e=this.cell.firstElementChild;return this.className&&(this.cell.className=this.className=""),this.rendererClass&&(e.className=this.rendererClass=""),this.text&&(e.textContent=this.text=""),this.html&&(e.innerHTML=this.html=""),this},s.prototype.setColSpan=function(t){return this.colSpan!=t&&(1<(this.colSpan=t)?this.cell.colSpan=t:this.cell.removeAttribute(n)),this},s.prototype.setRowSpan=function(t){return this.rowSpan!=t&&(1<(this.rowSpan=t)?this.cell.rowSpan=t:this.cell.removeAttribute(r)),this},s.prototype.setVisible=function(t){return t!==this.visible&&(this.visible=t,this.cell.style.display=t?"":"none"),this},s.prototype.set=function(t,e,i){return this.colSpan!=t&&(1<(this.colSpan=t)?this.cell.colSpan=t:this.cell.removeAttribute(n)),this.rowSpan!=e&&(1<(this.rowSpan=e)?this.cell.rowSpan=e:this.cell.removeAttribute(r)),this.visible!==i&&(this.visible=i,this.cell.style.display=i?"":"none"),this},s.prototype.refreshFormatters=function(t){var e;this.textFormatter=null,this.numberFormatter=null,this.datetimeWriter=null,this.booleanFormatter=null,(e=t.textFormat)&&(this.textFormatter&&this.textFormatter.format==e||(this.textFormatter=lt.TextFormatter.getFormatter(e))),(e=t.numberFormat)&&(this.numberFormatter&&this.numberFormatter.format==e||(this.numberFormatter=z.DecimalFormatter.getFormatter(e))),(e=t.datetimeFormat)&&(this.datetimeWriter&&this.datetimeWriter.format==e||(this.datetimeWriter=$.DateTimeWriter.getFormatter(e))),(e=t.booleanFormat)&&(this.booleanFormatter&&this.booleanFormatter.format==e||(this.booleanFormatter=W.BooleanFormatter.getFormatter(e)))},s.prototype.setText=function(t){t!==this.text&&(this.cell.firstElementChild.textContent=(this.text=t)||"")},s.prototype.setHtml=function(t){t!==this.html&&(this.cell.firstElementChild.innerHTML=(this.html=t)||"")},s.prototype.setClassName=function(t){return t!=this.className&&(this.cell.className=this.className=t,!0)},s.prototype.setRendererClassName=function(t){t!=this.rendererClass&&(this.cell.firstElementChild.className=this.rendererClass=t)},s);function s(t){this.cell=null,this.layout=null,this.visible=void 0,this.spanned=!1,this.rowSpan=1,this.colSpan=1,this.className="",this.rendererClass="",this.style=new ut.ColumnSummaryStyle,this.text=void 0,this.html=void 0,this.cell=t,this.text=t.textContent}e.SummaryTableCell=C;var a,l=(a=Kt.SimpleTableElement,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},u.prototype.tableCellByCell=function(t){for(var e=0;e<this._cells.length;e++)for(var i=this._cells[e],o=0;o<i.length;o++){var r=i[o];if(r&&r.cell===t)return r}return null},u.prototype.layoutByCell=function(t){var e=this.tableCellByCell(t);return e&&e.layout},u.prototype.columnByCell=function(t){var e=this.layoutByCell(t);return e&&e._columnObj},u.prototype._getCellCount=function(t){return t.cellCount-t.fixedCellCount-t.rightCellCount},u.prototype._getCellWidth=function(t,e){return t.getCellWidth(e)},u.prototype._doDrawCell=function(t,e,i){},u.prototype._doRender=function(t){},u.prototype._getFirstCell=function(t){return t._firstCell},u.prototype._getLastCell=function(t){return t._lastCell},u.prototype._getStartCell=function(t){return t.getStartCell()},u.prototype._getEndCell=function(t){return t.getEndCell()},u.prototype._prepareCellContent=function(t,e){return document.createElement("div")},u.prototype._doMeasure=function(t,e,i){for(var o=t.layoutManager,r=this._getSummaryRows(o),n=this._getCollection(),s=this._getSummaryHeight(t.heightMeasurer),a=0,l=this._rowPoints=[a],u=0,h=0,c=n.count;h<c;h++){var p=n.get(h),d=p.height;d<=0&&(d=s*r),d=Math.max(p.minHeight,d);for(var _=Math.floor(d/r),f=0,y=0;y<r-1;y++)a+=_,l.push(a),f+=_;a+=d-f,l.push(a),u+=d}return Wt.Size.create(e,u)},u.prototype._doPrepareTableExtents=function(t){},u.prototype._doLayoutContent=function(t){var e=t.grid,i=this._getCollection(),o=this._getSummaryCount(t),r=t.cellLayouts._dataCells,n=r.length,s=this._getFirstCell(t),a=this._getStartCell(t)-s,l=this._getEndCell(t)-s;this._refreshCells(t,o,r,this._tbody),this.$_refreshSpans(n*o,a,l);for(var u=0;u<o;u++)for(var h=i.getVisible(u),c=0;c<n;c++){var p=this._cells[u*n+c],d=this._getTableRow(t,u*n+c);h.styleName&&U.Utils.setClassName(d,h.styleName);for(var _=a;_<=l;_++){var f=p[_],y=f.layout;if(y.isProxy)f.setText(""),f.setClassName(h.getCellStyleName());else if(y instanceof A.CellLayoutGroupItem)f.setText(""),f.setClassName(h.getCellStyleName());else{var m=h.getCell(y);this._updateCell(e,h,m,f)}}}},u.prototype._updateCell=function(t,e,i,o){var r=i,n=r.getSummary(),s=e.getCellStyle(i,o.style.clear()),a=r.template;o.setClassName(s.styleName),o.setRendererClassName(this._getRendererStyle()),o.refreshFormatters(s),n&&e.getCellFormatters(r.getSummary(),o),n&&(void 0===a?o.setText(r.getDisplayText(o)):o.setHtml(a))},u.prototype._getTableRowHeight=function(t,e){return this._rowPoints[e+1]-this._rowPoints[e]},u.prototype._refreshCells=function(t,e,i,o){for(var r=U.Utils.getTimer(),n=this._cells,s=o.children,a=s.length,l=i.length,u=this._getFirstCell(t),h=this._getLastCell(t)-u+1,c=n.length;c<a;c++)n.push([]);for(var p=c=0;c<e&&p<a;c++)for(var d=0;d<l;d++){for(var _=n[p],f=s[p].children,y=i[d],m=0;m<h;m++){var g=y[m+u],v=_[m];v?v.cell!==f[m]||v.layout!=g&&(v.layout=g,v.clear(!0)):(v=_[m]=new C(f[m])).layout=g,v.spanned=!1}for(p++,m=h;m<_.length;m++)_[m].dispose();_.length=h}for(p=a;p<n.length;p++){var b=n[p];for(m=0;m<b.length;m++)b[m].dispose(),b[m]=null}n.length=a,r=U.Utils.getTimer()-r,console.log("$$$$ REFRESH_"+this.constructor.name+"_CELLS: "+r)},u.prototype.$_refreshSpans=function(t,e,i){for(var o=0;o<t;o++)for(var r=this._cells[o],n=e;n<=i;n++){var s=r[n],a=s.layout,l=a.parent,u=l&&l.vertical;if(s.spanned);else if(a.isProxy)s.clear(!1);else{var h=0,c=this._getSpanOf(a)-1;if(0<c)for(var p=0,d=a.vindex+1;p++<c&&d<l.visibleCount;){var _=l.getVisible(d++);u?(h+=_._dspan,this._cells[o+p][n].span()):(h+=_._cspan,r[n+p].span())}a.isNull&&s.clear(!0),u?s.set(a._cspan,a._dspan+h,!0):s.set(a._cspan+h,a._dspan,!0)}}},u.prototype._doPrepareTableRow=function(t,e,i,o){a.prototype._doPrepareTableRow.call(this,t,e,i,o)},u);function u(t,e){var i=a.call(this,t,e)||this;return i._rowPoints=[],i._cells=[],i}e.SummaryElement=l});t(re);re.SummaryTableCell,re.SummaryElement;var ne=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=re.SummaryElement,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype._getCssSelector=function(){return"rg-footer"},s.prototype._getRendererStyle=function(){return"rg-footer-renderer"},s.prototype._getSummaryRows=function(t){return t.footerRows},s.prototype._getCollection=function(){return this.model},s.prototype._getSummaryHeight=function(t){return t.footerHeight},s.prototype._getSummaryCount=function(t){return t.footerCount},s.prototype._getSpanOf=function(t){return t.getFooterSpan()},s.prototype._getTableRowCount=function(t){return t.footerRows*t.footerCount},s.prototype._getSummaryItem=function(t,e){return t.firstColumn.footers.getItem(e)},s);function s(t){return r.call(this,t,"footerView")||this}e.FooterElement=n;var a,l=(i(u,a=n),u.prototype._getCssSelector=function(){return"rg-fixed-footer"},u.prototype._getFirstCell=function(t){return 0},u.prototype._getLastCell=function(t){return t.fixedCellCount-1},u.prototype._getStartCell=function(t){return 0},u.prototype._getEndCell=function(t){return t.fixedCellCount-1},u.prototype._getCellCount=function(t){return t.fixedCellCount},u.prototype._getCellWidth=function(t,e){return t.getFixedCellWidth(e)},u);function u(){return null!==a&&a.apply(this,arguments)||this}e.FixedFooterElement=l;var h,c=(i(p,h=n),p.prototype._getCssSelector=function(){return"rg-fixed-footer"},p.prototype._getFirstCell=function(t){return t.cellCount-t.rightCellCount},p.prototype._getLastCell=function(t){return t.cellCount-1},p.prototype._getStartCell=function(t){return t.cellCount-t.rightCellCount},p.prototype._getEndCell=function(t){return t.cellCount-1},p.prototype._getCellCount=function(t){return t.rightCellCount},p.prototype._getCellWidth=function(t,e){return t.getRightCellWidth(e)},p);function p(){return null!==h&&h.apply(this,arguments)||this}e.RightFooterElement=c});t(ne);ne.FooterElement,ne.FixedFooterElement,ne.RightFooterElement;var se=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),Object.defineProperty(s.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dragging",{get:function(){return this._dragging},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"startWhenCreated",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"completed",{get:function(){return this._completed},enumerable:!0,configurable:!0}),s.prototype.activate=function(){this._active||(this._doActivate(),this._active=!0)},s.prototype.deactivate=function(){this._active&&(this.cancel(),this._doDeactivate(),this._active=!1)},s.prototype.start=function(t,e,i,o){return void 0===o&&(o=!1),this.cancel(),!(!this._active||!this._doStart(t,e,i,o)||(this._currentX=this._startX=e,this._currentY=this._startY=i,this._dragging=!0,this._completed=!1,this._showFeedback(e,i),0))},s.prototype.drag=function(t,e,i){return!(!this._dragging||(this._currentX=e,this._currentY=i,!this._doDrag(t,e,i))||(this._moveFeedback(e,i),0))},s.prototype.cancel=function(){try{if(this._dragging)try{this._dragging=!1,this._doCanceled(this._currentX,this._currentY)}finally{this._doEnded()}}finally{this._hideFeedback()}},s.prototype.drop=function(t,e,i){try{if(this._dragging)try{this._currentX=e,this._currentY=i,this._dragging=!1,this._canAccept(t,e,i)?(this._doCompleted(t,e,i),this._completed=!0):this._doCanceled(e,i)}finally{this._doEnded()}}finally{this._hideFeedback()}},s.prototype.getNextRequest=function(t,e){return null},Object.defineProperty(s.prototype,"currentX",{get:function(){return this._currentX},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"currentY",{get:function(){return this._currentY},enumerable:!0,configurable:!0}),s.prototype._showFeedback=function(t,e){},s.prototype._moveFeedback=function(t,e){},s.prototype._hideFeedback=function(){},s.prototype._doActivate=function(){},s.prototype._doDeactivate=function(){},s.prototype._doStart=function(t,e,i,o){return!0},s.prototype._doDrag=function(t,e,i){return!0},s.prototype._doCanceled=function(t,e){},s.prototype._canAccept=function(t,e,i){return!0},s.prototype._doCompleted=function(t,e,i){},s.prototype._doEnded=function(){},s);function s(t,e){var i=r.call(this)||this;return i._active=!1,i._completed=!1,i._dragging=!1,i._currentX=0,i._currentY=0,i._container=t,i._name=e,i}e.DragTracker=n});t(se);se.DragTracker;var ae=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){this._dragTracker=null,this._previous=null,this._owner=null,this._mouseEventTarget=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"previous",{get:function(){return this._previous},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dragTracker",{get:function(){return this._dragTracker},set:function(t){t!==this._dragTracker&&(this._dragTracker&&this._dragTracker.deactivate(),this._dragTracker=t,this._dragTracker&&this._dragTracker.activate())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dragging",{get:function(){return this._dragTracker&&this._dragTracker.dragging},enumerable:!0,configurable:!0}),s.prototype.findElementAt=function(t,e,i){return this._owner.findElementAt(t,e,i)},s.prototype.activate=function(t){this._doActivated(t)},s.prototype.deactivate=function(){this._doDeactivated()},s.prototype.keyDown=function(t){return this._doKeyDown(t)},s.prototype.keyUp=function(t){return this._doKeyUp(t)},s.prototype.keyPress=function(t){return this._doKeyPress(t)},s.prototype.mouseDown=function(t){var e=this._currX=this._clickX=t.mouseX,i=this._currY=this._clickY=t.mouseY;this.dragging&&this._stopDragTracker(e,i,!1),this._doMouseDown(t)},s.prototype.mouseMove=function(t){var e=this._currX=t.mouseX,i=this._currY=t.mouseY,o=this.dragTracker;if(o)if(o.dragging)if(null==t.buttons||0<t.buttons||U.Utils.ieOld&&0<=t.buttons){if(!o.drag(this._mouseEventTarget,e,i)){var r=o.getNextRequest(e,i);r&&(this._stopDragTracker(e,i,!0),this.dragTracker=this._getDragTracker(r,e,i),this._startDragTracker(e,i,!1))}}else this._stopDragTracker(e,i,!0);else 3<=Math.abs(e-this._clickX)||3<=Math.abs(i-this._clickY)?this._startDragTracker(e,i,!1):this._doMouseMove(t);else this._doMouseMove(t)},s.prototype.mouseUp=function(t){var e=this._currX=t.mouseX,i=this._currY=t.mouseY;this.dragging?this._stopDragTracker(e,i,!1):(this._dragTracker=null,this._doMouseUp(t))},s.prototype.mouseEnter=function(t){this._doMouseEnter(t)},s.prototype.mouseLeave=function(t){this._doMouseLeave(t)},s.prototype.mouseOver=function(t){this._doMouseOver(t)},s.prototype.mouseOutside=function(){this._doMouseOutside()},s.prototype.mouseWheel=function(t){return this._doMouseWheel(t)},s.prototype.contextMenu=function(t){return this._doContextMenu(t)},s.prototype.click=function(t){this._doClick(t)},s.prototype.dblclick=function(t){this._doDblClick(t)},s.prototype.setFocus=function(t){this._doSetFocus(t)},s.prototype.focusLeave=function(){this._doFocusLeave()},Object.defineProperty(s.prototype,"mouseEventTarget",{get:function(){return this._mouseEventTarget},enumerable:!0,configurable:!0}),s.prototype.isMouseEventTarget=function(t){return t._dom===this._mouseEventTarget},s.prototype._doActivated=function(t){},s.prototype._doDeactivated=function(){},s.prototype._doKeyDown=function(t){return!1},s.prototype._doKeyUp=function(t){return!1},s.prototype._doKeyPress=function(t){return!1},s.prototype._doMouseDown=function(t){},s.prototype._doMouseMove=function(t){},s.prototype._doMouseUp=function(t){},s.prototype._doMouseEnter=function(t){},s.prototype._doMouseLeave=function(t){},s.prototype._doMouseOver=function(t){},s.prototype._doMouseOutside=function(){},s.prototype._doMouseWheel=function(t){return!1},s.prototype._doContextMenu=function(t){},s.prototype._doClick=function(t){},s.prototype._doDblClick=function(t){},s.prototype._doSetFocus=function(t){},s.prototype._doFocusLeave=function(){},s.prototype._getDragTracker=function(t,e,i){return null},s.prototype._startDragTracker=function(t,e,i){this._dragTracker&&(this._dragTracker.start(this._mouseEventTarget,t,e,i)?this._doDragTrackerStarted(this._dragTracker):this._dragTracker=null)},s.prototype._stopDragTracker=function(t,e,i){if(this.dragging){var o=this._dragTracker;i?o.cancel():o.drop(this._mouseEventTarget,t,e),this.dragTracker=null,this._doDragTrackerFinished(o,i)}},s.prototype._doDragTrackerStarted=function(t){},s.prototype._doDragTrackerFinished=function(t,e){},s);function s(t,e){var i=r.call(this)||this;return i._clickX=0,i._clickY=0,i._currX=0,i._currY=0,i._owner=t,i._name=e,i._previous=null,i}e.VisualTool=n;var a,l=(a=ue.Base,i(u,a),Object.defineProperty(u.prototype,"cursor",{get:function(){return H.Cursor.DEFAULT},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"source",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectable",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dblClickable",{get:function(){return!1},enumerable:!0,configurable:!0}),u);function u(){return a.call(this)||this}e.EditRequest=l});t(ae);ae.VisualTool,ae.EditRequest;var he=e(function(t,e){var o,n,i,r=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),(i=n=e.ScrollEventType||(e.ScrollEventType={})).LINE="line",i.PAGE="page",i.THUMB_TRACK="thumbTrack",i.THUMB_END="thumbEnd";var s,a=(s=Ot.VisualElement,r(l,s),l.prototype._doDispose=function(){this._scrollBar=null,s.prototype._doDispose.call(this)},Object.defineProperty(l.prototype,"scrollBar",{get:function(){return this._scrollBar},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"vertical",{get:function(){return this._scrollBar.vertical},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"pressed",{get:function(){return this._pressed},set:function(t){t!=this._pressed&&(this._pressed=t,this._changed())},enumerable:!0,configurable:!0}),l.prototype._doDraw=function(t){this._doRender(t)},l.prototype._doRender=function(t){},l.prototype._changed=function(){this.invalidate()},l);function l(t,e){var i=s.call(this,e)||this;return i._pressed=!1,i._scrollBar=t,i}var u,h=(r(c,u=a),c.prototype._getCssSelector=function(){return"rg-scrolledge"},c);function c(){return u.call(this,null,"scrollEdgeView")||this}e.ScrollEdge=h;var p,d=(r(_,p=a),_.prototype._doDispose=function(){p.prototype._doDispose.call(this)},_.prototype._getCssSelector=function(){return"rg-scrolltrack"},_);function _(t){return p.call(this,t,"scrollTrackView")||this}e.ScrollTrack=d;var f,y=(r(m,f=a),Object.defineProperty(m.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"far",{get:function(){return this._far},enumerable:!0,configurable:!0}),m.prototype._getCssSelector=function(){return this.scrollBar.vertical?this._far?"rg-scroll-down":"rg-scroll-up":this._far?"rg-scroll-right":"rg-scroll-left"},m);function m(t,e){var i=f.call(this,t,"scrollButtonView")||this;return i._enabled=!0,i._far=e,i}e.ScrollButton=y;var g,v=(r(b,g=a),b.prototype._getCssSelector=function(){return"rg-scrollthumb"},b);function b(t){return g.call(this,t,"scrollThumbView")||this}e.ScrollThumb=v;var C,w=(C=Ot.VisualElement,r(x,C),x.prototype._doDispose=function(){this._track=this._track.dispose(),this._thumb=this._thumb.dispose(),this._nearButton=this._nearButton.dispose(),this._farButton=this._farButton.dispose(),C.prototype._doDispose.call(this)},Object.defineProperty(x.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"lineScrollSize",{get:function(){return this._lineScrollSize},set:function(t){(t=Math.max(1,t))!=this._lineScrollSize&&(this._lineScrollSize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"pageScrollSize",{get:function(){return this._pageScrollSize},set:function(t){(t=Math.max(1,t))!=this._pageScrollSize&&(this._pageScrollSize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"minThumbSize",{get:function(){return this._minThumbSize},set:function(t){(t=Math.max(8,t))!=this._minThumbSize&&(this._minThumbSize=t,this.invalidateLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"vertical",{get:function(){return this._vertical},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"pos",{get:function(){return this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"maxPosition",{get:function(){return this._maxPosition},enumerable:!0,configurable:!0}),x.prototype.layoutContent=function(){this._needLayout&&(this._needLayout=!1,this._doLayoutContent())},x.prototype.setProperties=function(t,e,i){t=Math.max(0,t),e=Math.max(t,e),t==this._min&&e==this._max&&i==this._page||(this._min=t,this._max=e,this._page=i,this._pos=Math.min(this._max,Math.max(this._min,this._pos)),this._maxPosition=Math.max(0,this._max-this._page),this.invalidate(),this._needLayout=!0)},x.prototype.setPosition=function(t,e){void 0===e&&(e=!0),(t=Math.min(this._maxPosition,Math.max(this._min,t)))!=this._pos&&(this._pos=t,this.invalidate(),this._needLayout=!0,e&&this.layoutContent())},x.prototype.ptInTrack=function(t,e,i){var o=this.containerToElement(t,e);if(this._vertical){if(o.y>=this._nearButton.height&&o.x<this._farButton.y)return!i&&o.y<this._thumb.y||i&&o.y>=this._thumb.bottom}else if(t>=this._nearButton.width&&t<this._farButton.x)return!i&&o.x<this._thumb.x||i&&o.x>=this._thumb.right;return!1},x.prototype._getCssSelector=function(){return this._vertical?"rg-vscrollbar":"rg-hscrollbar"},x.prototype.draw=function(){C.prototype.draw.call(this)},x.prototype._doDraw=function(t){},x.prototype._doSizeChanged=function(){this.invalidateLayout()},x.prototype.invalidateLayout=function(){this._needLayout=!0,C.prototype.invalidateLayout.call(this)},x.prototype._doLayoutContent=function(){var t=this._vertical,e=this._buttonSize,i=this.height,o=this.width,r=(t?i:o)-2*e,n=Math.min(r,Math.max(this._minThumbSize,Math.floor(r*this._page/(this._max-this._min+1)))),s=e+Math.min(r-n,Math.max(0,Math.floor((r-n)*this._pos/(this._maxPosition-this._min))));this._track.setBounds(0,0,o,i),t?(this._nearButton.setBounds(0,0,o,e),this._farButton.setBounds(0,i-e,o,e),n<=r&&this._thumb.setBounds(2,s,o-4,n)):(this._nearButton.setBounds(0,0,e,i),this._farButton.setBounds(o-e,0,e,i),n<=r&&this._thumb.setBounds(s,2,n,i-4))},x.prototype._doScroll=function(t,e,i){this.fireEvent(x.SCROLLED,t,e,i)},x.SCROLLED="onScrollBarScrolled",x);function x(t,e){void 0===e&&(e=!1);var i=C.call(this,"scrollBarView")||this;return i._lineScrollSize=1,i._pageScrollSize=1,i._minThumbSize=20,i._min=0,i._max=0,i._pos=0,i._page=0,i._maxPosition=0,i._buttonSize=20,i._needLayout=!0,i._container=t,i._vertical=e,i._track=new d(i),i.addChild(i._track),i._thumb=new v(i),i.addChild(i._thumb),i._nearButton=new y(i,!1),i.addChild(i._nearButton),i._farButton=new y(i,!0),i.addChild(i._farButton),i}e.ScrollBar=w;var I,E=(I=se.DragTracker,r(S,I),S.prototype._doDispose=function(){this._thumb=this._thumb&&this._thumb.dispose(),I.prototype._doDispose.call(this)},Object.defineProperty(S.prototype,"thumb",{get:function(){return this._thumb},set:function(t){this._thumb=t},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"startWhenCreated",{get:function(){return!0},enumerable:!0,configurable:!0}),S.prototype._doStart=function(t,e,i){var o=this._thumb.scrollBar,r=o.containerToElement(e,i);return o.vertical?this._offset=r.y-this._thumb.y:this._offset=r.x-this._thumb.x,this._thumb.pressed=!0},S.prototype._doDrag=function(t,e,i){return this.$_doScroll(e,i,n.THUMB_TRACK)},S.prototype._doCompleted=function(t,e,i){return this.$_doScroll(e,i,n.THUMB_END)},S.prototype._doCanceled=function(t,e){},S.prototype._doEnded=function(){this._thumb.pressed=!1},S.prototype.$_doScroll=function(t,e,i){var o=this._thumb.scrollBar,r=o._maxPosition-o._min+1,n=o._buttonSize,s=o.containerToElement(t,e);if(o.vertical){if((a=o.height-2*n-this._thumb.height)<=0)return!1;s.y-=this._offset,s.y=(s.y-n)*r/a,o._doScroll(i,0,Math.floor(s.y))}else{var a;if((a=o.width-2*n-this._thumb.width)<=0)return!1;s.x-=this._offset,s.x=(s.x-n)*r/a,o._doScroll(i,0,Math.floor(s.x))}return!0},S);function S(t){return I.call(this,t,"scrollThumbTracker")||this}e.ScrollThumbTracker=E;var O,R=(O=Y.EventAware,r(D,O),Object.defineProperty(D.prototype,"active",{get:function(){return void 0!==this._timer},enumerable:!0,configurable:!0}),D.prototype.start=function(t){this._button=t,this._scrollBar=t.scrollBar,this._button.pressed=!0,this._active=!0,this.$_fireEvent(),setTimeout(function(){this._ready&&(this._ready=!1,this._timer=setInterval(function(){this._active&&this.$_fireEvent()}.bind(this),20))}.bind(this),200),this._ready=!0},D.prototype.move=function(t,e){var i=this._button.containerToElement(t,e);this._active=this._button.containsInClient(i.x,i.y)},D.prototype.stop=function(){this._ready=!1,this._timer&&(clearInterval(this._timer),this._timer),this._button&&(this._button.pressed=!1)},D.prototype.$_fireEvent=function(){var t=this._button.far?1:-1,e=n.LINE;this._scrollBar._doScroll(e,this._scrollBar.lineScrollSize*t,0)},D);function D(){var t=O.call(this)||this;return t._active=!1,t._timer=void 0,t._ready=!1,t}e.ScrollButtonTimer=R;var P,T=(P=ue.Base,r(k,P),Object.defineProperty(k.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),k.prototype.start=function(t,e,i,o){this._scrollBar=t,this._far=e,this._active=!0,this.$_fireEvent(),setTimeout(function(){this._ready&&(this._ready=!1,this._timer=setInterval(function(){this._active&&this.$_fireEvent()}.bind(this),50))}.bind(this),200),this._ready=!0;var r=this._scrollBar.containerToElement(i,o);this._mouseX=r.x,this._mouseY=r.y},k.prototype.move=function(t,e){var i=this._scrollBar.containerToElement(t,e);this._mouseX=i.x,this._mouseY=i.y,this._active=this._scrollBar.ptInTrack(i.x,i.y,this._far)},k.prototype.stop=function(){this._ready=!1,this._timer&&clearInterval(this._timer)},k.prototype.$_fireEvent=function(){var t=null,e=0,i=this._scrollBar._thumb;if(this._scrollBar.vertical){var o=this._mouseY;this._far&&o>i.bottom?(t=n.PAGE,e=1):!this._far&&o<i.y&&(t=n.PAGE,e=-1)}else{var r=this._mouseX;this._far&&r>i.right?(e=1,t=n.PAGE):r<i.x&&(t=n.PAGE,e=-1)}0!=e&&this._scrollBar._doScroll(t,this._scrollBar.pageScrollSize*e,0)},k);function k(){var t=P.call(this)||this;return t._active=!1,t._timer=void 0,t._ready=!1,t._mouseX=0,t._mouseY=0,t}e.ScrollTrackTimer=T;var M,L=(M=ae.VisualTool,r(F,M),F.prototype._doDispose=function(){this._thumbTracker.cancel(),this._thumbTracker=this._thumbTracker.dispose(),this._buttonTimer.stop(),this._buttonTimer=this._buttonTimer.dispose(),this._trackTimer.stop(),this._trackTimer=this._trackTimer.dispose(),M.prototype._doDispose.call(this)},F.prototype._doMouseDown=function(t){var e=t.mouseX,i=t.mouseY;this._clickElement&&(this._clickElement.pressed=!1,this._clickElement=null),this._buttonTimer.stop(),this._trackTimer.stop();var o=this.findElementAt(e,i,!1);if(o instanceof a)if((this._clickElement=o).pressed=!0,o instanceof y)this._buttonTimer.start(o);else if(o instanceof v)this._thumbTracker.thumb=o,this.dragTracker=this._thumbTracker;else if(o instanceof d){var r=o.scrollBar.ptInTrack(e,i,!0);this._trackTimer.start(o.scrollBar,r,e,i)}},F.prototype._doMouseMove=function(t){var e=t.mouseX,i=t.mouseY,o=this._clickElement;o instanceof y&&this._buttonTimer.active?this._buttonTimer.move(e,i):o instanceof d&&this._trackTimer.active&&this._trackTimer.move(e,i)},F.prototype._doMouseUp=function(t){this._clickElement&&(this._clickElement.pressed=!1,this._clickElement=null),this._buttonTimer.stop(),this._trackTimer.stop()},F);function F(t){var e=M.call(this,t,"scrollTool")||this;return e._buttonTimer=new R,e._trackTimer=new T,e._thumbTracker=new E(t),e}e.ScrollTool=L});t(he);he.ScrollEventType,he.ScrollEdge,he.ScrollTrack,he.ScrollButton,he.ScrollThumb,he.ScrollBar,he.ScrollThumbTracker,he.ScrollButtonTimer,he.ScrollTrackTimer,he.ScrollTool;var ce=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Jt.CellElement,i(s,r),Object.defineProperty(s.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),s.prototype.setStyleName=function(t,e,i){i==this._styleName&&e==this._cellDom||(this._styleName=i,this._className="",this._setClassName(t))},s.prototype._getCssSelector=function(){return this._styleName},s.prototype._clearCellCache=function(){r.prototype._clearCellCache.call(this),this._textChanged=!0},s.prototype._doPrepareValue=function(t,e){this._model.headText!=this._text&&(this._text=this._model.headText,this._textChanged=!0)},s.prototype._doUpdateContent=function(t,e,i){this._textChanged&&(this._textChanged=!1,i.textContent=this._text)},s);function s(t,e){void 0===e&&(e="gridHeadCellView");var i=r.call(this,e)||this;return i._text="",i._styleName="",i._textChanged=!1,i._model=t,i}e.GridHeadCellElement=n;var a,l=(i(u,a=n),Object.defineProperty(u.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t},enumerable:!0,configurable:!0}),u.prototype._clearCellCache=function(){this._check=null},u.prototype._doUpdateContent=function(t,e,i){var o=this.model.showAll;if(o&&!this._check){var r=this._check=document.createElement("input"),n=r.style;r.type="checkbox",r.className="rg-checkbox",n.display="inline-block",i.appendChild(r)}o!=this._checkVisible&&(this._check.style.display=o?"inline-block":"none",this._check.checked=this._checked,this._checkVisible=o)},u.prototype.$_updateContent=function(){this._check.checked=this._checked},u);function u(t){var e=a.call(this,t,"chekHeadCellView")||this;return e._checked=!1,e._checkVisible=!1,e}e.CheckHeadCellElement=l;var h,c=(h=Kt.SimpleTableElement,i(p,h),p.prototype._doDispose=function(){this._cells=null,h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"allChecked",{get:function(){return this._checkCell.checked},set:function(t){var e=this._checkCell;e.checked=t,e.$_updateContent()},enumerable:!0,configurable:!0}),p.prototype.getHeadModel=function(t){for(var e=0;e<this._cells.length;e++)if(t===this._getTableCell(0,e))return this._cells[e].model},p.prototype._getCssSelector=function(){return"rg-head"},p.prototype._doPrepareTableExtents=function(t){var e,i=t.sectionObjects;this._cells=[];for(var o=0,r=i;o<r.length;o++){var n=r[o];n instanceof Pt.RowIndicator&&(((e=this._indicatorCell).visible=e.model.visible)?(this._cells.push(e),e.width=t.indicatorWidth):e.removeCellDom()),n instanceof jt.StateBar&&(((e=this._stateCell).visible=e.model.visible)?(this._cells.push(e),e.width=t.stateBarWidth):e.removeCellDom()),n instanceof Bt.CheckBar&&(((e=this._checkCell).visible=e.model.visible)?(this._cells.push(e),e.width=t.checkBarWidth):e.removeCellDom(!0))}},p.prototype._prepareCellContent=function(t,e){return document.createElement("div")},p.prototype._doLayoutContent=function(t){for(var e=t.grid,i=this._cells.length,o=0;o<i;o++){var r=this._cells[o],n=r.model,s=n.getHeadCell(),a=this._getTableCell(0,o),l=a.firstElementChild,u=this.$_getCellSelector()+" "+n.getHeadStyleName();r.setStyleName(a,l,u),r.updateCell(e,s,l)}},p.prototype._doRender=function(t){},p.prototype._getTableRowCount=function(t){return 1},p.prototype._getTableRowHeight=function(t,e){return this.height},p.prototype._getCellCount=function(t){return this._cells.length},p.prototype._getCellWidth=function(t,e){return this._cells[e].width},p.prototype.$_getCellSelector=function(){return p.CELL_CSS},p.CELL_CSS="rg-head-cell",p);function p(t){var e=h.call(this,null,"gridHeadView")||this;return e._cells=[],e.addChild(e._indicatorCell=new n(t.rowIndicator)),e.addChild(e._stateCell=new n(t.stateBar)),e.addChild(e._checkCell=new l(t.checkBar)),e}e.GridHeadElement=c});t(ce);ce.GridHeadCellElement,ce.CheckHeadCellElement,ce.GridHeadElement;var pe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Jt.CellElement,i(s,r),Object.defineProperty(s.prototype,"model",{get:function(){return this._model},set:function(t){t!==this._model&&(this._model=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t||"",this._textChanged=!0,this._changed())},enumerable:!0,configurable:!0}),s.prototype.setStyleName=function(t,e){e!=this._styleName&&(this._styleName=e,this._setClassName(t))},s.prototype._getCssSelector=function(){return this._styleName},s.prototype._doUpdateContent=function(t,e,i){this._textChanged&&(this._textChanged=!1,i.textContent=this._text)},s.prototype._doRender=function(t){},s);function s(){var t=r.call(this,"gridHeadCellView")||this;return t._text="",t._styleName="",t._textChanged=!1,t}e.GridFootCellElement=n;var a,l=(a=Kt.SimpleTableElement,i(u,a),u.prototype._doDispose=function(){this._cells=null,a.prototype._doDispose.call(this)},u.prototype.getFootModel=function(t){for(var e=0;e<this._cells.length;e++)if(t===this._getTableCell(0,e))return this._cells[e].model},u.prototype._getCssSelector=function(){return"rg-foot"},u.prototype._doPrepareTableExtents=function(t){for(var e,i=t.sectionObjects,o=this._count=0,r=i;o<r.length;o++){var n=r[o];n.visible&&(((e=this._cells[this._count++]).model=n)instanceof Pt.RowIndicator?e.width=t.indicatorWidth:n instanceof jt.StateBar?e.width=t.stateBarWidth:n instanceof Bt.CheckBar&&(e.width=t.checkBarWidth))}},u.prototype._prepareCellContent=function(t,e){return document.createElement("div")},u.prototype._doLayoutContent=function(t){for(var e=t.grid,i=this._count;this.childCount<i;)this.addChild(this._cells[this.childCount]);for(;this.childCount>i;)this.removeLast();for(var o=0;o<i;o++){var r=this.getChild(o),n=r.model,s=n.getFootCell(),a=this._getTableCell(0,o),l=a.firstElementChild,u=this.$_getCellSelector()+" "+n.getFootStyleName();r.setStyleName(a,u),r.text=n.footText,r.updateCell(e,s,l)}},u.prototype._doRender=function(t){},u.prototype._getTableRowCount=function(t){return 1},u.prototype._getTableRowHeight=function(t,e){return this.height},u.prototype._getCellCount=function(t){return this._count},u.prototype._getCellWidth=function(t,e){return this._cells[e].width},u.prototype.$_getCellSelector=function(){return u.CELL_CSS},u.CELL_CSS="rg-foot-cell",u);function u(){var t=a.call(this,null,"gridFootView")||this;t._cells=[];for(var e=t._count=0;e<3;e++)t.addChild(t._cells[e]=new n);return t}e.GridFootElement=l});t(pe);pe.GridFootCellElement,pe.GridFootElement;var de=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"textFormat",{get:function(){return this._textFormat},set:function(t){t!=this._textFormat&&(this._textFormat=t,this._textFormatter=t?lt.TextFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&(this._datetimeFormat=t,this._datetimeWriter=t?$.DateTimeWriter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(t){t!=this._numberFormat&&(this._numberFormat=t,this._numberFormatter=t?z.DecimalFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._boolFormatter=t?W.BooleanFormatter.getFormatter(t):null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textFormatter",{get:function(){return this._textFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"numberFormatter",{get:function(){return this._numberFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"datetimeWriter",{get:function(){return this._datetimeWriter},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"boolFormatter",{get:function(){return this._boolFormatter},enumerable:!0,configurable:!0}),s.prototype.getTextFormatter=function(t){return t||this._textFormatter},s.prototype.getNumberFormatter=function(t){return t||this._numberFormatter},s.prototype.getDateWriter=function(t){return t||this._datetimeWriter},s.prototype.getBoolFormatter=function(t){return t||this._boolFormatter},s);function s(t){var e=r.call(this,t)||this;return e._numberFormat=z.DecimalFormatter.DEFAULT_FORMAT,e._datetimeFormat=$.DateTimeWriter.DEFAULT_FORMAT,e._datetimeWriter=$.DateTimeWriter.Default,e._numberFormatter=z.DecimalFormatter.Default,e}e.FormatOptions=n});t(de);de.FormatOptions;var _e=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"message",{get:function(){return this._message},set:function(t){this._message=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&(this._visible=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){t!=this._zIndex&&(this._zIndex=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"styleName",{get:function(){return this._styleName},set:function(t){this._styleName=t},enumerable:!0,configurable:!0}),s.prototype.assignFrom=function(t){"string"==typeof t?(this._message=t,this._message&&(this._visible=!0)):"boolean"==typeof t?this._visible=t:r.prototype.assignFrom.call(this,t)},s);function s(t){var e=r.call(this)||this;return e._message="",e._visible=!0,e._zIndex=void 0,e._styleName="rg-toast",t&&e.assignFrom(t),e}e.ToastOptions=n;var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"minWidth",{get:function(){return this._minWidth},set:function(t){this._minWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dropDownCount",{get:function(){return this._dropdownCount},set:function(t){this._dropdownCount=t},enumerable:!0,configurable:!0}),u.prototype.show=function(t){this._showing=!0;try{this.$_show(t)}finally{this._showing=!1}},u.prototype.hide=function(){var t=this._element;t&&t.parentNode&&this._container._container.removeChild(t)},u.prototype.$_createElement=function(){var t=document.createElement("div");t.onkeydown=function(t){27==t.keyCode&&this.hide()}.bind(this),this.$_disableSelection(t);var e=this._span=document.createElement("span");return this.$_disableSelection(e),t.appendChild(e),t},u.prototype.$_show=function(t){var e=t.message;if(e){var i=this._element;if(i){var o=this._span,r=this._container._gridView.displayOptions;o.innerHTML=e,i.className=t.styleName,i.style.position="absolute",i.style.overflow="hidden",i.style.zIndex=null!=t.zIndex?t.zIndex:r.toastZIndex,this._container._container.appendChild(i);var n=U.Utils.getBoundingClientRect2(i),s=U.Utils.getBoundingClientRect2(this._container._container),a=n.width+10,l=n.height+10,u=s.width,h=s.height;i.style.left=(u-a)/2+"px",i.style.top=(h-l)/2+"px"}}},u.prototype.$_disableSelection=function(t){void 0!==t.onselectstart?t.onselectstart=function(){return!1}:void 0!==t.style.MozUserSelect?t.style.MozUserSelect="none":t.onmousedown=function(){return!1}},u);function u(t){var e=a.call(this)||this;return e._minWidth=0,e._maxWidth=0,e._dropdownCount=8,e._showing=!1,e._container=t,e._element=e.$_createElement(),e}e.ToastView=l;var h,c=(h=ue.Base,i(p,h),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"visible",{get:function(){return this._active},enumerable:!0,configurable:!0}),p.prototype.show=function(t,e,i){if((!this._active||e)&&(this.close(),(t=t instanceof n?t:t?new n(t):null)&&t.visible))return this._toast||(this._toast=new l(this._container)),this._toast.show(t),this._active=!0,void(i&&setTimeout(function(){try{i()}finally{this.close()}}.bind(this),0));i&&i()},p.prototype.close=function(){this._active&&(this._toast&&this._toast.hide(),this._active=!1)},p);function p(t){var e=h.call(this)||this;return e._active=!1,e._container=t.container,e}e.ToastManager=c});t(_e);_e.ToastOptions,_e.ToastView,_e.ToastManager;var fe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){this._toast=this._toast.dispose(),r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"style",{get:function(){return this._style},set:function(t){t!=this._style&&(this._style=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"handleVisibility",{get:function(){return this._handleVisibility},set:function(t){t!=this._handleVisibility&&(this._handleVisibility=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitBeforeSorting",{get:function(){return this._commitBeforeSorting},set:function(t){t!=this._commitBeforeSorting&&(this._commitBeforeSorting=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"keepFocusedRow",{get:function(){return this._keepFocusedRow},set:function(t){t!=this._keepFocusedRow&&(this._keepFocusedRow=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"textCase",{get:function(){return this._textCase},set:function(t){t!=this._textCase&&(this._textCase=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showSortOrder",{get:function(){return this._showSortOrder},set:function(t){t!=this._showSortOrder&&(this._showSortOrder=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pageSorting",{get:function(){return this._pageSorting},set:function(t){t!=this._pageSorting&&(this._pageSorting=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"toast",{get:function(){return this._toast},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this,t)||this;return e._enabled=!0,e._style=H.SortStyle.EXCLUSIVE,e._handleVisibility=H.HandleVisibility.VISIBLE,e._commitBeforeSorting=!0,e._toast=new _e.ToastOptions({visible:!1,message:"Sorting..."}),e._keepFocusedRow=!1,e._textCase=H.SortCase.SENSITIVE,e._showSortOrder=!1,e._pageSorting=!1,e}e.SortingOptions=n});t(fe);fe.SortingOptions;var ye=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ot.LayerElement,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){for(var t=this.parent;t;){if(t instanceof $e.GridBase)return t;t=t.parent}return null},enumerable:!0,configurable:!0}),s.prototype.measure=function(t,e,i){return this._doMeasure(t,e,i)},s.prototype.layoutContent=function(t,e,i){this._doLayoutContent(t,e,i)},s.prototype._doMeasure=function(t,e,i){return new Wt.Size(e,i)},s.prototype._doLayoutContent=function(t,e,i){},s);function s(t){return void 0===t&&(t=null),r.call(this,t)||this}e.ContentPane=n;var a,l=(i(u,a=n),u.prototype._initDom=function(t){a.prototype._initDom.call(this,t),t.style.setProperty("background","#fff","important")},u);function u(){return null!==a&&a.apply(this,arguments)||this}e.LeftContentPane=l;var h,c=(i(p,h=n),p);function p(){return null!==h&&h.apply(this,arguments)||this}e.DataContentPane=c;var d,_=(d=Ot.LayerElement,i(f,d),f.prototype._getCssSelector=function(){return this._grid.fixedOptions.columnBarStyle},f);function f(t){var e=d.call(this,"fixedColumnBar")||this;return e._grid=t,e}var y,m=(i(g,y=c),g.prototype._doDispose=function(){y.prototype._doDispose.call(this)},g.prototype._doLayoutContent=function(t,e,i){this._barView||(this._barView=this._createBar(t.grid),this.addChild(this._barView),this._barView2=this._createBar(t.grid),this.addChild(this._barView2)),this._layoutBars(t,e,i),y.prototype._doLayoutContent.call(this,t,e,i)},g.prototype._createBar=function(t){return new _(t)},g.prototype._layoutBars=function(t,e,i){var o=t.fixedBarWidth,r=t.footBounds.isEmpty?0:t.footBounds.height;if(this._barView.visible=0<o,this._barView2.visible=!1,this._barView.visible){var n=Math.min(i-r,t.dataBounds.bottom);this._barView.setBounds(e-o,0,o,n),0<r&&(this._barView2.visible=!0,this._barView2.setBounds(e-o,i-r,o,r))}},g);function g(t){return void 0===t&&(t=null),y.call(this,t)||this}e.FixedContentPane=m;var v,b=(v=Ot.LayerElement,i(C,v),C.prototype._getCssSelector=function(){return"rg-right-column-bar"},C);function C(){return null!==v&&v.apply(this,arguments)||this}var w,x=(i(I,w=m),I.prototype._createBar=function(){return new b("rightColumnBar")},I.prototype._layoutBars=function(t,e,i){var o=t.rightBarWidth,r=t.footBounds.isEmpty?0:t.footBounds.height;if(this._barView.visible=0<o,this._barView2.visible=!1,this._barView.visible){var n=Math.min(i-r,t.dataBounds.bottom);this._barView.setBounds(0,0,o,n),0<r&&(this._barView2.visible=!0,this._barView2.setBounds(0,i-r,o,r))}},I);function I(){return null!==w&&w.apply(this,arguments)||this}e.RightContentPane=x;var E,S=(i(O,E=n),Object.defineProperty(O.prototype,"message",{get:function(){return this._message},set:function(t){t!=this._message&&(this._message=t,this._dom.innerHTML=t,this.invalidate())},enumerable:!0,configurable:!0}),O.prototype._getCssSelector=function(){return"rg-waiting"},O.prototype._doLayoutContent=function(t,e,i){E.prototype._doLayoutContent.call(this,t,e,i)},O);function O(t){void 0===t&&(t=null);var e=E.call(this,t)||this;return e.visible=!1,e}e.WaitingPane=S;var R,D=(i(P,R=n),Object.defineProperty(P.prototype,"message",{get:function(){return this._message},set:function(t){t!=this._message&&(this._message=t,this._dom.innerHTML=t,this.invalidate())},enumerable:!0,configurable:!0}),P.prototype._getCssSelector=function(){return"rg-message-pane"},P.prototype._doLayoutContent=function(t,e,i){R.prototype._doLayoutContent.call(this,t,e,i)},P);function P(t){void 0===t&&(t=null);var e=R.call(this,t)||this;return e.visible=!1,e}e.MessagePane=D});t(ye);ye.ContentPane,ye.LeftContentPane,ye.DataContentPane,ye.FixedContentPane,ye.RightContentPane,ye.WaitingPane,ye.MessagePane;var me=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=U.Utils.isSafari?1:0,h="***1-da*&23%^1//+)(lu%v\\3d!#~`{``~er",s=(r=Y.EventAware,i(a,r),a.prototype._doDispose=function(){this._editor&&this._editor.parentElement.removeChild(this._editor),this._editor=null,this._container&&this._container.parentElement.removeChild(this._container),this._container=null,this._grid=null,this._controller=null,r.prototype._doDispose.call(this)},Object.defineProperty(a.prototype,"emptyValue",{get:function(){return this._emptyValue},set:function(t){t!=this._emptyValue&&(this._emptyValue=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textCase",{get:function(){return this._textCase},set:function(t){t!=this._textCase&&(this._textCase=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){t!=this._fontFamily&&(this._fontFamily=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){t!=this._fontSize&&(this._fontSize=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"datetimeFormat",{get:function(){return this._datetimeFormat},set:function(t){t!=this._datetimeFormat&&((this._datetimeFormat=t)?(this._saveDateConverter||(this._saveDateConverter=new L.DateTimeConverter(t)),this._saveDateConverter.formatString=t,this._dateConverter=this._saveDateConverter):this._dateConverter=L.DateTimeConverter.Default)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"todayChar",{get:function(){return this._todayChar},set:function(t){t!=this._todayChar&&(this._todayChar=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"nowChar",{get:function(){return this._nowChar},set:function(t){t!=this._nowChar&&(this._nowChar=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&((this._booleanFormat=t)?(this._saveBoolConverter||(this._saveBoolConverter=new R.BooleanConverter(t)),this._saveBoolConverter.format=t,this._boolConverter=this._saveBoolConverter):this._boolConverter=R.BooleanConverter.Default)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"editor",{get:function(){return this._editor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"visible",{get:function(){return parseInt(this._container.style.width)>n&&parseInt(this._container.style.height)>n},enumerable:!0,configurable:!0}),a.prototype.setVisible=function(t,e){this._editor instanceof HTMLInputElement&&(t&&this._editor.value==h?this._editor.value="":t||null!=this._editor.value&&null!=this._editor.value&&""!=this._editor.value||(this._editor.value=h,this._grid.$_editFocused&&this.selectAll())),t||(this._container.style.width=n+"px",this._container.style.height=n+"px")},Object.defineProperty(a.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){this._editor instanceof HTMLInputElement&&(this._editor.readOnly=this._readOnly=t)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"editing",{get:function(){return this._started},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"editIndex",{get:function(){return this._editIndex},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasButton",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this._editor.value},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"listing",{get:function(){return!1},enumerable:!0,configurable:!0}),a.prototype.applyOptions=function(t){t&&this.assignFrom(t)},a.prototype.setEditIndex=function(t){this._editIndex.assign(t)},a.prototype.setController=function(t){this._controller=t},a.prototype.beginEdit=function(t,e){this._started||(this._started=this._doBeginEdit())&&(t&&this.clear(),e&&this.selectAll())},a.prototype.endEdit=function(){this._started&&(this._doEndEdit(),this._started=!1)},a.prototype.isEdited=function(){return!1},a.prototype.caretToLast=function(){},a.prototype.commit=function(){this._doCommit()},a.prototype.setReadOnly=function(t){},a.prototype.getEditValue=function(t,e){},a.prototype.setEditValue=function(t){this._oldValue=t},a.prototype.setCellEditValue=function(t,e){!this.readOnly&&this._requestStart(e)&&(this.setEditValue(t),this._doChanged())},a.prototype.getEditText=function(){return""},a.prototype.selectAll=function(){this._grid.$_editFocused&&this._selectAll()},a.prototype.clear=function(){this._editor instanceof HTMLInputElement&&(this._editor.value="")},a.prototype.setFocus=function(){this._editor.focus({preventScroll:!0})},a.prototype.setEditorTitle=function(t){},a.prototype.setBounds=function(t,e,i,o){},a.prototype.setCellBounds=function(t,e,i,o){this._cellBounds.set(t,e,i,o)},a.prototype.closeList=function(t){},a.prototype.dropDownList=function(t){},a.prototype.buttonClicked=function(t){},a.prototype.initOptions=function(){this._emptyValue=void 0,this.booleanFormat=null,this._todayChar=null,this._nowChar=null,this.datetimeFormat=null,this._textCase=H.TextInputCase.DEFAULT,this._fontFamily=null,this._fontSize=null,this._checkHangeul=!1},a.prototype.$_setEditorId=function(t){},a.prototype._changed=function(){},a.prototype.$_setController=function(t){this._controller=t},a.prototype._editField=function(){return this._grid.dataSource?this._grid.dataSource.getField(this._editIndex.dataField):null},a.prototype._isDateEditor=function(){return!1},a.prototype._requestStart=function(t){return this._started?this._started:(this.selectAll(),this._controller.onEditorStart(this))},a.prototype._valToStr=function(e){var t=this.editIndex,i="";try{if(void 0!==e||this._mask){var o=t.grid.dataSource.getField(t.dataField);if(o)switch(o.dataType){case H.ValueType.DATETIME:e&&(i=this._dateConverter.getText(e)),this._mask&&(i=this._mask.writeBuffer(i));break;case H.ValueType.BOOLEAN:i=this._boolConverter.toText(e);break;case H.ValueType.NUMBER:isNaN(e)||(i=U.Utils.toStr(e));break;case H.ValueType.OBJECT:var r=t.column,n=t.dataRow,s=r._objectKey,a=r._objectCallback;e&&(i=a&&"function"==typeof a?a(o.orgFieldName,n,e):s&&e.hasOwnProperty(s)?e[s]:null!=e&&"object"==typeof e?JSON.stringify(e):"");break;default:i=this._mask?this._mask.writeBuffer(e):e}else i=e}}catch(t){i=e}return null===i?"":i},a.prototype._strToVal=function(t){t=U.Utils.toStr(t);var e=this._editIndex,i=e.dataColumn&&this._textCase==H.TextInputCase.DEFAULT?e.dataColumn.textInputCase:this._textCase;try{var o=e.grid.dataSource.getField(e.dataField);if(o){var r=o.dataType;if(r==H.ValueType.DATETIME||t&&this._isDateEditor()&&r==H.ValueType.TEXT){var n=r==H.ValueType.DATETIME,s=null;return t&&t==this._nowChar&&(s=new Date),!s&&t&&t==this._todayChar&&(s=new Date).setHours(0,0,0,0),s||(this._mask&&(t=this._mask.getStripValue()),s=this._dateConverter.getDate(t)),n?!s||isNaN(s.getFullYear())?void 0:s:s?this._dateConverter.getText(s):void 0}if(r==H.ValueType.BOOLEAN)return this._boolConverter.toBoolEx(t);if(r==H.ValueType.NUMBER)return parseFloat(t);r==H.ValueType.TEXT&&this._mask&&(t=this._mask.getStripValue())}return i===H.TextInputCase.UPPER?t?t.toLocaleUpperCase():t:i===H.TextInputCase.LOWER&&t?t.toLocaleLowerCase():t}catch(t){return}},a.prototype._dispatchKeyDown=function(t){return this._controller,this._controller.onEditorKeyDown(this,t)},a.prototype._dispatchKeyPress=function(t){return this._controller,this._controller.onEditorKeyPress(this,t)},a.prototype._dispatchKeyUp=function(t){return this._controller,this._controller.onEditorKeyUp(this,t)},a.prototype._dispatchChange=function(){this._controller.onEditorChange(this)},a.prototype._dispatchSearch=function(t){this._controller.onEditorSearch(this,t)},a.prototype._dispatchSearchCellButtonClick=function(t){return this._controller.onSearchCellButtonClick(this,t)},a.prototype._dispatchCommit=function(){this._controller.onEditorCommit(this)},a.prototype._sendToParent=function(t,e,i){void 0===e&&(e=void 0);try{var o=U.Utils.isMac&&t.metaKey||!U.Utils.isMac&&t.ctrlKey;if(2==e){if(this._dispatchKeyPress(t))return t.preventDefault&&(t.preventDefault(),t.stopImmediatePropagation()),!0}else if(3==e){if(this._dispatchKeyUp(t))return t.preventDefault&&(t.preventDefault(),t.stopImmediatePropagation()),!0;try{var r=this._controller._grid,n=r.editOptions;if(n.imaxLengthToNextCell){var s=n.skipReadOnly,a=r.activeTool,l=this.maxLength,u=this.editIndex.clone(),h=U.Utils.included(t.keyCode,H.Keys.UP,H.Keys.PAGEUP,H.Keys.DOWN,H.Keys.PAGEDOWN,H.Keys.F2,H.Keys.TAB,H.Keys.ENTER);if(!this._checkHangeul&&!h&&!o&&!t.altKey&&r&&r.isEditing(u)&&0<l&&!this._composing&&47<t.keyCode&&l<=this._editor.value.length)return u.right(),s&&a.checkReadOnly(u)&&(a.skipReadOnly(u,1)||(u=this.editIndex.clone())),et.CellIndex.areEquals(u,this.editIndex)||a.setFocused(u,!0),!0}}catch(t){if(t instanceof at.ValidationError)throw t;return!0}}else if(this._dispatchKeyDown(t))return t.preventDefault&&(t.preventDefault(),t.stopImmediatePropagation()),!0;return!1}finally{}},a.Unselected={},a.InvalidFormat={},a.EDITOR_CSS="rg-editor ",a.CONTAINER_CSS="rg-editor-container",a);function a(t,e){var i=r.call(this)||this;if(i._textCase=H.TextInputCase.DEFAULT,i._readOnly=!1,i._started=!1,i._dateConverter=L.DateTimeConverter.Default,i._boolConverter=R.BooleanConverter.Default,i._cellBounds=new G.Rectangle,i._checkHangeul=!1,i._composing=!1,i._grid=t,i._options=t.editorOptions,i._parentElement=e,i._editor=i._createEditor(e),i._editor.className=a.EDITOR_CSS+i._getInputSelector(),i._container&&(i._container.className=a.CONTAINER_CSS),(i._editor.$_owner=i)._editIndex=t.getIndex(),i._editor){var o=t.container;o.$_addListener(i._editor,"focus",function(t){this._grid.$_setEditFocused(!0,t)}.bind(i),!1),o.$_addListener(i._editor,"focusin",function(t){this._grid.$_setEditFocused(!0,t)}.bind(i),!1),o.$_addListener(i._editor,"blur",function(t){this._grid.$_setEditFocused(!1,t)}.bind(i),!1),o.$_addListener(i._editor,"focusout",function(t){this._grid.$_setEditFocused(!1,t)}.bind(i),!1)}return i.setVisible(!1,!0),i.$_setEditorId(i._editor),i}e.CellEditor=s;var l,u=(l=ue.Base,i(c,l),c.prototype._doDispose=function(){this._definitions=null,this._tests=null,this._editor._editor&&(this._editor._editor.onclick=null),this._editor=null,l.prototype._doDispose.call(this)},Object.defineProperty(c.prototype,"includedFormat",{get:function(){return this._includedFormat},set:function(t){t!=this._includedFormat&&(this._includedFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"placeHolder",{get:function(){return this._placeHolder},set:function(t){t!=this._placeHolder&&(this._placeHolder=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"editMask",{get:function(){return this._editMask},set:function(t){t!=this._editMask&&(this._editMask=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"definitions",{get:function(){return this._definitions},set:function(t){t!=this._definitions&&(this._definitions=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"invalidFormatMessage",{get:function(){return this._invalidFormatMessage},set:function(t){t!=this._invalidFormatMessage&&(this._invalidFormatMessage=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"showInvalidFormatMessage",{get:function(){return this._showInvalidFormatMessage},set:function(t){t!=this._showInvalidFormatMessage&&(this._showInvalidFormatMessage=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"overWrite",{get:function(){return this._overwrite},set:function(t){t!=this._overwrite&&(this._overwrite=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"allowEmpty",{get:function(){return this._allowEmpty},set:function(t){t!=this._allowEmpty&&(this._allowEmpty=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"restrictNull",{get:function(){return this._restrictNull},set:function(t){t!=this._restrictNull&&(this._restrictNull=t,this._changed())},enumerable:!0,configurable:!0}),c.prototype.clickHandler=function(t){this.restrictNull&&this._moveCaret()},c.prototype.clearBuffer=function(t,e){t=0<arguments.length?t:0,e=1<arguments.length?e:this._tests.length;for(var i=t;i<e;i++)this._buffer[i]=this.$_getPlaceHolder(i),this._defBuffer[i]=""},c.prototype.writeBuffer=function(t,e){if(void 0===e&&(e=!1),t){e&&this.clearBuffer();for(var i=0,o=0,r=this._tests.length;i<r;i++)if(this._tests[i]&&this._tests[i]instanceof RegExp)for(var n=void 0;n=t[o++];)if(this._tests[i].test(n)){this._buffer[i]=n,this._defBuffer[i]=n;break}}return this._buffer&&this._buffer.join("")},c.prototype.getStripValue=function(){var t=[],e=[];if(this.allowEmpty,""==this._defBuffer.join(""))return null;if(this.includedFormat)for(var i=0,o=this._buffer.length;i<o;i++){var r=this._buffer[i];!this._tests[i]||this._tests[i].test(r)?t.push(r):r==this.$_getPlaceHolder(i)&&this._tests[i].test(" ")&&t.push(" ")}else for(i=0,o=this._buffer.length;i<o;i++)this._tests[i]&&this._tests[i]instanceof RegExp&&this._tests[i].test(this._buffer[i])?(0<e.length&&(t=t.concat(e),e=[]),t.push(this._buffer[i])):this._tests[i]&&"function"==typeof this._tests[i]&&(0<e.length&&(t=t.concat(e),e=[]),t.push(this._buffer[i]));return t.join("")},c.prototype.setOptions=function(t){if("string"==typeof t)this.$_parseMask(t);else if(t.definitions&&this.$_parseDefinitions(t.definitions),t.placeHolder&&(this._placeHolder=t.placeHolder),t.editMask&&this.$_parseMask(t.editMask),t.includedFormat&&(this._includedFormat=t.includedFormat),t.invalidFormatMessage&&(this._invalidFormatMessage=t.invalidFormatMessage),t.showInvlidFormatMessage&&(this._showInvalidFormatMessage=t.showInvalidFormatMessage),null!=t.overWrite&&(this._overwrite=!!t.overWrite),null!=t.allowEmpty&&(this._allowEmpty=!!t.allowEmpty),void 0!==t.restrictNull&&(this._restrictNull=!!t.restrictNull),this._restrictNull){var e=this._editor._editor;e.onclick||(e.onclick=this.clickHandler.bind(this))}},c.prototype.checkValid=function(){var t=[];if(this.allowEmpty){for(var e=0,i=this._tests.length;e<i;e++)t[e]=this.$_getPlaceHolder(e);if(t.join("")===this._buffer.join(""))return!0}for(e=0,i=this._tests.length;e<i;e++){var o=this._buffer[e];if(this._tests[e]&&!this._tests[e].test(o)&&o==this.$_getPlaceHolder(e)&&!this._tests[e].test(" "))return!1}return!0},c.prototype._changed=function(){},c.prototype._moveCaret=function(t,e){for(var i=this._editor._editor,o=t=0<arguments.length?t:i.selectionStart,r=e=1<arguments.length?e:i.selectionEnd,n=t-1;0<=n;n--){if(this._tests[n]&&this._tests[n].test(this._buffer[n])){o=n+1;break}o=n}for(n=e-1;0<=n;n--){if(this._tests[n]&&this._tests[n].test(this._buffer[n])){r=n+1;break}r=n}if(o==t&&r==e)return o!=t||r!=e;for(n=o;n<=t&&!this._tests[n];n++)o++;for(n=r;n<=e&&!this._tests[n];n++)r++;return i.setSelectionRange(o,r),!0},c.prototype.$_setCaret=function(t,e){this._editor._editor.setSelectionRange(t,e)},c.prototype.$_parseDefinitions=function(t){for(var e in t)"string"==typeof t[e]&&(this._definitions[e]=new RegExp(t[e]))},c.prototype.$_parseMask=function(t){var e=this._tests=[],i=this._definitions,o=t.split("");this._editMask=t,this._buffer=[];for(var r=0,n=o.length;r<n;r++)e.push(i[o[r]]),this._buffer.push(i[o[r]]?this.$_getPlaceHolder(r):o[r])},c.prototype.$_getPlaceHolder=function(t){return this._placeHolder&&this._placeHolder.length>t?this._placeHolder[t]:this._tests[t]?"_":this._editMask&&this._editMask.length>t?this._editMask[t]:"_"},c.prototype.$_seekPrev=function(t){for(;0<=--t&&!this._tests[t];);return t},c.prototype.$_seekNext=function(t){for(;++t<this._editMask.length&&!this._tests[t];);return t},c.prototype.$_shiftL=function(t,e){var i=this._editMask.length,o=this._buffer;if(0<=t)for(var r=t,n=this.$_seekNext(e);r<i;r++)if(this._tests[r]){if(!(n<i&&this._tests[r].test(o[n])))break;o[r]=o[n],this._defBuffer[r]=this._defBuffer[n],o[n]=this.$_getPlaceHolder(n),this._defBuffer[n]="",n=this.$_seekNext(n)}},c.prototype.$_shiftR=function(t){for(var e,i,o=this._editMask.length,r=this._buffer,n=t,s=this.$_getPlaceHolder(t);n<o;n++)if(this._tests[n]){if(e=this.$_seekNext(n),i=r[n],this._defBuffer[n]=s,r[n]=s,!(e<o&&this._tests[e].test(i)))break;s=i}},c.prototype.keydown=function(t){var e=this._editor.editor;if(!e.readOnly){var i=t.which||t.keyCode,o=e.selectionStart,r=e.selectionEnd;if(46===i||8===i)o==r&&(o=46!==i?this.$_seekPrev(o):r=this.$_seekNext(o-1),r=46===i?this.$_seekNext(r):r),this.clearBuffer(o,r),this._overwrite||this.$_shiftL(o,r-1),e.value=this.writeBuffer(),this.$_setCaret(Math.max(0,o),Math.max(0,o));else if(i===H.Keys.RIGHT||i===H.Keys.END)return this._moveCaret();this._pStart=e.selectionStart}},c.prototype.keyPress=function(t){var e=this._editor.editor;if(!e.readOnly){this.restrictNull&&this._moveCaret();var i,o=e.selectionStart,r=e.selectionEnd,n=t.which||t.keyCode;this.clearBuffer(o,r),o!==r&&this.$_shiftL(o,r-1);var s=this.$_seekNext(o-1);this._editMask&&this._editMask.length>s&&this._tests[s]&&this._tests[s].test(i=String.fromCharCode(n))&&(this._overwrite||this.$_shiftR(o),this._buffer[s]=i,this._defBuffer[s]=i,e.value=this.writeBuffer(),s=this.$_seekNext(s),this.$_setCaret(Math.max(0,s),Math.max(0,s))),this._pStart=e.selectionStart}},c.prototype.input=function(t){var e=this._editor.editor;if(!e.readOnly){var i=e.value;return/[ㄱ-ㅎㅏ-ㅣ가-힝]/.test(i)?(e.value=e.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힝]/g,""),void(null!=this._pStart&&e.setSelectionRange(this._pStart,this._pStart))):void 0}},c);function c(t,e){var i=l.call(this)||this;return i._includedFormat=!1,i._showInvalidFormatMessage=!0,i._overwrite=!1,i._allowEmpty=!1,i._restrictNull=!1,i._definitions={9:new RegExp("[0-9 ]"),0:new RegExp("[0-9]"),a:new RegExp("[A-Za-z]"),"*":new RegExp("[A-Za-z0-9]")},i._tests=null,i._defBuffer=[],i._editor=t,e&&i.setOptions(e),i}e.EditMask=u;var p,d=(i(_,p=s),_.prototype._doDispose=function(){this._editor.$_owner=null,this._editor.onkeydown=null,this._editor.onkeyup=null,this._editor.onkeypress=null,this._editor.oninput=null,this._editor.onpaste=null,this._editor.oncopy=null,p.prototype._doDispose.call(this)},Object.defineProperty(_.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){t!=this._maxLength&&(this._maxLength=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"text",{get:function(){return this._editor.value},set:function(t){!this._editor||t==this._editor.value&&t==this._controller.getData(this._editIndex)||(this._editor.value=t,this._doChanged())},enumerable:!0,configurable:!0}),_.prototype.setMask=function(t){this._mask=null,t&&(this._mask=new u(this,t))},_.prototype.setAlignment=function(t){this._container.style.textAlign="left"},Object.defineProperty(_.prototype,"readonly",{set:function(t){this._editor.readOnly=this._readOnly=t},enumerable:!0,configurable:!0}),_.prototype.isEdited=function(){return this._modified},_.prototype._createContainer=function(){var t=document.createElement("div"),e=t.style;return t.spellcheck=!1,t.setAttribute("aria-hidden","true"),e.position="absolute",e.zIndex="2000",e.width="0px",e.height="0px",e.padding="0px",e.margin="0px",t},_.prototype._createEditor=function(t){this._container=this._createContainer(),t.appendChild(this._container);var e=document.createElement("input"),i=e.style;e.setAttribute("aria-hidden","true"),e.autocomplete="off",i.position="absolute",i.boxSizing="border-box",i.margin="0px",i.padding="0px",i.wordWrap="normal",i.overflow="hidden",i.resize="none",i.border="none",i.outline="none",i.left="0px",i.top="0px",i.width="100%",i.height="100%",i["-webkit-user-modify"]="read-write-plaintext-only",i["white-space"]="pre",i["-webkit-transform"]="translateZ(0)",e.tabIndex=-1,e.onkeydown=this._keyDownHandler.bind(this),e.onkeyup=this._keyUpHandler.bind(this),e.onkeypress=this._keyPressHandler.bind(this),e.oninput=this._inputHandler.bind(this),e.onpaste=this._pasteHandler.bind(this),e.oncopy=this._copyHandler.bind(this);var o=this._grid.container;return o.$_addListener(e,"compositionstart",this._compositionstartHandler.bind(this),!1),o.$_addListener(e,"compositionupdate",this._compositionupdateHandler.bind(this),!1),o.$_addListener(e,"compositionend",this._compositionendHandler.bind(this),!1),o.$_addListener(e,"text",this._textHandler.bind(this),!1),this._container.appendChild(e),this._defMaxLength=0<e.maxLength?e.maxLength:1e6,e},_.prototype.initOptions=function(){p.prototype.initOptions.call(this),this._editor.readOnly=this._readOnly=!1,this._maxLength=0,this._mask&&(this._mask.dispose(),this._mask=null)},_.prototype.applyOptions=function(t){p.prototype.applyOptions.call(this,t),t.mask&&this.setMask(t.mask)},_.prototype._selectAll=function(){this._editor.select()},_.prototype._doBeginEdit=function(){return this._modified=!1,this.visible&&(this._editor.value||this._editor.setSelectionRange(0,0)),!0},_.prototype._doEndEdit=function(){this._modified=!1},_.prototype.caretToLast=function(){var t=U.Utils.toStr(this._editor.value).length;this._editor.setSelectionRange(t,t)},_.prototype._doCommit=function(){},_.prototype.setEditIndex=function(t){p.prototype.setEditIndex.call(this,t),t&&t.grid;var e=t.valueColumn;if(e){switch(this._textCase==H.TextInputCase.DEFAULT?e.textInputCase:this._textCase){case H.TextInputCase.LOWER:this._editor.style.textTransform="lowercase";break;case H.TextInputCase.UPPER:this._editor.style.textTransform="uppercase";break;default:this._editor.style.textTransform="none"}this._editor.maxLength=0<this._maxLength?this._maxLength:this._defMaxLength}},_.prototype.setEditValue=function(t){p.prototype.setEditValue.call(this,t),this._editor.value=this._valToStr(t)},_.prototype.setCellEditValue=function(t,e){p.prototype.setCellEditValue.call(this,t,e)},_.prototype.getEditValue=function(e,t){void 0===e&&(e=!0);var i=this._editField(),o=this._emptyValue;try{var r=i.dataType,n=this._editor.value;if(r==H.ValueType.TEXT)n||void 0===this._emptyValue||(n=this._emptyValue),void 0===(o=this._strToVal(n))&&(o="");else if(U.Utils.isWhiteSpace(n))if(void 0!==this._emptyValue)o=this._strToVal(this._emptyValue);else switch(r){case H.ValueType.NUMBER:isNaN(this._oldValue)&&(o=NaN);break;case H.ValueType.DATETIME:null===this._oldValue&&(o=null);break;case H.ValueType.BOOLEAN:}else o=this._strToVal(n);if(o===s.InvalidFormat)return o;o=i.readValue(o)}catch(t){if(e)throw t;o=this._emptyValue}return o},_.prototype.getEditText=function(){return this._editor.value},_.prototype.setVisible=function(t,e){if(p.prototype.setVisible.call(this,t,e),t&&this._borderable){var i=this._container.style;i.removeProperty("border"),i.removeProperty("box-shadow")}else this._container.style.border="none",this._container.style["box-shadow"]="none";if(U.Utils.isWinSafari){try{this._editor.style.width=this._container.getBoundingClientRect().width+"px",this._container.style.cssText=this._container.style.cssText.replace(/border-width: initial; border-color: initial; /g,"")}catch(t){}setTimeout(function(){this._editor.style.width="100%"}.bind(this),0)}},_.prototype._doChanged=function(){this._requestStart(),this._started&&!this._editor.readOnly&&(this._modified=!0,this._dispatchChange())},_.prototype.setBounds=function(t,e,i,o){U.Utils.setBounds(this._container,t,e,i,o)},_.prototype._keyDownHandler=function(t){var e=this._editor,i=t.keyCode;if((U.Utils.isIE||U.Utils.isEdge)&&!this.visible&&t.ctrlKey&&i==H.Keys.Z)return!1;if(U.Utils.isIE&&t.ctrlKey&&t.keyCode==H.Keys.V&&e.readOnly)return t.preventDefault(),this._pasteHandler(t),!1;switch(this._inputValue=e.value,i){case H.Keys.BACK:case H.Keys.DELETE:this._sendToParent(t)||(!this.visible&&this._requestStart()?!e.readOnly&&this._controller._getData(this._editIndex)&&(this._mask?(t.preventDefault(),t.stopImmediatePropagation(),this._mask.keydown(t),this._doChanged()):this.text=""):this._mask&&(t.preventDefault(),t.stopImmediatePropagation(),this._mask.keydown(t),this._doChanged()),i===H.Keys.BACK&&e.readOnly&&(t.preventDefault(),t.stopImmediatePropagation()));break;case H.Keys.TAB:return!this._sendToParent(t);case H.Keys.LEFT:if(!this.visible||0==e.selectionEnd&&e.selectionEnd==e.selectionStart)return!this._sendToParent(t);if(e.readOnly&&U.Utils.isChrome)return!this._sendToParent(t);t.stopImmediatePropagation();break;case H.Keys.RIGHT:if(!this.visible||e.selectionEnd==e.value.length&&e.selectionEnd==e.selectionStart)return!this._sendToParent(t);if(e.readOnly&&U.Utils.isChrome)return!this._sendToParent(t);if(!(t.altKey||t.ctrlKey||t.shiftKey)&&this._mask&&this._mask.restrictNull){var o=e.selectionStart;this._mask._moveCaret(o+1,o+1)&&(t.preventDefault(),t.stopImmediatePropagation())}t.stopImmediatePropagation();break;case H.Keys.HOME:if(!this.visible)return!this._sendToParent(t);t.stopImmediatePropagation();break;case H.Keys.END:if(!this.visible)return!this._sendToParent(t);if(this._mask&&this._mask.restrictNull){var r=e.value?e.value.length-1:0;this._mask._moveCaret(r,r)&&(t.preventDefault(),t.stopImmediatePropagation())}t.stopImmediatePropagation();break;case H.Keys.SPACE:if(!this.visible)return!this._sendToParent(t);break;case H.Keys.UP:case H.Keys.PAGEUP:case H.Keys.DOWN:case H.Keys.PAGEDOWN:case H.Keys.ENTER:case H.Keys.ESCAPE:case H.Keys.F2:case H.Keys.INSERT:return t.preventDefault(),t.stopImmediatePropagation(),!this._sendToParent(t);case 229:this._sendToParent(t);break;default:return!this._sendToParent(t,null,!0)}return U.Utils.isFirefox?!t.ctrlKey&&!t.altKey&&(0==i||32<=i)&&(i<112||130<i)&&this._requestStart():U.Utils.isIE,!0},_.prototype._keyUpHandler=function(t){var e=t.keyCode;switch(e!=H.Keys.BACK&&e!=H.Keys.DELETE||U.Utils.ieOld&&this.visible&&!this._editor.readOnly&&this._editor.value!=this._inputValue&&this._doChanged(),t.keyCode){case H.Keys.LEFT:case H.Keys.RIGHT:case H.Keys.HOME:case H.Keys.END:case H.Keys.SPACE:this.visible||this._sendToParent(t,3);break;default:this._sendToParent(t,3)}},_.prototype._keyPressHandler=function(t){var e=t.which||t.keyCode;this._sendToParent(t,2),U.Utils.isFirefox?t.ctrlKey||t.altKey||!(0==e||32<=e)||(this._requestStart()?this._mask&&(this._mask._pStart=t.target.selectionStart,this._mask.keyPress(t),this._doChanged(),t.preventDefault()):t.preventDefault()):32<=e&&(this._requestStart()?this._mask&&(this._mask._pStart=t.target.selectionStart,this._mask.keyPress(t),this._doChanged(),t.preventDefault()):t.preventDefault())},_.prototype._textHandler=function(){this._requestStart()},_.prototype._compositionstartHandler=function(t){this._composing=!0,this._requestStart(),this._started&&!this._editor.readOnly&&(this._modified=!0,this._dispatchChange(),this._checkHangeul=!0)},_.prototype._compositionendHandler=function(){this._composing=!1},_.prototype._compositionupdateHandler=function(){this._composing=!0},_.prototype._changeHandler=function(t){},_.prototype._inputHandler=function(t){if(U.Utils.ieTen){if(this._editor.value==h)return;if((null==this._inputValue||null==this._inputValue?"":this._inputValue)===this._editor.value)return}this._mask&&this._mask.input(t),this._doChanged()},_.prototype._pasteHandler=function(t){if(this.visible)this._doChanged();else{t.preventDefault();var e=this._grid.pasteOptions;try{var i=void 0,o=(t.originalEvent||t).clipboardData;null!=(i=o?o.getData("text/plain"):window.clipboardData.getData("text"))&&this._grid.pasteFromClipboard(i,t)}catch(t){if(t instanceof at.ValidationError){if(e.throwValidationError)throw t}else if(t instanceof at.AbortError)alert(t.message);else if(t)throw t}}},_.prototype._copyHandler=function(t){if(!this.editing){var e=this._grid.copyToClipboard(t,null);return null!=e&&(window.clipboardData?window.clipboardData.setData("Text",e):t.clipboardData.setData("text/plain",e)),t.preventDefault()}},_.prototype._getInputSelector=function(){return null},_);function _(){var t=null!==p&&p.apply(this,arguments)||this;return t._maxLength=0,t._borderable=!0,t._modified=!1,t}e.TextCellEditor=d;var f,y=(i(m,f=d),m.prototype._createEditor=function(t){var e=f.prototype._createEditor.call(this,t);return e.tabIndex=U.Utils.isMobile?-1:0,e},m.prototype._getInputSelector=function(){return m.INPUT_CSS},m.INPUT_CSS="rg-text-editor",m);function m(t,e){return f.call(this,t,e)||this}e.LineCellEditor=y;var g,v=(i(b,g=d),b.prototype._createEditor=function(t){var e=g.prototype._createEditor.call(this,t);return e.setAttribute("type","password"),e.tabIndex=U.Utils.isMobile?-1:0,e},b.prototype._getInputSelector=function(){return b.INPUT_CSS},b.INPUT_CSS="rg-password-editor",b);function b(t,e){return g.call(this,t,e)||this}e.PasswordCellEditor=v;var C,w=(i(x,C=s),x.prototype._doDispose=function(){this._editor.onkeydown=null,this._editor.onkeyup=null,this._editor.onkeypress=null,this._editor.oninput=null,this._editor.onpaste=null,this._editor.oncopy=null,C.prototype._doDispose.call(this)},Object.defineProperty(x.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){t!=this._maxLength&&(this._maxLength=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"minHeight",{get:function(){return this._minHeight},set:function(t){t!=this._minHeight&&(this._minHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"altEnterNewLine",{get:function(){return this._altEnterNewLine},set:function(t){t!=this._altEnterNewLine&&(this._altEnterNewLine=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return this._editor.value},enumerable:!0,configurable:!0}),x.prototype.setAlignment=function(t){this._container.style.textAlign="left"},x.prototype.isEdited=function(){return this._modified},x.prototype.initOptions=function(){C.prototype.initOptions.call(this),this._maxLength=0,this._minHeight=0,this.setReadOnly(!1)},x.prototype.setReadOnly=function(t){this._editor.readOnly=this._readOnly=t},x.prototype._selectAll=function(){this._editor.select()},x.prototype._doBeginEdit=function(){return this._modified=!1,this.visible&&(this._editor.value||this._editor.setSelectionRange(0,0)),!0},x.prototype._doEndEdit=function(){this._modified=!1},x.prototype._doCommit=function(){},x.prototype.setEditIndex=function(t){switch(C.prototype.setEditIndex.call(this,t),t&&t.grid,this._textCase==H.TextInputCase.DEFAULT?t.dataColumn.textInputCase:this._textCase){case H.TextInputCase.LOWER:this._editor.style.textTransform="lowercase";break;case H.TextInputCase.UPPER:this._editor.style.textTransform="uppercase";break;default:this._editor.style.textTransform="none"}this._editor.maxLength=0<this._maxLength?this._maxLength:2e9},x.prototype.setEditValue=function(t){C.prototype.setEditValue.call(this,t),this._editor.value=this._valToStr(t)},x.prototype.setCellEditValue=function(t){C.prototype.setCellEditValue.call(this,t,!1)},x.prototype.getEditValue=function(e,t){void 0===e&&(e=!0);var i=this._editField(),o=i.nullValue;try{var r=i.dataType,n=this._editor.value;if(r==H.ValueType.TEXT)n||void 0===this._emptyValue||(n=this._emptyValue),void 0===(o=this._strToVal(n))&&(o="");else if(U.Utils.isWhiteSpace(n))if(void 0!==this._emptyValue)o=this._strToVal(this._emptyValue);else switch(r){case H.ValueType.NUMBER:isNaN(this._oldValue)&&(o=NaN);break;case H.ValueType.DATETIME:null===this._oldValue&&(o=null);break;case H.ValueType.BOOLEAN:}else o=this._strToVal(n);o=i.readValue(o)}catch(t){if(e)throw t}return o},x.prototype.getEditText=function(){return this._editor.value},x.prototype.setVisible=function(t,e){if(C.prototype.setVisible.call(this,t,e),t&&this._borderable){var i=this._container.style;i.removeProperty("border"),i.removeProperty("box-shadow")}else this._container.style.border="none",this._container.style["box-shadow"]="none";if(U.Utils.isWinSafari){try{this._editor.style.width=this._container.getBoundingClientRect().width+"px",this._container.style.cssText=this._container.style.cssText.replace(/border-width: initial; border-color: initial; /g,"")}catch(t){}setTimeout(function(){this._editor.style.width="100%"}.bind(this),0)}},x.prototype._doChanged=function(){this._requestStart(),this._started&&!this._editor.readOnly&&(this._modified=!0,this._dispatchChange(),this.$_resetBounds())},x.prototype.$_resetBounds=function(){var t=U.Utils.getClientRect(this._container),e=t.cx,i=t.cy,o=t.width,r=Math.round(t.height),n=this._editor.value==h;!n&&this._editor.scrollWidth>o&&(o=this._editor.scrollWidth+6),!n&&this._editor.scrollHeight>r&&(r=this._editor.scrollHeight+6);var s=isNaN(this._minHeight)?0:this._minHeight;0<s&&(r=Math.max(r,s)),t=U.Utils.getClientRect(this._parentElement),o=Math.min(t.width,o),r=Math.min(t.height,r),e+o>t.width&&(e=t.width-o),i+r>t.height&&(i=t.height-r),U.Utils.setBounds(this._container,Math.max(e,0),Math.max(i,0),o,r)},x.prototype.$_createContainer=function(){var t=document.createElement("div"),e=t.style;return t.spellcheck=!1,t.setAttribute("aria-hidden","true"),e.position="absolute",e.zIndex="2000",e.width="0px",e.height="0px",e.padding="0px",e.margin="0px",t},x.prototype._createEditor=function(t){this._container=this.$_createContainer(),t.appendChild(this._container);var e=document.createElement("textarea"),i=e.style;e.autocomplete="off",e.setAttribute("aria-hidden","true"),i.position="absolute",i.margin="0px",i.padding="0px",i.wordWrap="normal",i.overflow="hidden",i.resize="none",i.border="none",i.outline="none",i.left="0px",i.top="0px",i.width="100%",i.height="100%",i["-webkit-user-modify"]="read-write-plaintext-only",i["white-space"]="pre",i["-webkit-transform"]="translateZ(0)",e.tabIndex=-1,e.onkeydown=this._keyDownHandler.bind(this),e.onkeyup=this._keyUpHandler.bind(this),e.onkeypress=this._keyPressHandler.bind(this),e.oninput=this._inputHandler.bind(this),e.onpaste=this._pasteHandler.bind(this),e.oncopy=this._copyHandler.bind(this);var o=this._grid.container;return o.$_addListener(e,"compositionstart",this._compositionstartHandler.bind(this),!1),o.$_addListener(e,"compositionupdate",this._compositionupdateHandler.bind(this),!1),o.$_addListener(e,"compositionend",this._compositionendHandler.bind(this),!1),o.$_addListener(e,"text",this._textHandler.bind(this),!1),this._container.appendChild(e),e},x.prototype.setBounds=function(t,e,i,o){U.Utils.setBounds(this._container,t,e,i,o),t>U.Utils.$_INVISIBLE_EDIT_BOUNDS.x&&this.$_resetBounds()},x.prototype._getInputSelector=function(){return x.INPUT_CSS},x.prototype._textHandler=function(){this._requestStart()},x.prototype._compositionstartHandler=function(t){this._composing=!0,this._requestStart()},x.prototype._compositionendHandler=function(){this._composing=!1},x.prototype._compositionupdateHandler=function(){this._composing=!0},x.prototype._keyDownHandler=function(t){var e=this._editor,i=t.keyCode;if((U.Utils.isIE||U.Utils.isEdge)&&!this.visible&&t.ctrlKey&&i==H.Keys.Z)return!1;switch(i){case H.Keys.BACK:case H.Keys.DELETE:this._sendToParent(t)||!this.visible&&this._requestStart()&&(t.preventDefault(),t.stopImmediatePropagation(),!this._editor.readOnly&&this._controller.getData(this._editIndex)&&(this._editor.value="",this._modified=!0,this._dispatchChange()));break;case H.Keys.TAB:return!this._sendToParent(t);case H.Keys.LEFT:if(!this.visible||0==e.selectionEnd&&e.selectionEnd==e.selectionStart)return!this._sendToParent(t);break;case H.Keys.RIGHT:if(!this.visible||e.selectionEnd==e.value.length&&e.selectionEnd==e.selectionStart)return!this._sendToParent(t);break;case H.Keys.HOME:case H.Keys.END:if(!this.visible)return!this._sendToParent(t);t.stopImmediatePropagation();break;case H.Keys.UP:case H.Keys.PAGEUP:if(!this.visible)return!this._sendToParent(t);t.stopImmediatePropagation();break;case H.Keys.DOWN:case H.Keys.PAGEDOWN:if(!this.visible)return!this._sendToParent(t);t.stopImmediatePropagation();break;case H.Keys.SPACE:if(!this.visible)return!this._sendToParent(t);break;case H.Keys.ENTER:if(this.altEnterNewLine){if(!(t.altKey&&this.editing||t.shiftKey))return!this._sendToParent(t)}else if(!(t.ctrlKey&&this.editing||t.shiftKey))return!this._sendToParent(t);if((this.altEnterNewLine&&t.altKey||!this.altEnterNewLine&&t.ctrlKey)&&!t.shiftKey){t.preventDefault(),t.stopImmediatePropagation();var o=e.value===h?"":e.value;if(o){var r=e.selectionEnd;o=o.substring(0,r)+"\r\n"+o.substring(r),e.value=o,e.setSelectionRange(r+1,r+1),this._doChanged()}}break;case H.Keys.ESCAPE:case H.Keys.F2:case H.Keys.INSERT:return t.preventDefault(),t.stopImmediatePropagation(),!this._sendToParent(t);case 229:break;default:return this._sendToParent(t,null,!0),!0}return t.keyCode,!0},x.prototype._keyUpHandler=function(t){var e=t.keyCode;switch(e!=H.Keys.BACK&&e!=H.Keys.DELETE||U.Utils.ieOld&&this.visible&&!this._editor.readOnly&&this._editor.value!=this._inputValue&&this._doChanged(),t.keyCode){case H.Keys.LEFT:case H.Keys.RIGHT:case H.Keys.HOME:case H.Keys.END:case H.Keys.SPACE:this.visible||this._sendToParent(t,3);break;default:this._sendToParent(t,3)}},x.prototype._keyPressHandler=function(t){32<=t.keyCode&&(this._requestStart()||t.preventDefault())},x.prototype._inputHandler=function(t){this._doChanged()},x.prototype._pasteHandler=function(t){if(this.visible)this._doChanged();else{t.preventDefault();var e=this._grid.pasteOptions;try{var i=void 0,o=(t.originalEvent||t).clipboardData;null!=(i=o?o.getData("text/plain"):window.clipboardData.getData("text"))&&this._grid.pasteFromClipboard(i,t)}catch(t){if(t instanceof at.ValidationError){if(e.throwValidationError)throw t}else if(t instanceof at.AbortError)alert(t.message);else if(t)throw t}}},x.prototype._copyHandler=function(t){if(!this.editing){var e=this._grid.copyToClipboard(t,null);return null!=e&&(window.clipboardData?window.clipboardData.setData("Text",e):t.clipboardData.setData("text/plain",e)),t.preventDefault()}},x.INPUT_CSS="rg-multiline-editor",x);function x(t,e){var i=C.call(this,t,e)||this;return i._maxLength=0,i._minHeight=0,i._altEnterNewLine=!1,i._modified=!1,i._borderable=!0,i}e.MultiLineCellEditor=w;var I,E=/[ㄱ-ㅎㅏ-ㅣ가-힝]/g,S=(i(O,I=d),Object.defineProperty(O.prototype,"positiveOnly",{get:function(){return this._positiveOnly},set:function(t){t!=this._positiveOnly&&(this._positiveOnly=t,this.$_resetRistrict())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"integerOnly",{get:function(){return this._integerOnly},set:function(t){t!=this._integerOnly&&(this._integerOnly=t,this.$_resetRistrict())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"decSep",{get:function(){return this._decSep},set:function(t){t!=this._decSep&&(this._decSep=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"groupSep",{get:function(){return this._groupSep},set:function(t){t!=this._groupSep&&(this._groupSep=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"editFormat",{get:function(){return this._editFormat},set:function(t){if(t!=this._editFormat)if(this._editFormat=t){var e=this._decimalFormatter=new z.DecimalFormatter(t);e&&(this._decSep=e.separator?e.separator:".",this._groupSep=e.groupSep?e.groupSep:",",this._decLen=Math.max(e.minDigits,e.maxDigits))}else this._decimalFormatter=void 0,this._decSep=".",this._groupSep=",",this._decLen=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"multipleChar",{get:function(){return this._multipleChar},set:function(t){t!=this._multipleChar&&(this._multipleChar=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"addString",{get:function(){return this._addString},set:function(t){t!=this._addString&&(this._addString=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"maxLengthExceptComma",{get:function(){return this._maxLengthExceptComma},set:function(t){t!=this._maxLengthExceptComma&&(this._maxLengthExceptComma=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"maxIntegerLength",{get:function(){return this._maxIntegerLength},set:function(t){t!=this._maxIntegerLength&&(this._maxIntegerLength=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"blankWhenSpace",{get:function(){return this._blankWhenSpace},set:function(t){t!=this._blankWhenSpace&&(this._blankWhenSpace=t,this._changed())},enumerable:!0,configurable:!0}),O.prototype.setMask=function(t){this._mask=null},O.prototype.initOptions=function(){I.prototype.initOptions.call(this),this._decSep=".",this._groupSep=",",this.editFormat=void 0,this.positiveOnly=!1,this.integerOnly=!1},O.prototype.setEditIndex=function(t){I.prototype.setEditIndex.call(this,t),this._editor.maxLength=this.maxLengthExceptComma||this.maxLength<=0?this._defMaxLength:this.maxLength},O.prototype._inputHandler=function(t){this._editFormat&&(t.target,this.$_editFormatting(t)),I.prototype._inputHandler.call(this,t)},O.prototype._keyPressHandler=function(t){if(!U.Utils.isFirefox||!t.ctrlKey&&0!==t.charCode){var e=!0,i=String.fromCharCode(t.keyCode||t.charCode);(!this._regx.test(i)||t.target.value&&0<=t.target.value.indexOf(this._decSep)&&i==this._decSep)&&(this._multipleChar&&i===this._multipleChar||(e=!1,this.blankWhenSpace&&" "===i||t.preventDefault()));var o=t.target.selectionStart,r=t.target.selectionEnd,n=t.target.value,s=new RegExp("\\"+this._groupSep,"g"),a=n?n.split(""):[];if(a.splice(o,r-o,i===this._multipleChar?this._addString:i),a=a.join("").replace(s,""),0<this.maxLength&&e&&this.maxLengthExceptComma&&n&&n!==h&&a.length>this.maxLength&&t.preventDefault(),0<this._maxIntegerLength&&i!==this._decSep){var l=Math.floor(this.$_strToNum(a));if(!isNaN(l)){var u=Math.abs(l).toString().length;this._maxIntegerLength<u&&t.preventDefault()}}this._isMultiple=i==this._multipleChar,I.prototype._keyPressHandler.call(this,t)}else I.prototype._keyPressHandler.call(this,t)},O.prototype._keyDownHandler=function(t){var e=t.keyCode||t.charCode;if(this._isMultiple=!1,(8===e||46===e)&&this.editing&&this._editFormat){var i=t.target,o=i.value,r=o.length,n=o&&o.split(""),s=i.selectionStart,a=i.selectionEnd;if(s!==a)return I.prototype._keyDownHandler.call(this,t);var l=o[8===e?s-1:s];if(l===this._groupSep||l===this._decSep)if(l===this._decSep&&s===(8===e?o.length:o.length-1));else{n.splice(8===e?s-2:s+1,1),i.value=n.join(""),this.$_editFormatting(t);var u=i.value,h=r-(8===e?u.length:r);i.setSelectionRange(s-h,a-h),this._doChanged(),t.preventDefault()}}return I.prototype._keyDownHandler.call(this,t)},O.prototype._dispatchChange=function(){this.visible&&(this.$_resetValue(),I.prototype._dispatchChange.call(this))},O.prototype.setEditValue=function(t){var e=parseFloat(t);if(isNaN(e))this._editor.value="";else if(this._editFormat&&"number"==typeof e){var i=Math.max(0,e.toString().length-Math.floor(e).toFixed().length-1,this._decimalFormatter._minDigits);this._editor.value=this.$_formatNum(e,i)}else this._editor.value=e},O.prototype.getEditValue=function(e,t){void 0===e&&(e=!0),this.$_resetValue();var i=this._editField().nullValue;try{var o=this._editor.value;if(o=o&&o.trim()){var r=new RegExp("\\"+this._groupSep,"g"),n=new RegExp("[\\"+this._decSep+"]+","g");o=(o=(o=(o=(o=(o=o.replace(r,"")).replace(n,".")).replace(/\++/g,"+")).replace(/\-+/g,"-")).replace(/\+\-/g,"+")).replace(/\-\+/g,"-")}i=o?parseFloat(o):void 0}catch(t){if(e)throw t}return i},O.prototype.setCellEditValue=function(t){!this.readOnly&&this._requestStart()&&("string"!=typeof t&&"number"!=typeof t||(t=this.$_strToNum(t),this.setEditValue(t),this._doChanged()))},O.prototype._getInputSelector=function(){return O.INPUT_CSS},O.prototype.$_strToNum=function(t){t=""+t;var e=new RegExp("\\"+this._decSep,"g"),i=new RegExp("\\"+this._groupSep,"g"),o="-"===t[0];t=t.replace(i,"").replace(e,".");var r=parseFloat(t);return isNaN(r)?NaN:o?-Math.abs(r):r},O.prototype.$_formatNum=function(t,e){var i=t;e=Math.abs(e),e=isNaN(e)?2:e;var o=i<0?"-":0==i&&1/i==-1/0?"-":"",r=parseInt(i=Math.abs(+i||0).toFixed(e)),n=r+"",s=n.length;return o+((s=3<n.length?s%3:0)?n.substr(0,s)+this._groupSep:"")+n.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+this._groupSep)+(e?this._decSep+Math.abs(i-r).toFixed(e).slice(2):"")},O.prototype.$_editFormatting=function(t){this._editor;var e=t.target.value,i=e&&e[e.length-1]==this._decSep,o=t.target.selectionStart,r=t.target.selectionEnd;e=this._isMultiple&&this._addString?e.replace(/\+/g,this._addString):e,this._isMultiple&&this._addString&&(o+=this._addString.length,r+=this._addString.length);var n=e.split(this._decSep),s=0;1<n.length&&(n.length=2,n[1]=n[1].substr(0,this._decimalFormatter._maxDigits),s=n[1].length,e=n.join(this._decSep)),s=2==n.length?Math.min(n[1].length,null!=this._decLen?this._decLen:99):0;var a=this.$_strToNum(e);if(!isNaN(a)){if(0<this.maxLength||0<this.maxIntegerLength){var l=String(a).split(".");0<this.maxIntegerLength&&(l[0]=l[0].substr(0,this.maxIntegerLength));var u=l.join(".");0<this.maxLength&&(u=u.substr(0,this.maxLength)),a=parseFloat(u)}e=this.$_formatNum(a,s);var h=(e=i&&this._decLen&&e.indexOf(this._decSep)<0?e+this._decSep:e).length,c=t.target.value.length;1==Math.abs(h-c)&&(c<h?(o++,r++):e.indexOf(this._decSep)>=o&&(o--,r--)),t.target.value=e,t.target.setSelectionRange(o,r)}},O.prototype.$_resetValue=function(){if(this.visible){var t=this._editor,e=t.selectionStart,i=t.selectionEnd,o=t.value?t.value.length:0;t.value=t.value.replace(E,"").trim(),(t.value?t.value.length:0)==o?t.setSelectionRange(e,i):t.setSelectionRange(i,i)}},O.prototype.$_resetRistrict=function(){this._positiveOnly&&this._integerOnly?this._regx=this._regxPosInt:this._positiveOnly?this._regx=this._regxPos:this._integerOnly?this._regx=this._regxInt:this._regx=this._regxAll},O.INPUT_CSS="rg-number-editor",O);function O(t,e){var i=I.call(this,t,e)||this;return i._positiveOnly=!1,i._integerOnly=!1,i._decSep=".",i._groupSep=",",i._addString="000",i._maxLengthExceptComma=!1,i._maxIntegerLength=0,i._blankWhenSpace=!1,i._regxAll=/[0-9]|,|\.|\-|\+|e|E/,i._regxPos=/[0-9]|,|\.|\+|e|E/,i._regxInt=/[0-9]|,|\+|\-/,i._regxPosInt=/[0-9]|,|\+/,i._regx=i._regxAll,i._numValue=void 0,i._decLen=void 0,i._decimalFormatter=void 0,i._isMultiple=!1,i._editor.style.imeMode="disabled",i._editor.style["-webkit-ime-mode"]="disabled",i._editor.style["-moz-ime-mode"]="disabled",i._editor.style["-ms-ime-mode"]="disabled",i}e.NumberCellEditor=S});t(me);me.CellEditor,me.EditMask,me.TextCellEditor,me.LineCellEditor,me.PasswordCellEditor,me.MultiLineCellEditor,me.NumberCellEditor;var ge=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var p,r,n,s,g,a,l="***1-da*&23%^1//+)(lu%v\\3d!#~`{``~er";(r=p=e.DropDownPosition||(e.DropDownPosition={})).BUTTON="button",r.EDITOR="editor",(s=n=e.DropDownSortStyle||(e.DropDownSortStyle={})).NONE="none",s.ASCENDING="ascending",s.DESCENDING="descending",(a=g=e.DropDownValueLabel||(e.DropDownValueLabel={})).VALUE="value",a.LABEL="label",a.VALUE_LABEL="valueLabel",a.LABEL_VALUE="labelValue";var u,h=(u=Y.EventAware,i(c,u),c.prototype._doDispose=function(){this._container=null,this._containerElement=null,this._items=null,U.Utils.clearElements(this._element),this._element.parentNode&&this._element.parentNode.removeChild(this._element),this._element=null,u.prototype._doDispose.call(this)},Object.defineProperty(c.prototype,"minWidth",{get:function(){return this._minWidth},set:function(t){t!=this._minWidth&&(this._minWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!=this._maxWidth&&(this._maxWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dropDownCount",{get:function(){return this._dropDownCount},set:function(t){t!=this._dropDownCount&&(this._dropDownCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"caseSensitive",{get:function(){return this._caseSensitive},set:function(t){t!=this._caseSensitive&&(this._caseSensitive=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"partialMatch",{get:function(){return this._partialMatch},set:function(t){t!=this._partialMatch&&(this._partialMatch=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"sortStyle",{get:function(){return this._sortStyle},set:function(t){t!=this._sortStyle&&(this._sortStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"items",{get:function(){return this._items},set:function(t){if(t!==this._items&&(this._items=[],t))for(var e=0,i=t.length;e<i;e++)this._items.push({label:t[e].label,value:t[e].value,index:e})},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"itemIndex",{get:function(){return this._itemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(t){t!=this._dropDownPosition&&(this._dropDownPosition=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"dropDownWidth",{get:function(){return this._dropDownWidth},set:function(t){t!=this._dropDownWidth&&(this._dropDownWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"displayLabels",{get:function(){return this._displayLabels},set:function(t){t!==this._displayLabels&&(this._displayLabels=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"separator",{get:function(){return this._separator},set:function(t){t!=this._separator&&(this._separator=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"itemColumned",{get:function(){return this._itemColumned},set:function(t){t!=this._itemColumned&&(this._itemColumned=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"viewGridInside",{get:function(){return this._viewGridInside},set:function(t){t!=this._viewGridInside&&(this._viewGridInside=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"trimLabelText",{get:function(){return this._trimLabelText},set:function(t){t!=this._trimLabelText&&(this._trimLabelText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"initCount",{get:function(){return this._initCount},set:function(t){t!=this._initCount&&(this._initCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"moreItemCount",{get:function(){return this._moreItemCount},set:function(t){t!=this._moreItemCount&&(this._moreItemCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"moreText",{get:function(){return this._moreText},set:function(t){t!=this._moreText&&(this._moreText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"listing",{get:function(){return this._containerElement&&this._containerElement.contains(this._element)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"itemCount",{get:function(){return 0==this.initCount?this._items&&this._items.length:this._element.children.length},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"valueIndex",{get:function(){var t=this._items,e=this._itemIndex;return t&&0<=e&&e<t.length?t[e].index:-1},set:function(t){if(t=Math.max(-1,t),this._itemIndex=-1,0<=t)for(var e=0,i=this._items.length;e<i;e++)if(this._items[e].index==t){this._itemIndex=t;break}this.listing&&this._refreshItems(),this._selected=!0},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),c.prototype.setItemIndex=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var o=this._element.childNodes;if((t=Math.max(-1,t))<this._items.length&&(e||t!=this._itemIndex||t>=o.length-1)){if(i&&t>=o.length-1){var r=o[o.length-1];if(r.isMoreButton){var n=t-(o.length-1);n=(Math.floor(n/this.moreItemCount)+1)*this.moreItemCount,this.$_addMoreItems(r,n)}}this._itemIndex=t,this.listing&&this._refreshItems(),this._selected=0<=t}},c.prototype.show=function(t,e,i,o,r){this._containerElement=this._viewGridInside?this._container._container:t,this._sortStyle!=n.NONE&&this.$_sortItems(),this._show(e,i,o,r)},c.prototype.hide=function(){U.Utils.detach(this._element),this._containerElement=null},c.prototype.currentIsMore=function(t){var e=this._element.childNodes[null!=t?t:this._itemIndex];return e&&e.isMoreButton},c.prototype.addMoreItems=function(){if(this.currentIsMore(null)){var t=this._element.childNodes[this._itemIndex];this.$_addMoreItems(t,0)}},c.prototype._changed=function(){},c.prototype._createList=function(){var t=document.createElement("div");return t.className="rg-dropdownlist",t.onkeydown=function(t){27==t.keyCode&&this.fireEvent(c.CLOSE_UP,!1)}.bind(this),t},c.prototype.$_sortItems=function(){this._sortStyle==n.ASCENDING?this._items.sort(function(t,e){return t.label<e.label?-1:t.label>e.label?1:0}):this._items.sort(function(t,e){return t.label>e.label?-1:t.label<e.label?1:0})},c.prototype._show=function(t,e,i,o){var r=this._element;if(r){var n=r.style;n.position="absolute",n.cssFloat="none",n.clear="both",n.boxSizing="border-box",n.minWidth="20px",n.minHeight="10px",n.overflow="auto",n.zIndex="3000",this._firstChild=null,U.Utils.clearChildren(r),U.Utils.disableSelection(r),this._containerElement.appendChild(r),this._cellWidth=i,this._editBounds=o,n.width="10px",this._buildItems(),this.$_resetHeight(),this._resetWidth(i),this.$_resetPosition(t,e,i,o),this._selected=!1}},c.prototype._getListElement=function(){return this._element},c.prototype.$_resetHeight=function(){var t=this._getListElement();if(this._firstChild){var e=U.Utils.getClientRect(this._firstChild),i=this._firstChild.currentStyle||window.getComputedStyle(this._firstChild),o=parseInt(i.marginTop.replace("px",""));o=isNaN(o)?0:o;var r=parseInt(i.marginBottom.replace("px",""));r=isNaN(r)?0:r;var n=0<this._dropDownCount?Math.min(this._dropDownCount,this._items.length):this._items.length;t.style.height=(e.height+o)*n+4+r+"px"}else t.style.height="10px"},c.prototype._resetWidth=function(t){var e=this._element,i=U.Utils.getClientRect(e),o=this._dropDownWidth,r=o,n=e.offsetWidth?e.offsetWidth+(U.Utils.ieOld&&"border-box"===e.style.boxSizing?17:0):0;r<0?r=t:0==r&&(r=10),e.style.width=r+"px";var s=0;if(this._firstChild){var a=this._firstChild.currentStyle||window.getComputedStyle(this._firstChild),l=parseInt(a.marginLeft.replace("px",""));l=isNaN(l)?0:l;var u=parseInt(a.marginRight.replace("px",""));u=isNaN(u)?0:u;for(var h=e.childNodes,c=0;c<h.length;c++)s=Math.max(s,h[c].scrollWidth);s+=e.offsetWidth-e.clientWidth+l+u+2}o<0&&(s=Math.max(s,r));var p=U.Utils.getBrowserSize();r=s=Math.min(s,p.width),U.Utils.ieOld&&(0<=o||r<s)&&(r+=20),r<i.width?e.style.overflowX="hidden":e.style.overflowX="auto",e.style.width=Math.max(r,n)+"px"},c.prototype.$_resetPosition=function(t,e,i,o){var r=U.Utils.getBrowserSize(),n=U.Utils.getClientRect(this._containerElement),s=U.Utils.getClientRect(this._container._container),a=r.width,l=r.height,u=U.Utils.getClientRect(this._element),h=window.pageXOffset||document.documentElement.scrollLeft,c=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.scrollWidth>document.documentElement.clientWidth&&(l-=18),document.documentElement.scrollHeight>document.documentElement.clientHeight&&(a-=18),t+=s.left-n.left,e+=s.top-n.top,(U.Utils.ieTen||U.Utils.ieOld||U.Utils.ieLeg)&&(t+=document.documentElement.scrollLeft,e+=document.documentElement.scrollTop),e+u.height>l+c&&(e=e-o.height-u.height)<0&&(e=l-u.height-2),this._dropDownPosition!=p.EDITOR?t=Math.max(0,t+i-u.width):t+u.width>a+h&&(t=a-u.width),this._viewGridInside&&(e=o.bottom-n.top+2,(n.bottom<o.bottom+u.height||l+c<o.bottom+u.height)&&(e=o.top-u.height-n.top-2)),U.Utils.move(this._element,Math.max(0,t),Math.max(0,e))},c.prototype._resetItems=function(t,e,i,o){U.Utils.clearChildren(this._element),this._firstChild=null,this._buildItems(),this.$_resetHeight(),this._resetWidth(i),this.$_resetPosition(t,e,i,o)},c.prototype._buildItems=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i,o=0,r=function(t,e){var i=e&&e.value?e.value.toString():"",o=document.createElement("span");return o.style.whiteSpace="pre",o.innerHTML=i?U.Utils.htmlEncode(i):"&nbsp;",o.tabIndex=-1,U.Utils.disableSelection(o),t.appendChild(o),o}.bind(this),n=function(t,e,i){var o=e&&e.label?e.label.toString():"";o=this._trimLabelText?o.trim():o;var r=document.createElement("span");return this._trimLabelText||(r.style.whiteSpace="pre"),r.innerHTML=o?U.Utils.htmlEncode(o):"&nbsp;",r.tabIndex=-1,U.Utils.disableSelection(r),t.appendChild(r),r}.bind(this),s=function(t,e){var i=document.createElement("span");i.style.whiteSpace="pre",i.innerHTML=e?U.Utils.htmlEncode(e):"&nbsp;",i.tabIndex=-1,U.Utils.disableSelection(i),t.appendChild(i)}.bind(this),a=function(t){if(!i){var e=window.getComputedStyle(t);i={font:e.fontSize+" "+e.fontFamily,size:parseInt(e.fontSize)}}return o}.bind(this),l=this._items,u=e||(0<this._element.children.length?this.moreItemCount:this.initCount);if(l&&!(l.length<1)){for(var h=t,c=l.length;h<c;h++){if(this._initCount&&u<=h-t&&h<c){var p=document.createElement("div"),d=p.style;d.position="relative",d.cssFloat="none",d.paddingTop="1px",d.paddingBottom="1px",d.paddingLeft="2px",d.paddingRight="2px",d.whiteSpace="nowrap",d.cursor="pointer",d.textAlign="center",U.Utils.disableSelection(p),p.nextIndex=h,p.onmouseover=null,p.onmouseout=null,p.onclick=this._nextClickHandler,p.isMoreButton=!0,p.className="rg-dropdown-more",n(p,{label:this.moreText}),this._element.appendChild(p);break}var _=l[h],f=document.createElement("div"),y=f.style;y.position="relative",y.cssFloat="none",y.paddingTop="1px",y.paddingBottom="1px",y.paddingLeft="2px",y.paddingRight="2px",y.whiteSpace="nowrap",y.cursor="default",f.className=h==this._itemIndex?"rg-dropdown-select":"rg-dropdown-item",U.Utils.disableSelection(f),this._element.appendChild(f),0==h&&(this._firstChild=f),f.onmouseover=null,f.onmouseout=null,f.onclick=this._clickHandler;var m=null;switch(this.displayLabels){case g.LABEL:n(f,_);break;case g.VALUE:r(f,_);break;case g.LABEL_VALUE:m=n(f,_,!0),s(f,this._separator),r(f,_);break;case g.VALUE_LABEL:m=r(f,_,!0),s(f,this._separator),n(f,_)}m&&this._itemColumned&&(o=Math.max(o,a(m)))}if(this._itemColumned&&o)for(h=0,c=this._element.childNodes.length;h<c;h++)(m=this._element.childNodes[h].firstChild).style.display="inline-block",m.style.width=o+"px"}},c.prototype.$_addMoreItems=function(t,e){var i=t.nextIndex;t.parentNode&&t.parentNode.removeChild(t),this._buildItems(i,e),this._resetWidth(this._cellWidth),this.fireEvent(c.EDITOR_FOCUS)},c.prototype._refreshItems=function(){for(var t=this._element.childNodes,e=0;e<t.length;e++)(i=t[e]).className=e==this._itemIndex?"rg-dropdown-select":"rg-dropdown-item";var i,o=this._itemIndex;if(0<=o&&o<t.length)if((i=t[o]).offsetTop<this._element.scrollTop)this._element.scrollTop=i.offsetTop;else{var r=i.offsetTop+U.Utils.getSize(i).height;r>=this._element.scrollTop+this._element.clientHeight&&(this._element.scrollTop=r-this._element.clientHeight)}},c.prototype.$_hangulToChosungAll=function(t){for(var e=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],i="",o=0;o<t.length;o++){var r=t.charCodeAt(o)-44032;i+=-1<r&&r<11172?e[Math.floor(r/588)]:t[o]}return i},c.prototype.$_hangulToChosung=function(t){var e={cho:t,org:t};if(/[ㄱ-힝]/.test(t)){var i=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],o=t.charCodeAt(0)-44032,r=o%28,n=(o-r)/28%21,s=((o-r)/28-n)/21;e.cho=i[s]?i[s]:t,["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"][n]&&(e.org=t)}return e},c.prototype.$_search=function(t,e){void 0===e&&(e=!1);try{if(this._items&&0<this._items.length&&t){for(var i=this._items,o=i.length,r=this._caseSensitive?t:t.toLowerCase(),n=[],s=0;s<o;s++){if(h=i[s].label.toString())if(h=this._caseSensitive?h:h.toLowerCase(),this._partialMatch){for(var a="",l=0;l<h.length;l++){var u=this.$_hangulToChosung(h[l]);a+=this.$_hangulToChosung(r[l]).org?u.org:u.cho}if(a==r)return void this.setItemIndex(s,e,!0)}else if(h==r)return void this.setItemIndex(s,e,!0);n.push(h)}for(s=0;s<o;s++){var h=n[s];if(this._partialMatch){var c=!1;for(l=0;l<r.length;l++){var p=this.$_hangulToChosung(h[l]);if(!(p.org&&p.org==r[l]||p.cho&&p.cho==r[l])){c=!1;break}c=!0}if(c)return void this.setItemIndex(s,e,!0)}else if(h&&0==h.indexOf(r))return void this.setItemIndex(s,e,!0)}for(s=0;s<o;s++)if(h=n[s],this._partialMatch){var d=this.$_hangulToChosungAll(h),_=this.$_hangulToChosungAll(r),f=d.indexOf(_);if(a=h.substr(0,f),~f){l=0;for(var y=f,m=r.length;l<m;l++,y++)u=this.$_hangulToChosung(h[y]),a+=this.$_hangulToChosung(r[l]).org?u.org:u.cho}if(a&&0<a.indexOf(r))return void this.setItemIndex(s,e,!0)}else if(h&&0<h.indexOf(r))return void this.setItemIndex(s,e,!0)}this.setItemIndex(-1)}finally{e&&(this._selected=!0)}},c.CLOSE_UP="onDropDownListCloseUp",c.EDITOR_FOCUS="onDropDownListEditorFocus",c);function c(t){var e=u.call(this)||this;return e._minWidth=0,e._maxWidth=0,e._dropDownCount=8,e._caseSensitive=!1,e._partialMatch=!1,e._sortStyle=n.NONE,e._items=null,e._itemIndex=-1,e._dropDownPosition=p.BUTTON,e._dropDownWidth=-1,e._displayLabels=null,e._separator=null,e._itemColumned=!1,e._viewGridInside=!1,e._trimLabelText=!0,e._initCount=0,e._moreItemCount=25,e._moreText=null,e._selected=!1,e._mouseoverHandler=function(t){var e=this._currDiv=t.currentTarget;U.Utils.getChildIndex(e)!=this._itemIndex&&(e.style.background="rgba(0, 255, 0, 0.2)")}.bind(e),e._mouseoutHandler=function(t){var e=this._currDiv=t.currentTarget;U.Utils.getChildIndex(e)!=this._itemIndex&&(e.style.background="")}.bind(e),e._clickHandler=function(t){var e=t.currentTarget,i=U.Utils.getChildIndex(e);0<=i&&(this._itemIndex=i,this._selected=!0,this.fireEvent(c.CLOSE_UP,!0))}.bind(e),e._nextClickHandler=function(t){var e=t.currentTarget;this.$_addMoreItems(e)}.bind(e),e._container=t,e._element=e._createList(),e}e.DropDownList=h;var d,_=(d=me.TextCellEditor,i(f,d),f.prototype._doDispose=function(){this._list.removeListener(this),this._list.dispose(),this._list=null,this._globalMouseHandler=null,this._items=null,this._values=null,this._labels=null,this._value=void 0,d.prototype._doDispose.call(this)},f.prototype._createDropDown=function(t){return new h(t)},Object.defineProperty(f.prototype,"values",{get:function(){return this._values},set:function(t){this._values=t?t.slice():[]},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"items",{get:function(){return this._values},set:function(t){this.values=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"labels",{get:function(){return this._labels},set:function(t){this._labels=t?t.slice():[]},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"displayLabels",{get:function(){return this._displayLabels},set:function(t){t!=this._displayLabels&&(this._displayLabels=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"domainOnly",{get:function(){return this._domainOnly},set:function(t){t!=this._domainOnly&&(this._domainOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"textReadOnly",{get:function(){return this._textReadOnly},set:function(t){t!=this._textReadOnly&&(this._textReadOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dropDownWidth",{get:function(){return this._dropDownWidth},set:function(t){t!=this._dropDownWidth&&(this._dropDownWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(t){t!=this._dropDownPosition&&(this._dropDownPosition=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dropDownCount",{get:function(){return this._dropDownCount},set:function(t){t!=this._dropDownCount&&(this._dropDownCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemSortStyle",{get:function(){return this._itemSortStyle},set:function(t){t!=this.itemSortStyle&&(this.itemSortStyle=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"caseSensitive",{get:function(){return this._caseSensitive},set:function(t){t!=this._caseSensitive&&(this._caseSensitive=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"partialMatch",{get:function(){return this._partialMatch},set:function(t){t!=this._partialMatch&&(this._partialMatch=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"commitOnSelect",{get:function(){return this._commitOnSelect},set:function(t){t!=this._commitOnSelect&&(this._commitOnSelect=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"dropDownWhenClick",{get:function(){return this._dropDownWhenClick},set:function(t){t!=this._dropDownWhenClick&&(this._dropDownWhenClick=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"trimLabelText",{get:function(){return this._trimLabelText},set:function(t){t!=this._trimLabelText&&(this._trimLabelText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"separator",{get:function(){return this._separator},set:function(t){t!=this._separator&&(this._separator=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"itemColumned",{get:function(){return this._itemColumned},set:function(t){t!=this._itemColumned&&(this._itemColumned=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"listing",{get:function(){return this._list.listing},enumerable:!0,configurable:!0}),f.prototype.dropDown=function(t){if(void 0===t&&(t=!1),this.readOnly||this.listing||this._closing||(this._refreshItems(),!(t||this._items&&0<this._items.length)))return!1;var e=this._list,i=this._options;e.viewGridInside=i.viewGridInside,e.displayLabels=this.displayLabels,e.separator=this.separator,e.itemColumned=this.itemColumned,e.items=this._items;var o=U.Utils.getClientRect(this._container);return this._saveIndex=this._selectedIndex,this._saveText=this._editor.value,e.caseSensitive=this._caseSensitive,e.partialMatch=this._partialMatch,e.dropDownCount=this._dropDownCount,e.dropDownWidth=this._dropDownWidth,e.dropDownPosition=this._dropDownPosition,e.sortStyle=this._itemSortStyle,e.valueIndex=this._selectedIndex,e.trimLabelText=this._trimLabelText,e.show(document.documentElement,o.cx-1,o.cy+o.height,this._cellBounds.width,U.Utils.getClientRect(this._editor)),e.$_search(this._editor.value,!0),window.addEventListener("mousedown",this._globalMouseHandler),!0},f.prototype.closeUp=function(t){if(this.listing){this._closing=!0;try{window.removeEventListener("mousedown",this._globalMouseHandler),this._list.hide();var e=void 0;t&&this._list.selected&&0<=(e=this._list.itemIndex)&&this._items&&this._items.length>e?(this._selectedIndex=this._list.valueIndex,this._editor.value=this._labeling?this._items[e].label:this._items[e].value,this._selectedIndex==this._saveIndex&&this._editor.value==this._saveText||this._dispatchChange(),this._commitOnSelect&&this._dispatchCommit()):this._selectedIndex=-1}finally{this._closing=!1}return!0}return!1},Object.defineProperty(f.prototype,"hasButton",{get:function(){return!0},enumerable:!0,configurable:!0}),f.prototype.initOptions=function(){d.prototype.initOptions.call(this),this._values=[],this._labels=[],this._displayLabels=g.LABEL,this._separator=" - ",this._itemColumned=!1,this._domainOnly=!1,this._textReadOnly=!1,this._dropDownWidth=-1,this._dropDownPosition=p.BUTTON,this._dropDownCount=8,this._itemSortStyle=n.NONE,this._caseSensitive=!1,this._partialMatch=!1,this._commitOnSelect=!0,this._dropDownWhenClick=!1,this._viewGridInside=!1,this._initCount=0,this._moreItemCount=25,this._moreText=window.RG_CONST&&window.RG_CONST.MORETEXT||"더보기"},f.prototype.setEditIndex=function(t){d.prototype.setEditIndex.call(this,t),this._lookup=!1,this._labeling=!1,this._domain=null,this._items=null,this._refreshItems()},f.prototype.setEditValue=function(t){var e,i=-1;if(this._value=t,this._lookup){var o=this._domain;o?e=0<=(r=i=o.keys?o.keys.indexOf(t):-1)&&o.values&&o.values.length>r?o.values[r]:t:i=this._editIndex.dataColumn.getLookupIndex(t),this._labeling?(e=o?0<=i&&o.values&&o.values.length>i?o.values[i]:t:0<=i?this._editIndex.dataColumn.getLookupLabel(t):t,d.prototype.setEditValue.call(this,e)):d.prototype.setEditValue.call(this,t)}else if(this._values){for(var r=0,n=this._values.length;r<n;r++)if(t==this._values[r]){i=r;break}this._labeling&&this._labels&&(i<0||this._labels.length>i)?(e=0<=i?this._labels[r]:t,d.prototype.setEditValue.call(this,e)):d.prototype.setEditValue.call(this,t)}else d.prototype.setEditValue.call(this,t);this._selectedIndex=i},f.prototype.isEdited=function(){var t=d.prototype.isEdited.call(this);return t&&this.domainOnly&&(t=void 0!==this.$_getEditValue(!1)),t},f.prototype._getInputSelector=function(){return f.INPUT_CSS},f.prototype.setCellEditValue=function(t,e){d.prototype.setCellEditValue.call(this,t,e)},f.prototype.getEditValue=function(t,e){return void 0===t&&(t=!0),!this.isEdited()&&this._selectedIndex<0?this._value:this.$_getEditValue(t,e)},f.prototype._createContainer=function(){var t=d.prototype._createContainer.call(this);return t.style.border="none",t.style.boxShadow="none",t},f.prototype.setBounds=function(t,e,i,o){t+=2,e+=2,i-=4,o-=4,d.prototype.setBounds.call(this,t,e,i,o)},f.prototype._createEditor=function(t){return d.prototype._createEditor.call(this,t)},f.prototype._textHandler=function(){this._requestStart()},f.prototype._compositionstartHandler=function(t){d.prototype._compositionstartHandler.call(this,t)},f.prototype._keyDownHandler=function(t){var e=this._list,i=e.itemIndex;switch(t.keyCode){case H.Keys.BACK:case H.Keys.DELETE:if(!t.ctrlKey&&this.textReadOnly)return this._requestStart(),t.preventDefault(),!0;break;case H.Keys.SPACE:if(this.listing&&e.currentIsMore(i))return e.addMoreItems(),t.preventDefault(),!0;break;case H.Keys.ENTER:if(this.listing&&e.currentIsMore(i))return e.addMoreItems(),t.preventDefault(),!0;if(this.closeUp(!0))return!this._sendToParent(t);break;case H.Keys.ESCAPE:if(this.closeUp(!1))return t.preventDefault(),!0;break;case H.Keys.DOWN:if(t.altKey&&!this.listing)return this._requestStart(),t.preventDefault(),!0;if(this.listing)return this._list.setItemIndex(Math.min(e.itemCount-1,i+1)),t.preventDefault(),!0;break;case H.Keys.PAGEDOWN:if(this.listing)return this._list.setItemIndex(Math.min(e.itemCount-1,i+e.dropDownCount)),t.preventDefault(),!0;break;case H.Keys.UP:if(t.altKey&&this.listing)return this.closeUp(!1),t.preventDefault(),!0;if(this.listing)return this._list.setItemIndex(Math.max(0,i-1)),t.preventDefault(),!0;break;case H.Keys.PAGEUP:if(this.listing)return this._list.setItemIndex(Math.max(0,i-e.dropDownCount)),t.preventDefault(),!0}return d.prototype._keyDownHandler.call(this,t)},f.prototype._keyPressHandler=function(t){d.prototype._keyPressHandler.call(this,t),t.keyCode&&this.isTextReadOnly&&this.isTextReadOnly()&&t.preventDefault()},f.prototype._inputHandler=function(t){this.isTextReadOnly&&this.isTextReadOnly()&&(t.target.value=this._oldValue||""),d.prototype._inputHandler.call(this,t)},f.prototype._pasteHandler=function(t){d.prototype._pasteHandler.call(this,t)},f.prototype._copyHandler=function(t){d.prototype._copyHandler.call(this,t)},f.prototype._requestStart=function(t){return!!d.prototype._requestStart.call(this,t)&&(!1!==t&&this.dropDown(),!0)},f.prototype._doChanged=function(){d.prototype._doChanged.call(this),this.listing&&(this._list.$_search(this._editor.value),this._selectedIndex=-1)},f.prototype.dropDownList=function(t){this.dropDown(t)},f.prototype.closeList=function(t){this.closeUp(t)},f.prototype.buttonClicked=function(t){this.listing?this.closeUp(!1):this.dropDown()},f.prototype.$_setItems=function(t,e){this._items=[];for(var i=0,o=t.length;i<o;i++)this._items.push({value:t[i],label:e&&e.length>i?e[i]:t[i]})},f.prototype._refreshItems=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1);var i=this.editIndex,o=i.item;if(this._values&&(0<this._values.length||e))this.$_setItems(this._values,this._labels),this._labeling=this.displayLabels!==g.VALUE&&this._labels&&this._labels.length>=this._values.length;else if(i.dataColumn&&i.item&&(0<=i.dataRow||Z.ItemState_isEditing(o.itemState))){var r=i.dataColumn;if(r.lookupSource){for(var n=r.lookupKeyFieldIds,s=[],a=0;a<n.length-1;a++)s.push(o.getData(n[a]));var l=r.lookupSource.getTextDomain(s);l&&l.values&&0<l.values.length&&(this.$_setItems(l.keys,l.values),this._labeling=!0,this._lookup=!0,this._domain=l)}else r.values&&0<r.values.length&&(this.$_setItems(r.values,r.labels),this._labeling=this.displayLabels!==g.VALUE&&r.labels&&r.labels.length>=r.values.length,this._lookup=!0)}if(t&&this.listing){this._list.items=this._items;var u=U.Utils.getClientRect(this._container);this._list._resetItems(u.cx-1,u.cy+u.height,this._cellBounds.width,U.Utils.getBounds(this._editor))}},f.prototype.$_getEditValue=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);var i,o=this.text,r=me.TextCellEditor.prototype.getEditValue.call(this,t,e),n=r,s=this._editIndex.dataColumn,a=this._selectedIndex,l=0<=a;if(this._lookup){if(this._domain){if(this._labeling&&(n=0<=(i=l?a:this._domain.values?this._domain.values.indexOf(o):-1)&&this._domain.keys&&this._domain.keys.length>i?this._domain.keys[i]:n),this.domainOnly&&(!this._domain.keys||this._domain.keys.indexOf(n)<0))return me.CellEditor.Unselected}else if(this._labeling&&void 0===(n=l?s.getLookupValue(a):s.getSourceValue(o))&&(n=r),this.domainOnly&&(!s.values||s.values.indexOf(n)<0))return me.CellEditor.Unselected}else if(this._labeling&&0<=(i=l?a:this._labels?this._labels.indexOf(o):-1)&&i<this._values.length&&(n=this._values[i]),this.domainOnly&&(!this._values||this._values.indexOf(n)<0))return me.CellEditor.Unselected;return n},f.prototype.onDropDownListCloseUp=function(t,e){this.closeUp(e),U.Utils.isMobile||this.setFocus()},f.prototype.onDropDownListEditorFocus=function(){this.setFocus()},f.INPUT_CSS="rg-list-editor",f);function f(t,e){var i=d.call(this,t,e)||this;return i._values=null,i._items=null,i._labels=null,i._displayLabels=g.LABEL,i._domainOnly=!1,i._textReadOnly=!1,i._dropDownWidth=-1,i._dropDownPosition=p.BUTTON,i._dropDownCount=8,i._itemSortStyle=n.NONE,i._caseSensitive=!1,i._partialMatch=!1,i._commitOnSelect=!0,i._dropDownWhenClick=!1,i._trimLabelText=!0,i._separator=null,i._itemColumned=!1,i._lookup=!1,i._labeling=!1,i._domain=null,i._closing=!1,i._selectedIndex=-1,i._globalMouseHandler=function(t){for(var e=t.target;e;){if(e==this._list._element)return;e=e.parentElement}this.closeUp(!0)}.bind(i),i._list=i._createDropDown(t.container),i._list.addListener(i),i._borderable=!1,i}e.DropDownCellEditor=_;var y,m=(i(v,y=h),Object.defineProperty(v.prototype,"valueIndices",{get:function(){return this._selectItemIndices.slice()},set:function(t){this._selectItemIndices=[],null!=t&&(this._selectItemIndices=t.slice(),this.listing&&this._refreshItems(),this._selected=!1)},enumerable:!0,configurable:!0}),v.prototype.changeCheckIndex=function(t,e,i){var o=this._listElement.childNodes;if(0<=t&&t<o.length){for(var r=o[t],n=r.getElementsByTagName("input"),s=void 0,a=0,l=n.length;a<l;a++)if("checkbox"==n[a].type){s=n[a];break}s&&(s.checked=null!=e?e:!s.checked,this.$_changeCheckIndex(r,t,s.checked,i))}},v.prototype.$_changeCheckIndex=function(t,e,i,o){var r=this._selectItemIndices;if(!(e<0||e>=this._items.length)){var n=this._items[e].index;i?r.indexOf(n)<0&&r.push(n):0<=r.indexOf(n)&&r.splice(r.indexOf(n),1),t.style.background=i?"#aaa":this._itemIndex==e?"#888":"",t.style.color=i||this._itemIndex==e?"#fff":"",t.className=i?"rg-multicheck-select":"rg-multicheck-item",this._selected=!0,o&&this.fireEvent(v.CHECK_CLICK,!1)}},v.prototype._createList=function(){var t=document.createElement("div");t.className="rg-multicheck";var e=document.createElement("div");e.className="rg-multicheck-allcheck",(this._allCheckElement=e).style.paddingLeft="2px",U.Utils.disableSelection(e),t.appendChild(e);var i=document.createElement("div");i.className="rg-multicheck-list",this._listElement=i,t.appendChild(i);var o=document.createElement("div");return o.style.textAlign="center",o.className="rg-multicheck-button",(this._buttonElement=o).style.margin="2px",o.style.paddingLeft="2px",U.Utils.disableSelection(o),t.appendChild(o),t.onkeydown=function(t){27==t.keyCode&&this.fireEvent(v.CLOSE_UP_2,!1)}.bind(this),t},v.prototype._getListElement=function(){return this._listElement},v.prototype.$_toggleAllCheck=function(){for(var t=this._listElement.childElementCount,e=this._allCheck.checked,i=0;i<t;i++)this.changeCheckIndex(i,e,!1);this.fireEvent(v.CHECK_CLICK,!1)},v.prototype._show=function(t,e,i,o){var r=this._element;if(r){var n=r.style;n.position="absolute",n.cssFloat="none",n.clear="both",n.boxSizing="border-box",n.minWidth="20px",n.minHeight="10px",n.overflow="visible",n.zIndex="3000",(n=this._listElement.style).position="relative",n.cssFloat="none",n.clear="both",n.boxSizing="border-box",n.minWidth="20px",n.minHeight="10px",n.overflow="auto",n.zIndex="3000",(n=this._buttonElement.style).position="relative",n.cssFloat="none",n.clear="both",n.boxSizing="border-box",n.marginLeft="0px",n.marginRight="0px",this._firstChild=null,U.Utils.clearChildren(this._listElement),U.Utils.disableSelection(this._listElement),this._containerElement.appendChild(r),this._buildItems(),this.$_buildButtons(),this.$_resetHeight(),this._resetWidth(i),this.$_resetPosition(t,e,i,o),0<this._selectItemIndices.length&&this._itemIndex<0&&this.setItemIndex(this._selectItemIndices[0]),this._selected=!1}},v.prototype._resetWidth=function(t){var e=this._listElement,i=U.Utils.getClientRect(e),o=this.dropDownWidth,r=o;r<0?r=t:0==r&&(r=10),e.style.width=r+"px";var n=0;if(this._firstChild){var s=this._firstChild.currentStyle||window.getComputedStyle(this._firstChild),a=parseInt(s.marginLeft.replace("px",""));a=isNaN(a)?0:a;var l=parseInt(s.marginRight.replace("px",""));l=isNaN(l)?0:l;for(var u=e.childNodes,h=0;h<u.length;h++)n=Math.max(n,u[h].scrollWidth);n+=e.offsetWidth-e.clientWidth+a+l}o<0&&(n=Math.max(n,r));var c=U.Utils.getBrowserSize();r=n=Math.min(n,c.width),U.Utils.ieOld&&(0<=o||r<n)&&(r+=20),r<i.width?e.style.overflowX="hidden":e.style.overflowX="auto",n=Math.floor(this._buttonElement.getBoundingClientRect().width),isNaN(n)||(r=Math.max(r,n)),e.style.width=r+"px"},v.prototype.$_resetPosition=function(t,e,i,o){var r=U.Utils.getBrowserSize(),n=U.Utils.getClientRect(this._containerElement),s=U.Utils.getClientRect(this._container._container),a=r.width,l=r.height,u=U.Utils.getClientRect(this._element),h=window.pageXOffset||document.documentElement.scrollLeft,c=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.scrollWidth>document.documentElement.clientWidth&&(l-=18),document.documentElement.scrollHeight>document.documentElement.clientHeight&&(a-=18),t+=s.left-n.left,e+=s.top-n.top,(U.Utils.ieTen||U.Utils.ieOld||U.Utils.ieLeg)&&(t+=document.documentElement.scrollLeft,e+=document.documentElement.scrollTop),e+u.height>l+c&&(e=e-o.height-u.height)<0&&(e=l-u.height-2),this.dropDownPosition!=p.EDITOR?t=Math.max(0,t+i-u.width):t+u.width>a+h&&(t=a-u.width),this.viewGridInside&&(e=o.bottom-n.top+2,(n.bottom<o.bottom+u.height||l+c<o.bottom+u.height)&&(e=o.top-u.height-n.top-2)),U.Utils.move(this._element,Math.max(0,t),Math.max(0,e))},v.prototype._resetItems=function(t,e,i,o){U.Utils.clearChildren(this._listElement),this._firstChild=null,this._buildItems(),this.$_buildButtons(),this.$_resetHeight(),this._resetWidth(i),this.$_resetPosition(t,e,i,o)},v.prototype._buildItems=function(){var i,o=0,t=function(t,e,i){var o=e?e.value.toString():"",r=document.createElement("label");return r.style.whiteSpace="pre",r.innerHTML=o?U.Utils.htmlEncode(o):"&nbsp;",r.htmlFor=i&&i.id,r.tabIndex=-1,U.Utils.disableSelection(r),t.appendChild(r),r}.bind(this),e=function(t,e,i){var o=e?e.label.toString():"";o=this._trimLabelText?o.trim():o;var r=document.createElement("label");return this._trimLabelText||(r.style.whiteSpace="pre"),r.innerHTML=o?U.Utils.htmlEncode(o):"&nbsp;",r.htmlFor=i&&i.id,r.tabIndex=-1,U.Utils.disableSelection(r),t.appendChild(r),r}.bind(this),r=function(t,e){var i=document.createElement("span");i.style.whiteSpace="pre",i.innerHTML=e?U.Utils.htmlEncode(e):"&nbsp;",i.tabIndex=-1,U.Utils.disableSelection(i),t.appendChild(i)}.bind(this),n=function(t){if(!i){var e=window.getComputedStyle(t);i={font:e.fontSize+" "+e.fontFamily,size:parseInt(e.fontSize)}}return o}.bind(this),s=this._items;if(s&&!(s.length<1)){for(var a=0,l=s.length;a<l;a++){var u=s[a],h=document.createElement("div"),c=h.style;c.position="relative",c.cssFloat="none",c.paddingTop="1px",c.paddingBottom="1px",c.paddingLeft="2px",c.paddingRight="2px",c.whiteSpace="nowrap",c.cursor="default";var p=0<=this._selectItemIndices.indexOf(s[a].index);h.className=p?"rg-multicheck-select":"rg-multicheck-item",U.Utils.disableSelection(h),this._listElement.appendChild(h),0==a&&(this._firstChild=h),h.onclick=this._clickHandler;var d=document.createElement("input");d.id="$multiCheck_item_"+v.$_checkId++,d.type="checkBox",d.onclick=this._checkClickHandler,d.checked=p,h.appendChild(d);var _=null;switch(this.displayLabels){case g.LABEL:e(h,u,d);break;case g.VALUE:t(h,u,d);break;case g.LABEL_VALUE:_=e(h,u,d),r(h,this.separator),t(h,u,d);break;case g.VALUE_LABEL:_=t(h,u,d),r(h,this.separator),e(h,u,d)}_&&this.itemColumned&&(o=Math.max(o,n(_)),h._firstItem=_)}if(this.itemColumned&&o)for(var f=0,y=this._listElement.childNodes.length;f<y;f++)(_=this._listElement.childNodes[f]._firstItem)&&(_.style.display="inline-block"),_&&(_.style.width=o+"px")}},v.prototype.setButtonOptions=function(t,e,i,o,r){this._acceptText=t,this._cancelText=e,this._showButtons=i,this._showAllCheck=o,this._allCheckText=r,this.$_buildButtons()},v.prototype.$_buildButtons=function(){if(this._buttonElement){this._buttonElement.style.display=this._showButtons?"":"none",U.Utils.clearChildren(this._buttonElement);var t=document.createElement("label"),e=t.style;t.innerHTML=this._acceptText,t.onclick=this._acceptClickHandler,t.className="rg-multicheck-accept",e.padding="0px 3px",e.marginRight="0px",e.marginLeft="2px",e.cursor="pointer",U.Utils.disableSelection(t),this._buttonElement.appendChild(t),e=(t=document.createElement("label")).style,t.innerHTML=this._cancelText,t.onclick=this._cancelClickHandler,t.className="rg-multicheck-cancel",e.padding="0px 1px",e.marginRight="0px",e.marginLeft="2px",e.cursor="pointer",U.Utils.disableSelection(t),this._buttonElement.appendChild(t);var i=this._allCheckElement;if(i.onclick=this._allCheckClickHandler,U.Utils.clearChildren(i),this._showAllCheck){i.style.display="";var o=document.createElement("input");o.type="checkbox",o.id="$multiCheck_item_"+v.$_checkId++,o.onclick=this._allCheckClickHandler,this._allCheck=o,i.appendChild(o);var r=document.createElement("label");r.innerHTML=this._allCheckText,r.htmlFor=o.id,r.tabIndex=-1,U.Utils.disableSelection(r),i.appendChild(r)}else i.style.display="none"}},v.prototype._refreshItems=function(){for(var t=this._listElement.childNodes,e=-1,i=0;i<t.length;i++){e=i<this._items.length?this._items[i].index:-1;var o=t[i];i==this._itemIndex?(o.style.background="#888",o.style.color="#fff"):(o.style.background=0<=this._selectItemIndices.indexOf(e)?"#aaa":"",o.style.color=0<=this._selectItemIndices.indexOf(e)?"#fff":"")}if(0<=(e=this._itemIndex)&&e<t.length)if((o=t[e]).offsetTop<this._listElement.scrollTop)this._listElement.scrollTop=o.offsetTop;else{var r=o.offsetTop+U.Utils.getSize(o).height;r>=this._listElement.scrollTop+this._listElement.clientHeight&&(this._listElement.scrollTop=r-this._listElement.clientHeight)}},v.CLOSE_UP_2="onMultiCheckListCloseUp",v.CANCEL="onMultiCheckListCancel",v.CHECK_CLICK="onMultiCheckListCheckClick",v.$_checkId=0,v);function v(t){var e=y.call(this,t)||this;return e._selectItemIndices=[],e._acceptText=null,e._cancelText=null,e._showButtons=!1,e._showAllCheck=!1,e._acceptClickHandler=function(t){this.fireEvent(v.CLOSE_UP_2,!0)}.bind(e),e._cancelClickHandler=function(t){this.fireEvent(v.CANCEL,!1)}.bind(e),e._acceptMouseoverHandler=function(t){t.currentTarget.style.background="rgba(9, 211, 140, 0.5)"}.bind(e),e._acceptMouseoutHander=function(t){t.currentTarget.style.background=""}.bind(e),e._cancelMouseoverHandler=function(t){t.currentTarget.style.background="#888"}.bind(e),e._cancelMouseoutHandler=function(t){t.currentTarget.style.background=""}.bind(e),e._checkClickHandler=function(t){t.stopImmediatePropagation();var e=t.currentTarget.parentNode;if(e){var i=U.Utils.getChildIndex(e),o=t.currentTarget.checked;this.$_changeCheckIndex(e,i,o,!0)}}.bind(e),e._allCheckMouseoverHandler=function(t){var e=t.currentTarget;e.style.background="rgba(0, 255, 0, 0.2)",e.style.color=""}.bind(e),e._allCheckMouseoutHandler=function(t){var e=this._currDiv=t.currentTarget;e.style.background="",e.style.color=""}.bind(e),e._allCheckClickHandler=function(t){if(t.stopImmediatePropagation(),2==t.eventPhase&&t.currentTarget==this._allCheckElement)this._allCheck.checked=!this._allCheck.checked,this.$_toggleAllCheck();else if(2==t.eventPhase&&t.currentTarget==this._allCheck)return void this.$_toggleAllCheck()}.bind(e),e._mouseoverHandler=function(t){var e=this._currDiv=t.currentTarget,i=U.Utils.getChildIndex(e),o=0<=i&&i<this._items.length?this._items[i].index:i;this._selectItemIndices.indexOf(o)<0&&(e.style.background="rgba(0, 255, 0, 0.2)",e.style.color="")}.bind(e),e._mouseoutHandler=function(t){var e=this._currDiv=t.currentTarget,i=U.Utils.getChildIndex(e),o=0<=i&&i<this._items.length?this._items[i].index:i;this._selectItemIndices.indexOf(o)<0&&(e.style.background=i==this._itemIndex?"#888":"",e.style.color=i==this._itemIndex?"#fff":"")}.bind(e),e._clickHandler=function(t){var e=t.currentTarget;if(2==t.eventPhase){for(var i=U.Utils.getChildIndex(e),o=void 0,r=e.getElementsByTagName("input"),n=0,s=r.length;n<s;n++)if("checkbox"==r[n].type){o=r[n];break}o&&(o.checked=!o.checked),this.$_changeCheckIndex(e,i,o.checked,!0)}}.bind(e),e}var b,C=(i(w,b=_),Object.defineProperty(w.prototype,"showButtons",{get:function(){return this._showButtons},set:function(t){this._showButtons=t},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"acceptText",{get:function(){return this._acceptText},set:function(t){this._acceptText=t},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"cancelText",{get:function(){return this._cancelText},set:function(t){this._cancelText=t},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"allCheckText",{get:function(){return this._allCheckText},set:function(t){this._allCheckText=t},enumerable:!0,configurable:!0}),Object.defineProperty(w.prototype,"showAllCheck",{get:function(){return this._showAllCheck},set:function(t){this._showAllCheck=t},enumerable:!0,configurable:!0}),w.prototype._createDropDown=function(t){return new m(t)},w.prototype.setMask=function(t){this._mask=null},w.prototype.dropDown=function(t){if(void 0===t&&(t=!1),this.readOnly||this.listing||this._closing||(this._refreshItems(),!(t||this._items&&0<this._items.length)))return!1;var e=this._list,i=this._options;e.viewGridInside=i.viewGridInside,e.displayLabels=this.displayLabels,e.separator=this.separator,e.itemColumned=this.itemColumned,e.items=this._items;var o=U.Utils.getClientRect(this._container);return this._saveIndices=this._selectedIndices.slice(),this._saveText=this._editor.value,e.caseSensitive=this.caseSensitive,e.dropDownCount=this.dropDownCount,e.dropDownWidth=this.dropDownWidth,e.dropDownPosition=this.dropDownPosition,e.setButtonOptions(this.acceptText,this.cancelText,this.showButtons,this.showAllCheck,this.allCheckText),e.sortStyle=this.itemSortStyle,e.valueIndices=this._selectedIndices,e.trimLabelText=this.trimLabelText,e.show(document.documentElement,o.cx-1,o.cy+o.height,this._cellBounds.width,U.Utils.getClientRect(this._editor)),window.addEventListener("mousedown",this._globalMouseHandler),!0},w.prototype.getCheckValues=function(t,e){for(var i=[],o=0,r=t.length;o<r;o++)0<=t[o]&&t[o]<e.length&&i.push(this._labeling?e[t[o]].label:e[t[o]].value);return i},w.prototype.closeUp=function(t){if(this.listing){this._closing=!0;try{var e=this._list,i=this.editIndex&&this.editIndex.dataColumn;window.removeEventListener("mousedown",this._globalMouseHandler),e.hide(),t&&e.selected?(this._selectedIndices=e.valueIndices,this._editor.value=this.getCheckValues(this._selectedIndices,this._items).join(i.valueSeparator),U.Utils.equalArrays(this._saveIndices,this._selectedIndices)&&this._editor.value==this._saveText||this._dispatchChange(),this.commitOnSelect&&this._dispatchCommit()):this._selectedIndices=this._saveIndices.slice()}finally{this._closing=!1}return!0}return!1},w.prototype.initOptions=function(){b.prototype.initOptions.call(this),this._showButtons=!0,this._showAllCheck=!1,this._acceptText=window.RG_CONST&&window.RG_CONST.MULTICHECKACCEPT?window.RG_CONST.MULTICHECKACCEPT:"Accept",this._cancelText=window.RG_CONST&&window.RG_CONST.MULTICHECKCANCEL?window.RG_CONST.MULTICHECKCANCEL:"Cancel",this._allCheckText=window.RG_CONST&&window.RG_CONST.MULTICHECKALLCHECK?window.RG_CONST.MULTICHECKALLCHECK:"Check All"},w.prototype.applyOptions=function(t){b.prototype.applyOptions.call(this,t)},w.prototype.setEditValue=function(t){var e,i=[],o=[],r=-1,n=U.Utils.isArray(t)?t:t?t.split(this._editIndex.dataColumn.valueSeparator):[];if(this._value=t,this._lookup){var s=this._domain;if(s)for(var a=0,l=n.length;a<l;a++)0<=(r=s.keys.indexOf(n[a]))&&(i.push(r),o.push(r<s.values.length?s.values[r]:n[a]));else i=this._editIndex.dataColumn.getLookupIndices(t);this._labeling?(e=s?o.join(this._editIndex.dataColumn.valueSeparator):0<i.length?this._editIndex.dataColumn.getLookupLabel(t):t,b.prototype.setEditValue.call(this,e)):b.prototype.setEditValue.call(this,t)}else if(this._values){for(var u=0,h=n.length;u<h;u++)0<=(r=this._values.indexOf(n[u]))&&(i.push(r),o.push(this._labels&&0<=r&&this._labels.length>r?this._labels[r]:n[u]));this._labeling&&this._labels?(e=o.join(this._editIndex.dataColumn.valueSeparator),b.prototype.setEditValue.call(this,e)):b.prototype.setEditValue.call(this,t)}else b.prototype.setEditValue.call(this,t);this._selectedIndices=i},w.prototype.setCellEditValue=function(t,e){b.prototype.setCellEditValue.call(this,t,e)},w.prototype.getEditValue=function(t,e){return void 0===t&&(t=!0),void 0===e&&(e=!1),this.isEdited()||this._list.selected?this.$_getEditValue(t,e):this._value},w.prototype._keyDownHandler=function(t){var e=this._list;if(t.ctrlKey&&t.keyCode==H.Keys.A&&this.listing)return t.preventDefault(),e._allCheck.checked=!e._allCheck.checked,e.$_toggleAllCheck(),!0;switch(t.keyCode){case H.Keys.SPACE:if(this.listing)return e.changeCheckIndex(e.itemIndex,null,!0),t.preventDefault(),!0}return b.prototype._keyDownHandler.call(this,t)},w.prototype.$_getEditValue=function(t,e){function i(t,e,i,o,r){var n=[],s=e&&e.split(r.valueSeparator());if(s&&0<s.length)for(var a=0,l=s.length;a<l;a++)0<=o.indexOf(s[a])&&o.indexOf(s[a])<i.length?n.push(i[a]):0<=i.indexOf(s[a])?n.push(i[a]):t.isDomainOnly()||n.push(s[a]);return n}void 0===t&&(t=!1),void 0===e&&(e=!1),this._list;var o=this.text,r=me.TextCellEditor.prototype.getEditValue.call(this,t,e),n=r,s=this._editIndex.dataColumn,a=this._selectedIndices.slice(),l=[],u=this._list.selected;if(this._lookup){if(this._domain){if(this._labeling){if(u)for(var h=0,c=a.length;h<c;h++)a[h]<this._domain.keys.length&&l.push(this._domain.keys[a[h]]);else o&&(l=i(this,o,this._domain.keys,this._domain.values,s));n=l.join(s.valueSeparator)}}else if(this._labeling&&void 0===(n=u?s.getLookupValues(a):s.getSourceValues(o))&&(n=r),this.domainOnly){if(!s.values)return me.CellEditor.Unselected;for(var p=(n=U.Utils.isArray(n)?n:n&&n.split?n.split(s.valueSeparator):[n]).length-1;0<=p;p--)s.values.indexOf(n[p])<0&&n.splice(p,1)}}else{if(this._labeling){if(u){var d=0;for(c=a.length;d<c;d++)a[d]<this._values.length&&l.push(this._values[a[d]])}else o&&(l=i(this,o,this._values,this._labels,s));n=l.join(s.valueSeparator)}if(this.domainOnly){if(!s.values)return me.CellEditor.Unselected;for(p=(n=U.Utils.isArray(n)?n:n&&n.split?n.split(s.valueSeparator):[n]).length-1;0<=p;p--)s.values.indexOf(n[p])<0&&n.splice(p,1)}}return n},w.prototype._getInputSelector=function(){return w.INPUT_CSS},w.prototype.onMultiCheckListCloseUp=function(t,e){this.closeUp(e),this.setFocus()},w.prototype.onMultiCheckListCheckClick=function(t){this._editor.value=this.getCheckValues(t._selectItemIndices,this._items).join(this.editIndex.dataColumn.valueSeparator),this._selectedIndices=t._selectItemIndices.slice(),this._saveIndices=t._selectItemIndices.slice(),this._modified=!0,this._dispatchChange(),this._editor.focus()},w.prototype.onMultiCheckListCancel=function(){this._controller.cancelEditor(!0)},w.INPUT_CSS="rg-multicheck-editor",w);function w(t,e){var i=b.call(this,t,e)||this;return i._showButtons=!0,i._showAllCheck=!1,i}e.MultiCheckCellEditor=C;var x,I=(i(E,x=_),Object.defineProperty(E.prototype,"searchLength",{get:function(){return this._searchLength},set:function(t){t!=this._searchLength&&(this._searchLength=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"searchDelay",{get:function(){return this._searchDelay},set:function(t){t!=this._searchDelay&&(this._searchDelay=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"useCtrlEnterKey",{get:function(){return this._useCtrlEnterKey},set:function(t){t!=this._useCtrlEnterKey&&(this._useCtrlEnterKey=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"useEnterKey",{get:function(){return this._useEnterKey},set:function(t){t!=this._useEnterKey&&(this._useEnterKey=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"initCount",{get:function(){return this._initCount},set:function(t){t!=this._initCount&&(this._initCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"moreItemCount",{get:function(){return this._moreItemCount},set:function(t){t!=this._moreItemCount&&(this._moreItemCount=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"moreText",{get:function(){return this._moreText},set:function(t){t!=this._moreText&&(this._moreText=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(E.prototype,"reInquery",{get:function(){return this._reInquery},set:function(t){t!=this._reInquery&&(this._reInquery=t,this._changed())},enumerable:!0,configurable:!0}),E.prototype.fillItems=function(t,e,i){return!(!this.listing||t!=this.getEditText()||(this.values=e,this.labels=i,this._refreshItems(!0,!0),this._list.$_search(this._editor.value,!0),0))},E.prototype._keyDownHandler=function(t){var e=t.keyCode==H.Keys.ENTER;if((e=e&&(t.ctrlKey?this.useCtrlEnterKey:this.useEnterKey&&(!this._items||this._items.length<1)))&&this.editing){t.preventDefault(),t.stopImmediatePropagation(),this.$_stopTimer();var i=this.getEditText();return i&&i!=this._searchKey&&(this._searchKey=i,this._dispatchSearch(i)),!0}return x.prototype._keyDownHandler.call(this,t)},E.prototype._keyUpHandler=function(t){x.prototype._keyUpHandler.call(this,t),U.Utils.isChrome&&this.$_search()},E.prototype._inputHandler=function(t){x.prototype._inputHandler.call(this,t),U.Utils.isChrome||this.$_search()},E.prototype._doEndEdit=function(){x.prototype._doEndEdit.call(this),this.$_stopTimer(),this._searchKey=null},E.prototype.dropDown=function(t){var e=this._list;return e&&(e.initCount=this.initCount,e.moreItemCount=this.moreItemCount,e.moreText=this.moreText),x.prototype.dropDown.call(this,!0)},E.prototype.buttonClicked=function(t){if(this.listing)this.closeUp(!1);else{this.dropDown();var e=this.getEditText(),i=this._dispatchSearchCellButtonClick(e);i&&"object"==typeof i&&i.values&&this.fillItems(e,i.values,i.labels)}},E.prototype._getInputSelector=function(){return E.INPUT_CSS},E.prototype.$_search=function(){var t=this.getEditText();t&&t!==l&&t.length>=this._searchLength?this.$_startTimer():this.$_stopTimer()},E.prototype.$_startTimer=function(){this.$_stopTimer(),!this.reInquery&&this.listing&&0<this._list._items.length||(this._timer=setInterval(function(){var t=this.getEditText();t&&t!==l&&t!=this._searchKey&&(this._searchKey=t,this.$_stopTimer(),this._dispatchSearch(t,!0))}.bind(this),this._searchDelay))},E.prototype.$_stopTimer=function(){this._timer&&clearInterval(this._timer)},E.INPUT_CSS="rg-search-editor",E.SEARCH="onSearchCellEditorSearch",E);function E(t,e){var i=x.call(this,t,e)||this;return i._searchLength=1,i._searchDelay=1e3,i._useCtrlEnterKey=!1,i._useEnterKey=!1,i._initCount=0,i._moreItemCount=25,i._reInquery=!0,i._timer=void 0,i}e.SearchCellEditor=I});t(ge);ge.DropDownPosition,ge.DropDownSortStyle,ge.DropDownValueLabel,ge.DropDownList,ge.DropDownCellEditor,ge.MultiCheckCellEditor,ge.SearchCellEditor;var ve=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});function r(t){if(!t)return null;(t=String(t))&&(t=t.replace(/[^0-9]/g,""));var e=parseInt(t.substr(0,4)),i=parseInt(t.substr(4,2));if(isNaN(e)||e<=0||isNaN(i)||i<0)return null;var o=new Date(e,0,1),r=4-o.getDay()+1;return o.setDate(r),o.getFullYear()==e&&i--,r=7*i,o.setDate(o.getDate()+r),o}function T(t,r,e){function i(t){var e=new Date(t),i=e.getDay();i=i<r?-3-i:4-i;var o=e.getDate();return e.setDate(o+i),e}void 0===e&&(e=!1);var o,n=t.getFullYear(),s=i(new Date(n,0,1)),a=i(new Date(n,t.getMonth(),t.getDate())),l=s.getFullYear(),u=a.getFullYear();return o=u<n?(s=i(new Date(l,0,1)),Math.ceil((a.valueOf()-s.valueOf())/6048e5)+(s.getFullYear()===u?1:0)):n<u?1:Math.ceil((a.valueOf()-s.valueOf())/6048e5)+(l===u?1:0),String(u)+(e?"-":"")+(o<10?"0"+o:String(o))}var n,s=/[ㄱ-ㅎㅏ-ㅣ가-힝]/g,a=(n=ue.Base,i(l,n),l.prototype._doDispose=function(){this._owner=null,this._tooltips=null,this._items=null,n.prototype._doDispose.call(this)},Object.defineProperty(l.prototype,"tooltips",{get:function(){return this._tooltips},set:function(t){this._tooltips=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"count",{get:function(){return this._items&&this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"styleName",{get:function(){return this._styleName||""},set:function(t){this._styleName=t},enumerable:!0,configurable:!0}),l.prototype.load=function(t){this.clear()},l.prototype.clear=function(){this._items=[],this._tooltips=[]},l.prototype.contains=function(t){return!1},l.prototype.getTooltip=function(t){return null},l);function l(t){var e=n.call(this)||this;return e._tooltips=[],e._items=[],e._enabled=!0,e._owner=t,e}e.Holiday=a;var u,h=(i(c,u=a),c.prototype._doDispose=function(){u.prototype._doDispose.call(this)},c.prototype.load=function(t){if(u.prototype.load.call(this,t),t){var e=U.Utils.makeArray(t.dates,!0);t.tooltips=U.Utils.makeArray(t.tooltips,!0);for(var i=0,o=e.length;i<o;i++){var r=e[i],n=void 0;if(r instanceof Date)(n=new Date(r)).setHours(0,0,0,0);else if("number"==typeof r)(n=new Date(r)).setHours(0,0,0,0);else if("string"==typeof r){4!==r.length&&8!==r.length||!/^[0-9]*$/.test(r)||(r=4===r.length?r.replace(/(\d{2})(\d{2})/,"$1/$2"):r.replace(/(\d{4})(\d{2})(\d{2})/,"$1/$2/$3"));var s=r.split(/[.//-]/);if(2==s.length)try{n=parseInt(s[0]).toString()+"/"+parseInt(s[1]).toString()}catch(t){}else 3==s.length&&(n=L.DateTimeConverter.getSimpleDateNull(r))}n&&(this._items.push(n),t.tooltips[i]&&this._tooltips.push(t.tooltips[i]))}this.enabled=!!t.enabled,this.styleName=t.styleName}},c.prototype.getItemIndex=function(t){for(var e=0,i=this._items.length;e<i;e++){var o=this._items[e];if(o instanceof Date&&o.getFullYear()===t.getFullYear()&&o.getMonth()===t.getMonth()&&o.getDate()===t.getDate())return e;if(o===t.getMonth()+1+"/"+t.getDate())return e}return-1},c.prototype.contains=function(t){return 0<=this.getItemIndex(t)},c.prototype.getTooltip=function(t){var e=this.getItemIndex(t);return 0<=e?this._tooltips[e]:null},c);function c(t,e){var i=u.call(this,t)||this;return e&&i.load(e),i}var p,d=(i(_,p=a),_.prototype._doDispose=function(){p.prototype._doDispose.call(this)},_.prototype.load=function(t){p.prototype.load.call(this,t),t&&(this._items=U.Utils.makeArray(t.days,!0),this._tooltips=U.Utils.makeArray(t.tooltips,!0),this.enabled=!!t.enabled,this.styleName=t.styleName)},_.prototype.contains=function(t){return t instanceof Date&&0<=this._items.indexOf(t.getDay())},_.prototype.getTooltip=function(t){var e=t instanceof Date?this._items.indexOf(t.getDay()):this._items.indexOf(t);return 0<=e?this._tooltips[e]:null},_);function _(t,e){var i=p.call(this,t)||this;return e&&i.load(e),i}var f,y=(f=ue.Base,i(m,f),m.prototype._doDispose=function(){this._editor=null,this._items=null,f.prototype._doDispose.call(this)},Object.defineProperty(m.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"editor",{get:function(){return this._editor},set:function(t){this._editor=t},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"isNull",{get:function(){return-1==this._count},enumerable:!0,configurable:!0}),Object.defineProperty(m.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0}),m.prototype.setNull=function(){this._count=-1},m.prototype.getDateConvert=function(){return this._editor&&this._editor._dateConverter},m.prototype.clear=function(){for(var t=0,e=this._items.length;t<e;t++)this._items[t].clear();this._items=[],this._count=-1},m.prototype.load=function(t){if(this.clear(),t){for(var e=0,i=(t=U.Utils.isArray(t)?t:[t]).length;e<i;e++){var o=t[e],r=void 0;switch(o.type){case"day":r=new d(this,o);break;case"date":r=new h(this,o)}0<r.count&&this._items.push(r)}this._count=this._items.length}else this._count=-1},m.prototype.contains=function(t){for(var e=0,i=this._items.length;e<i;e++)if(this._items[e].contains(t))return this._items[e];return null},m);function m(){var t=f.call(this)||this;return t._items=[],t._count=-1,t}e.HolidayCollection=y;var g,v=(g=Y.EventAware,i(b,g),Object.defineProperty(b.prototype,"month",{get:function(){return this._month},set:function(t){this._month=t},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"listElement",{get:function(){return this._listElement},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"listing",{get:function(){return this._container&&this._container.contains(this._element)},enumerable:!0,configurable:!0}),b.prototype.show=function(t,e,i,o){if(this._container=t){t.appendChild(this._element);var r=U.Utils.getClientRect(this._element),n=U.Utils.getScrolled();if(o&&this._listElement){var s=this._listElement.getBoundingClientRect().width;e=parseInt(this._listElement.style.left.replace("px",""))+s/2,i=parseInt(this._listElement.style.top.replace("px",""))}e=Math.max(n.sx,e-r.width-2),i=Math.max(n.sy,i-r.height/2+13),U.Utils.move(this._element,e,i)}},b.prototype.hide=function(){U.Utils.detach(this._element),this._container=null},b.prototype.$_createPicker=function(){var t=document.createElement("div"),e=t.style;e.position="absolute",e.cssFloat="none",e.clear="both",e.boxSizing="border-box",e.zIndex="3001",t.className="rg-cal-month-picker",t.onkeydown=function(t){27==t.keyCode&&this.hide()}.bind(this);for(var i=1;i<=12;i++){var o=document.createElement("div"),r=o.style;r.position="relative",r.cssFloat="none",o.className="rg-cal-month-picker-item",U.Utils.disableSelection(o),t.appendChild(o),o.onclick=this._clickHandler,o.onmouseup=this._clickHandler;var n=document.createElement("span");n.innerHTML=U.Utils.htmlEncode((this._months?this._months[i-1]:i)+" "),n.tabIndex=-1,U.Utils.disableSelection(n),o.appendChild(n)}return t},b.CLOSE_UP="onMonthPickerCloseUp",b);function b(t,e){var i=g.call(this)||this;return i._month=-1,i._clickHandler=function(t){U.Utils.stopEvent(t,!0);var e=t.currentTarget,i=U.Utils.getChildIndex(e);0<=i&&(this._month=i,this.fireEvent(b.CLOSE_UP,this._month)),this.hide()}.bind(i),i._listElement=e,i._months=t.months,i._element=i.$_createPicker(),i}var C,w=(C=Y.EventAware,i(x,C),Object.defineProperty(x.prototype,"minWidth",{get:function(){return this._minWidth},set:function(t){t!=this._minWidth&&(this._minWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!=this._maxWidth&&(this._maxWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"minDate",{get:function(){return this._minDate},set:function(t){t!=this._minDate&&(this._minDate=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){t!=this._maxDate&&(this._maxDate=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"yearNavigation",{get:function(){return this._yearNavigation},set:function(t){t!=this._yearNavigation&&(this._yearNavigation=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(t){t!=this._dropDownPosition&&(this._dropDownPosition=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"showToday",{get:function(){return this._showToday},set:function(t){t!=this._showToday&&(this._showToday=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"yearDisplayFormat",{get:function(){return this._yearDisplayFormat},set:function(t){t!=this._yearDisplayFormat&&(this._yearDisplayFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"monthDisplayFormat",{get:function(){return this._monthDisplayFormat},set:function(t){t!=this._monthDisplayFormat&&(this._monthDisplayFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"months",{get:function(){return this._months},set:function(t){t!=this._months&&(this._months=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"viewGridInside",{get:function(){return this._viewGridInside},set:function(t){t!=this._viewGridInside&&(this._viewGridInside=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"showWeeks",{get:function(){return this._showWeeks},set:function(t){t!=this._showWeeks&&(this._showWeeks=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"startWeek",{get:function(){return this._startWeek},set:function(t){t!=this._startWeek&&(this._startWeek=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"weekSelectable",{get:function(){return this._weekSelectable},set:function(t){t!=this._weekSelectable&&(this._weekSelectable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"weekSeparator",{get:function(){return this._weekSeparator},set:function(t){t!=this._weekSeparator&&(this._weekSeparator=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"holidays",{get:function(){return this._holidays},set:function(t){t!=this._holidays&&(this._holidays=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"date",{get:function(){return this._date},set:function(t){t.getTime()!=this._date.getTime()&&(this._currDate=new Date(t),this._date=new Date(t),this.listing&&this.$_buildCalendar())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"listing",{get:function(){return this._containerElement&&this._containerElement.contains(this._element)},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"monthListing",{get:function(){return this._monthPicker.listing},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"focused",{get:function(){return this._focused},set:function(t){t!=this._focused&&(this._focused=t,this._element.style.border=t?"1px solid rgba(50, 50, 50, 1)":"1px solid rgba(50, 50, 50, 0.3)",this._element.style.boxShadow=t?"rgba(0, 0, 0, 0.8) 1px 2px 5px":"rgba(0, 0, 0, 0.5) 1px 2px 5px",this._headerElement.style.backgroundColor=t?"rgba(0, 200, 200, 0.1)":"#e8e8e8",this._headElement.style.opacity=t?"1.0":"0.5")},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"today",{get:function(){return this.date=new Date},enumerable:!0,configurable:!0}),x.prototype.setWeekDays=function(t){t!=this._weekDays&&(U.Utils.isArray(t)&&7<=t.length?this._weekDays=t:this._weekDays=U.Utils.week_days)},x.prototype.closeMonth=function(){this._monthPicker.hide()},x.prototype.show=function(t,e,i,o,r){this._containerElement=this._viewGridInside?this._container._container:t,this.$_show(e,i,o,r)},x.prototype.hide=function(){this.focused=!1,this._monthPicker.hide(),U.Utils.detach(this._element),this._containerElement=null},x.prototype.incDay=function(t){var e;return this._date.getMonth()==this._currDate.getMonth()?(e=new Date(this._date),this._date&&e.setDate(this._date.getDate()+t)):(e=this._currDate,e=new Date(e.getFullYear(),e.getMonth(),1)),this.date=e},x.prototype.incMonth=function(t){var e;return this._date.getMonth()==this._currDate.getMonth()?(e=new Date(this._date),this._date&&U.Utils.incMonth(e,t)):(e=this._currDate,e=new Date(e.getFullYear(),e.getMonth(),1)),this.date=e},x.prototype.firstDay=function(){var t=new Date(this._currDate);return this._date&&t.setDate(1),this.date=t},x.prototype.lastDay=function(){var t=new Date(this._currDate);if(this._date){var e=t.getFullYear(),i=t.getMonth(),o=U.Utils.month_days[U.Utils.isLeapYear(e)?1:0][i];t.setDate(o)}return this.date=t},x.prototype._changed=function(){},x.prototype.$_getCellDate=function(t,e){var i=new Date(t);return i.setDate(e),i},x.prototype.$_createPicker=function(){var t=document.createElement("div"),e=t.style;return e.position="absolute",e.cssFloat="none",e.clear="both",e.boxSizing="border-box",e.margin="0px",e.overflow="auto",e.zIndex="3000",t.className="rg-calendar",this._header=this.$_createHeader(),t.appendChild(this._header),this._calendar=this.$_createCalendar(),t.appendChild(this._calendar),t.addEventListener("keydown",function(t){27==t.keyCode&&(this.isMonthLisiting()?this.closeMonth():this.fireEvent(ge.DropDownList.CLOSE_UP,!1))}.bind(this)),t.addEventListener("mouseup",function(t){this._editor.setFocus()}.bind(this)),t},x.prototype.$_createHeader=function(){var i=this,t=this._headerElement=document.createElement("div"),e=t.style;e.position="relative",t.className="rg-cal-header";var o=document.createElement("span");(e=o.style).position="absolute",e.left="4px",e.minWidth="17px",e.minHeight="17px",o.className="rg-cal-prev-month",t.appendChild(t.$_prev=o),o.onclick=function(t){U.Utils.incMonth(this._currDate,-1),this.$_buildCalendar()}.bind(this);var r=document.createElement("span");(e=r.style).position="absolute",e.right="4px",e.minWidth="17px",e.minHeight="17px",r.className="rg-cal-next-month",t.appendChild(t.$_next=r),r.onclick=function(t){U.Utils.incMonth(this._currDate,1),this.$_buildCalendar()}.bind(this);var n=this._todayElement=document.createElement("span");(e=n.style).position="absolute",e.right="18px",e.top="2px",n.className="rg-cal-today-button",t.appendChild(n),n.innerHTML="Today",n.onclick=function(t){var e=new Date;i.focused=!0,i.date=e,i._editor.$_selectDate(i._currDate)};var s=document.createElement("div");(e=s.style).position="relative",e.textAlign="center",e.marginLeft="20px",e.marginRight="50px",t.appendChild(t.$_title=s),s.className="rg-cal-yearmonth";var a=document.createElement("span");(e=a.style).position="relative",e.verticalAlign="top",e.height="16px",a.className="rg-cal-year",s.appendChild(s.$_year=a),a.innerHTML="2015년",a.onclick=function(t){};var l=this.$_createYearSpin();s.appendChild(s.$_yearSpin=l);var u=document.createElement("span");return(e=u.style).position="relative",e.verticalAlign="top",u.className="rg-cal-month",s.appendChild(s.$_month=u),u.innerHTML="1월",u.onmousedown=function(t){U.Utils.stopEvent(t,!0);var e=U.Utils.getOffset(this._headerElement.$_title.$_month);this._monthPicker.show(this._containerElement,e.x,e.y,this._viewGridInside)}.bind(this),t},x.prototype.$_createYearSpin=function(){var t=document.createElement("div"),e=t.style;e.display="inline-block",e.visibility="hidden",e.position="relative",e.width="15px",e.height="16px",e.marginLeft="-4px",e.marginRight="2px";var i=document.createElement("span");(e=i.style).position="absolute",e.top="0px",e.left="0px",e.width="15px",e.height="9px",i.className="rg-cal-next-year",t.appendChild(i),i.onclick=function(t){this._currDate.setFullYear(this._currDate.getFullYear()+1),this.$_buildCalendar()}.bind(this);var o=document.createElement("span");return(e=o.style).position="absolute",e.top="7px",e.left="0px",e.width="15px",e.height="9px",o.className="rg-cal-prev-year",t.appendChild(o),o.onclick=function(t){this._currDate.setFullYear(this._currDate.getFullYear()-1),this.$_buildCalendar()}.bind(this),t},x.prototype.$_createCalendar=function(){var t=["sun","mon","tue","wed","thu","fri","sat"],e=document.createElement("table"),i=e.style;i.margin="2px",e.className="rg-cal-days-table";var o=this._headElement=document.createElement("thead");o.className="rg-cal-weeks",e.appendChild(e.$_head=o);var r=document.createElement("tr");o.appendChild(r);var n=[],s=document.createElement("th");(i=s.style).minWidth="20px",i.textAlign="center",s.className="rg-cal-week-year-week",r.appendChild(s);var a=document.createElement("span");s.appendChild(a),o.$_weeks=s;for(var l=0;l<7;l++){var u=document.createElement("th");(i=u.style).minWidth="20px",i.textAlign="center",u.className="rg-cal-week-"+t[l],r.appendChild(u);var h=document.createElement("span");h.innerHTML=U.Utils.htmlEncode(this._weekDays[l]),u.appendChild(h),n.push(h)}o.$_cells=n;var c=document.createElement("tbody");c.className="rg-cal-days",e.appendChild(e.$_body=c);for(var p=c.$_rows=[],d=c.$_yearweeks=[],_=0;_<6;_++){var f=document.createElement("tr");c.appendChild(f),p.push(f),f.$_cells=n=[];var y=document.createElement("td");(i=y.style).padding="1px",y.className="rg-cal-day rg-cal-year-weeks",f.appendChild(y);var m=document.createElement("span");for(y.appendChild(y.$_span=m),d.push(y),l=0;l<7;l++){var g=document.createElement("td");(i=g.style).padding="1px",g.className="rg-cal-day rg-cal-week-"+t[(l+this._startWeek)%7],f.appendChild(g),g.onclick=this._clickHandler;var v=document.createElement("span");g.appendChild(g.$_span=v),n.push(g)}}return e},x.prototype.$_show=function(t,e,i,o){this.focused=!1,this._selected=!1,this._header.$_title.$_yearSpin.style.visibility=this._yearNavigation?"visible":"hidden",this._todayElement.style.display=this._showToday?"initial":"none",this._header.$_title.style.marginRight=this._showToday?"50px":"20px";var r=this._date;this._currDate=r?new Date(r):new Date,this._today=new Date,this.$_buildCalendar(),U.Utils.disableSelection(this._element),this._containerElement.appendChild(this._element);var n=U.Utils.getBrowserSize(),s=U.Utils.getClientRect(this._containerElement),a=U.Utils.getClientRect(this._container._container),l=n.width,u=n.height,h=U.Utils.getClientRect(this._element),c=window.pageXOffset||document.documentElement.scrollLeft,p=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.scrollWidth>document.documentElement.clientWidth&&(u-=18),document.documentElement.scrollHeight>document.documentElement.clientHeight&&(l-=18),t+=a.left-s.left,e+=a.top-s.top,(U.Utils.ieTen||U.Utils.ieOld||U.Utils.ieLeg)&&(t+=document.documentElement.scrollLeft,e+=document.documentElement.scrollTop),e+h.height>u+p&&(e=e-o.height-h.height)<0&&(e=u-h.height-2),this._dropDownPosition!=ge.DropDownPosition.EDITOR?t=Math.max(0,t+i-h.width):t+h.width>l+c&&(t=l-h.width),this._viewGridInside&&(e=o.bottom-s.top+2,(s.bottom<o.bottom+h.height||u+p<o.bottom+h.height)&&(e=o.top-h.height-s.top-2)),U.Utils.move(this._element,Math.max(0,t),Math.max(0,e))},x.prototype.$_checkFocusedWeek=function(t,e,i){this.$_isFocusedWeek(t,e.$_yearWeek),e.className="rg-cal-week-year-focusweek"},x.prototype.$_isFocusedWeek=function(t,e){return t&&e&&T(t,this._startWeek)==e},x.prototype.$_isFocusedDay=function(t,e){var i=this._date;return i&&t.getFullYear()==i.getFullYear()&&t.getMonth()==i.getMonth()&&e==i.getDate()},x.prototype.$_isToday=function(t,e){var i=this._today;return i&&t.getFullYear()==i.getFullYear()&&t.getMonth()==i.getMonth()&&e==i.getDate()},x.prototype.$_buildCalendar=function(){var t,e,i=["sun","mon","tue","wed","thu","fri","sat"],o=this._header,r=this._currDate,n=o.$_prev,s=o.$_next,a=o.$_title,l=r.getFullYear(),u=r.getMonth();a.$_year.innerHTML=(this._yearDisplayFormat?this._yearDisplayFormat.replace("{Y}",l+""):l+"년")+"&nbsp;",this._months&&0<this._months.length?a.$_month.innerHTML=this._months[u]:a.$_month.innerHTML=this._monthDisplayFormat?this._monthDisplayFormat.replace("{M}",(u+1).toString()):u+1+"월",n.title=0==u?l-1+"/12":l+"/"+U.Utils.pad(u),s.title=11==u?l+1+"/01":l+"/"+U.Utils.pad(u+2);for(var h=this._calendar.$_head.$_cells,c=0;c<7;c++){var p=h[(c+7-this._startWeek)%7];p.innerHTML=U.Utils.htmlEncode(this._weekDays[c]),p.parentElement.className="rg-cal-week-"+i[c]}this._calendar.$_head.$_weeks.style.display=this.showWeeks?"":"none";for(var d=this._calendar.$_body,_=d.$_yearweeks,f=(c=0,_.length);c<f;c++)_[c].style.display=this.showWeeks?"":"none",_[c].onclick=this.weekSelectable?this._yearWeekClickHandler:null;var y=d.$_rows,m=U.Utils.month_days[U.Utils.isLeapYear(l)?1:0][u],g=new Date(r);g.setDate(1);var v=(g.getDay()+7-this._startWeek)%7;30==m&&6==v||31==m&&5<=v?U.Utils.addChild(d,y[5]):U.Utils.removeChild(d,y[5]),28==m&&0==v?U.Utils.removeChild(d,y[4]):U.Utils.addChild(d,y[4]);var b=0,C=_[0];if(h=y[0].$_cells,0<v){var w=l,x=u-1;x<0&&(w--,x=11);var I=U.Utils.month_days[U.Utils.isLeapYear(w)?1:0][x];for(c=0;c<v;c++){(P=h[c]).removeAttribute("title");var E=new Date(this._currDate);P.$_day=c-v,E.setDate(P.$_day+1);var S=this._editor.containsRange(E);0===c&&(C.$_yearWeek=T(E,this._startWeek),C.$_span.innerText=C.$_yearWeek.substr(4,2),this.$_checkFocusedWeek(this._currDate,C,S)),P.$_span.innerHTML=I-v+c+1,P.className="rg-cal-day rg-cal-prev-day "+(S?"":"rg-cal-disable-day ")+"rg-cal-week-"+i[(c+this._startWeek)%7]}}for(c=v;c<7;c++)(P=h[c]).removeAttribute("title"),P.$_day=b++,P.$_span.innerHTML=b,(g=new Date(this._currDate)).setDate(b),S=this._editor.containsRange(g),0===c&&(C.$_yearWeek=T(g,this._startWeek),C.$_span.innerText=C.$_yearWeek.substr(4,2),this.$_checkFocusedWeek(this._currDate,C,S)),t="rg-cal-day "+(this.$_isFocusedDay(r,b)?"rg-cal-focusday ":""),t+=this.$_isToday(r,b)?"rg-cal-today ":"",t+=(e=this._holidays&&this._holidays.contains(g))?e.styleName+" rg-cal-holiday ":"",t+=S?"":"rg-cal-disable-day ",t+="rg-cal-week-"+i[(c+this._startWeek)%7],P.className=t,e&&(t=e.getTooltip(this.$_getCellDate(r,b)))&&(P.title=t);for(var O=1;O<6&&b<m;O++){h=y[O].$_cells;var R=_[O];for(c=0;c<7;c++)if(b<m)(P=h[c]).removeAttribute("title"),P.$_day=b++,(g=new Date(this._currDate)).setDate(b),S=this._editor.containsRange(g),0===c&&(R.$_yearWeek=T(g,this._startWeek),R.$_span.innerText=R.$_yearWeek.substr(4,2),this.$_checkFocusedWeek(this._currDate,R,S)),P.$_span.innerHTML=b,t="rg-cal-day "+(this.$_isFocusedDay(r,b)?"rg-cal-focusday ":""),t+=this.$_isToday(r,b)?"rg-cal-today ":"",t+=(e=this._holidays&&this._holidays.contains(g))?e.styleName+" rg-cal-holiday ":"",t+=S?"":"rg-cal-disable-day ",t+="rg-cal-week-"+i[(c+this._startWeek)%7],P.className=t,e&&(t=e.getTooltip(this.$_getCellDate(r,b)))&&(P.title=t);else for(var D=1;c<7;c++){var P;(P=h[c]).removeAttribute("title"),P.$_day=b++,(g=new Date(this._currDate)).setDate(b),S=this._editor.containsRange(g),P.$_span.innerHTML=D++,P.className="rg-cal-day rg-cal-next-day "+(S?"":"rg-cal-disable-day ")+"rg-cal-week-"+i[(c+this._startWeek)%7]}}},x.prototype.onMonthPickerCloseUp=function(t,e){var i=e-this._currDate.getMonth();i&&(U.Utils.incMonth(this._currDate,i),this.$_buildCalendar()),this._editor.setFocus()},x.CLOSE_UP="onDatePickerCloseUp",x);function x(t,e){var i=C.call(this)||this;return i._minWidth=0,i._maxWidth=0,i._yearNavigation=!1,i._dropDownPosition=ge.DropDownPosition.BUTTON,i._showToday=!0,i._viewGridInside=!1,i._showWeeks=!1,i._startWeek=0,i._weekSelectable=!1,i._weekSeparator="",i._date=new Date,i._selected=!1,i._focused=!0,i._clickHandler=function(t){var e=this.$_getCellDate(this._currDate,t.currentTarget.$_day+1);if(this._editor.containsRange(e)){var i=this._holidays&&this._holidays.contains(e);i&&!i.isEnabled()||(this._date=new Date(e),this._selected=!0,this.fireEvent(x.CLOSE_UP,!0))}}.bind(i),i._yearWeekClickHandler=function(t){var e,i=t.currentTarget.$_yearWeek;i&&(e=r(i)),e&&this._editor.containsRange(e)&&(this._date=new Date(e),this._selected=!0,this.fireEvent(x.CLOSE_UP,!0))}.bind(i),i._editor=e,i._container=t,i._yearDisplayFormat=e.yearDisplayFormat,i._monthDisplayFormat=e.monthDisplayFormat,i._months=e.months,i._weekDays=U.Utils.week_days,i._element=i.$_createPicker(),i._monthPicker=new v(e,i._element),i._monthPicker.addListener(i),i}var I,E=(I=me.TextCellEditor,i(S,I),S.prototype._doDispose=function(){I.prototype._doDispose.call(this)},Object.defineProperty(S.prototype,"editFormat",{get:function(){return this._editFormat},set:function(t){t!=this._editFormat&&(this._editFormat=t,this.datetimeFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"minDate",{get:function(){return this._minDate},set:function(t){t!=this._minDate&&(this._minDate=t?t instanceof Date?t:"string"==typeof t?this._dateConverter.getDateNull(t):null:null,this._minDate&&this._minDate.setHours(0,0,0,0),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){t!=this._maxDate&&(this._maxDate=t?t instanceof Date?t:"string"==typeof t?this._dateConverter.getDateNull(t):null:null,this._maxDate&&this._maxDate.setHours(23,59,59),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"yearNavigation",{get:function(){return this._yearNavigation},set:function(t){t!=this._yearNavigation&&(this._yearNavigation=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"textReadOnly",{get:function(){return this._textReadOnly},set:function(t){t!=this._textReadOnly&&(this._textReadOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(t){t!=this._dropDownPosition&&(this._dropDownPosition=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"dropDownWhenClick",{get:function(){return this._dropDownWhenClick},set:function(t){t!=this._dropDownWhenClick&&(this._dropDownWhenClick=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"showToday",{get:function(){return this._showToday},set:function(t){t!=this._showToday&&(this._showToday=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"yearDisplayFormat",{get:function(){return this._yearDisplayFormat},set:function(t){t!=this._yearDisplayFormat&&(this._yearDisplayFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"monthDisplayFormat",{get:function(){return this._monthDisplayFormat},set:function(t){t!=this._monthDisplayFormat&&(this._monthDisplayFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"months",{get:function(){return this._months},set:function(t){t!=this._months&&(this._months=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"weekDays",{get:function(){return this._weekDays},set:function(t){t!=this._weekDays&&(this._weekDays=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"showWeeks",{get:function(){return this._showWeeks},set:function(t){t!=this._showWeeks&&(this._showWeeks=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"startWeek",{get:function(){return this._startWeek},set:function(t){(t=null==t?0:isNaN(t=Math.floor(t))?0:t)!==this._startWeek&&(this._startWeek=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"weekSelectable",{get:function(){return this._weekSelectable},set:function(t){t!=this._weekSelectable&&(this._weekSelectable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"weekSeparator",{get:function(){return this._weekSeparator},set:function(t){t!=this._weekSeparator&&(this._weekSeparator=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"commitOnSelect",{get:function(){return this._commitOnSelect},set:function(t){t!=this._commitOnSelect&&(this._commitOnSelect=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"defaultShowDate",{get:function(){return this._defaultShowDate},set:function(t){if(t!=this._defaultShowDate){switch(t){case H.DefaultShowDate.TODAY:case H.DefaultShowDate.NORMAL:case H.DefaultShowDate.TODAY_WHEN_NULL:}this._defaultShowDate=t,this._changed()}},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"holidays",{get:function(){return this._holidays},set:function(t){t!=this._holidays&&((this._holidays=t)?(this._holidayCollection=this._holidayCollection||new y,(this._holidayCollection.editor=this)._holidayCollection.load(t)):this._holidayCollection.setNull(),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"listing",{get:function(){return this._list.listing},enumerable:!0,configurable:!0}),Object.defineProperty(S.prototype,"monthListing",{get:function(){return this._list.monthListing},enumerable:!0,configurable:!0}),S.prototype.dropDown=function(){if(this.readOnly||this._controller._readOnly||this.listing||this._closing)return!1;var t=this._grid.editorOptions,e=this._list,i=U.Utils.getClientRect(this._container);return e.viewGridInside=t.viewGridInside,e.yearNavigation=this._yearNavigation,e.dropDownPosition=this._dropDownPosition,e.showToday=this._showToday,e.yearDisplayFormat=this._yearDisplayFormat,e.monthDisplayFormat=this._monthDisplayFormat,e.months=this._months,e.minDate=this._minDate,e.maxDate=this._maxDate,e.showWeeks=this._showWeeks,e.startWeek=this._startWeek||0,e.weekSelectable=this.weekSelectable,e.weekSeparator=this.weekSeparator,e.holidays=this._holidayCollection.isNull?t._holidayCollection:this._holidayCollection,this._weekDays&&0<this._weekDays.length&&e.setWeekDays(this._weekDays),this.$_setListDate(),e.show(document.documentElement,i.cx-1,i.cy+i.height,this._cellBounds.width,U.Utils.getClientRect(this._editor)),window.addEventListener("mousedown",this._globalMouseHandler),!0},S.prototype.closeUp=function(t){if(this.listing){this._closing=!0;try{window.removeEventListener("mousedown",this._globalMouseHandler),this._list.hide(),t&&this._list.selected&&(this.$_selectDate(this._list.date),this._commitOnSelect&&this._dispatchCommit())}finally{this._closing=!1}return!0}return!1},S.prototype.containsRange=function(t){return(!this._minDate||t>=this._minDate)&&(!this._maxDate||t<=this._maxDate)},Object.defineProperty(S.prototype,"hasButton",{get:function(){return!0},enumerable:!0,configurable:!0}),S.prototype.initOptions=function(){I.prototype.initOptions.call(this),this._dropDownWhenClick=!1,this._yearNavigation=!1,this._textReadOnly=!1,this._showToday=!0,this._minDate=new Date(1970,0,1),this._maxDate=new Date(2100,11,31),this._showWeeks=!1,this._startWeek=0,this._weekSelectable=!1,this._weekSeparator="",this._commitOnSelect=!1,this._defaultShowDate=H.DefaultShowDate.NORMAL,this._holidayCollection&&this._holidayCollection.setNull()},S.prototype.setEditIndex=function(t){I.prototype.setEditIndex.call(this,t);var e=this._editField().dataType;this._weekSelectable=this._weekSelectable&&e!==H.ValueType.DATE&&e!==H.ValueType.DATETIME},S.prototype.setEditValue=function(t){I.prototype.setEditValue.call(this,t),this.weekSelectable?this._date=r(t):this._date="string"==typeof t?this._dateConverter.getDateNull(t):t,this._editor.value=this._valToStr(t)},S.prototype.setCellEditValue=function(t,e){I.prototype.setCellEditValue.call(this,t,e)},S.prototype.getEditValue=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);var i=I.prototype.getEditValue.call(this,t),o=this._editField().dataType;return i&&e&&(o==H.ValueType.DATE||o==H.ValueType.DATETIME)&&(i=this._minDate?Math.max(this._minDate.getTime(),i):i,i=(i=this._maxDate?Math.min(this._maxDate.getTime(),i):i)&&new Date(i)),i},S.prototype._createContainer=function(){var t=I.prototype._createContainer.call(this);return t.style.border="none",t.style.boxShadow="none",t},S.prototype._createEditor=function(t){return I.prototype._createEditor.call(this,t)},S.prototype._textHandler=function(){this._requestStart(!1)},S.prototype._compositionstartHandler=function(t){this._requestStart(!1)},S.prototype._keyDownHandler=function(t){var e=this._list;if(e.monthListing)return t.keyCode==H.Keys.ESCAPE&&(this.closeMonthList(),U.Utils.stopEvent(t,!0),!0);var i=this.listing,o=i&&e.focused;switch(t.keyCode){case H.Keys.ENTER:if(this.closeUp(!0))return U.Utils.stopEvent(t,!0),!this._sendToParent(t);break;case H.Keys.ESCAPE:if(this.closeUp(!1))return U.Utils.stopEvent(t,!0),!0;break;case H.Keys.HOME:if(o)return t.preventDefault(),U.Utils.stopEvent(t,!0),!0;break;case H.Keys.END:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.lastDay()),!0;break;case H.Keys.LEFT:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.incDay(-1)),!0;break;case H.Keys.RIGHT:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.incDay(1)),!0;break;case H.Keys.PAGEUP:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.incMonth(-1)),!0;break;case H.Keys.PAGEDOWN:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.incMonth(1)),!0;break;case H.Keys.DOWN:if(t.altKey&&!i)return this._requestStart(),U.Utils.stopEvent(t,!0),!0;if(i)return U.Utils.stopEvent(t,!0),o?this.$_selectDate(e.incDay(7)):(this._list.focused=!0,this.$_setListDate()),!0;break;case H.Keys.UP:if(t.altKey&&i)return this.closeUp(!1),U.Utils.stopEvent(t,!0),!0;if(i)return U.Utils.stopEvent(t,!0),o?e.date.getDate()<=7?this._list.focused=!1:this.$_selectDate(e.incDay(-7)):this._list.focused=!1,!0;break;case H.Keys.T:(t.altKey||t.altKey&&t.ctrlKey)&&i&&(U.Utils.stopEvent(t,!0),this._list.date=new Date,this.$_selectDate(this._list.date))}return I.prototype._keyDownHandler.call(this,t)},S.prototype._keyPressHandler=function(t){var e=this._list,i=String.fromCharCode(t.keyCode||t.charCode);if(i.toLocaleLowerCase()==this.todayChar){if(U.Utils.stopEvent(t,!0),this.listing)return e.focused=!0,this.$_selectDate(e.today),!0}else{if(U.Utils.isFirefox&&(t.ctrlKey||0===t.charCode))return void I.prototype._keyPressHandler.call(this,t);if(!this._regx.test(i))return void t.preventDefault()}I.prototype._keyPressHandler.call(this,t),t.keyCode&&this.textReadOnly&&t.preventDefault()},S.prototype.$_resetValue=function(){if(this.visible){var t=this._editor,e=t.selectionStart,i=t.selectionEnd,o=t.value?t.value.length:0;t.value=t.value.replace(s,""),(t.value?t.value.length:0)==o?t.setSelectionRange(e,i):t.setSelectionRange(i,i)}},S.prototype._dispatchChange=function(){this.visible&&(this.$_resetValue(),I.prototype._dispatchChange.call(this))},S.prototype._changeHandler=function(t){I.prototype._changeHandler.call(this,t)},S.prototype._pasteHandler=function(t){I.prototype._pasteHandler.call(this,t)},S.prototype._copyHandler=function(t){I.prototype._copyHandler.call(this,t)},S.prototype._requestStart=function(t){return!!I.prototype._requestStart.call(this)&&(!1!==t&&this.dropDown(),!0)},S.prototype.setBounds=function(t,e,i,o){t+=2,e+=2,i-=4,o-=4,I.prototype.setBounds.call(this,t,e,i,o)},S.prototype._doChanged=function(){this._started||this._requestStart(),this._started&&!this._controller.readOnly&&this._controller.editable&&(this._modified=!0,this._dispatchChange())},S.prototype.dropDownList=function(t){this.dropDown()},S.prototype.closeList=function(t){this.closeUp(t)},S.prototype.closeMonthList=function(){this._list.closeMonth()},S.prototype.buttonClicked=function(t){this.listing?this.closeUp(!1):this.dropDown()},S.prototype._getInputSelector=function(){return S.INPUT_CSS},S.prototype._isDateEditor=function(){var t=this._editField().dataType;return t==H.ValueType.DATE||t==H.ValueType.DATETIME||!this.weekSelectable},S.prototype.$_selectDate=function(t){if(t&&t!=this._date&&(this._date=t,this.containsRange(t))){var e=void 0;e=this.weekSelectable?T(t,this._startWeek,!!this.weekSeparator):this._dateConverter.getText(this._date),this._mask&&(e=this._mask.writeBuffer(e)),this._editor.value=e,this._doChanged()}},S.prototype.$_setListDate=function(){var t,e=this._editor.value;switch(this._mask&&(e=this._mask.getStripValue()),t=this.weekSelectable?r(e):this._dateConverter.getDateNull(e),this._defaultShowDate){case H.DefaultShowDate.TODAY:t=new Date;break;case H.DefaultShowDate.NORMAL:break;case H.DefaultShowDate.TODAY_WHEN_NULL:t=t||new Date}t&&(this._list.date=t)},S.prototype.onDatePickerCloseUp=function(t,e){this.closeUp(e),U.Utils.isMobile||this.setFocus()},S.INPUT_CSS="rg-date-editor",S);function S(t,e){var i=I.call(this,t,e)||this;i._minDate=new Date(1970,0,1),i._maxDate=new Date(2100,11,31),i._yearNavigation=!1,i._textReadOnly=!1,i._dropDownPosition=ge.DropDownPosition.BUTTON,i._dropDownWhenClick=!1,i._showToday=!0,i._yearDisplayFormat="{Y}년",i._monthDisplayFormat="{M}월",i._months=null,i._weekDays=null,i._showWeeks=!1,i._startWeek=0,i._weekSelectable=!1,i._weekSeparator="",i._commitOnSelect=!1,i._holidays=null,i._holidayCollection=new y,i._closing=!1,i._regx=/[0-9]|\.|\-|\/|a|A|p|P|m/,i._globalMouseHandler=function(t){for(var e=t.target;e;){if(e===this._list._element)return void this._list._monthPicker.hide();if(e===this._list._monthPicker._element)return;e=e.parentElement}this.closeUp(!0)}.bind(i);var o=t.editorOptions;return i._yearDisplayFormat=o.yearDisplayFormat,i._monthDisplayFormat=o.monthDisplayFormat,i._months=o.months,i._weekDays=o.weekDays,i._list=new w(t.container,i),i._list.addListener(i),i._borderable=!1,i}e.DateCellEditor=E;var O,R=(O=Y.EventAware,i(D,O),D.prototype._doDispose=function(){this._jquery=null,this._editor=null,this._container=null,this._containerElement=null,O.prototype._doDispose.call(this)},Object.defineProperty(D.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(t){this._dropDownPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"date",{get:function(){return this._date},set:function(t){if((this._date=t).getTime()!==this._date.getTime()&&(this._currDate=new Date(t),this._date=new Date(t),this.listing)){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());this._jquery&&this._jquery(this._element).datepicker("update",e)}},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=t},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=t},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"viewGridInside",{get:function(){return this._viewGridInside},set:function(t){this._viewGridInside=t},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"listing",{get:function(){return window.jQuery&&window.jQuery(this._element).data("datepicker")},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"selected",{get:function(){return this._selected},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"focused",{get:function(){return this._focused},set:function(t){t!=this._focused&&(this._focused=t,this._element.style.border=t?"1px solid rgba(50, 50, 50, 1)":"1px solid rgba(50, 50, 50, 0.3)",this._element.style.boxShadow=t?"rgba(0, 0, 0, 0.8) 1px 2px 5px":"rgba(0, 0, 0, 0.5) 1px 2px 5px")},enumerable:!0,configurable:!0}),D.prototype.$_destroy=function(){this._jquery&&this._jquery(this._element).datepicker("destroy")},D.prototype.keydown=function(t){if(this._jquery){this._jquery(this._element).datepicker("keydown",t);var e=this._jquery(this._element).data("datepicker").viewDate;e instanceof Date&&(this.date=e,this._editor&&this._editor.selectDate(this._date))}},D.prototype.$_createList=function(){var t=document.createElement("div"),e=t.style;return e.position="absolute",e.cssFloat="none",e.clear="both",e.boxSizing="border-box",e.zIndex="3001",e.margin="0px",e.overflow="auto",t.className="rg-calendar",t},D.prototype.show=function(t,e,i,o,r){if(this._containerElement=this._viewGridInside?this._container._container:t,!this.$_createCalendar())return alert("BootStrap DatePicker Not Include"),!1;this.$_show(e,i,o,r)},D.prototype.$_createCalendar=function(){var t,e=this._element,i=this._btOptions;return this._date&&(t=new Date(this._date.getFullYear(),this._date.getMonth(),this._date.getDate())),!!this._jquery&&(this._jquery(e).datepicker&&this._jquery(e).datepicker(i).datepicker("setDate",t).on("changeDate",function(t){var e=t.date;e&&!this._editor.containsRange(e)||(this._date=e?new Date(e):void 0,this._selected=!0,this.fireEvent(w.CLOSE_UP,!0))}.bind(this)),!0)},D.prototype.$_show=function(t,e,i,o){this.focused=!1,this._selected=!1,this._containerElement.appendChild(this._element);var r=this._date;this._currDate=r?new Date(r):new Date;var n=U.Utils.getBrowserSize(),s=U.Utils.getClientRect(this._containerElement),a=U.Utils.getClientRect(this._container._container),l=n.width,u=n.height,h=U.Utils.getClientRect(this._element),c=window.pageXOffset||document.documentElement.scrollLeft,p=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.scrollWidth>document.documentElement.clientWidth&&(u-=18),document.documentElement.scrollHeight>document.documentElement.clientHeight&&(l-=18),t+=a.left-s.left,e+=a.top-s.top,(U.Utils.ieTen||U.Utils.ieOld||U.Utils.ieLeg)&&(t+=document.documentElement.scrollLeft,e+=document.documentElement.scrollTop),e+h.height>u+p&&(e=e-o.height-h.height)<0&&(e=u-h.height-2),this._dropDownPosition!=ge.DropDownPosition.EDITOR?t=Math.max(0,t+i-h.width):t+h.width>l+c&&(t=l-h.width),this._viewGridInside&&(e=o.bottom-s.top+2,(s.bottom<o.bottom+h.height||u+p<o.bottom+h.height)&&(e=o.top-h.height-s.top-2)),U.Utils.move(this._element,Math.max(0,t),Math.max(0,e))},D.prototype.today=function(){return this.date=new Date},D.prototype.incDay=function(t){var e;return this._date.getMonth()==this._currDate.getMonth()?(e=new Date(this._date),this._date&&e.setDate(this._date.getDate()+t)):(e=this._currDate,e=new Date(e.getFullYear(),e.getMonth(),1)),this.date=e},D.prototype.incMonth=function(t){var e;return this._date.getMonth()==this._currDate.getMonth()?(e=new Date(this._date),this._date&&U.Utils.incMonth(e,t)):(e=this._currDate,e=new Date(e.getFullYear(),e.getMonth(),1)),this.date=e},D.prototype.firstDay=function(){var t=new Date(this._currDate);return this._date&&t.setDate(1),this.date=t},D.prototype.lastDay=function(){var t=new Date(this._currDate);if(this._date){var e=t.getFullYear(),i=t.getMonth(),o=U.Utils.month_days[U.Utils.isLeapYear(e)?1:0][i];t.setDate(o)}return this.date=t},D);function D(t,e,i){var o=O.call(this)||this;return o._dropDownPosition=ge.DropDownPosition.BUTTON,o._viewGridInside=!1,o._selected=!1,o._focused=!1,o._jquery=window.jQuery,o._jquery,o._editor=e,o._container=t,o._btOptions=i,o._element=o.$_createList(),o}var P,k=(P=me.TextCellEditor,i(M,P),M.prototype._doDispose=function(){this._globalMouseHandler=null,P.prototype._doDispose.call(this)},Object.defineProperty(M.prototype,"list",{get:function(){return this._list},set:function(t){this._list=t},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"btOptions",{get:function(){return this._btOptions},set:function(t){this._btOptions=t},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"textReadOnly",{get:function(){return this._textReadOnly},set:function(t){this._textReadOnly=t},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"editFormat",{get:function(){return this.datetimeFormat},set:function(t){this.datetimeFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"minDate",{get:function(){return this._minDate},set:function(t){this._minDate=t?t instanceof Date?t:"string"==typeof t?this._dateConverter.getDateNull(t):null:null,this._minDate&&this._minDate.setHours(0,0,0,0)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"maxDate",{get:function(){return this._maxDate},set:function(t){this._maxDate=t?t instanceof Date?t:"string"==typeof t?this._dateConverter.getDateNull(t):null:null,this._maxDate&&this._maxDate.setHours(23,59,59)},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"dropDownPosition",{get:function(){return this._dropDownPosition},set:function(t){this._dropDownPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"dropDownWhenClick",{get:function(){return this._dropDownWhenClick},set:function(t){this._dropDownWhenClick=t},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"commitOnSelect",{get:function(){return this._commitOnSelect},set:function(t){this._commitOnSelect=t},enumerable:!0,configurable:!0}),M.prototype.dropDown=function(){if(this.readOnly||this._controller._readOnly||this.listing||this._closing)return!1;var t=this._grid,e=this._list=new R(t.container,this,this._btOptions);e.addListener(this);var i=U.Utils.getBounds(this._container);return e.viewGridInside=this._options&&this._options.viewGridInside,e.dropDownPosition=this._dropDownPosition,e.minDate=this._minDate,e.maxDate=this._maxDate,this.$_setListDate(),e.show(document.documentElement,i.x-1,i.y+i.height,this._cellBounds.width,U.Utils.getClientRect(this._editor)),window.addEventListener("mousedown",this._globalMouseHandler),!0},M.prototype.closeUp=function(t){if(this.listing){this._closing=!0;try{window.removeEventListener("mousedown",this._globalMouseHandler),t&&this._list.selected&&(this.$_selectDate(this._list.date),this._commitOnSelect&&this._dispatchCommit())}finally{this.$_listDestroy(),this._closing=!1}return!0}return!1},M.prototype.buttonClicked=function(t){this.listing?this.closeUp(!1):this.dropDown()},M.prototype.dropDownList=function(){this.dropDown()},M.prototype.closeList=function(t){this.closeUp(t)},M.prototype.$_setListDate=function(){var t=this._editor.value;t&&this._mask&&(t=this._mask.getStripValue());var e=this._dateConverter.getDateNull(t);e&&(this._list.date=e)},M.prototype.selectDate=function(t){this.$_selectDate(t)},M.prototype.$_selectDate=function(t){if(t&&t!=this._date){if(this._date=t,this.containsRange(t)){var e=this._dateConverter.getText(this._date);this._mask&&(e=this._mask.writeBuffer(e)),this._editor.value=e,this._doChanged()}}else void 0===t&&(this._editor.value=this._mask?(this._mask.clearBuffer(),this._mask.writeBuffer(null)):"",this._doChanged())},M.prototype.containsRange=function(t){return(!this._minDate||t>=this._minDate)&&(!this._maxDate||t<=this._maxDate)},Object.defineProperty(M.prototype,"listing",{get:function(){return!!this._list&&this._list.listing},enumerable:!0,configurable:!0}),Object.defineProperty(M.prototype,"hasButton",{get:function(){return!0},enumerable:!0,configurable:!0}),M.prototype.initOptions=function(){P.prototype.initOptions.call(this),this._dropDownWhenClick=!1,this._textReadOnly=!1,this._viewGridInside=!1,this._minDate=new Date(1970,0,1),this._maxDate=new Date(2100,11,31),this._commitOnSelect=!1},M.prototype._isDateEditor=function(){return!0},M.prototype.setEditValue=function(t){P.prototype.setEditValue.call(this,t),this._date="string"==typeof t?this._dateConverter.getDateNull(t):t,this._editor.value=this._valToStr(t)},M.prototype.getEditValue=function(t,e){var i=P.prototype.getEditValue.call(this,t),o=this._editField().dataType;return i&&e&&(o==H.ValueType.DATE||o==H.ValueType.DATETIME)&&(i=i.getTime(),i=this._minDate?Math.max(this._minDate.getTime(),i):i,i=(i=this._maxDate?Math.min(this._maxDate.getTime(),i):i)&&new Date(i)),i},M.prototype._requestStart=function(t){return!!P.prototype._requestStart.call(this,t)&&(!1!==t&&this.dropDown(),!0)},M.prototype._textHandler=function(){this._requestStart()},M.prototype._compositionstartHandler=function(){this._requestStart()},M.prototype._keyDownHandler=function(t){var e=this._list,i=this.listing,o=i&&e.focused;switch(t.keyCode){case H.Keys.ENTER:if(this.closeUp(!0))return U.Utils.stopEvent(t,!0),!this._sendToParent(t);break;case H.Keys.ESCAPE:if(this.closeUp(!1))return U.Utils.stopEvent(t,!0),!0;break;case H.Keys.HOME:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.firstDay()),!0;break;case H.Keys.END:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.lastDay()),!0;break;case H.Keys.LEFT:case H.Keys.RIGHT:if(o)return U.Utils.stopEvent(t,!0),e&&e.keydown(t),!0;break;case H.Keys.PAGEUP:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.incMonth(-1)),!0;break;case H.Keys.PAGEDOWN:if(o)return U.Utils.stopEvent(t,!0),this.$_selectDate(e.incMonth(1)),!0;break;case H.Keys.DOWN:if(t.altKey&&!i)return this._requestStart(),U.Utils.stopEvent(t,!0),!0;if(i)return U.Utils.stopEvent(t,!0),o?e.keydown(t):(e.focused=!0,this.$_setListDate()),!0;break;case H.Keys.UP:if(t.altKey&&i)return this.closeUp(!1),U.Utils.stopEvent(t,!0),!0;if(i)return U.Utils.stopEvent(t,!0),o?e.date.getDate()<=7?e.focused=!1:e.keydown(t):e.focused=!1,!0;break;case H.Keys.T:(t.altKey||t.altKey&&t.ctrlKey)&&i&&(U.Utils.stopEvent(t,!0),e.date=new Date,this.$_selectDate(e.date))}return P.prototype._keyDownHandler.call(this,t)},M.prototype._keyPressHandler=function(t){var e=this._list,i=String.fromCharCode(t.keyCode||t.charCode);if(i.toLocaleLowerCase()==this.todayChar){if(U.Utils.stopEvent(t,!0),this.listing)return e.focused=!0,this.$_selectDate(e.today()),!0}else{if(U.Utils.isFirefox&&(t.ctrlKey||0===t.charCode))return P.prototype._keyPressHandler.call(this,t);if(!this._regx.test(i))return void t.preventDefault()}P.prototype._keyPressHandler.call(this,t),t.keyCode&&this.textReadOnly&&t.preventDefault()},M.prototype.$_resetValue=function(){if(this.visible){var t=this._editor,e=t.selectionStart,i=t.selectionEnd,o=t.value?t.value.length:0;t.value=t.value.replace(s,""),(t.value?t.value.length:0)==o?t.setSelectionRange(e,i):t.setSelectionRange(i,i)}},M.prototype.setBounds=function(t,e,i,o){t+=2,e+=2,i-=4,o-=4,P.prototype.setBounds.call(this,t,e,i,o)},M.prototype._doChanged=function(){this._started&&this._requestStart(),this._started&&!this._controller.readOnly&&this._controller.editable&&(this._modified=!0,this._dispatchChange())},M.prototype._dispatchChange=function(){this.visible&&(this.$_resetValue(),P.prototype._dispatchChange.call(this))},M.prototype.onDatePickerCloseUp=function(t,e){this.closeUp(e),this.setFocus()},M.prototype._getInputSelector=function(){return M.INPUT_CSS},M.prototype.$_listDestroy=function(){var t=this._list&&this._list._element.parentElement;this._list&&(this._list.$_destroy(),t.removeChild(this._list._element),this._list.dispose(),delete this._list)},M.INPUT_CSS="rg-btdate-editor",M);function M(t,e){var i=P.call(this,t,e)||this;return i._textReadOnly=!1,i._minDate=new Date(1970,0,1),i._maxDate=new Date(2100,11,31),i._dropDownPosition=ge.DropDownPosition.BUTTON,i._dropDownWhenClick=!1,i._commitOnSelect=!1,i._regx=/[0-9]|\.|\-|\/|a|A|p|P|m/,i._closing=!1,i._globalMouseHandler=function(t){for(var e=t.target;e;){if(e==this._list._element)return;e=e.parentNode}this.closeUp(!0)}.bind(i),i._borderable=!1,i}e.BTDateCellEditor=k});t(ve);ve.Holiday,ve.HolidayCollection,ve.DateCellEditor,ve.BTDateCellEditor;var be=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"readOnly",{get:function(){return this._readOnly},set:function(t){t!=this._readOnly&&(this._readOnly=t,this._refreshOwner(),this._invalidateEditor())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editable",{get:function(){return this._editable},set:function(t){t!=this._editable&&(this._editable=t,this._refreshOwner(),this._invalidateEditor())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkable",{get:function(){return this._checkable},set:function(t){t!=this._checkable&&(this._checkable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"updatable",{get:function(){return this._updatable},set:function(t){t!=this._updatable&&(this._updatable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"appendable",{get:function(){return this._appendable},set:function(t){t!=this._appendable&&(this._appendable=t,this.displayEmptyEditRow=this._displayEmptyEditRow,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"insertable",{get:function(){return this._insertable},set:function(t){t!=this._insertable&&(this._insertable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"deletable",{get:function(){return this._deletable},set:function(t){t!=this._deletable&&(this._deletable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"revertable",{get:function(){return this._revertable},set:function(t){t!=this._revertable&&(this._revertable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"erasable",{get:function(){return this._erasable},set:function(t){t!=this._erasable&&(this._erasable=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitByCell",{get:function(){return this._commitByCell},set:function(t){t!=this._commitByCell&&(this._commitByCell=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editWhenFocused",{get:function(){return this._editWhenFocused},set:function(t){this._editWhenFocused=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitWhenNoEdit",{get:function(){return this._commitWhenNoEdit},set:function(t){this._commitWhenNoEdit=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitWhenExitLast",{get:function(){return this._commitWhenExitLast},set:function(t){this._commitWhenExitLast=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitWhenLeave",{get:function(){return this._commitWhenLeave},set:function(t){this._commitWhenLeave=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"crossWhenExitLast",{get:function(){return this._crossWhenExitLast},set:function(t){this._crossWhenExitLast=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"validateOnEdited",{get:function(){return this._validateOnEdited},set:function(t){this._validateOnEdited=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"validateOnExit",{get:function(){return this._validateOnExit},set:function(t){this._validateOnExit=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hintOnError",{get:function(){return this._hintOnError},set:function(t){this._hintOnError=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"deleteRowsMessage",{get:function(){return this._deleteRowsMessage},set:function(t){this._deleteRowsMessage=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"invalidFormatMessage",{get:function(){return this._invalidFormatMessage},set:function(t){this._invalidFormatMessage=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showInvalidFormatMessage",{get:function(){return this._showInvalidFormatMessage},set:function(t){this._showInvalidFormatMessage=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"deleteRowsConfirm",{get:function(){return this._deleteRowsConfirm},set:function(t){this._deleteRowsConfirm=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"confirmWhenDelete",{get:function(){return this._confirmWhenDelete},set:function(t){this._confirmWhenDelete=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editWhenClickFocused",{get:function(){return this._editWhenClickFocused},set:function(t){this._editWhenClickFocused=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitLevel",{get:function(){return this._commitLevel},set:function(t){this._commitLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"useTabKey",{get:function(){return this._useTabKey},set:function(t){this._useTabKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"useArrowKeys",{get:function(){return this._useArrowKeys},set:function(t){this._useArrowKeys=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"skipReadOnly",{get:function(){return this._skipReadOnly},set:function(t){this._skipReadOnly=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"skipReadOnlyCell",{get:function(){return this._skipReadOnlyCell},set:function(t){this._skipReadOnlyCell=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"verticalMovingStep",{get:function(){return this._verticalMovingStep},set:function(t){this._verticalMovingStep=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"enterToTab",{get:function(){return this._enterToTab},set:function(t){this._enterToTab=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"enterToNextRow",{get:function(){return this._enterToNextRow},set:function(t){this._enterToNextRow=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"enterToEdit",{get:function(){return this._enterToEdit},set:function(t){this._enterToEdit=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxLengthToNextCell",{get:function(){return this._maxLengthToNextCell},set:function(t){this._maxLengthToNextCell=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"forceInsert",{get:function(){return this._forceInsert},set:function(t){this._forceInsert=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"forceAppend",{get:function(){return this._forceAppend},set:function(t){this._forceAppend=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkDiff",{get:function(){return this._checkDiff},set:function(t){this._checkDiff=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkCellDiff",{get:function(){return this._checkCellDiff},set:function(t){this._checkCellDiff=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"strictDiff",{get:function(){return this._strictDiff},set:function(t){this._strictDiff=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"deletableWhenEdit",{get:function(){return this._deletableWhenEdit},set:function(t){this._deletableWhenEdit=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showCommitError",{get:function(){return this._showCommitError},set:function(t){this._showCommitError=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"firstCellWhenInsert",{get:function(){return this._firstCellWhenInsert},set:function(t){this._firstCellWhenInsert=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"appendWhenInsertKey",{get:function(){return this._appendWhenInsertKey},set:function(t){this._appendWhenInsertKey=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"appendWhenExitLast",{get:function(){return this._appendWhenExitLast},set:function(t){this._appendWhenExitLast=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showOnlyValidationMessage",{get:function(){return this._showOnlyValidationMessage},set:function(t){this._showOnlyValidationMessage=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"displayEmptyEditRow",{get:function(){return this._displayEmptyEditRow},set:function(t){var e=this.grid;this._displayEmptyEditRow=t,this._displayEmptyEditRow&&this._appendable?e.itemSource.appendDummy():e.itemSource.cancelDummy(),this._refreshOwner()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkWhenSpace",{get:function(){return this._checkWhenSpace},set:function(t){this._checkWhenSpace=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"buttonClickWhenSpace",{get:function(){return this._buttonClickWhenSpace},set:function(t){this._buttonClickWhenSpace=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"exitGridWhenTab",{get:function(){return this._exitGridWhenTab},set:function(t){this._exitGridWhenTab=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"innerDraggable",{get:function(){return this._innerDraggable},set:function(t){this._innerDraggable=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cancelWhenLastUndo",{get:function(){return this._cancelWhenLastUndo},set:function(t){this._cancelWhenLastUndo=t},enumerable:!0,configurable:!0}),s.prototype.isWritable=function(){return this._editable&&!this._readOnly},s.prototype.canUpdate=function(){return!this._readOnly&&this._updatable},s.prototype.canInsert=function(){return!this._readOnly&&this._insertable},s.prototype.canAppend=function(){return!this._readOnly&&this._appendable},s.prototype.canDelete=function(){return!this._readOnly&&this._deletable},s);function s(t){var e=r.call(this,t)||this;return e._readOnly=!1,e._editable=!U.Utils.isMobile(),e._checkable=!0,e._updatable=!0,e._appendable=!1,e._insertable=!1,e._deletable=!1,e._revertable=!1,e._erasable=!1,e._commitByCell=!1,e._editWhenFocused=!1,e._commitWhenNoEdit=!1,e._commitWhenExitLast=!1,e._commitWhenLeave=!1,e._crossWhenExitLast=!1,e._validateOnEdited=!0,e._validateOnExit=!1,e._hintOnError=!0,e._deleteRowsMessage=window.RG_CONST&&window.RG_CONST.DELETEROWSMESSAGE?window.RG_CONST.DELETEROWSMESSAGE:"선택된 행(들)을 삭제하시겠습니까??",e._invalidFormatMessage=window.RG_CONST&&window.RG_CONST.INVALIDFORMATMESSAGE?window.RG_CONST.INVALIDFORMATMESSAGE:"잘못된 입력 유형입니다.",e._showInvalidFormatMessage=!0,e._deleteRowsConfirm=!0,e._confirmWhenDelete=!0,e._editWhenClickFocused=!1,e._commitLevel=H.ValidationLevel.IGNORE,e._useTabKey=!0,e._useArrowKeys=!0,e._skipReadOnly=!1,e._skipReadOnlyCell=!1,e._verticalMovingStep=et.VerticalMovingStep.ROW,e._enterToTab=!1,e._enterToNextRow=!1,e._enterToEdit=!1,e._maxLengthToNextCell=!1,e._forceInsert=!1,e._forceAppend=!1,e._checkDiff=!1,e._checkCellDiff=!1,e._strictDiff=!1,e._deletableWhenEdit=!0,e._showCommitError=!0,e._firstCellWhenInsert=!1,e._appendWhenInsertKey=!1,e._appendWhenExitLast=!1,e._showOnlyValidationMessage=!0,e._displayEmptyEditRow=!1,e._checkWhenSpace=!1,e._buttonClickWhenSpace=!1,e._exitGridWhenTab=!1,e._innerDraggable=!1,e._cancelWhenLastUndo=!1,e}e.EditOptions=n;var a,l=(a=q.ExpressionRuntime,i(u,a),u.prototype._doDispose=function(){this._cell=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"value",{set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cell",{set:function(t){this._cell=t},enumerable:!0,configurable:!0}),u.prototype.isIdentifier=function(t){return t=t.toLowerCase(),u.IDENTS.hasOwnProperty(t)?u.IDENTS[t]:a.prototype.isIdentifier.call(this,t)},u.prototype.evaluateIdentifier=function(t){switch(t){case u.ID_VALUE:return this._value;case u.ID_ROW:return this._cell.itemIndex+1;case u.ID_COLUMN_HEADER:var e=this._cell&&this._cell.column;return e&&e.header&&e.header.text?e.header.text:e.displayText}throw new q.ExpressionEvaluationError("Invalid identifier key: "+t)},u.IDENTS={value:u.ID_VALUE=0,row:u.ID_ROW=1,dcount:u.ID_COLUMN_HEADER=2},u);function u(){return a.call(this)||this}e.EditorTitleExpressionRuntime=l;var h,c=(h=Ht.GridBaseOptions,i(p,h),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"yearDisplayFormat",{get:function(){return this._yearDisplayFormat},set:function(t){t!=this._yearDisplayFormat&&(this._yearDisplayFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"monthDisplayFormat",{get:function(){return this._monthDisplayFormat},set:function(t){t!=this._monthDisplayFormat&&(this._monthDisplayFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"months",{get:function(){return this._months},set:function(t){t!=this._months&&(this._months=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"weekDays",{get:function(){return this._weekDays},set:function(t){t!=this._weekDays&&(this._weekDays=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"viewGridInside",{get:function(){return this._viewGridInside},set:function(t){t!=this._viewGridInside&&(this._viewGridInside=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"titleStatement",{get:function(){return this._titleStatement},set:function(t){t!=this._titleStatement&&((this._titleStatement=t)?this._titleExprStatement?this._titleExprStatement.source=t:this._titleExprStatement=new K.ExpressionStatement(t):this._titleExprStatement=null,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"holidays",{get:function(){return this._holidays},set:function(t){t!=this._holidays&&((this._holidays=t)?(this._holidayCollection=this._holidayCollection||new ve.HolidayCollection,this._holidayCollection.load(t)):this._holidayCollection&&this._holidayCollection.clear(),this._changed())},enumerable:!0,configurable:!0}),p);function p(t){var e=h.call(this,t)||this;return e._yearDisplayFormat=window.RG_CONST&&window.RG_CONST.YEARDISPLAYFORMAT?window.RG_CONST.YEARDISPLAYFORMAT:"{Y}년",e._monthDisplayFormat=window.RG_CONST&&window.RG_CONST.MONTHDISPLAYFORMAT?window.RG_CONST.MONTHDISPLAYFORMAT:"{M}월",e._months=null,e._weekDays=null,e._viewGridInside=!1,e._holidays=null,e._titleExprRuntime=new l,e}e.EditorOptions=c;var d,_=(d=Ht.GridBaseOptions,i(f,d),f.prototype._doDispose=function(){d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"singleMode",{get:function(){return this._singleMode},set:function(t){t!=this._singleMode&&(this._singleMode=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"copyDisplayText",{get:function(){return this._copyDisplayText},set:function(t){this._copyDisplayText=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"includeHeaderText",{get:function(){return this._includeHeaderText},set:function(t){this._includeHeaderText=t},enumerable:!0,configurable:!0}),f);function f(t){var e=d.call(this,t)||this;return e._enabled=!0,e._singleMode=!1,e._copyDisplayText=!1,e._includeHeaderText=!1,e}e.CopyOptions=_;var y,m=(y=Ht.GridBaseOptions,i(g,y),g.prototype._doDispose=function(){y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"singleMode",{get:function(){return this._singleMode},set:function(t){t!=this._singleMode&&(this._singleMode=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"startEdit",{get:function(){return this._startEdit},set:function(t){t!=this._startEdit&&(this._startEdit=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"commitEdit",{get:function(){return this._commitEdit},set:function(t){t!=this._commitEdit&&(this._commitEdit=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"enableAppend",{get:function(){return this._enableAppend},set:function(t){t!=this._enableAppend&&(this._enableAppend=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"fillFieldDefaults",{get:function(){return this._fillFieldDefaults},set:function(t){t!=this._fillFieldDefaults&&(this._fillFieldDefaults=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"fillColumnDefaults",{get:function(){return this._fillColumnDefaults},set:function(t){t!=this._fillColumnDefaults&&(this._fillColumnDefaults=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"forceRowValidation",{get:function(){return this._forceRowValidation},set:function(t){t!=this._forceRowValidation&&(this._forceRowValidation=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"forceColumnValidation",{get:function(){return this._forceColumnValidation},set:function(t){t!=this._forceColumnValidation&&(this._forceColumnValidation=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"datetimeFormats",{get:function(){return this._datetimeFormats},set:function(t){if(t!==this._datetimeFormats)if(this._datetimeFormats=t&&t.concat(),t){this._dateReaders=[];for(var e=0;e<this._datetimeFormats.length;e++)this._dateReaders.push(new x.DateTimeReader(this._datetimeFormats[e]))}else this._dateReaders=null},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"dateReaders",{get:function(){return this._dateReaders},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"booleanFormat",{get:function(){return this._booleanFormat},set:function(t){t!=this._booleanFormat&&(this._booleanFormat=t,this._boolReader=t&&new R.BooleanConverter(t))},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"boolReader",{get:function(){return this._boolReader},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"numberChars",{get:function(){return this._numberChars},set:function(t){if(t!==this._numberChars)if((this._numberChars=t)&&0<t.length){for(var e="[",i=0;i<t.length;i++){var o=t[i];e+="\\"==o?"\\"+o:o}e+="]",this._numberCharExp=new RegExp(e,"g")}else this._numberCharExp=null},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"numberSeparator",{get:function(){return this._numberSeparator},set:function(t){t!=this._numberSeparator&&(this._numberSeparator=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"numberCharsOfCols",{get:function(){return this._numberCharsOfCols},set:function(t){if(t!==this._numberCharsOfCols&&(this._numberCharsOfCols=t,this._numberCharExpOfCols={},t))for(var e in t){var i=t[e];if(i instanceof Array&&0<i.length){for(var o="[",r=0,n=i.length;r<n;r++){var s=i[r];o+="\\"==s?"\\"+s:s}o+="]",this._numberCharExpOfCols[e]=new RegExp(o,"g")}else this._numberCharExpOfCols[e]=null}},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"numberCharExp",{get:function(){return this._numberCharExp},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"numberSeparatorOfCols",{get:function(){return this._numberSeparatorOfCols},set:function(t){t!==this._numberSeparatorOfCols&&(this._numberSeparatorOfCols=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"selectionBase",{get:function(){return this._selectionBase},set:function(t){t!=this._selectionBase&&(this._singleMode=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"selectBlockPaste",{get:function(){return this._selectBlockPaste},set:function(t){t!=this._selectBlockPaste&&(this._selectBlockPaste=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"stopOnError",{get:function(){return this._stopOnError},set:function(t){t!=this._stopOnError&&(this._stopOnError=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"noEditEvent",{get:function(){return this._noEditEvent},set:function(t){t!=this._noEditEvent&&(this._noEditEvent=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"noDataEvent",{get:function(){return this._noDataEvent},set:function(t){t!=this._noDataEvent&&(this._noDataEvent=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"eventEachRow",{get:function(){return this._eventEachRow},set:function(t){t!=this._eventEachRow&&(this._eventEachRow=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"checkReadOnly",{get:function(){return this._checkReadOnly},set:function(t){t!=this._checkReadOnly&&(this._checkReadOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"checkDomainOnly",{get:function(){return this._checkDomainOnly},set:function(t){t!=this._checkDomainOnly&&(this._checkDomainOnly=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"convertLookupLabel",{get:function(){return this._convertLookupLabel},set:function(t){t!=this._convertLookupLabel&&(this._convertLookupLabel=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"applyNumberFormat",{get:function(){return this._applyNumberFormat},set:function(t){t!=this._applyNumberFormat&&(this._applyNumberFormat=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"applyEditMask",{get:function(){return this._applyEditMask},set:function(t){t!=this._applyEditMask&&(this._applyEditMask=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"applyMaxLength",{get:function(){return this._applyMaxLength},set:function(t){t!=this._applyMaxLength&&(this._applyMaxLength=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"throwValidationError",{get:function(){return this._throwValidationError},set:function(t){t!=this._throwValidationError&&(this._throwValidationError=t,this._changed())},enumerable:!0,configurable:!0}),g.prototype.numberCharExpOfCol=function(t){return t&&this._numberCharExpOfCols&&this._numberCharExpOfCols[t]?this._numberCharExpOfCols[t]:this._numberCharExp},g.prototype.numberSeparatorOfCol=function(t){return t&&this._numberSeparatorOfCols&&this._numberSeparatorOfCols[t]?this._numberSeparatorOfCols[t]:this._numberSeparator},g);function g(t){var e=y.call(this,t)||this;return e._enabled=!0,e._singleMode=!1,e._startEdit=!0,e._commitEdit=!0,e._enableAppend=!0,e._fillFieldDefaults=!1,e._fillColumnDefaults=!1,e._forceRowValidation=!1,e._forceColumnValidation=!1,e._datetimeFormats=null,e._booleanFormat=null,e._numberChars=null,e._numberSeparator=null,e._numberCharsOfCols={},e._numberSeparatorOfCols={},e._selectionBase=!1,e._selectBlockPaste=!1,e._stopOnError=!0,e._noEditEvent=!1,e._noDataEvent=!1,e._eventEachRow=!1,e._checkReadOnly=!1,e._checkDomainOnly=!1,e._convertLookupLabel=!1,e._applyNumberFormat=!1,e._applyEditMask=!1,e._applyMaxLength=!1,e._throwValidationError=!0,e}e.PasteOptions=m;var v,b=(v=Ht.GridBaseOptions,i(C,v),C.prototype._doDispose=function(){v.prototype._doDispose.call(this)},Object.defineProperty(C.prototype,"longTapDuration",{get:function(){return this._longTapDuration},set:function(t){t!=this._longTapDuration&&(this._longTapDuration=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"doubleTapInterval",{get:function(){return this._doubleTapInterval},set:function(t){t!=this._doubleTapInterval&&(this._doubleTapInterval=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"tapThreshold",{get:function(){return this._tapThreshold},set:function(t){t!=this._tapThreshold&&(this._tapThreshold=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"showEditCommander",{get:function(){return this._showEditCommander},set:function(t){t!=this._showEditCommander&&(this._showEditCommander=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"showTooltip",{get:function(){return this._showTooltip},set:function(t){t!=this._showTooltip&&(this._showTooltip=t,this._changed())},enumerable:!0,configurable:!0}),C);function C(t){var e=v.call(this,t)||this;return e._longTapDuration=500,e._doubleTapInterval=300,e._tapThreshold=4,e._showEditCommander=!0,e._showTooltip=!1,e}e.MobileOptions=b});t(be);be.EditOptions,be.EditorTitleExpressionRuntime,be.EditorOptions,be.CopyOptions,be.PasteOptions,be.MobileOptions;var Ce=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Qt.DataCellElement,i(s,r),Object.defineProperty(s.prototype,"mergeRoom",{get:function(){return this._mergeRoom},enumerable:!0,configurable:!0}),s.prototype.$_setMergeRoom=function(t){this._mergeRoom=t},s);function s(){var t=r.call(this,"mergedDataCellView")||this;return t._topIndex=-1,t._bottomIndex=-1,t}e.MergedDataCellElement=n;var a,l=(a=zt.VisualObjectElement,i(u,a),u.prototype._doDispose=function(){this._roomMap=null,this._scopeViews=null,this._tailIndex&&this._tailIndex.dispose(),this._tailIndex=null,this._headIndex&&this._headIndex.dispose(),this._headIndex=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"bodyView",{get:function(){return this._bodyView},enumerable:!0,configurable:!0}),u.prototype.clearRooms=function(){this._roomMap={};for(var t=this._cellLayer.childCount-1;0<=t;t--){var e=this._cellLayer.getChild(t),i=e.mergeRoom,o=this.$_getViews(i.scope);e.visible=!1,o.indexOf(e)<0&&o.push(e)}},u.prototype.addColumnRooms=function(t,e,i,o){for(var r=t.fixedItemCount,n=t.topIndex,s=this.$_getViews(i),a=o.getRooms(),l=a.length-1;0<=l;l--){var u=a[l],h=void 0;0<s.length?h=s.pop():(h=this._createCellElement(u),this._cellLayer.addChild(h)),h.visible=!0,h.$_setMergeRoom(u),this._roomMap[u.$_hash]=h;var c=Math.max(0,u.head-n-r),p=u.tail-n-r;o.addCells(c,p-c+1)}},u.prototype._doAttached=function(t){a.prototype._doAttached.call(this,t);var e=this.grid;this._headIndex=new et.CellIndex(e),this._tailIndex=new et.CellIndex(e)},u.prototype._doLayoutContent=function(t){this._headerViews,this._footerViews,this._fixedFooterViews,this._rightFooterViews,t.$_getItems().length,t.fixedItemCount,this.width},u.prototype.$_getViews=function(t){var e=this._scopeViews[t.$_hash];return e||(e=[],this._scopeViews[t.$_hash]=e),e},u.prototype._createCellElement=function(t){var e=null;if(null!=t){var i=t.column;i instanceof ut.SeriesColumn||i instanceof ut.DataColumn&&(e=new n)}return e},u);function u(t){var e=a.call(this,null,"mergedGoupLayer")||this;return e._roomMap={},e._scopeViews={},e._bodyView=t,e._cellLayer=new Ot.LayerElement("mergedCellLayer"),e.addChild(e._cellLayer),e}e.ColumnMergeElement=l});t(Ce);Ce.MergedDataCellElement,Ce.ColumnMergeElement;var we=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ae.EditRequest,i(s,r),s.prototype._doDispose=function(){this._grid=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this)||this;return e._grid=t,e}e.GridEditRequest=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){this._index.dispose(),this._index=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),u);function u(t){var e=a.call(this,t.grid)||this;return e._index=t,e}e.CellRequest=l;var h,c=(i(p,h=l),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"style",{get:function(){return this._style},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"manager",{get:function(){return this.grid.selections},enumerable:!0,configurable:!0}),p);function p(t,e){var i=h.call(this,t)||this;return i._style=e,i}e.SelectRequest=c;var d,_=(i(f,d=n),f.prototype._doDispose=function(){this._layout=null,d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),f.prototype.init=function(t,e,i,o){return this._layout=t,this._x=e,this._y=i,this._offset=o,this},Object.defineProperty(f.prototype,"cursor",{get:function(){return H.Cursor.COL_RESIZE},enumerable:!0,configurable:!0}),f);function f(t){return d.call(this,t)||this}e.ColumnResizeRequest=_;var y,m=(i(g,y=n),g.prototype._doDispose=function(){this._layout=null,y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),g.prototype.init=function(t,e,i,o){return this._layout=t instanceof A.ProxyCellLayoutItem?t.source:t,this._x=e,this._y=i,this._offset=o,this},Object.defineProperty(g.prototype,"cursor",{get:function(){return H.Cursor.DEFAULT},enumerable:!0,configurable:!0}),g);function g(t){return y.call(this,t)||this}e.ColumnMoveRequest=m;var v,b=(i(C,v=n),C.prototype._doDispose=function(){v.prototype._doDispose.call(this)},Object.defineProperty(C.prototype,"itemIndex",{get:function(){return this._itemIndex},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"variable",{get:function(){return this._variable},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"rowTop",{get:function(){return this._rowTop},enumerable:!0,configurable:!0}),Object.defineProperty(C.prototype,"offset",{get:function(){return this._offset},enumerable:!0,configurable:!0}),C.prototype.init=function(t,e,i,o){return this._itemIndex=t,this._variable=e,this._rowTop=i,this._offset=o,this},Object.defineProperty(C.prototype,"cursor",{get:function(){return H.Cursor.ROW_RESIZE},enumerable:!0,configurable:!0}),C);function C(t){var e=v.call(this,t)||this;return e._itemIndex=-1,e._variable=!1,e._rowTop=0,e._offset=0,e}e.RowResizeRequest=b});t(we);we.GridEditRequest,we.CellRequest,we.SelectRequest,we.ColumnResizeRequest,we.ColumnMoveRequest,we.RowResizeRequest;var xe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=se.DragTracker,i(s,r),s.prototype._doDispose=function(){this._grid=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"startWhenCreated",{get:function(){return!1},enumerable:!0,configurable:!0}),s);function s(t,e){var i=r.call(this,t.container,e)||this;return i._grid=t,i}e.GridDragTracker=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){this._request=null,this._feedback=null,a.prototype._doDispose.call(this)},u.prototype._doStart=function(t,e,i,o){var r=this.grid.layoutManager,n=r.contentBounds.y,s=r.contentBounds.bottom;return this._feedback.resize(2,s-n),this._feedback.move(e-this._offset,n),this.grid.addFeedbackElement(this._feedback),!0},u.prototype._doDrag=function(t,e,i){var o=this._request.layout,r=this.grid.displayOptions.minColumnWidth;return o.cellWidth,(e-=this._offset)>=this._layoutX+r&&e<this._layoutX+1e6&&(this._feedback.x=e,!0)},u.prototype._doEnded=function(){var t=this._feedback.x-this._layoutX;this.grid.removeFeedbackElement(this._feedback),this._request.layout.changeCellWidth(t,this.grid.layoutManager.isColumnFitted),this.grid.container.setCursor(H.Cursor.DEFAULT)},u);function u(t,e){var i=a.call(this,t.layout.grid,"columnResizeTracker")||this;i._request=t,i._feedback=e;var o=t.layout;return i._layoutX=t.x+t.offset-o.cellWidth,i._offset=t.offset,i}e.ColumnResizeTracker=l;var h,c=(i(p,h=n),p.prototype._doDispose=function(){this._request=null,this._cellFeedback=null,this._feedback=null,h.prototype._doDispose.call(this)},p.prototype._doStart=function(t,e,i,o){var r=this.grid,n=r.layoutManager,s=this._layout.parent,a=n.getHeaderCellRect(this._layout);return s.horizontal?(this._offset=e-a.x,this._feedback.setBounds(a.x,a.y,7,a.height)):(this._offset=i-a.y,this._feedback.setBounds(a.x,a.y,a.width,7)),this._feedback.visible=!1,this._cellFeedback.setBounds(a.x,a.y,a.width,a.height),this._cellFeedback.model=r.header.getCell(this._layout),this._cellFeedback.dragging=!1,r.addFeedbackElement(this._cellFeedback),r.addFeedbackElement(this._feedback),!0},p.prototype._doDrag=function(t,e,i){var o=this.grid,r=this._layout.parent,n=this.grid.layoutManager;if(i<n.contentBounds.y&&o.canGrouping())return!1;if(e<n.gridBounds.x||e>n.clientRect.right)this.$_startTimer();else{this.$_stopTimer();var s=n.getHeaderCellAt(e,i);s.isRoot||(s=s.root),s&&s.isRoot&&!o.canMoveToIndex(s.vindex)&&(s=null),this.$_setTarget(s),this._cellFeedback.dragging=!0,r.horizontal?this._cellFeedback.x=e-this._offset:this._cellFeedback.y=i+this._offset}return!0},p.prototype._doCanceled=function(){this.$_stopTimer()},p.prototype._doCompleted=function(){this.$_stopTimer(),this._target&&(this._layout.vindex=this._target.vindex)},p.prototype._doEnded=function(){this.$_stopTimer(),this.grid.removeFeedbackElement(this._feedback),this.grid.removeFeedbackElement(this._cellFeedback)},p.prototype.getNextRequest=function(t,e){return this.grid.activeTool.getNextRequest(this._request,this._cellFeedback,t,e)},p.prototype.$_startTimer=function(){this._timer||(this._colLoop=this._colPrevLoop=0,this._timer=setInterval(this.$_timerHandler.bind(this),60))},p.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null)},p.prototype.$_timerHandler=function(){var t=this._grid,e=this.currentX,i=t.layoutManager,o=0;e>i.clientRect.right?(o=Math.max(0,Math.min(3,(e-i.clientRect.right)/40)),this._interval=4-o,this._colLoop++):e<i.gridBounds.x&&(o=Math.max(0,Math.min(3,(i.gridBounds.x-e)/40)),this._interval=4-o,this._colLoop++),0<o&&(this._interval=4-o),this._colLoop-this._colPrevLoop>=2*this._interval&&(this._colPrevLoop=this._colLoop,e>i.clientRect.right?t.leftCell+=1:e<i.gridBounds.left&&0<t.leftPos&&(t.leftCell-=1)),this.$_setTarget(null)},p.prototype.$_setTarget=function(t){var e=this._request.layout,i=e.parent,o=this._feedback,r=o._dom.style,n=this.grid.layoutManager,s=(this.currentX,this.currentY);if(null!=(this._target=t)&&t.parent===i&&t!==e){var a=n.getHeaderCellRect(t,!0),l=e.hcol;o.visible=!0,i.horizontal?(r.height=a.height+"px",t.hcol<l?(r.borderRight="none",r.borderLeft="",o.x=a.x):t.hcol>l&&(r.borderLeft="none",r.borderRight="",o.x=a.right-o.width),this.grid.makeLayoutVisible(t)):(r.width=a.width+"px",o.y=s+this._offset)}else o.visible=!1},p);function p(t,e,i){var o=h.call(this,t.layout.grid,"columnMoveTracker")||this;return o._timer=null,o._colLoop=0,o._colPrevLoop=0,o._interval=0,o._request=t,o._layout=t.layout,o._cellFeedback=e,o._feedback=i,o}e.ColumnMoveTracker=c;var d,_=(i(f,d=n),f.prototype._doDispose=function(){this._request=null,this._feedback=null,d.prototype._doDispose.call(this)},f.prototype._doStart=function(t,e,i,o){var r=this.grid.layoutManager,n=r.leftContentBounds.x,s=r.rightContentBounds.right;return this._feedback.resize(s-n,2),this._feedback.move(n,i-this._request.offset),this.grid.addFeedbackElement(this._feedback),!0},f.prototype._doDrag=function(t,e,i){return i-this._request.offset-this._request.rowTop>=this.grid.displayOptions.minRowHeight&&(this._feedback.y=i-this._request.offset,!0)},f.prototype._doCompleted=function(t,e,i){var o=Math.max(this.grid.displayOptions.minRowHeight,i-this._request.offset-this._request.rowTop);this._request.variable?this.grid.setRowHeight(this._request.itemIndex,o):this.grid.displayOptions.rowHeight=o},f.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback)},f);function f(t,e){var i=d.call(this,t.grid,"columnResizeTracker")||this;return i._request=t,i._feedback=e,i}e.RowResizeTracker=_});t(xe);xe.GridDragTracker,xe.ColumnResizeTracker,xe.ColumnMoveTracker,xe.RowResizeTracker;var Ie=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=xe.GridDragTracker,i(s,n),s.prototype._doDispose=function(){this._request.dispose(),this._request=null,n.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"startWhenCreated",{get:function(){return!0},enumerable:!0,configurable:!0}),s.prototype._doEnded=function(){this._getItem()},s);function s(t,e,i,o){var r=n.call(this,t.index.grid,e)||this;return r._request=t,r._currX=i,r._currY=o,r}e.SelectTracker=r;var a,l=(i(u,a=r),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},u.prototype._getItem=function(){return this._item},u.prototype._doStart=function(t,e,i,o){var r=this.grid,n=r.selections,s=r.layoutManager,a=this._request.index;return s.isMergedCell(a)&&(a=r.pointToIndex(t,e,i,!0)),n.itemStyle=Rt.SelectionStyle.BLOCK,o?this._item=0<n.count&&n.getItem(0):(n.clear(),this._item=n.add(a,a,Rt.SelectionStyle.BLOCK)),Boolean(this._item)},u.prototype._doDrag=function(t,e,i){if(this._item){var o=this.grid.layoutManager;if(this._currX=e,(this._currY=i)>o.footerBounds.y||i<o.gridBounds.y||e<o.gridBounds.x||e>o.clientRect.right)this.$_startTimer();else{this.$_stopTimer();var r=this.grid.pointToIndex(t,e,i,!0);r.column&&0<=r.itemIndex&&this._item.resizeTo(r)}return!0}return!1},u.prototype._doEnded=function(){this.$_stopTimer(),a.prototype._doEnded.call(this)},u.prototype.$_startTimer=function(){this._timer||(this._rowLoop=this._rowPrevLoop=this._colLoop=this._colPrevLoop=0,this._timer=setInterval(this.$_timerHandler.bind(this),30),this._grid.selections.lock())},u.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null,this._grid.selections.unlock())},u.prototype.$_timerHandler=function(){var t=this._grid,e=this._currX,i=this._currY,o=t.layoutManager,r=0,n=0;i>o.footerBounds.y?(n=Math.max(0,Math.min(3,(i-o.footerBounds.y)/40)),this._interval=4-n,this._rowLoop++):i<o.gridBounds.y&&(n=Math.max(0,Math.min(3,(o.gridBounds.y-i)/40)),this._interval=4-n,this._rowLoop++),e>o.clientRect.right?(r=Math.max(0,Math.min(3,(e-o.clientRect.right)/40)),this._interval=4-r,this._colLoop++):e<o.gridBounds.x&&(r=Math.max(0,Math.min(3,(o.gridBounds.x-e)/40)),this._interval=4-r,this._colLoop++);var s=!1;if(0<Math.max(r,n)&&(this._interval=4-Math.max(r,n)),this._rowLoop-this._rowPrevLoop>=this._interval&&(this._rowPrevLoop=this._rowLoop,i>o.footerBounds.y?t.topItem+o.fullItemCount<t.itemCount&&(t.topIndex=t.topIndex+1,s=!0):i<o.gridBounds.y&&t.topItem>o.fixedItemCount&&(t.topIndex=t.topIndex-1,s=!0)),s||this._colLoop-this._colPrevLoop>=2*this._interval&&(this._colPrevLoop=this._colLoop,e>o.clientRect.right?(t.leftLayout=t.leftLayout+1,s=!0):e<o.gridBounds.left&&0<t.leftPos&&(t.leftLayout=t.leftLayout-1,s=!0)),s){var a=t.pointToIndex(null,e,i,!1);a.column&&(a.itemIndex=Math.min(Math.max(0,a.itemIndex,t.topIndex),t.itemCount-1),this._item.resizeTo(a))}},u);function u(t,e,i){var o=a.call(this,t,"blockSelectTracker",e,i)||this;return o._timer=null,o._rowPrevLoop=0,o._rowLoop=0,o._colPrevLoop=0,o._colLoop=0,o._interval=0,o}e.BlockSelectTracker=l;var h,c=(i(p,h=r),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},p.prototype._getItem=function(){return this._item},p.prototype._doStart=function(t,e,i,o){var r=this.grid,n=r.selections,s=r.layoutManager,a=this._request.index;return s.isMergedCell(a)&&(a=r.pointToIndex(t,e,i,!0)),n.itemStyle=Rt.SelectionStyle.ROWS,o?this._item=0<n.count&&n.getItem(0):(n.clear(),this._item=n.add(a,a,Rt.SelectionStyle.ROWS)),Boolean(this._item)},p.prototype._doDrag=function(t,e,i){if(this._item){var o=this.grid.layoutManager;if(this._currX=e,(this._currY=i)>o.footerBounds.y||i<o.gridBounds.y||e<0||e>o.clientRect.right)this.$_startTimer();else{this.$_stopTimer();var r=this.grid.pointToIndex(t,e,i,!1);0<=r.itemIndex&&this._item.resizeTo(r)}return!0}return!1},p.prototype._doEnded=function(){this.$_stopTimer(),h.prototype._doEnded.call(this)},p.prototype.$_startTimer=function(){this._timer||(this._loop=this._prevLoop=this._colLoop=this._colPrevLoop=0,this._interval=1,this._timer=setInterval(this.$_timerHandler.bind(this),30),this._grid.selections.lock())},p.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null,this._grid.selections.unlock())},p.prototype.$_timerHandler=function(){var t,e,i=this._grid,o=this._currX,r=this._currY,n=i.layoutManager;r>n.footerBounds.y?(t=Math.max(0,Math.min(3,(r-n.footerBounds.y)/40)),this._interval=4-t,this._loop++):r<n.gridBounds.y&&(t=Math.max(0,Math.min(3,(n.gridBounds.y-r)/40)),this._interval=4-t,this._loop++),this._loop-this._prevLoop>=this._interval?(this._prevLoop=this._loop,r>n.footerBounds.y?i.topIndex=i.topIndex+1:r<n.gridBounds.y&&(i.topIndex=i.topIndex-1),(e=i.pointToIndex(null,this._currX,this._currY,!1)).itemIndex=Math.min(Math.max(0,e.itemIndex,i.topIndex),i.itemCount-1),this._item.resizeTo(e)):(o>n.clientRect.right?(t=Math.max(0,Math.min(3,(o-n.clientRect.right)/40)),this._interval=4-t,this._colLoop++):o<0&&(t=Math.max(0,Math.min(3,(n.gridBounds.x-o)/40)),this._interval=4-t,this._colLoop++),this._colLoop-this._colPrevLoop>=2*this._interval&&(this._colPrevLoop=this._colLoop,o>n.clientRect.right?i.leftLayout=i.leftLayout+1:o<n.gridBounds.x&&0<i.leftPos&&(i.leftLayout=i.leftLayout-1),0<=(e=i.pointToIndex(null,this._currX,this._currY,!1)).itemIndex&&(e.itemIndex=Math.min(Math.max(0,e.itemIndex,i.topIndex),i.itemCount-1),this._item.resizeTo(e))))},p);function p(t,e,i){var o=h.call(this,t,"rowsSelectTracker",e,i)||this;return o._timer=null,o._prevLoop=0,o._loop=0,o._colPrevLoop=0,o._colLoop=0,o._interval=0,o}e.RowsSelectTracker=c;var d,_=(i(f,d=r),f.prototype._doDispose=function(){d.prototype._doDispose.call(this)},f.prototype._getItem=function(){return this._item},f.prototype._doStart=function(t,e,i,o){var r=this.grid,n=r.selections,s=r.layoutManager,a=this._request.index;return s.isMergedCell(a)&&(a=r.pointToIndex(t,e,i,!0)),n.itemStyle=Rt.SelectionStyle.ROWS,o?this._item=0<n.count&&n.getItem(0):(n.clear(),this._item=n.add(a,a,Rt.SelectionStyle.COLUMNS)),Boolean(this._item)},f.prototype._doDrag=function(t,e,i){if(this._item){var o=this.grid.layoutManager;if(this._currX=e,this._currY=i,e<o.gridBounds.x||e>o.clientRect.right||i>o.footerBounds.y||i<0)this.$_startTimer();else{this.$_stopTimer();var r=this.grid.pointToIndex(t,e,i,!1);null!=r.column&&this._item.resizeTo(r)}return!0}return!1},f.prototype._doEnded=function(){this.$_stopTimer(),d.prototype._doEnded.call(this)},f.prototype.$_startTimer=function(){this._timer||(this._loop=this._prevLoop=this._rowLoop=this._rowPrevLoop=0,this._interval=1,this._timer=setInterval(this.$_timerHandler.bind(this),30),this._grid.selections.lock())},f.prototype.$_stopTimer=function(){this._timer&&(clearInterval(this._timer),this._timer=null,this._grid.selections.unlock())},f.prototype.$_timerHandler=function(){var t,e,i=this._grid,o=this._currX,r=this._currY,n=i.layoutManager;o>n.clientRect.right?(t=Math.max(0,Math.min(3,(o-n.clientRect.right)/40)),this._interval=4-t,this._loop++):o<n.gridBounds.x&&(t=Math.max(0,Math.min(3,(n.gridBounds.x-o)/40)),this._interval=4-t,this._loop++),this._loop-this._prevLoop>=2*this._interval?(this._prevLoop=this._loop,o>n.clientRect.right?i.leftLayout=i.leftLayout+1:o<n.gridBounds.x&&0<i.leftPos&&(i.leftLayout=i.leftLayout-1),(e=i.pointToIndex(null,this._currX,this._currY,!1)).column&&this._item.resizeTo(e)):(r>n.footerBounds.y?(t=Math.max(0,Math.min(3,(r-n.footerBounds.y)/40)),this._interval=4-t,this._rowLoop++):r<0&&(t=Math.max(0,Math.min(3,(n.gridBounds.y-r)/40)),this._interval=4-t,this._rowLoop++),this._rowLoop-this._rowPrevLoop>=this._interval&&(this._rowPrevLoop=this._rowLoop,r>n.footerBounds.y?i.topIndex=i.topIndex+1:r<n.gridBounds.y&&(i.topIndex=i.topIndex-1),(e=i.pointToIndex(null,this._currX,this._currY,!1)).column&&this._item.resizeTo(e)))},f);function f(t,e,i){var o=d.call(this,t,"columnsSelectTracker",e,i)||this;return o._timer=null,o._prevLoop=0,o._loop=0,o._rowPrevLoop=0,o._rowLoop=0,o._interval=0,o}e.ColumnsSelectTracker=_});t(Ie);Ie.SelectTracker,Ie.BlockSelectTracker,Ie.RowsSelectTracker,Ie.ColumnsSelectTracker;var Ee=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"message",{get:function(){return this._message},set:function(t){this._message=t},enumerable:!0,configurable:!0}),s.prototype.assignFrom=function(t){"string"==typeof t?(this._message=t,this._message&&(this._visible=!0)):"boolean"==typeof t?this._visible=t:t&&r.prototype.assignFrom.call(this,t)},s);function s(t){var e=r.call(this)||this;return e._visible=!0,t&&e.assignFrom(t),e}e.TooltipOptions=n;var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"minWidth",{get:function(){return this._minWidth},set:function(t){this._minWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"dropDownCount",{get:function(){return this._dropDownCount},set:function(t){this._dropDownCount=t},enumerable:!0,configurable:!0}),u.prototype.show=function(t,e,i,o){this._showing=!0;try{this.$_show(t,e,i,o)}finally{this._showing=!1}},u.prototype.hide=function(){var t=this._element;t&&t.parentNode&&this._container._container.removeChild(t)},u.prototype.$_createElement=function(){var t=document.createElement("div");return t.onkeydown=function(t){27==t.keyCode&&this.hide()}.bind(this),U.Utils.isMobile()&&t.addEventListener("touchend",this.$_touchendHandler.bind(this),!1),this.$_disableSelection(t),this._span=document.createElement("span"),t.appendChild(this._span),this.$_disableSelection(this._span),t},u.prototype.$_touchendHandler=function(t){t.preventDefault(),this.hide()},u.prototype.$_disableSelection=function(t){void 0!==t.onselectstart?t.onselectstart=function(){return!1}:void 0!==t.style.MozUserSelect?t.style.MozUserSelect="none":t.onmousedown=function(){return!1}},u.prototype.$_show=function(t,e,i,o){var r=this._element,n=t.message;if(r&&n){this._span.innerHTML=n.replace(/\n/g,"<br>"),U.Utils.setClassName(r,"rg-tooltip");var s=r.style;s.position="absolute",s.left=e+"px",s.top=i+"px",s.overflow="hidden",s.zIndex="3000",this._container._container.appendChild(r);var a=r.getBoundingClientRect(),l=this._container._container.getBoundingClientRect();s.left=a.right>l.right?Math.max(l.right-a.width-l.left-2,0)+"px":r.style.left,a.bottom>l.bottom&&(r.style.top=o?Math.max(0,i-(a.bottom-l.bottom))+"px":Math.max(i-a.height-l.bottom,0)+"px"),s.visibility="visible"}},u);function u(t){var e=a.call(this)||this;return e._minWidth=0,e._maxWidth=0,e._dropDownCount=8,e._showing=!1,e._container=t,e._element=e.$_createElement(),e}e.ToolTipView=l;var h,c=(h=ue.Base,i(p,h),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"visible",{get:function(){return this._active},enumerable:!0,configurable:!0}),p.prototype.show=function(t,e,i,o){if(!this._active&&(this.close(),(t=t instanceof n?t:t?new n(t):null)&&t.visible)){this._tipView||(this._tipView=new l(this._container)),this._tipView.show(t,e,i,o);var r=this._container.gridView;return r&&this._pos.set(r.mouseX,r.mouseY),this._active=!0}return!1},p.prototype.close=function(t,e){if(this._active&&void 0!==t){var i=this._pos;if(Math.abs(i.x-t)<4&&Math.abs(i.y-e)<4)return!1}return this._timer&&clearTimeout(this._timer),!(!this._active||(this._tipView&&this._tipView.hide(),this._active=!1))},p);function p(t){var e=h.call(this)||this;return e._active=!1,e._pos=new St.Point,e._container=t.container,e}e.TooltipManager=c});t(Ee);Ee.TooltipOptions,Ee.ToolTipView,Ee.TooltipManager;var Se=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ot.LayerElement,i(s,r),s.prototype.setEditing=function(t,e,i){t!=this._editing&&(this._editing=t,this._buttonWidth=e,this._isLeftImageButton=i,this.resetClassName())},s.prototype._getCssSelector=function(){return this._inner?"rg-focus-inner":this._editing?"rg-focus-editing":"rg-focus"},s.prototype._initDom=function(t){r.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none"),this.setImportantStyle("background","none")},s);function s(t){var e=r.call(this,"focusView")||this;return e._editing=!1,e._buttonWidth=0,e._isLeftImageButton=!1,e._inner=t,e}e.FocusView=n;var a,l=(a=Ot.LayerElement,i(u,a),u.prototype._doDispose=function(){this._focusView&&this._focusView.dispose(),this._focusView=null,a.prototype._doDispose.call(this)},u.prototype.updateElement=function(t,e,i,o,r){this._focusView.setBounds(t,0,i,o),this._focusView.setEditing(r,0,!1)},u.prototype._initDom=function(t){a.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none"),this.setImportantStyle("background","none"),this.setImportantStyle("border","none"),this.setImportantStyle("overflow","hidden")},u);function u(t){void 0===t&&(t=!1);var e=a.call(this,"focusMask")||this;return e._focusView=new n(t),e.addChild(e._focusView),e}var h,c=(h=Ot.LayerElement,i(p,h),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},p.prototype._getCssSelector=function(){return"rg-rowblock"},p.prototype._initDom=function(t){h.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},p);function p(){var t=h.call(this,"rowBlockView")||this;return t.visible=!1,t}e.RowBlockView=c;var d,_=(d=Ot.LayerElement,i(f,d),f.prototype._getCssSelector=function(){return"_rg-col-resizer_"},f.prototype._initDom=function(t){d.prototype._initDom.call(this,t)},f);function f(){return d.call(this,"headerCellResizer")||this}e.HeaderCellResizer=_;var y,m=(y=Ot.LayerElement,i(g,y),g.prototype._doDispose=function(){this._model=null,y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"model",{set:function(t){this._model=t},enumerable:!0,configurable:!0}),g.prototype._getCssSelector=function(){return"rg-header rg-header-cell _rg-header-cell-feedback_"},g.prototype._initDom=function(t){y.prototype._initDom.call(this,t)},g.prototype._doDraw=function(t){this.dragging||Yt.HeaderElement.renderCell(this._model,t)},g);function g(){var t=y.call(this,"headerCellFeedback")||this;return t.dragging=!1,t}e.HeaderCellFeedback=m;var v,b=(v=Ot.LayerElement,i(C,v),C.prototype._getCssSelector=function(){return"_rg-header-cell-mover_"},C.prototype._initDom=function(t){v.prototype._initDom.call(this,t)},C.prototype._doDraw=function(t){},C);function C(){return v.call(this,"headerCellMover")||this}e.HeaderCellMover=b;var w,x=(w=ae.VisualTool,i(I,w),I.prototype._doDispose=function(){this._skipIndex&&this._skipIndex.dispose(),this._skipIndex=null,this._focusMask=this._focusMask.dispose(),this._innerFocusMask=this._innerFocusMask.dispose(),this._rowFocusView&&this._rowFocusView.dispose(),this._rowFocusView=null,this._rowBlockMask&&this._rowBlockMask.dispose(),this._rowBlockMask=null,this._grid=null,w.prototype._doDispose.call(this)},Object.defineProperty(I.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"focused",{get:function(){return this._grid.focusedIndex},enumerable:!0,configurable:!0}),I.prototype.setFocused=function(t,e){if(this._grid.isValid(t))return this._grid.setFocusedIndex(t,e,!0)},I.prototype.layoutChanged=function(){this.$_resetFocusedView(),this.$_resetRowBlockMask(),this._doLayoutChanged()},I.prototype.resetFocused=function(){this.$_resetFocusedView()},I.prototype.focusedIndexChanging=function(t){},I.prototype.focusedIndexChanged=function(t,e){this.$_resetFocusedView()},I.prototype.currentRowChanged=function(t,e){var i=this.grid,o=i.displayOptions;if(this._rowBlockStart=-1,this._rowBlockEnd=-1,o.rowBlockType!=H.RowMaskType.NONE){var r,n=o.rowBlockCallback;if(n)(r=n(i,e))?(this._rowBlockStart=r.start,this._rowBlockEnd=r.end):this._rowBlockStart=this._rowBlockEnd=-1}this.$_resetRowBlockMask()},I.prototype.getNextRequest=function(t,e,i,o){return null},I.prototype.isMouseEventTarget=function(t){if(t instanceof Jt.CellElement){var e=t.getAncestor(Kt.TableBaseElement);if(e)return e.getContentAt(t.index)==this.mouseEventTarget}return w.prototype.isMouseEventTarget.call(this,t)},I.prototype._doSetFocus=function(t){this.grid.editController.setFocus(!0,t)},I.prototype._doFocusLeave=function(){this.grid.editOptions.commitWhenLeave&&this.grid.itemSource.commit()},I.prototype._findTableCell=function(t){for(var e=t||this.mouseEventTarget;e&&!(e instanceof HTMLTableCellElement);)e=e.parentElement;return e instanceof HTMLTableCellElement&&this.grid.getTableView(e)?e:null},I.prototype._doLayoutChanged=function(){},I.prototype.$_resetFocusedView=function(){var t=this._grid,e=t.layoutManager,i=t.displayOptions,o=t.focusedIndex,r=!1,n=!1,s=!1;if(i.focusVisible&&t.isValid(o)){var a=t.getFocusedCellView(o);if(a){var l=t.getBodyView(a),u=l.getCellAt(e,o),h=l.getCellRectAt(e,o,!0);h=l.boundsByContainer(h);var c=t.isEditing();if(0<h.width&&0<h.height){var p=0,d=h.width;if(!o.colFixed&&!o.rightFixed){var _=e.fixedContentBounds;p=Math.max(0,_.right-h.x),d=Math.max(0,h.width-p),_=e.rightContentBounds,d-=h.right-_.x}if(0<d){c&&(h.y--,h.height+=1),this._focusMask.updateElement(-p,0,h.width,h.height,c),(_=e.footerBounds).y+=e.contentBounds.y;var f=Math.max(0,h.bottom-_.y);h.width=d,h.x+=p,h.height=Math.max(0,h.height-f),this._focusMask.setRect(h),r=!0}if(u.merged&&i.showInnerFocus){s=!0;var y=l.getCellRectAt(e,o,!1);y=l.boundsByContainer(y),this._innerFocusMask.setRect(y.inflate(-4,-4,-4,-4)),this._innerFocusMask.updateElement(0,0,y.width,y.height,c)}}}}var m=i.rowFocusType;if(m!=H.RowMaskType.NONE){var g=e.footerBounds.y,v=e.fixedItemCount,b=o.itemIndex;if(0<=(b=v<=b?b-e.topIndex:b)&&b<=e.itemCount-1){switch((h=e.getItemBounds(b)).y+=e.contentBounds.y+e.bodyBounds.y,h.bottom>g&&(h.bottom=g),m){case H.RowMaskType.DATA:h.x=t.fixedContentPane.x,h.right=t.rightContentPane.width?t.rightContentPane.right:t.contentPane.right;break;case H.RowMaskType.FILL:h.x=0,h.width=t.width;break;case H.RowMaskType.ROW:h.x=0,h.right=t.rightContentPane.width?t.rightContentPane.right:t.contentPane.right}this._rowFocusView.setRect(h),n=!0}else n=!1}this._rowFocusView.visible=n,this._focusMask.visible=r,this._innerFocusMask.visible=s,this._focusMask.visible},I.prototype.$_resetRowBlockMask=function(){var t=this.grid,e=t.layoutManager,i=e.fixedItemCount,o=t.topItem,r=Math.max(this._rowBlockStart-o+i,i),n=Math.min(Math.max(this._rowBlockEnd-o+i),e.itemCount+i-1);if(this._rowBlockMask.visible=0<=r&&0<=n&&r<e.itemCount&&r<=n&&this._rowBlockStart!==this._rowBlockEnd,this._rowBlockMask.visible){var s=e.footerBounds.y,a=e.getItemBounds(r),l=e.getItemBounds(n);switch((a=a.union(l)).y+=e.contentBounds.y+e.bodyBounds.y,a.bottom>s&&(a.bottom=s),t.displayOptions.rowBlockType){case H.RowMaskType.DATA:a.x=t.fixedContentPane.x,a.right=t.rightContentPane.width?t.rightContentPane.right:t.contentPane.right;break;case H.RowMaskType.FILL:a.x=0,a.width=t.width;break;case H.RowMaskType.ROW:a.x=0,a.right=t.rightContentPane.width?t.rightContentPane.right:t.contentPane.right}this._rowBlockMask.setRect(a)}},I.prototype._doCancel=function(t){t.closeFilterSelector(),t.isEditing()?t.cancelEditor(!0):t.itemEditCancel()&&t.cancel()},I.prototype._doEnter=function(e,i,t){var o=e.isEditing();if(o&&!i.enterToTab)e.commitEditor(!0);else{var r=t.clone(),n=i.skipReadOnly,s=i.skipReadOnlyCell;if(e.isValid(r))if(i.enterToNextRow&&r.itemIndex<e.itemCount-1)r.down(),s&&this._checkReadOnly(r)&&(this._skipReadOnlyCell(r,1)||r.assign(t));else if((!o||i.enterToTab)&&i.crossWhenExitLast&&(r.isLast||i.skipReadOnly&&r.isEditableLast())&&r.itemIndex<e.itemCount-1)r.down(),r.home(),n&&this._skipReadOnly(r,1);else if((!o||i.enterToTab)&&i.commitWhenExitLast&&r.isLast){try{e.commit(i.commitWhenNoEdit)}catch(t){throw t instanceof at.ValidationError&&(t=e._fireValidationFail(r.item.index,t.column,t))&&alert(i.showOnlyValidationMessage&&t.userMessage?t.userMessage:t.toString()),t}i.appendWhenExitLast&&(e.append(),e.isItemEditing()&&(r.down(),r.home()))}else i.enterToTab&&(e.isEditing()||this._checkReadOnly(r))?(e.isEditing()&&e.commitEditor(!0),r.next(),n&&!this._skipReadOnly(r,1)&&r.assign(t)):i.enterToEdit||(r.next(),n&&!this._skipReadOnly(r,1)&&r.assign(t));else r.normalize(e);et.CellIndex.areEquals(r,t)?e.isValid(r)&&i.enterToEdit&&!e.isEditing()&&t&&t.dataColumn&&!this._checkReadOnly(t)&&e.showEditor(t):this.setFocused(r,!0)}return!0},I.prototype._doTab=function(e,i,t,o,r,n){var s=t.clone();if(e.isValid(s)){if(i.useTabKey){var a=i.exitGridWhenTab;if(r){if(i.crossWhenExitLast&&(s.isFirst||i.skipReadOnly&&s.isEditableFirst)&&0<s.itemIndex?(s.up(),s.end()):s.prev(),i.skipReadOnly&&!this._skipReadOnly(s,-1)&&s.assign(t),et.CellIndex.areEquals(s,t)&&a){switch(a){case"row":e._exiting=!0;break;case"grid":e._exiting=s.itemIndex<=0}if(e._exiting)return!1}}else{if(i.crossWhenExitLast&&(s.isLast||i.skipReadOnly&&s.isEditableLast())&&s.itemIndex<e.itemCount-1)s.down(null,i.skipReadOnly&&s.isEditableLast&&i.crossWhenExitLast),s.home();else if(i.commitWhenExitLast&&s.isLast){try{e.commit(i.commitWhenNoEdit)}catch(t){throw t instanceof at.ValidationError&&(t=e._fireValidationFail(s.itemIndex,t.column,t))&&alert(i.showOnlyValidationMessage&&t.userMessage?t.userMessage:t.toString()),t}i.appendWhenExitLast&&(e.append(),e.isItemEditing()&&(s.down(),s.home()))}else s.next();if(i.skipReadOnly&&!this._skipReadOnly(s,1)&&s.assign(t),et.CellIndex.areEquals(s,t)&&a){switch(a){case"row":e._exiting=!0;break;case"grid":e._exiting=s.itemIndex>=e.itemCount-1}if(e._exiting)return!1}}return et.CellIndex.areEquals(s,t)||this.setFocused(s,!0),U.Utils.isMobile&&n&&n.preventDefault&&n.preventDefault(),!0}}else s.normalize(e),this._skipReadOnly(s,1);return!(e._exiting=!0)},I.prototype._checkReadOnly=function(t){return this.grid.isValid(t)&&t.dataColumn,!0},I.prototype.checkReadOnly=function(t){return this._checkReadOnly(t)},I.prototype._skipReadOnly=function(t,e){var i=!1;if(this.grid.editOptions.skipReadOnly){var o=this._skipIndex;if(o.assign(t),!(i=!this._checkReadOnly(o)))if(0<e){for(;o.next();)if(!this._checkReadOnly(o)){t.assign(o),i=!0;break}}else for(;o.prev();)if(!this._checkReadOnly(o)){t.assign(o),i=!0;break}}return i},I.prototype.skipReadOnly=function(t,e){return this._skipReadOnly(t,e)},I.prototype._skipReadOnlyCell=function(t,e,i){var o=this.grid,r=!t.dataColumn.isWritable()&&!0;if(!r&&o.editOptions.skipReadOnlyCell){var n=this._skipIndex;n.assign(t),r=!this._checkReadOnly(n)}return r},I.prototype._commitCancel=function(e,i){var o=this.grid;try{switch(e.itemState){case Z.ItemState.INSERTING:return o.commit(i.forceInsert)||o.cancel(!0),!0;case Z.ItemState.APPENDING:return o.commit(i.forceAppend)||o.cancel(!0),!0;case Z.ItemState.UPDATING:return o.commit(i.commitWhenNoEdit)||o.cancel(!0),!0}}catch(t){if(t instanceof at.ValidationError)return(t=o._fireValidationFail(e.index,t.column,t))&&alert(i.showOnlyValidationMessage&&t.userMessage?t.userMessage:t.toString()),!1;if(t instanceof at.AbortError)return!1;throw t}return!1},I.prototype._doColumnHeaderClicked=function(t,e){},I.prototype._editButtonClicked=function(t){},I);function I(t,e){var i=w.call(this,t,e)||this;i._focusMask=new l,i._innerFocusMask=new l(!0),i._rowFocusView=new D,i._rowBlockMask=new c,i._rowBlockStart=-1,i._rowBlockEnd=-1;var o=i._grid=t.gridView;return i._skipIndex=o.getIndex(),o.addFeedbackElement(i._rowBlockMask),o.addFeedbackElement(i._rowFocusView),o.addFeedbackElement(i._focusMask),o.addFeedbackElement(i._innerFocusMask),i}e.GridTool=x;var E,S=(E=Ot.LayerElement,i(O,E),O.prototype._doDispose=function(){E.prototype._doDispose.call(this)},O.prototype._getCssSelector=function(){return"rg-rowhover"},O.prototype._initDom=function(t){E.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},O);function O(){var t=E.call(this,"rowHoverView")||this;return t.visible=!1,t}e.RowHoverView=S;var R,D=(R=Ot.LayerElement,i(P,R),P.prototype._doDispose=function(){R.prototype._doDispose.call(this)},P.prototype._getCssSelector=function(){return"rg-rowfocus"},P.prototype._initDom=function(t){R.prototype._initDom.call(this,t),this.setImportantStyle("pointer-events","none")},P);function P(){var t=R.call(this,"rowFocusView")||this;return t.visible=!1,t}e.RowFocusView=D;var T,k=(i(M,T=x),M.prototype._doDispose=function(){this._clickCell=null,this._clickElement=null,this._cellResizer=this._cellResizer.dispose(),this._cellMover=this._cellMover.dispose(),this._cellFeedback=this._cellFeedback.dispose(),this._colResizeReq=this._colResizeReq.dispose(),this._colMoveReq=this._colMoveReq.dispose(),T.prototype._doDispose.call(this)},M.prototype.$_getIndexAt=function(t,e,i,o,r){var n=t.getDataCellIndex(o,this._tempIndex);if(i.getCellAt(e,n).merged){var s=e.getTableRowIndex(r);n.itemIndex=i.getRowIndex(s)}return n},M.prototype._doMouseDown=function(t){var e=this.grid,i=e.layoutManager,o=e.editOptions,r=t.mouseX,n=t.mouseY,s=t.ctrlKey||t.metaKey;this._hideTooltip(),e.closePopups();var a=this._clickCell=null;if(0==t.button||e.displayOptions.rightClickable){if(null!=(a=this._clickCell=this._findTableCell())){var l=e.getTableView(a);if(l instanceof te.GridBodyElement){var u=this.$_getIndexAt(e,i,l,a,n);if(this.$_checkAppending(e.focusedIndex,!0,u))return this._clickElement=null,void(this._clickCell=null);et.CellIndex.areEquals(u,this.focused)&&o.editWhenClickFocused?e.showEditor():e.setFocusedIndex(u,!0)}}if(0==t.button){var h=this.mouseEventTarget,c=this._getEditRequest(h,r,n,s,t.shiftKey)||this._getSelectRequest(h,r,n,s,t.shiftKey),p=this._getDragTracker(c,r,n);this.dragTracker=p}}var d=this.dragTracker;d&&d.startWhenCreated&&(d instanceof Ie.SelectTracker&&t.shiftKey||this._startDragTracker(r,n,!1))},M.prototype._doMouseMove=function(t){var e=t.mouseX,i=t.mouseY,o=this.grid,r=this._findTableCell(),n=o.getCellType(r),s=!1,a=!1;if(o.canHovering){if(n===H.TableCellType.DATA){var l=o.getBodyView(r).bodyCellByCell(r);o.$_setHoveredCell(l,i),this.$_setHoveredCell(l,e,i),s=!0}else n===H.TableCellType.HEADER&&(l=o.getHeaderView(r).tableCellByCell(r),this.$_setHoverdHeaderCell(l,e,i),a=!0);s||(o.$_setHoveredCell(null,i),this.$_setHoveredCell(null,e,i)),a||this.$_setHoverdHeaderCell(null,e,i)}else this._hideTooltip();if(this.dragTracker)this._hideTooltip();else{o.setCursor(this.mouseEventTarget,H.Cursor.DEFAULT);var u=this._getEditRequest(this.mouseEventTarget,e,i,!1,!1);u&&u.cursor&&o.setCursor(this.mouseEventTarget,u.cursor)}},M.prototype._doMouseUp=function(t){var e=t.mouseX,i=t.mouseY,o=(this.findElementAt(e,i,!1),this._findTableCell()),r=this.grid;if(r.setCursor(this.mouseEventTarget,H.Cursor.DEFAULT),o&&o==this._clickCell&&r.getCellType(o)===H.TableCellType.HEADER&&!(this._getEditRequest(this.mouseEventTarget,e,i,!1,!1)instanceof we.ColumnResizeRequest)){var n=r.getHeaderView(o).columnByCell(o);n&&this.$_columnHeaderClicked(t,n)}},M.prototype._doClick=function(t){var e=t.mouseX,i=t.mouseY,o=this.grid,r=(this.findElementAt(e,i,!1),this._findTableCell());if(r&&r==this._clickCell){var n=this.grid.getCellType(r);if(n==H.TableCellType.CHECK)this._checkCellClicked2(r,t.shiftKey);else if(n==H.TableCellType.HEAD)t.target instanceof HTMLInputElement&&this._checkAllClicked();else if(n==H.TableCellType.DATA){var s=o.getBodyView(r).bodyCellByCell(r);if(s.isCellButton(t.target))return void this.$_cellButtonClicked(s);if(s.isEditButton(t.target))return void this._editButtonClicked(s.getIndex(this._tempIndex));var a=s.renderer2;if(a&&(a.type,a.index,a.click(t)))return}}},M.prototype._doDblClick=function(t){var e=this.grid,i=e.layoutManager,o=t.mouseX,r=t.mouseY,n=this.focused,s=this._findTableCell();if(s&&s==this._clickCell){var a=e.getItem(n.itemIndex),l=e.getCellType(s);if(a&&a.isDataRow&&l==H.TableCellType.DATA){var u=e.getTableView(s),h=this.$_getIndexAt(e,i,u,s,r);et.CellIndex.areEquals(h,n)&&e.showEditor(h)}else if(l==H.TableCellType.HEADER){var c=this._getEditRequest(this.mouseEventTarget,o,r,!1,!1);if(c instanceof we.ColumnResizeRequest){var p=c.layout;p instanceof A.CellLayoutColumnItem&&e.fitLayoutWidth(p)}}}},M.prototype._doMouseWheel=function(t){var e=this.grid,i=e.displayOptions;if(!i.wheelEnabled||t.ctrlKey)return!1;if((t.shiftKey||t.deltaX)&&0!==i.wheelScrollHorz){var o=e.leftPos,r=Math.abs(i.wheelScrollHorz||16)*(0<(t.deltaX||t.deltaY)?1:-1);return e.leftPos=o+r,!(!U.Utils.isIE&&!U.Utils.isEdge&&i.wheelEventPropagate&&o==e.leftPos)}var n=e.topIndex,s=Date.now(),a=Math.abs(i.wheelScrollLines);if(a=a||3,0<i.wheelAccelDelay)if(s>this._prevScroll+300)this._checkScroll=s;else if(this._checkScroll+i.wheelAccelDelay<s){e.itemCount;var l=i.wheelAccelScroll;if(l&&!isNaN(l))a=parseInt(l);else if("string"==typeof l){var u=l.trim();if(0<u.indexOf("%")){var h=e.itemCount;a=parseInt(u.substr(0,u.length-1))/100*h}}}return this._prevScroll=s,e.topIndex=e.topIndex+(0<t.deltaY?a:-a),!i.wheelEventPropagate||n!=e.topIndex},M.prototype._doMouseEnter=function(t){},M.prototype._doMouseLeave=function(t){var e=t.mouseX,i=t.mouseY;this._hideTooltip(e,i),this.$_setHoverdHeaderCell(null,e,i),this.$_setHoveredCell(null,e,i)},M.prototype._doMouseOver=function(t){},M.prototype._doContextMenu=function(t){return this.grid.doContextMenu(t)},M.prototype._doKeyDown=function(t){var e,i=t.keyCode,o=t.ctrlKey,r=t.shiftKey,n=this.grid,s=n.editOptions,a=n.layoutManager,l=s.skipReadOnly,u=s.skipReadOnlyCell,h=n.focusedIndex,c=h.clone(),p=s.verticalMovingStep,d=U.Utils.isMac,_=n.popupMenuManager;if(_.isShow()&&U.Utils.included(i,H.Keys.LEFT,H.Keys.RIGHT,H.Keys.UP,H.Keys.DOWN,H.Keys.ENTER,H.Keys.SPACE))return _.keyDown(t),!0;if(i==H.Keys.ESCAPE)n.closePopups(),this._doCancel(n);else{if(i==H.Keys.ENTER)return this._doEnter(n,s,c);if(i==H.Keys.TAB)return this._doTab(n,s,c,o,r,t);if(i==H.Keys.F2)!n.isEditing()&&c.dataColumn&&n.showEditor(c,r);else{if(i==H.Keys.Z&&o)return n.undo();if(i==H.Keys.Y&&o)return n.redo();if(i==H.Keys.INSERT)s.appendWhenInsertKey||0==n.itemCount?n.append():n.insert(c.item,t.shiftKey,o);else{if(i==H.Keys.DELETE)return o&&r?(n.revertSelection(),!0):o?(n.deleteSelection(),!0):(r&&n.eraseSelection(),!1);if(U.Utils.included(i,H.Keys.HOME,H.Keys.END,H.Keys.RIGHT,H.Keys.LEFT,H.Keys.DOWN,H.Keys.UP,H.Keys.PAGEDOWN,H.Keys.PAGEUP)){var f=n.itemCount;if(i==H.Keys.DOWN&&0==f)return n.append(),!0;if(!n.isValid(c))return c.normalize(n),this.setFocused(c,!0),!0;if((U.Utils.included(i,H.Keys.DOWN,H.Keys.PAGEDOWN)||i==H.Keys.END&&o)&&c.isBottom&&this.$_checkAppending(c))return!0;if((U.Utils.included(i,H.Keys.UP,H.Keys.PAGEUP)||i==H.Keys.HOME&&o)&&c.isTop&&this.$_checkAppending(c,!0))return!0;switch(i){case H.Keys.HOME:if(o){var y=c.clone();if(c.first(),l&&this._checkReadOnly(c)&&!this._skipReadOnlyCell(c,1,y)){c.assign(h);break}}else c.home(),this._skipReadOnly(c,1);break;case H.Keys.END:if(o){var m=c.clone();if(c.last(),l&&this._checkReadOnly(c)&&!this._skipReadOnlyCell(c,-1,m)){c.assign(h);break}}else c.end(),this._skipReadOnly(c,-1);break;case H.Keys.RIGHT:if(c.right(),l&&this._checkReadOnly(c)&&!this._skipReadOnly(c,1)){c.assign(h);break}break;case H.Keys.LEFT:if(c.left(),s&&s.checkWhenSpace&&et.CellIndex.areEquals(c,h)){var g=n.checkBar,v=g&&g.getCell(c);v&&v.index.item.checkable}if(l&&this._checkReadOnly(c)&&!this._skipReadOnly(c,-1)){c.assign(h);break}break;case H.Keys.UP:try{if(0==c.itemIndex&&c.isTop){if(this.$_commitCancel(c.item,s))return!0;o&&d?c.first():c.up(p)}else o&&d?c.first():o?n.topIndex--:c.up(p,n.isItemEditing(c.item))}finally{u&&this._checkReadOnly(c)&&(this._skipReadOnlyCell(c,-1)||c.assign(h))}break;case H.Keys.PAGEUP:if(o&&!d)return n.topIndex=n.topIndex-a.fullItemCount,!0;if(e=c.clone(),c.incRow(-a.fullItemCount),l&&this._checkReadOnly(c)&&!this._skipReadOnlyCell(c,1,e)){c.assign(h);break}break;case H.Keys.DOWN:try{if(c.itemIndex!=f-1||!c.isBottom&&p!=et.VerticalMovingStep.ROW)if(o&&d)c.last();else{if(o)return n.topIndex=n.topIndex+1,!0;c.down(p,n.isItemEditing(c.item))}else{if(c.isBottom&&this._commitCancel(c.item,s))return!0;n.append(),o&&d?c.last():c.down(p,n.isItemEditing(c.item))}}finally{u&&this._checkReadOnly(c)&&(this._skipReadOnlyCell(c,1)||c.assign(h))}break;case H.Keys.PAGEDOWN:if(c.itemIndex==n.itemCount-1&&c.isBottom&&Z.ItemState_isInserting(c.item.itemState))return n.commit(s.forceAppend),!0;if(o&&!d)return n.topIndex=n.topIndex+a.fullItemCount,!0;if(e=c.clone(),c.incRow(a.fullItemCount),l&&this._checkReadOnly(c)&&!this._skipReadOnlyCell(c,-1,e)){c.assign(h);break}}return r&&0<n.selections.count?(this.setFocused(c,!1),n.selections.getItem(0).resizeTo(c)):this.setFocused(c,!0),!0}}}}return T.prototype._doKeyDown.call(this,t)},M.prototype._doKeyPress=function(t){return!1},M.prototype._editButtonClicked=function(t){this.grid.makeCellVisible(t),this.grid.showEditor(t)&&this.grid.editorButtonClicked(t),T.prototype._editButtonClicked.call(this,t)},M.prototype._getSelectRequest=function(t,e,i,o,r){var n=this.grid,s=n.displayOptions,a=s.selectionMode,l=s.selectionStyle,u=this._findTableCell(t);if(!u)return null;var h=n.getCellType(u);if(h==H.TableCellType.INDICATOR){if(n.rowIndicator.selectable&&a!=Rt.SelectionMode.NONE&&l!=Rt.SelectionStyle.NONE&&!Rt.isSingleSelectionStyle(l))return new we.SelectRequest(n.getIndex(n.rowIndicatorView.getCellIndex(u)),Rt.SelectionStyle.ROWS)}else if(h==H.TableCellType.HEADER){if(o){var c=n.headerView.columnByCell(u);if(n.rowIndicator.selectable&&a!=Rt.SelectionMode.NONE&&l!=Rt.SelectionStyle.NONE&&!Rt.isSingleSelectionStyle(l))return new we.SelectRequest(n.getIndex(-1,c),Rt.SelectionStyle.COLUMNS)}}else if(h==H.TableCellType.DATA){var p=n.getDataCellIndex(u);if(a!=Rt.SelectionMode.NONE&&l!=Rt.SelectionStyle.NONE&&!Rt.isSingleSelectionStyle(l))return 0<n.selections.count&&r?new we.SelectRequest(p,n.selections.itemStyle):new we.SelectRequest(p,l);this.grid.displayOptions.selectionStyle}return null},M.prototype._getEditRequest=function(t,e,i,o,r){var n=this.grid,s=n.layoutManager,a=n.displayOptions,l=this._findTableCell(t);if(!l)return null;var u=n.getTableView(l),h=this.$_getRowResizeRequest(u,l,e,i,o);if(h)return h;if(u instanceof Xt.RowIndicatorElement);else if(u instanceof Yt.HeaderElement){if(t instanceof HTMLInputElement)return null;if(o);else{var c=u.layoutByCell(l);if(c){var p=n.cellToContainer(l,St.Point.EMPTY.setEmpty());if(a.columnResizable&&c._isResizable()&&(n.fixedOptions.resizable||c.root.vindex>=s.fixedLayoutCount&&c.root.vindex<s.rightFirstLayout)&&(p.x+=c.cellWidth,e>=p.x-3&&e<=p.x+3))return this._colResizeReq.init(c,e,i,e-p.x);if(a.columnMovable&&c._isMovable()&&(!c.isRoot||n.canMoveIndex(c.root.vindex)))return this._colMoveReq.init(c,e,i,e-p.x)}}}else te.GridBodyElement;return null},M.prototype.$_getRowResizeRequest=function(t,e,i,o,r){var n=-1;if((t instanceof Xt.RowIndicatorElement||t instanceof ie.StateBarElement)&&(n=e.parentElement.$_row),n<0)return null;var s=this.grid,a=s.layoutManager,l=s.displayOptions,u=l.eachRowResizable&&!r,h=a.fixedItemCount,c=t.boundsByContainer(this._tempRect.setWidth(t.width));if(c.width<=0||i<c.x||i>=c.right)return null;if(l.rowResizable)for(var p=a.itemCount,d=s.topIndex,_=a.contentBounds.y,f=0;f<p;f++){var y=f+d+h;if(y==n&&((c=a.getItemRect(f+h)).y+=_,o<=c.bottom+1&&o>=c.bottom-2))return this._rowResizeReq.init(y,u,c.y,o-c.bottom-1)}return null},M.prototype._getDragTracker=function(t,e,i){if(t instanceof we.SelectRequest)switch(t.style){case Rt.SelectionStyle.ROWS:return new Ie.RowsSelectTracker(t,e,i);case Rt.SelectionStyle.COLUMNS:return new Ie.ColumnsSelectTracker(t,e,i);case Rt.SelectionStyle.BLOCK:return new Ie.BlockSelectTracker(t,e,i)}else{if(t instanceof we.ColumnResizeRequest)return new xe.ColumnResizeTracker(t,this._cellResizer);if(t instanceof we.ColumnMoveRequest)return new xe.ColumnMoveTracker(t,this._cellFeedback,this._cellMover);if(t instanceof we.RowResizeRequest)return new xe.RowResizeTracker(t,this._cellResizer)}return null},M.prototype._checkCellClicked2=function(t,e){var i=this.grid,o=i.checkBar,r=i.checkBarView;if(i.editOptions.checkable){var n=i.checkBar,s=i.getItem(t.parentElement.$_row);if(s.checkable&&(n.showGroup||0<=s.dataRow)){var a=i.checkBarView.getCheckBox(t);if(a){var l=s.index,u=r._prevChecked;if(i.makeItemVisible(l),e&&0<=u&&!o.exclusive){for(var h=i.getItem(r._prevChecked),c=[],p=Math.min(u,l);p<=Math.max(u,l);p++){var d=i.getItem(p);d.checkable&&0<=d.dataRow&&c.push(d)}0<c.length&&i.itemSource.checkItems(c,h.checked,!0)}else i.itemSource.checkItem(s,a.checked,n.exclusive,!0),r.$_setPrevChecked(s.index)}}}},M.prototype._checkAllClicked=function(){var t=this.grid;if(!t.empty&&t.editOptions.checkable){var e=t.checkBar,i=t.headView;e.showAll&&!e.exclusive&&(i.allChecked=!i.allChecked,t.itemSource.checkAll(i.allChecked,e.visibleOnly,e.checkableOnly,!0,e.showGroup))}},M.prototype._doColumnHeaderClicked=function(t,e){if(T.prototype._doColumnHeaderClicked.call(this,t,e),2!=t.button){var i=e,o=this.grid;if(!o.empty&&i){var r=o.getHeaderView(this._clickCell).tableCellByCell(this._clickCell);t.target===r.check?(r.check.checked=i.checked=!i.checked,o._columnCheckedChanged(i)):t.target===r.filter&&i.hasFilters?o.selectColumnFilters(r):t.target===r.popup?o.doContextMenu(t):i.sortable&&o.sortingOptions.enabled&&o.sortColumn(i,t)}}},M.prototype.$_columnHeaderClicked=function(t,e){var i=2==t.button;this.grid._fireColumnHeaderClicked(e,i,t),this._doColumnHeaderClicked(t,e)},M.prototype.$_setHoveredCell=function(t,e,i){if(t!=this._hoveredCell){this._hoveredCell=t,this._hideTooltip(e,i),this._tooltipShowTimer&&clearTimeout(this._tooltipShowTimer);var o=this.grid.displayOptions.hintDelay;if(0<o){var r=this;this._tooltipShowTimer=setTimeout(function(){r.$_showTooltip2(t)}.bind(r),o)}else this.$_showTooltip2(t)}},M.prototype._hideTooltip=function(t,e){this.grid.tooltipManager.close(t,e),this._tooltipCell=null,this._hoveredCell=null,this._hoveredHeaderCell=null,this._tooltipIndex.reset()},M.prototype.$_showTooltip2=function(t){var e=this.grid,i=t.layout.firstColumn,o=t.item.dataId,r=e.validationManager._cellList[o]&&e.validationManager._cellList[o][i.dataIndex],n=this._tempIndex.set(t.item.index,t.layout.firstColumn),s=this._tooltipOptions;if(e.editOptions.hintOnError&&i&&e.isItemEditing(t.item)&&i.error||r)s.message=r?r.message:i.error.message||i.error,this.$_showTooltip(t,n,s);else{var a=t.renderer2;if(a&&a.showTooltip&&!et.CellIndex.areEquals(n,this._tooltipIndex)){var l=a.getTooltip(t,n);if(l||e.displayOptions.showEmptyTooltip){var u=e._fireShowTooltip(n,l);u&&(this._tooltipOptions.assignFrom(u),this.$_showTooltip(t,n,this._tooltipOptions))}}}},M.prototype.$_showTooltip=function(t,e,i){var o=this.grid,r=o.tooltipManager,n=o.layoutManager;if(!r.visible||this._tooltipCell!=t){this._hideTooltip();var s=o.getBodyView(t.cell),a=s.getCellRectAt(n,e,!0),l=(a=s.boundsByContainer(a)).x,u=a.y+a.height;r.show(i,l,u,!0),this._tooltipCell=t,this._tooltipIndex.assign(e)}},M.prototype.$_setHoverdHeaderCell=function(t,e,i){if(t!=this._hoveredHeaderCell){console.log("HOVERED HEADER CELL: "+t),this._hoveredHeaderCell=t,this._hideTooltip(e,i),this._tooltipShowTimer&&clearTimeout(this._tooltipShowTimer);var o=this.grid.displayOptions.hintDelay;if(0<o){var r=this;this._tooltipShowTimer=setTimeout(function(){r.$_showHeaderTooltip2(t)}.bind(r),o)}else this.$_showHeaderTooltip2(t)}},M.prototype.$_showHeaderTooltip2=function(t){var e=this.grid;if(e.header.showTooltip&&this._tooltipCell!=t&&t.showTooltip){var i=t.tooltip||t.text;if(i){var o=e._fireShowHeaderTooltip(t.layout.firstColumn,i);o&&(this._tooltipOptions.assignFrom(o),this.$_showHeaderTooltip(t,this._tooltipOptions))}}},M.prototype.$_showHeaderTooltip=function(t,e){var i=this.grid,o=i.tooltipManager,r=i.layoutManager;if(!o.visible||this._tooltipCell!=t){this._hideTooltip();var n=r.getHeaderCellRect(t.layout),s=n.x,a=n.y+n.height;o.show(e,s,a,!0),this._tooltipCell=t}},M.prototype.$_cellButtonClicked=function(t){var e=this.grid,i=t.layout.firstColumn;if(i){var o=e.layoutManager,r=t.getIndex(this._tempIndex);switch(o.getMergedCell(r),i.button){case H.CellButton.POPUP:var n=i.popupMenuName,s=e.getCellViewOf(t.cell);n&&s&&e.popupMenuManager.show(n,s);break;case H.CellButton.ACTION:e._doCellButtonClicked(r);break;case H.CellButton.IMAGE:}}},M.prototype.$_commitCancel=function(e,i){var o=this.grid;try{switch(e.itemState){case Z.ItemState.INSERTING:return o.commit(i.forceInsert)||o.cancel(!0),!0;case Z.ItemState.APPENDING:return o.commit(i.forceAppend)||o.cancel(!0),!0;case Z.ItemState.UPDATING:return o.commit(i.commitWhenNoEdit)||o.cancel(!0),!0}}catch(t){if(t instanceof at.ValidationError)return(t=o._fireValidationFail(e.index,t.column,t))&&alert(i.showOnlyValidationMessage&&t.userMessage?t.userMessage:t.toString()),!1;if(t instanceof at.AbortError)return!1;throw t}return!1},M.prototype.$_checkAppending=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=null);var o=this.grid;if(t.itemIndex==o.itemCount-1&&Z.ItemState_isInserting(t.item.itemState)){var r=t.itemIndex;if(!i||i.itemIndex!=r){try{o.commit(o.editOptions.forceAppend,!0)?((t=t.clone()).itemIndex=r,o.isValid(t)||(t.itemIndex=o.getItemIndexOfRow(o.dataSource.rowCount-1)),this.setFocused(t,!0)):e&&(o.cancel(!0),i&&this.setFocused(i,!0))}catch(t){if(t instanceof at.ValidationError)return(t=o._fireValidationFail(r,t.column,t))&&alert(o.editOptions.showOnlyValidationMessage&&t.userMessage?t.userMessage:t.toString()),!0;if(t instanceof at.AbortError)return!0;throw t}return!0}}return!1},M);function M(t,e){var i=T.call(this,t,e)||this;i._cellResizer=new _,i._cellMover=new b,i._cellFeedback=new m,i._tooltipOptions=new Ee.TooltipOptions,i._checkScroll=Date.now(),i._prevScroll=Date.now(),i._tempRect=new G.Rectangle;var o=i.grid;return i._colResizeReq=new we.ColumnResizeRequest(o),i._colMoveReq=new we.ColumnMoveRequest(o),i._rowResizeReq=new we.RowResizeRequest(o),i._tooltipIndex=new et.CellIndex(o),i._tempIndex=new et.CellIndex(o),i}e.GridSelectionTool=k});t(Se);Se.FocusView,Se.RowBlockView,Se.HeaderCellResizer,Se.HeaderCellFeedback,Se.HeaderCellMover,Se.GridTool,Se.RowHoverView,Se.RowFocusView,Se.GridSelectionTool;var Oe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=b.EditCommand,i(s,n),s.prototype.undo=function(){this._row.setData(this._field,this._oldValue),this.$_focusCell()},s.prototype.redo=function(){this._row.setData(this._field,this._value),this.$_focusCell()},s.prototype.$_focusCell=function(){var t=this._column.grid,e=t.focusedIndex.clone();e.layout=this._column.layout,t.setFocusedIndex(e),t.makeCellVisible(e)},s);function s(t,e,i,o){var r=n.call(this)||this;return r._row=t,r._field=e,r._value=i,r._column=o,r._oldValue=t.getData(e),r}var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){this._grid=null,this._editIndex&&this._editIndex.dispose(),this._editIndex=null,this._editor&&this._editor.dispose(),this._editor=null,this._defaultEditor&&this._defaultEditor.dispose(),this._defaultEditor=null,this._editor=null,this._editors=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"readOnly",{get:function(){return this._readOnly},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editable",{get:function(){return this._editable},enumerable:!0,configurable:!0}),u.prototype.onEditorStart=function(t){if(!t.visible&&!this._commiting&&!this._canceling)return this._activateEditor(!1,!1)},u.prototype.onEditorKeyDown=function(t,e){return e.ctrlKey,this._editor,this._grid.activeTool.keyDown(e)},u.prototype.onEditorKeyPress=function(t,e){return this._grid.activeTool.keyPress(e)},u.prototype.onEditorKeyUp=function(t,e){return this._grid.activeTool.keyUp(e)},u.prototype.onEditorChange=function(t){this._modified||(this._modified=!0,this._grid._editorStarted(this._editor,this._editIndex)),this.editing&&(this._grid.makeCellVisible(this._editIndex),this._grid._editorChange(this._editor,this._editIndex,this._editor.getEditValue(!1,!1)))},u.prototype.onEditorSearch=function(t,e){this._grid._editorSearch(this._editor,this._editIndex,e)},u.prototype.onSearchCellButtonClick=function(t,e){return this._grid._searchCellButtonClick(this._editor,this._editIndex,e)},u.prototype.onEditorCommit=function(t){return this.commitEditor(!0)},Object.defineProperty(u.prototype,"editIndex",{get:function(){return this._editIndex.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editing",{get:function(){return this._editor&&this._editor.editing},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"editValue",{get:function(){return this._editor&&this._editor.value},enumerable:!0,configurable:!0}),u.prototype.setFocus=function(t,e){this.$_focusToEditor(t,e)},u.prototype.resetEditor=function(t){if(this.editing)if(this._grid.isValid(this._editIndex)){if(this._resetBounds(),t&&this.editing){var e=this.getData(this._editIndex);this._resetting=!0;try{this._editor.setEditValue(e),this._editor.beginEdit(!1,!0)}finally{this._resetting=!1}}}else this.hideEditor()},u.prototype.reprepareEditor=function(t){et.CellIndex.areEquals(t,this._editIndex)&&(this.editing?this._editor.selectAll():this._prepareEditor(t))},u.prototype.invalidateEditor=function(){this._dirty=!0},u.prototype.closeList=function(t){this._editor&&this._editor.closeList(t)},u.prototype.focusedIndexChanging=function(){return!this.editing||(this.closeList(!0),this.commitEditor(!0))},u.prototype.focusedIndexChanged=function(t,e,i){this._hideEditor(),this._grid.isValid(e)&&(i?this._prepareEditor(e):this._needPrepare=!0)},u.prototype.prepareEditor=function(t){this._needPrepare&&(this._needPrepare=!1,this._grid.isValid(t)&&this._prepareEditor(t))},u.prototype.dataColumnChanged=function(t){if(t&&this._editor&&this._editIndex&&this._editIndex.dataColumn===t){var e=!t.editable||t.readOnly;e!=(!this._editable||this._readOnly)&&(this.editing?this._editor.setReadOnly(e):this._prepareEditor(this._editIndex))}},u.prototype.showEditor=function(t,e){var i=this._grid;if(i&&i.isValid(t)){if(this._editor&&this._editor.editing)return i.makeCellVisible(t),!0;if(this._editor&&!this._editor.editing)return this._showEditorTimer||this._prepareEditor(t),i.makeCellVisible(t),this._activateEditor(!1,!0,e)}return!1},u.prototype.caretToLast=function(){this._editor&&this._editor.caretToLast()},u.prototype.hideEditor=function(){if(this.editing){this._modified=!1,this._resetting=!0;try{this._internalHideEditor(this._editor),this._prepareEditor(this._editIndex)}finally{this._resetting=!1}}},u.prototype.commitEditor=function(t,e){if(void 0===e&&(e=!1),!this.editing||this._commiting)return!0;var i=this._editor;if(!i)return!1;var o,r,n=this._grid,s=n.editOptions,a=this._editIndex,l=a.dataColumn,u=!0,h=i._mask;this._commiting=!0;try{if(i.commit(),(this._modified||i.isEdited())&&l&&0<=l.dataIndex)try{try{if((o=h&&!h.checkValid()?me.CellEditor.InvalidFormat:i.getEditValue(!0,!0))===me.CellEditor.InvalidFormat)u=!1,s.showInvalidFormatMessage&&h&&h.showInvalidFormatMessage&&alert(h&&h.invalidFormatMessage||s.invalidFormatMessage);else if(o===me.CellEditor.Unselected)u=!1;else{var c={text:i.getEditText(),value:o};this._grid.getEditValue(i,a,c),o=c.value,u=this._grid.editorCommit(i,a,this._getData(a),o)}}catch(t){u=!1}this._grid.isItemEditing()?u&&(this._setData(a,o),this._grid.isItemEditing(a.item)&&(o=this._getData(a),this._grid.validateCellCommit(a,o)),this._modified=!1):this._modified=!1}catch(t){r=t,u=!1}if(this._resetting=!0,t)try{this._internalHideEditor(i),this._prepareEditor(a)}finally{this._resetting=!1}if(r){if(e)throw r;s.showCommitError&&alert(r.message||r)}}finally{this._commiting=!1}if(u&&this._isCellEditing()){var p=n.itemSource;if(!p.commit())return p.cancel(),!0}return u},u.prototype.cancelEditor=function(t){if(this.editing){this._canceling=!0;try{try{this._modified=!1,this._grid.editorCancel(this._editor,this._editIndex)}catch(t){throw t}this._resetting=!0;try{this._internalHideEditor(this._editor),this._prepareEditor(this._editIndex)}finally{this._resetting=!1}}finally{this._canceling=!1,this._grid.editorCanceled()}if(this._grid.editOptions.commitByCell){var e=this._grid.itemSource;e.isUpdating&&e.cancel()}}},u.prototype.fillSearchItems=function(t,e,i,o){this.editing&&this._editIndex.column===t&&this._editor instanceof ge.SearchCellEditor&&this._editor.fillItems(e,i,o)},u.prototype.buttonClicked=function(t){this._editor&&et.CellIndex.areEquals(this._editIndex,t)&&this._editor.hasButton&&this._editor.buttonClicked(this._editIndex)},u.prototype.getData=function(t){throw new Error("Method not implemented.")},u.prototype.setEditValue=function(t,e){this._editor&&this._editor.setCellEditValue(t,e)},u.prototype._internalHideEditor=function(t){this.closeList(!1),t.setVisible(!1,!1),t.endEdit(),this._grid._loading||this._grid._fireHideEditor(t._editIndex)},u.prototype.$_hideEdit=function(t,e){e&&(e.setEditIndex(t),e.setVisible(!1),this.$_focusToEditor())},u.prototype.$_getCellEditor=function(t){var e=this._grid,i=e.body.getCell(t,!1),o=e.body.getCellStyle(i,this._style.clear()).editor;if(!o){var r=t.valueColumn;r&&(o=r.editor)}var n=e.delegate.getCellEditor(ut.ColumnStyle.getEditorType(o));return n&&(n.initOptions(),o&&n.applyOptions(o),n.setController(this)),n},u.prototype._prepareEditor=function(t){if(this._dirty=!1,this._grid.isValid(t)&&(this._hideEditor(),this._editor=this.$_getCellEditor(t),this._editor)){this._editIndex.assign(t),this._editor.setReadOnly(!1);var e=this._grid,i=e.editOptions,o=e.editorOptions,r=t.valueColumn,n=t.item,s=n.itemState,a=(Z.ItemState_isInserting(s)||t.dataRow,e.canEdit(t));if(o._titleExprStatement&&this._editor.setEditorTitle(t),a){var l=void 0;void 0===l&&void 0===(l=e.getCellReadOnly(t))&&(l=i.readOnly||r.readOnly||!Z.ItemState_isInserting(s)&&!e.canUpdate(n,t.dataField));var u=n.dataSource,h=u?u.getField(t.dataField):null;this._readOnly=l||!h||!h.updatable||!t.dataColumn||h.dataType==H.ValueType.OBJECT,this._editor.setReadOnly(this._readOnly),this._editor.setEditIndex(t),this._editable=!0,this._editor.clear();var c=this._getData(t);this._editor.setEditValue(c),this._editor.selectAll(),i.editWhenFocused&&!this._editor.editing?(this._showEditorTimer&&clearTimeout(this._showEditorTimer),this._canceling||(this._showEditorTimer=setTimeout(function(){e.showEditor(),this._showEditorTimer=null}.bind(this),100))):this._editor.setVisible(!1),this.$_focusToEditor()}else this.$_hideEdit(t,this._editor)}},u.prototype._hideEditor=function(){if(this._editor)try{this._editor.clear(),this._editor.setVisible(!1)}finally{this._editor.endEdit(),this._editor=null,this._editable=!1,this.$_focusToEditor()}},u.prototype._initEditor=function(t,e,i){this._dirty&&(this._dirty=!1,this._starting||this._prepareEditor(this._editIndex));var o=this._editor;o&&(o.endEdit(),this._resetBounds(),o.setVisible(!0),o.beginEdit(t,e),t&&o.clear(),e&&o.selectAll(),i&&o.dropDownList(!1),this.$_focusToEditor(!0))},u.prototype._setEditAttribute=function(t){var e=this._editor;if(e){for(var i in t)"callback"!==i&&e._editor.setAttribute(i,t[i]);t.callback&&"function"==typeof t.callback&&t.callback()}},u.prototype._editorActivated=function(t){this._grid.editorActivated(t)},u.prototype._activateEditor=function(t,e,i){void 0===i&&(i=!1);var o=this._grid,r=this._editor,n=this._editIndex,s={};return!(!this._editable||!r||r.editing||!o.canShowEditor(n,s)||(this._initEditor(t,e,i),this._modified=!1,this._editorActivated(this._editor),this._setEditAttribute(s),0))},u.prototype._resetBounds=function(){if(this._editor){var t=this._grid.getEditBounds(this._editIndex);t.x--,t.y--,t.width++,t.height++,U.Utils.isIE&&t.right>this._grid.width+3?this._editor.setBounds(t.x+1e4,t.y,0,0):this._editor.setBounds(t.x,t.y,t.width,t.height),t=this._grid.getEditCellBounds(this._editIndex),this._editor.setCellBounds(t.x,t.y,t.width,t.height),t.x<0&&(this._resetFocused=!0)}},u.prototype.$_focusToEditor=function(t,e){if(void 0===t&&(t=!1),t||this._grid.$_editFocused){var i=this._grid,o=this._editor||this._defaultEditor;i.$_showFocusCell=i.$_showFocusCell||e&&o&&e!==o._editor,i.container._setFocusAndScroll(o),this.editing||this._editor&&this._editor.selectAll()}},u.prototype.$_focusToContainer=function(){},u.prototype._getData=function(t){var e=t.item;if(e){var i=t.dataColumn.dataIndex;if(0<=i)return e.getData(i)}},u.prototype._setData=function(t,e){var i=t.item;if(i){var o=t.dataColumn.dataIndex;0<=o&&(this._grid.undoable?this._grid.execute(new r(t.item,o,e,t.column)):i.setData(o,e))}},u.prototype._isEditKey=function(t){return 8==t||46<=t&&t<=90||96<=t&&t<=111||186<=t&&t<=222||t==H.Keys.ENTER&&this._grid.editOptions.enterToEdit},u.prototype._isCellEditing=function(){return!!this._grid.editOptions.commitByCell&&this._grid.itemSource.isUpdating},u);function u(t){var e=a.call(this)||this;return e._editIndex=new et.CellIndex,e._editors=[],e._starting=!1,e._editRow=-1,e._needPrepare=!1,e._modified=!1,e._commiting=!1,e._canceling=!1,e._resetting=!1,e._dirty=!1,e._editable=!1,e._readOnly=!1,e.$_editFocused=!1,e._resetFocused=!1,e._style=new ut.ColumnStyle,e._grid=t,e._defaultEditor=t.delegate.getDefaultCellEditor(),e._defaultEditor&&e._defaultEditor.setController(e),e._defaultEditor&&e._internalHideEditor(e._defaultEditor),e}e.DefaultEditController=l});t(Oe);Oe.DefaultEditController;var Re=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){this._grid=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),s.prototype.getDefaultCellEditor=function(){if(!this._defaultEditor){var t=this._grid.container._container;this._defaultEditor=new me.LineCellEditor(this._grid,t),this._defaultEditor.setController(this._grid.editController)}return this._defaultEditor},s.prototype.getCellEditor=function(t){var e=this._grid.container._container,i=this._cellEditors[t];if(!i){switch(t){case"list":case"dropdown":i=new ge.DropDownCellEditor(this._grid,e);break;case"multiline":i=new me.MultiLineCellEditor(this._grid,e);break;case"number":i=new me.NumberCellEditor(this._grid,e);break;case"date":i=new ve.DateCellEditor(this._grid,e);break;case"btdate":i=new ve.BTDateCellEditor(this._grid,e);break;case"search":i=new ge.SearchCellEditor(this._grid,e);break;case"checklist":i=new ge.MultiCheckCellEditor(this._grid,e);break;case"password":i=new me.PasswordCellEditor(this._grid,e);break;case"line":default:i=this.getDefaultCellEditor()}(this._cellEditors[t]=i)&&i.setController(this._grid.editController)}return i},s.prototype.createRenderer=function(t,e){var i=null;if(t){switch(t){case P.TextCellRenderer.TYPE:i=new P.TextCellRenderer;break;case P.BarCellRenderer.TYPE:i=new P.BarCellRenderer;break;case P.ImageCellRenderer.TYPE:i=new P.ImageCellRenderer;break;case P.IconCellRenderer.TYPE:i=new P.IconCellRenderer;break;case P.CheckCellRenderer.TYPE:i=new P.CheckCellRenderer;break;case P.ButtonCellRenderer.TYPE:i=new P.ButtonCellRenderer;break;case P.ShapeCellRenderer.TYPE:i=new P.ShapeCellRenderer;break;case P.LinkCellRenderer.TYPE:i=new P.LinkCellRenderer;break;case P.SignalBarCellRenderer.TYPE:i=new P.SignalBarCellRenderer;break;case P.Code39CellRenderer.TYPE:i=new P.Code39CellRenderer;break;case P.Code128CellRenderer.TYPE:i=new P.Code128CellRenderer;break;case Zt.SeriesTextCellRenderer.SERIES_TYPE:i=new Zt.SeriesTextCellRenderer;break;case Zt.SparkLineRenderer.TYPE:i=new Zt.SparkLineRenderer;break;case Zt.SparkColumnRenderer.TYPE:i=new Zt.SparkColumnRenderer;break;case Zt.SparkWinLossRenderer.TYPE:i=new Zt.SparkWinLossRenderer;break;case st.TemplateCellRenderer.TYPE:i=new st.TemplateCellRenderer}if(!i){var o=this._customRenderers[t];i="function"==typeof o?new o(t):new Ct.CustomCellRendererImpl(o,t)}i||(console.log("Renderer type is invalid: "+t),i=new P.TextCellRenderer),e&&i.assignFrom(e)}return i},s.prototype.hasEditorButton=function(t){if(t)switch(t){case"list":case"dropdown":case"date":case"btdate":case"search":case"checklist":return!0;case"multiline":case"number":case"line":default:return!1}return!1},s.prototype.addCustomRenderer=function(t,e){t&&e&&(this._customRenderers[t]=e)},s.prototype.removeCustomRenderer=function(t){delete this._customRenderers[t]},s.prototype.clearCustomRenderers=function(){this._customRenderers={}},s);function s(t){var e=r.call(this)||this;return e._cellEditors={},e._customRenderers={},e._grid=t,e}e.GridDelegate=n});t(Re);Re.GridDelegate;var De=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Y.EventAware,i(s,r),Object.defineProperty(s.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),s.prototype.exists=function(t){return!1},s.prototype._changed=function(){this.fireEvent(s.CHANGED)},s.CHANGED="onLookupSourceChanged",s);function s(t){var e=r.call(this)||this;return e._id=t,e}e.LookupSource=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){this._tree=this._listMap=null,a.prototype._doDispose.call(this)},u.prototype.clear=function(){this._tree=this._listMap={},this._changed()},u.prototype.exists=function(t){var e;if((t=U.Utils.makeArray(t))&&0<(e=t.length)&&e<=this._levels){if(0<(e=Math.min(e,this._levels)-1)){for(var i=this._tree,o=0;o<e&&(i=i[t[o]]);o++);return null!=i&&i.hasOwnProperty(t[e])}return this._tree.hasOwnProperty(t[0])}return!1},u.prototype.fill=function(t,e){if(t&&0<t.length&&e&&0<e.length){for(var i=Math.min(t.length,e.length),o=0;o<i;o++){var r=U.Utils.makeArray(t[o]);this.$_add(r,e[o])}this._changed()}},u.prototype.fillRows=function(t){if(t&&0<t.length){for(var e=0,i=t.length;e<i;e++)this.$_addRow(t[e]);this._changed()}},u.prototype.add=function(t,e){t&&(this.$_add(t,e),this._changed())},u.prototype.addRow=function(t){t&&(this.$_addRow(t),this._changed())},u.prototype.lookup=function(t,e){var i,o;if(1<this._levels){var r=void 0,n=this._levels-1;for(i=this._tree,r=0;r<n&&(i=i[o=t[r]]);r++);}else i=this._tree;if(o=t[t.length-1],i&&o&&e){for(var s=o.split(e),a=[],l=(r=0,s.length);r<l;r++)a.push(i[s[r]]?i[s[r]]:s[r]);return a.join(e)}return i?i[o]:void 0},u.prototype.getDomain=function(t){if(!t||t.length!=this._levels-1)throw"Keys length must be "+(this._levels-1);var e,i,o=this._tree,r=[],n=[];if(1<this._levels)for(e=0,i=t.length;e<i;e++)if(t[e],!(o=o[t[e]]))return{keys:r,values:n};if(this._listMap){var s=this._listMap[t.slice(0,t.length).join("~!~")];for(i=s?s.length:0,e=0;e<i;e++)r.push(s[e]),n.push(o[s[e]])}else for(var a in o)r.push(a),n.push(o[a]);return{keys:r,values:n}},u.prototype.getTextDomain=function(t){for(var e=this.getDomain(t),i=e.keys,o=e.values,r=0,n=e.keys.length;r<n;r++)i[r]=i[r]?String(i[r]):null,o[r]=o[r]?String(o[r]):null;return e},u.prototype.$_add=function(t,e){if(t){t=U.Utils.makeArray(t);var i,o,r,n,s=this._levels;if(t.length<s)throw Error("Keys length must be equals or greater than "+s);var a=this._tree;for(o=0;o<s-1;o++)(n=a[r=t[o]])||(n={},a[r]=n),a=n;if(a[i=t[s-1]]=e,this._listMap){var l=t.slice(0,t.length-1).join("~!~"),u=this._listMap[l];U.Utils.isArray(u)||(u=[],this._listMap[l]=u),u.push(i)}}},u.prototype.$_addRow=function(t){if(t){if(t.length-1<this._levels)throw Error("Keys length must be equals or greater than "+this._levels);var e=t[this._levels];t=t.slice(0,this._levels),this.$_add(t,e)}},u);function u(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!1);var o=a.call(this,t)||this;if(e<1)throw"LookupTable levels must be equals or greater than 1";return o._levels=e,o._tree={},o._listMap=i?{}:null,o}var h,c=(h=Y.EventAware,i(p,h),p.prototype._changed=function(){this.fireEvent(p.CHANGED)},p.CHANGED="onLookupSourceProviderChanged",p);function p(){return h.call(this)||this}e.LookupSourceProvider=c;var d,_=(i(f,d=c),f.prototype.dispose=function(){return d.prototype.dispose.call(this)},f.prototype.load=function(t){if(t=U.Utils.makeArray(t)){this._sources={};for(var e=0,i=t.length;e<i;e++)this.$_add(t[e]);this._changed()}},f.prototype.add=function(t){var e=this.$_add(t);return e&&this._changed(),e},f.prototype.remove=function(t){this.$_remove(t)&&this._changed()},f.prototype.getSource=function(t){return this._sources[t]},f.prototype.$_createSource=function(t){if(t){var e=new l(t.id,t.levels,t.ordered);return e.fill(t.keys,t.values),e}return null},f.prototype.$_add=function(t){if(t&&t.id&&this._sources[t.id]!=t){var e=this.$_createSource(t);if(e)return this.$_remove(t.id),(this._sources[t.id]=e).addListener(this),e}},f.prototype.$_remove=function(t){if(t){var e=this._sources[t];if(e)return e.removeListener(this),delete this._sources[t],!0}return!1},f.prototype.onLookupSourceChanged=function(t){this._changed()},f.CHANGED="onLookupSourceProviderChanged",f);function f(t){void 0===t&&(t=null);var e=d.call(this)||this;return e._sources={},t&&e.load(t),e}e.LocalLookupSourceProvider=_});t(De);De.LookupSource,De.LookupSourceProvider,De.LocalLookupSourceProvider;var Pe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype.lastColumn=function(){throw new Error("Method not implemented.")},s.prototype.getText=function(t,e){throw new Error("Method not implemented.")},s.prototype.getCellText=function(t,e){throw new Error("Method not implemented.")},s.prototype.getRows=function(){throw new Error("Method not implemented.")},s.prototype.getCell=function(){throw new Error("Method not implemented.")},s);function s(){return r.call(this)||this}e.ClipboardData=n;var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"rowCount",{get:function(){return this._lines.length},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"colCount",{get:function(){return this._colCount},set:function(t){this._colCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"blockPaste",{get:function(){return this._blockPaste},set:function(t){this._blockPaste=t},enumerable:!0,configurable:!0}),u.prototype.isEmpty=function(){return 0==this._lines.length||0==this._colCount},u.prototype.isSingle=function(){return 1==this._lines.length&&1==this._colCount},u.prototype.isBlockPaste=function(){return this._blockPaste},u.prototype.get=function(t){return this._lines[t]},u.prototype.$_parseQuoted=function(t,e){},u);function u(){var t=a.call(this)||this;return t._colCount=0,t._blockPaste=!1,t}e.ClipboardSource=l;var h,c=(i(p,h=n),p.prototype._doDispose=function(){return h.prototype._doDispose.call(this)},p.prototype.lastColumn=function(){return this._columns?this._columns[this._columns.length-1]:null},p.prototype.getText=function(t,e){var i,o,r,n,s,a,l=t.grid,u=this.$_rangeToCells(t,null,e),h=[];if(l.copyOptions.includeHeaderText)for(s=0;s<u.length;s++){var c=[];for(a=0;a<u[s].length;a++)(i=U.Utils.cast(u[s][a],ut.DataColumn))?c.push(i.header.displayText):c.push("");h.push(c.join("\t"))}for(r=e.r1,n=e.r2;r<=n;r++){var p=l.getItem(r);if(0<=p.dataRow||Z.ItemState_isInserting(p.itemState))for(s=0;s<u.length;s++){for(c=[],a=0;a<u[s].length;a++)(i=U.Utils.cast(u[s][a],ut.DataColumn))&&!i.blankWhenCopy?(o=et.CellIndex.temp(l,r,i).clone(),c.push(t.getData(o))):c.push("");h.push(c.join("\t"))}}return h.join("\r\n")+"\r\n"},p.prototype.getCellText=function(t,e){var i="";return t.grid.copyOptions.includeHeaderText&&(i=e.dataColumn.header.displayText+"\r\n"),i+=t.getData(e)},p.prototype.$_parseQuoted=function(t,e){},p.prototype.$_rangeToCells=function(t,e,i){i.normalizeData();var o=i.c1,r=i.c2;o!=o.dataRoot&&(o=o.dataRoot),r!=r.dataRoot&&(r=r.dataRoot);var n,s,a,l,u=0,h=0,c=[],p=t.getDataRoots(),d=this._columns=[],_=p.indexOf(o),f=p.indexOf(r);for(s=_;s<=f;s++)l=p[s],d.push(l),u+=l.firstColumn?l.cols:0,h=Math.max(h,l.rows);for(s=0;s<h;s++)c.push(new Array(u));for(s=n=0,a=d.length;s<a;s++)this.$_setFields(d[s],c,n,0),n+=d[s].firstColumn?d[s].cols:0;return c},p.prototype.$_setFields=function(t,e,i,o){var r,n,s,a=U.Utils.cast(t,A.CellLayoutGroupItem);if(a)if(a.vertical)for(r=o,n=0;n<a.visibleCount;n++)s=a.getVisible(n),this.$_setFields(s,e,i,r),r+=s.rows;else for(r=i,n=0;n<a.visibleCount;n++)s=a.getVisible(n),this.$_setFields(s,e,r,o),r+=s.cols;else e[o].length>i&&(e[o][i]=t.firstColumn)},p);function p(){var t=h.call(this)||this;return t._columns=null,t}e.DefalutClipboardData=c;var d,_=(d=Z.GridItem,i(f,d),Object.defineProperty(f.prototype,"isLeaf",{get:function(){throw new Error("Method not implemented.")},enumerable:!0,configurable:!0}),f);function f(){return d.call(this)||this}e.ClipboardItem=_;var y,m=(y=et.CellIndex,i(g,y),g.prototype._doDispose=function(){return y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"isLeaf",{get:function(){throw new Error("Method not implemented.")},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),g);function g(t,e){var i=y.call(this,t)||this;return i._item=e,i}e.ClipboardIndex=m;var v=(b.prototype.dispose=function(){return null},Object.defineProperty(b.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),b.prototype.getDataRoots=function(){var t=this._grid._activeCellLayout._dataCells,e=[];if(t.length<0||t[0].length<0)return e;for(var i=0,o=t[0].length;i<o;i++)t[0][i].dataRoot,e.push(t[0][i].dataRoot);return e},b.prototype.getData=function(t){var e,i,o,r=this.grid,n=t.layout.firstColumn,s=r.getItem(t.itemIndex),a=r.copyOptions;if(new Qt.DataCellElement,!s||!(Z.ItemState_isInserting(s.itemState)||0<=s.dataRow))return"";if(o=s.getData(n.dataIndex),n&&null!=(e=r.dataSource.getField(n.dataIndex))){if(a.copyDisplayText)r.body.getCell(t,!1);else switch(e.dataType){case H.ValueType.DATETIME:case H.ValueType.DATE:i=o?String(o):"";break;case H.ValueType.BOOLEAN:i=null!=o?String(o):"";break;case H.ValueType.NUMBER:i=o==isNaN(o)?"":String(o);case H.ValueType.OBJECT:i=o&&"object"==typeof o?JSON.stringify(o):"";default:i=null!=o?String(o):""}return i&&(0<=i.indexOf("\n")||0<=i.indexOf("\r\n")||'"'==i.charAt(0))&&(i='"'+(i=i.replace(/\"/g,'""'))+'"'),i}return""},b.prototype.copyEmtpyToClipboard=function(){return""},b.prototype.copyToClipboard=function(t){return this._data.getText(this,t)},b.prototype.copyCellToClipboard=function(t){return this._data.getCellText(this,t)},b);function b(t){this._grid=t,this._data=new c,this._appendingItem=new _,this._appendingIndex=new m(t,this._appendingItem)}e.ClipboardManager=v});t(Pe);Pe.ClipboardData,Pe.ClipboardSource,Pe.DefalutClipboardData,Pe.ClipboardItem,Pe.ClipboardIndex,Pe.ClipboardManager;var Te=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Y.EventAware,i(s,r),s.prototype._doDispose=function(){return r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"label",{get:function(){return this._label},set:function(t){this._label=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"group",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"manager",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"type",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checked",{get:function(){return null},enumerable:!0,configurable:!0}),s.prototype.click=function(){},s);function s(){var t=r.call(this)||this;return t._visible=!0,t._enabled=!0,t}var a,p=(i(l,a=n),l.prototype._doDispose=function(){this._parent=null,this._callback=null,a.prototype._doDispose.call(this)},Object.defineProperty(l.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"group",{get:function(){return this._group},set:function(t){this._group=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"checked",{get:function(){return this._checked},set:function(t){this._checked=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"tag",{get:function(){return this._tag},set:function(t){this._tag=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"callback",{get:function(){return this._callback},set:function(t){this._callback=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},set:function(t){this._parent=t},enumerable:!0,configurable:!0}),l.prototype.isSeparator=function(){return"-"===this._label||this._type===H.MenuItemType.SEPARATOR},l.prototype.getData=function(){return{label:this._label,checked:this._checked,enabled:this._enabled,tag:this._tag}},l.prototype.click=function(){"check"===this._type&&(this._checked=!this._checked),this._parent&&this._parent.itemClicked(this)},Object.defineProperty(l.prototype,"manager",{get:function(){return this._parent.manager},enumerable:!0,configurable:!0}),l.prototype._itemClicked=function(t){},l);function l(t,e){var i=a.call(this)||this;return i._checked=!1,i._parent=t,e&&i.assignFrom(e),i}e.PopupMenuItem=p;var u,d=(i(h,u=n),h.prototype._doDispose=function(){this._items&&this._items.forEach(function(t,e){t.dispose()}),this._items=null,this._parent=null,u.prototype._doDispose.call(this)},Object.defineProperty(h.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"manager",{get:function(){for(var t=this._parent;t;){if(t.popupMenuManager instanceof m)return t.popupMenuManager;if(t instanceof m)return t;t=t._parent}return null},enumerable:!0,configurable:!0}),h.prototype.count=function(){return this._items?this._items.length:0},h.prototype.itemClicked=function(t){if(t.parent==this&&t.type===H.MenuItemType.RADIO){var e=t.group,i=void 0;if(e){for(var o=0;o<this._items.length;o++)(i=this._items[o])instanceof p&&i.type===H.MenuItemType.RADIO&&i.group===e&&(i.checked=!1);t.checked=!0}}var r=this.manager.popupIndex;"function"==typeof t.callback?t.callback(t,r.proxy()):this._parent instanceof m?this._parent.doMenuItemClick(t,r):this._parent.onMenuItemClick?this._parent.onMenuItemClick(t,r):this._parent.itemClicked(t)},h.prototype._load=function(t){var e=[];if(t)for(var i=0,o=t.length;i<o;i++){var r=t[i];if(U.Utils.isArray(r.children)&&0<r.children.length){var n=new h(r.name,this,r.children);e.push(n),n._parent=this,n._label=r.label}else n=new p(this,r),e.push(n)}return e},h.CLICKED="onPopupMenuClicked",h);function h(t,e,i){var o=u.call(this)||this;return o._name=t,o._parent=e,o._items=o._load(i),o}e.PopupMenu=d;var c,_=(c=Y.EventAware,i(f,c),f._borrowView=function(t){return f.$_views.pop()||new f(t)},f._returnView=function(t){f.$_views.push(t)},f.prototype._doDispose=function(){c.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"targetView",{get:function(){return this._targetView},set:function(t){this._targetView=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"parentView",{get:function(){return this._parentView},set:function(t){this._parentView=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"childView",{get:function(){return this._childView},set:function(t){this._childView=t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"manager",{get:function(){return this._menu.manager},enumerable:!0,configurable:!0}),f.prototype.show=function(t,e,i,o,r,n,s,a){if(!this._showing){this._showing=!0;try{var l=i.parent;for(this._containerElement=t._container,this._parentView=e,this._firstItem=null,this._menu=i;l._parent&&!(l instanceof $e.GridBase);)l=l.parent;if(l&&(this._viewGridInside=l instanceof $e.GridBase?l.editorOptions.viewGridInside:l instanceof m&&l.grid.editorOptions.viewGridInside),i.parent instanceof $e.GridBase||i.parent instanceof m)if(this._targetView)this._targetView.getIndex(this.manager.popupIndex=new et.CellIndex(this.manager.grid));else{var u=this.manager.grid;this.manager.popupIndex=et.CellIndex.temp(u,-1,null)}this.$_show(t,this._menu,o,r,n,s)}finally{this._showing=!1}}},f.prototype.boundsByContainer=function(){return null},f.prototype.hide=function(t){if(void 0===t&&(t=!0),t&&this._parentView)this._parentView.hide(!0);else{this.$_hideChildView();var e=this._element;e&&e.parentElement&&e.parentElement.removeChild(e)}},f.prototype.hideChild=function(){this.$_hideChildView()},f.prototype.changeItemIndex=function(t){var e,i=this._itemIndex,o=this._menu._items;if(0==t)return this._itemIndex=-1,void this.$_refreshItems(this._itemIndex);if(o&&!(i>=o.length)){for(;(e=o[i+=t])&&!e.enabled;);e&&(this._itemIndex=i,this.$_refreshItems(this._itemIndex))}},f.prototype.menuItemClicked=function(){},f.prototype.$_show=function(t,e,i,o,r,n){if(this._element){var s=this._element,a=this.manager.dropdownCount,l=this._viewGridInside?t._container:document.documentElement;this._menu=e,this._itemIndex=-1,U.Utils.clearElements(this._element),this.$_buildItems(e),U.Utils.disableSelection(s),l.appendChild(s);var u=e.items.length;a&&a<u||(s.style.overflow="hidden",this._element.style.removeProperty("height"));var h=U.Utils.getBrowserSize(),c=U.Utils.ieTen||U.Utils.ieOld?U.Utils.getClientRect(document.body):U.Utils.getClientRect(document.documentElement),p=U.Utils.getClientRect(t._container),d=h.width,_=h.height,f=U.Utils.getClientRect(this._element),y=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;document.documentElement.scrollWidth>document.documentElement.clientWidth&&(_-=18),document.documentElement.scrollHeight>document.documentElement.clientHeight&&(d-=18),this._viewGridInside?(o+p.top+f.height>p.bottom&&(o=this._parentView?p.bottom-f.height-p.top-3:o-f.height-n),i+p.left+f.width>p.right&&(i=this._parentView?p.right-f.width-p.left-3:i-f.width-r)):(this._parentView||(i+=p.left-c.left,o+=p.top-c.top),o+f.height>=_+m-3&&(o=o-f.height-3)<0&&(o=Math.max(0,_-f.height-3)),i+f.width>=d+y-3?i=Math.max(0,d-f.width-3):void 0!==r&&f.width<r&&(i+=r-f.width)),U.Utils.move(this._element,Math.max(0,i),Math.max(0,o))}},f.prototype._createElement=function(){var t=function(t){27==t.keyCode&&this.hide()}.bind(this),e=document.createElement("div");return e.style.setProperty("position","absolute","important"),e.className="rg-popup-menu",this._container.$_addListener(e,"keydown",t,!1),e},f.prototype._showChild=function(t){if(this==this.manager.showingView&&!(this._childView&&this._childView._menu===t.menuItem||this._currDiv!==t)){this.$_hideChildView();var e=t.menuItem,i=this._element.getBoundingClientRect(),o=this._element.offsetLeft+i.width-4,r=this._element.offsetTop+t.offsetTop-this._element.scrollTop;this._childView=f._borrowView(this._container),this._childView.show(this._container,this,e,o,r)}},f.prototype.$_hideChildView=function(){this.manager.showingView=null,this._childView&&(this._childView.$_hideChildView(),this._childView._element&&this._childView._element.parentElement&&this._childView._element.parentElement.removeChild(this._childView._element),f._returnView(this._childView)),this._childView=null},f.prototype._menuItemActived=function(t){var e=(this._currDiv=t).menuItem,i=this.manager.showingView=this.manager.activeView=t.menuView;e instanceof p?i.childView&&i.$_hideChildView():(this._timer&&clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._showChild(t)},200))},f.prototype._menuItemDeactived=function(t){},f.prototype._menuItemClicked=function(t){var e=t.menuItem;e instanceof d?e.enabled&&this._showChild(t):e?(this.hide(!0),e.enabled&&e.click(),this.manager.close()):this.$_hideChildView()},f.prototype.$_refreshItems=function(t){for(var e=this._element,i=0,o=e.childElementCount;i<o;i++){var r=e.childNodes[i];if(r.style.background=i===t?"rgba(0,255,0,0.2)":"",i==t){if(0<this.manager.dropdownCount){var n=r.offsetTop,s=r.offsetHeight+4,a=r.offsetHeight,l=r.scrollTop;n<l?r.scrollTop=Math.max(0,r.scrollTop+(n-l)):l+a<n+s&&(r.scrollTop=r.scrollTop+n+s-(l+a))}this._menuItemActived(r)}}},f.prototype.$_buildItems=function(t){for(var e=t.items,i=[],o=0,r=e.length;o<r;o++){var n=e[o];if(n.visible){var s=document.createElement("div");if(s.menuView=this,s.menuItem=n,s.style.position="relative",s.style.cssFloat="none",s.style.width="100%",n instanceof p&&n.isSeparator()){s.className="rg-popup-separator";var a=document.createElement("hr");a.className="rg-popup-separator-hr",s.appendChild(a),s.onmouseover=function(t){this._menuItemActived(t.currentTarget)}.bind(this)}else{this._firstItem||(this._firstItem=s),i.length=0,i.push("rg-popup-item"),n.group&&i.push("rg-popup-"+n.group),n.enabled||i.push("rg-popup-item-disabled"),s.className=i.join(" "),s.style.whiteSpace="pre",s.onclick=function(t){this._menuItemClicked(t.currentTarget)}.bind(this),s.onmouseover=function(t){this._menuItemActived(t.currentTarget)}.bind(this),s.onmouseout=function(t){this._menuItemDeactived(event.currentTarget)}.bind(this);var l=document.createElement("span"),u=l.style;i.length=0,u.setProperty("display","inline-block"),u.setProperty("min-width","20px"),u.setProperty("min-height","7px"),u.setProperty("vertical-align","middle"),u.setProperty("pointer-events","none","important"),l.textContent="",U.Utils.included(n.type,[H.MenuItemType.CHECK,H.MenuItemType.RADIO])&&i.push(n.group?"rg-popup-radio":"rg-popup-check"),n.checked&&i.push(n.group?"rg-popup-radio-checked":"rg-popup-check-checked"),l.className=i.join(" "),l.tabIndex=-1,U.Utils.disableSelection(l),s.appendChild(l);var h=document.createElement("span");if(h.id="$popupMenu_item_"+f.$_menuId++,h.style.paddingRight="24px",h.style.pointerEvents="none",h.style.verticalAlign="middle",h.innerHTML=n.label,h.tabIndex=-1,U.Utils.disableSelection(h),s.appendChild(h),n instanceof d){var c=document.createElement("span");c.className="rg-popup-expander",s.appendChild(c),c.style.position="absolute",c.style.right="0px",c.style.width="24px",c.style.height="17px",c.style.verticalAlign="middle",c.style.setProperty("pointer-events","none","important"),c.innerHTML=" ",c.tabIndex=-1,U.Utils.disableSelection(c),s.appendChild(c)}}U.Utils.disableSelection(s),this._element.appendChild(s)}}},f.$_menuId=0,f.$_views=[],f);function f(t){var e=c.call(this)||this;return e._showing=!1,e._viewGridInside=!1,e._container=t,e._element=e._createElement(),e._element.addEventListener("contextmenu",function(t){t.preventDefault()}),e}e.PopupMenuView=_;var y,m=(y=Y.EventAware,i(g,y),g.prototype._doDispose=function(){this.close(),this._mainView=null,this._showingView=null,this._popupIndex=null,this._activeView=null,this._container=this._containerDom=null,y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"popupIndex",{get:function(){return this._popupIndex},set:function(t){this._popupIndex=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"grid",{get:function(){return this._container.gridView},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"dropdownCount",{get:function(){return this._dropdownCount},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showingView",{get:function(){return this._showingView},set:function(t){this._showingView=t},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"activeView",{get:function(){return this._activeView},set:function(t){this._activeView=t},enumerable:!0,configurable:!0}),g.prototype.popupManager=function(){return this},g.prototype.isShow=function(){return!!this._mainView},g.prototype.indexOf=function(t){for(var e=this._menus.length;e--;)if(U.Utils.compareTextValue(this._menus[e].name,t,!0,!1))return e;return-1},g.prototype.getMenu=function(t){for(var e=this._menus.length;e--;)if(U.Utils.compareTextValue(this._menus[e].name,t,!0,!1))return this._menus[e];return null},g.prototype.addMenu=function(t,e,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=null),U.Utils.isWhiteSpace(t))throw"Menu name is empty.";var r;if(0<=(r=this.indexOf(t))&&!i)return this._menus[r];var n=new d(t,o||this,e);return i&&-1<r?this._menus[r]=n:this._menus.push(n),n},g.prototype.removeMenu=function(t){var e=this.indexOf(t);-1<e&&this._menus.splice(e,1)},g.prototype.clearMenus=function(){this._menus.length=0},g.prototype.show=function(t,e,i,o,r,n){void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=null);var s=this.grid;if("string"==typeof t?t=this.getMenu(t):t instanceof d||(t=new d(null,this,t)),t){if(null!=i&&null!=o)r=isNaN(r=Math.round(r))?0:r,n=isNaN(n=Math.round(n))?0:n;else{var a=this.grid.container.getBound(),l=e.getBoundingClientRect(),u=void 0;e instanceof Ce.MergedDataCellElement||(u=l.bottom),i=l.left-a.x,o=u-a.y,r=l.width,n=l.height}this._mainView=this._activeView=_._borrowView(this._container);var h=s.getCellType(e),c=void 0;h===H.TableCellType.DATA?c=s.getBodyView(e).bodyCellByCell(e):h===H.TableCellType.HEADER&&(c=s.getHeaderView(e).tableCellByCell(e)),this._mainView.targetView=c,this._mainView.show(this._container,null,t,i,o,r,n),window.addEventListener("mousedown",this._grolbalMouseHandler,!1)}},g.prototype.showContext=function(t,e,i,o,r){t&&!this._mainView&&(this._mainView=this._activeView=_._borrowView(this._container),this._mainView.show(this._container,null,t,i,o,0,0,e),window.addEventListener("mousedown",this._grolbalMouseHandler,!1))},g.prototype.close=function(){this._mainView&&(this._mainView.hide(),_._returnView(this._mainView),this._mainView.targetView=null,this._mainView=null,window.removeEventListener("mousedown",this._grolbalMouseHandler,!1))},g.prototype.keyDown=function(t){this._doKeydown(t)},g.prototype.doMenuItemClick=function(t,e){this.fireEvent(g.MENU_ITEM_CLICKED,t,e)},g.prototype._doKeydown=function(t){var e=this._activeView;switch(t.keyCode){case H.Keys.DOWN:e.changeItemIndex(1);break;case H.Keys.UP:e.changeItemIndex(-1);break;case H.Keys.LEFT:e.parentView&&(e.changeItemIndex(0),e.hideChild(),this._showingView=this._activeView=e.parentView||this._mainView);break;case H.Keys.RIGHT:e&&e.childView&&(e=this._showingView=this._activeView=e.childView).changeItemIndex(1);break;case H.Keys.ENTER:case H.Keys.SPACE:e.menuItemClicked()}},g.prototype.$_buildItems=function(t){},g.MENU_ITEM_CLICKED="onPopupMenuManagerMenuItemClicked",g);function g(t){var e=y.call(this)||this;return e._dropdownCount=0,e._grolbalMouseHandler=function(t){for(var e=t.target;e;){if(e===this._mainView._element||e.menuItem)return;e=e.parentElement}this.close()}.bind(e),e._container=t,e._containerDom=t._containerDom,e._menus=[],e}e.PopupMenuManager=m});t(Te);Te.PopupMenuItem,Te.PopupMenu,Te.PopupMenuView,Te.PopupMenuManager;var ke=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Nt.SummaryCell,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"summaryIndex",{get:function(){return this._childIndex},set:function(t){this._childIndex=t},enumerable:!0,configurable:!0}),s.prototype._getSummary=function(t,e){return t&&t.headerSummaries.get(e)},s);function s(){return r.call(this,"summaryCell")||this}e.HeaderSummaryCell=n;var a,l=(a=Nt.GridSummaryObject,i(u,a),Object.defineProperty(u.prototype,"summaryIndex",{get:function(){return this._childIndex},enumerable:!0,configurable:!0}),u.prototype.getCellStyleName=function(){return u.CELL_CSS},u.prototype._createCell=function(){return new n},u.CELL_CSS="rg-header-summary-cell",u);function u(t){return a.call(this,t)||this}e.HeaderSummary=l;var h,c=(h=Nt.SummaryCollection,i(p,h),p.prototype._createSummary=function(t){return new l(t||this._grid)},p);function p(t){var e=h.call(this,t)||this;return e.visible=!1,e}e.HeaderSummaryCollection=c});t(ke);ke.HeaderSummaryCell,ke.HeaderSummary,ke.HeaderSummaryCollection;var Me=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=re.SummaryElement,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},s.prototype._getCssSelector=function(){return"rg-header-summary"},s.prototype._getRendererStyle=function(){return"rg-header-summary-renderer"},s.prototype._getSummaryRows=function(t){return t.headerSummaryRows},s.prototype._getCollection=function(){return this.model},s.prototype._getSummaryHeight=function(t){return t.summaryHeight},s.prototype._getSummaryCount=function(t){return t.headerSummaryCount},s.prototype._getSpanOf=function(t){return t.getSummarySpan()},s.prototype._getSummaryItem=function(t,e){return t.firstColumn.headerSummaries.get(e)},s.prototype._getTableRowCount=function(t){return t.headerSummaryRows*t.headerSummaryCount},s);function s(t){return r.call(this,t,"headerSummaryView")||this}e.HeaderSummaryElement=n;var a,l=(i(u,a=n),u.prototype._getCssSelector=function(){return"rg-fixed-header-summary"},u.prototype._getFirstCell=function(t){return 0},u.prototype._getLastCell=function(t){return t.fixedCellCount-1},u.prototype._getStartCell=function(t){return 0},u.prototype._getEndCell=function(t){return t.fixedCellCount-1},u.prototype._getCellCount=function(t){return t.fixedCellCount},u.prototype._getCellWidth=function(t,e){return t.getFixedCellWidth(e)},u);function u(){return null!==a&&a.apply(this,arguments)||this}e.FixedHeaderSummaryElement=l;var h,c=(i(p,h=n),p.prototype._getCssSelector=function(){return"rg-fixed-header-summary"},p.prototype._getFirstCell=function(t){return t.cellCount-t.rightCellCount},p.prototype._getLastCell=function(t){return t.cellCount-1},p.prototype._getStartCell=function(t){return t.cellCount-t.rightCellCount},p.prototype._getEndCell=function(t){return t.cellCount-1},p.prototype._getCellCount=function(t){return t.rightCellCount},p.prototype._getCellWidth=function(t,e){return t.getRightCellWidth(e)},p);function p(){return null!==h&&h.apply(this,arguments)||this}e.RightHeaderSummaryElement=c});t(Me);Me.HeaderSummaryElement,Me.FixedHeaderSummaryElement,Me.RightHeaderSummaryElement;var Le=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Jt.CellElement,i(s,r),Object.defineProperty(s.prototype,"model",{get:function(){return this._model},set:function(t){t!==this._model&&(this._model=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t||"",this._textChanged=!0,this._changed())},enumerable:!0,configurable:!0}),s.prototype.setStyleName=function(t,e){e!=this._styleName&&(this._styleName=e,this._setClassName(t))},s.prototype._getCssSelector=function(){return this._styleName},s.prototype._doUpdateContent=function(t,e,i){this._textChanged&&(this._textChanged=!1,i.textContent=this._text)},s.prototype._doRender=function(t){},s);function s(){var t=r.call(this,"gridSumCellView")||this;return t._text="",t._styleName="",t._textChanged=!1,t}e.GridSumCellElement=n;var a,l=(a=Kt.SimpleTableElement,i(u,a),u.prototype._doDispose=function(){this._cells=null,a.prototype._doDispose.call(this)},u.prototype.getSumModel=function(t){for(var e=0;e<this._cells.length;e++)if(t===this._getTableCell(0,e))return this._cells[e].model},u.prototype._getCssSelector=function(){return"rg-sum"},u.prototype._doPrepareTableExtents=function(t){for(var e,i=t.sectionObjects,o=this._count=0,r=i;o<r.length;o++){var n=r[o];n.visible&&(((e=this._cells[this._count++]).model=n)instanceof Pt.RowIndicator?e.width=t.indicatorWidth:n instanceof jt.StateBar?e.width=t.stateBarWidth:n instanceof Bt.CheckBar&&(e.width=t.stateBarWidth))}},u.prototype._prepareCellContent=function(t,e){return document.createElement("div")},u.prototype._doLayoutContent=function(t){for(var e=t.grid,i=this._count;this.childCount<i;)this.addChild(this._cells[this.childCount]);for(;this.childCount>i;)this.removeLast();for(var o=0;o<i;o++){var r=this.getChild(o),n=r.model,s=n.getSumCell(),a=this.getCellContent(0,o),l=this.$_getCellSelector()+" "+n.getSumStyleName();r.setStyleName(a,l),r.text=n.sumText,r.updateCell(e,s,a)}},u.prototype._doRender=function(t){},u.prototype._getTableRowCount=function(t){return 1},u.prototype._getTableRowHeight=function(t,e){return this.height},u.prototype._getCellCount=function(t){return this._count},u.prototype._getCellWidth=function(t,e){return this._cells[e].width},u.prototype.$_getCellSelector=function(){return"rg-sum-cell"},u.CELL_CSS="rg-sum-cell",u);function u(){var t=a.call(this,null,"gridSumView")||this;t._cells=[];for(var e=t._count=0;e<3;e++)t.addChild(t._cells[e]=new n);return t}e.GridSumElement=l});t(Le);Le.GridSumCellElement,Le.GridSumElement;var Fe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){this._selector=this._selector.dispose(),this._automating=this._automating.dispose(),r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"handleVisibility",{get:function(){return this._handleVisibility},set:function(t){t!=this._handleVisibility&&(this._handleVisibility=t,this._refreshOwner())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitBeforeFiltering",{get:function(){return this._enabled},set:function(t){t!=this._commitBeforeFiltering&&(this._commitBeforeFiltering=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"includeParentItem",{get:function(){return this._includeParentItem},set:function(t){t!=this._includeParentItem&&(this._includeParentItem=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selector",{get:function(){return this._selector},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"automating",{get:function(){return this._automating},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"toast",{get:function(){return this._toast},enumerable:!0,configurable:!0}),s.prototype.assignFrom=function(t){r.prototype.assignFrom.call(this,t),this._selector.assignFrom(t.selector)},s);function s(t){var e=r.call(this,t)||this;return e._enabled=!0,e._handleVisibility=H.HandleVisibility.VISIBLE,e._commitBeforeFiltering=!0,e._toast=new _e.ToastOptions({visible:!1,message:"Filtering..."}),e._includeParentItem=!0,e._selector=new l(t),e._automating=new c(t),e}e.FilteringOptions=n;var a,l=(a=Ht.GridBaseOptions,i(u,a),Object.defineProperty(u.prototype,"showButtons",{get:function(){return this._showButtons},set:function(t){t!=this._showButtons&&(this._showButtons=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"partialSearch",{get:function(){return this._partialSearch},set:function(t){t!=this._partialSearch&&(this._partialSearch=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"acceptText",{get:function(){return this._acceptText},set:function(t){t!=this._acceptText&&(this._acceptText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"cancelText",{get:function(){return this._cancelText},set:function(t){t!=this._cancelText&&(this._cancelText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxItemCount",{get:function(){return this._maxItemCount},set:function(t){t!=this._maxItemCount&&(this._maxItemCount=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"allCheckText",{get:function(){return this._allCheckText},set:function(t){t!=this._allCheckText&&(this._allCheckText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"emptyFilterText",{get:function(){return this._emptyFilterText},set:function(t){t!=this._emptyFilterText&&(this._emptyFilterText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"searchPlaceholder",{get:function(){return this._searchPlaceholder},set:function(t){t!=this._searchPlaceholder&&(this._searchPlaceholder=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"excludeCheck",{get:function(){return this._excludeCheck},set:function(t){t!=this._excludeCheck&&(this._excludeCheck=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"searchedCheckText",{get:function(){return this._searchedCheckText},set:function(t){t!=this._searchedCheckText&&(this._searchedCheckText=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"autoFilterGrouping",{get:function(){return this._autoFilterGrouping},set:function(t){t!=this._autoFilterGrouping&&(this._autoFilterGrouping=t)},enumerable:!0,configurable:!0}),u);function u(t){var e=a.call(this,t)||this;return e._showButtons=!1,e._partialSearch=!0,e._excludeCheck=!0,e._acceptText=null,e._cancelText=null,e._maxItemCount=10,e._allCheckText="(전체 선택)",e._searchedCheckText="(조회 전체 선택)",e._emptyFilterText="(값 없음)",e._searchPlaceholder="검색...",e._autoFilterGrouping=!0,e}e.FilterSelectorOptions=l;var h,c=(h=Ht.GridBaseOptions,i(p,h),Object.defineProperty(p.prototype,"dateCategorize",{get:function(){return this._dateCategorize},set:function(t){t!=this._dateCategorize&&(this._dateCategorize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"numberCategorize",{get:function(){return this._dateCategorize},set:function(t){t!=this._numberCategorize&&(this._numberCategorize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"textCategorize",{get:function(){return this._textCategorize},set:function(t){t!=this._textCategorize&&(this._textCategorize=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dateCategoryCallback",{get:function(){return this._dateCategoryCallback},set:function(t){t!=this._dateCategoryCallback&&(this._dateCategoryCallback=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"numberCategoryCallback",{get:function(){return this._dateCategoryCallback},set:function(t){t!=this._numberCategoryCallback&&(this._numberCategoryCallback=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"textCategoryCallback",{get:function(){return this._textCategoryCallback},set:function(t){t!=this._textCategoryCallback&&(this._textCategoryCallback=t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dateYearFormat",{get:function(){return this._dateYearFormat},set:function(t){this._dateYearFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dateQuarterFormat",{get:function(){return this._dateQuarterFormat},set:function(t){this._dateQuarterFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dateMonthFormat",{get:function(){return this._dateMonthFormat},set:function(t){this._dateMonthFormat=t},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"dateDayFormat",{get:function(){return this._dateDayFormat},set:function(t){this._dateDayFormat=t},enumerable:!0,configurable:!0}),p);function p(t){var e=h.call(this,t)||this;return e._dateCategorize=!0,e._numberCategorize=!0,e._textCategorize=!1,e._dateYearFormat="YYYY년도",e._dateQuarterFormat="Q사분기",e._dateMonthFormat="M월",e._dateDayFormat="YYYY-MM-DD",e}e.FilterAutomatingOptions=c});t(Fe);Fe.FilteringOptions,Fe.FilterSelectorOptions,Fe.FilterAutomatingOptions;var Ae=e(function(t,e){var r,i;Object.defineProperty(e,"__esModule",{value:!0}),(i=r=e.ActiveState||(e.ActiveState={})).ACTIVE="active",i.UNACTIVE="unactive",i.INDETERMINATE="indeterminate";var n=(a.HasPartial=function(t,e){return!(!t&&!e)&&-1<t.indexOf(e)},a.prototype.dispose=function(){this._filter=null,this._clearSearch(),this._clearChilds(),this._childs=null,this._founded=null},Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"active",{get:function(){return this._active},set:function(t){t!=this._active&&(this._active=t,this._filter&&(this._filter.active=t))},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"year",{get:function(){return this._year},set:function(t){this._year=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"month",{get:function(){return this._month},set:function(t){this._month=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"day",{get:function(){return this._day},set:function(t){this._day=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"activeState",{get:function(){if(this._isLeaf)return this.active?r.ACTIVE:r.UNACTIVE;for(var t=void 0,e=0,i=this._childs.length;e<i;e++){var o=this._childs[e];if(t&&o.activeState!=t)return r.INDETERMINATE;t=o.activeState}return t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isLeaf",{get:function(){return this._isLeaf},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"childCount",{get:function(){return this._isLeaf?0:(this._searched?this._founded:this._childs).length},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"descendantCount",{get:function(){if(this._isLeaf)return 0;for(var t=0,e=this._searched?this._founded:this._childs,i=0,o=e.length;i<o;i++)t+=e[i].descendantCount+1;return t},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),a.prototype.clear=function(){if(!this._isLeaf){for(var t=this._childs.length;t--;)this._childs[t].dispose(),delete this._childs[t];this._childs=null,this._isLeaf=!0}},a.prototype.resetChange=function(){this._changed=!1},a.prototype.addChild=function(t){this._childs||(this._childs=[]),this._childs.push(t),t._parent=this,t._level=this._level+1,this._isLeaf=!1},a.prototype.getChild=function(t){return this._childs[t]},a.prototype.activate=function(t,e){void 0===e&&(e=!0);var i=this._founded||this._childs;if(this._isLeaf)e?this.active=t:this._tempActive(t);else for(var o=0,r=i.length;o<r;o++)i[o].activate(t,e)},a.prototype.search=function(t){if(!this._isLeaf){var e=this._childs;if(this._clearSearch(),t){for(var i=0,o=0,r=0,n=e.length;r<n;r++){var s=e[r];s._isLeaf?a.HasPartial(s._text,t)&&(this._founded.push(s),i++):0<(o=s.search(t))&&(this._founded.push(s),i+=o+1)}return this._searched=!0,i}if(""===t)return e.length;this._clearChilds()}return 0},a.prototype.getAllDescendants=function(){for(var t=this._searched?this._founded:this._childs,e=[],i=0,o=t.length;i<o;i++)t[i].isLeaf,e.push(t[i]),t[i].isLeaf||Array.prototype.push.apply(e,t[i].getAllDescendants());return e},a.prototype.getLeafs=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1);for(var i=t&&this._searched?this._founded:this._childs,o=[],r=0,n=i.length;r<n;r++){var s=i[r];s._isLeaf?e&&!s._active||o.push(i[r]):Array.prototype.push.apply(o,i[r].getLeafs(t,e))}return o},a.prototype.excludeOutside=function(){if(!this._isLeaf){var t=this._childs,e=this._founded;if(e)for(var i=0,o=t.length;i<o;i++){var r=t[i];e.indexOf(r)<0&&(r.activate(!1,!1),r._isLeaf||r.excludeOutside())}}},a.prototype._tempActive=function(t){t!=this._active&&(this._active=t,this._changed=!0)},a.prototype._clearSearch=function(){this._searched=!1,this._founded=[]},a.prototype._clearChilds=function(){var t=this._childs;if(t){for(var e=t.length;e--;)t[e].dispose(),delete t[e];this._childs=null}},a);function a(t,e,i,o,r){this._isLeaf=!0,this._searched=!1,this._changed=!1,this._id=t,this._name=e,this._text=i,this._active=o,this._level=0,this._filter=r,this._childs=null,this._founded=null}e.FilterItem=n;var o=(y.prototype.dispose=function(){this._rootItem.clear(),this._rootItem.dispose(),this._rootItem=null},Object.defineProperty(y.prototype,"searched",{get:function(){return this._searched},enumerable:!0,configurable:!0}),y.prototype.buildItems=function(t,e,i,o){this._currentFieldName=t.fieldName,this._autoRunFilter&&(this._autoRunFilter=null);var r=o.selector,n=this._automating=o.automating;this._exclude=r.excludeCheck;var s=r.emptyFilterText;(this._autoFilter=i)&&(this._activeNames=null),this._column=t;var a=this._filters=t.filters,l=this._rootItem;if(this.clear(),i){var u=!1,h=void 0;this._valueType=t.valueType;var c=e.getDistinctValues(t.dataIndex);switch(this._valueType){case H.ValueType.DATETIME:h=(u=n.dateCategorize)&&n.dateCategoryCallback?n.dateCategoryCallback(t,c):this._categorizeDateValues(c,u,s);break;case H.ValueType.NUMBER:h=(u=n.numberCategorize)&&n.numberCategoryCallback?n.numberCategoryCallback(t,c):this._categorizeNumberValues(c,u,s);break;case H.ValueType.BOOLEAN:for(var p=!(h=[]),d=0;d<c.length;d++){var _=c[d];null!=_?h.push({text:_.toString().toUpperCase(),value:_}):p=!0}p&&h.push({text:s,empty:!0});break;case H.ValueType.TEXT:h=(u=n.textCategorize)&&n.textCategoryCallback?n.textCategoryCallback(t,c):this._categorizeTextValues(c,u,s)}h&&this._createCategories(h,l,t.valueType)}else{d=0;for(var f=a.count;d<f;d++){var y=a.getItem(d);y.visible&&l.addChild(this._createFilter(y))}}},y.prototype.search=function(t){this._rootItem.search(t),this._searched=!!t},y.prototype.getAllDescendants=function(){return this._rootItem.getAllDescendants()},y.prototype.activateAll=function(t){this._exclude&&this._searched&&this._rootItem.excludeOutside(),this._rootItem.activate(t,!1),this._applyFilterActive()},y.prototype.activateItems=function(t,e){this._exclude&&this._searched&&this._rootItem.excludeOutside();for(var i=0,o=t.length;i<o;i++)t[i].activate(e[i],!1);this._applyFilterActive()},y.prototype.activate=function(t,e){this._exclude&&this._searched&&this._rootItem.excludeOutside(),this._autoFilter?(t.activate(e,!1),this._applyAutoFilters()):t.activate(e,!0)},y.prototype.clear=function(){this._rootItem.clear(),this._indexer=0},y.prototype._createCategories=function(t,e,i){for(var o=0,r=t.length;o<r;o++){var n=t[o],s=n.empty?y.EMPTY_FILTER:n.text,a=n.text,l=this._createItem(s,a,!1);if(n.hasOwnProperty("value")&&(l.value=n.value),e.addChild(l),n.hasOwnProperty("childs"))this._createCategories(n.childs,l,i);else if(l.active=this._isActiveAutoFilter(s),i==H.ValueType.DATETIME){var u=n;l.year=u.year,l.month=u.month,l.day=u.day}else if(i==H.ValueType.BOOLEAN)l.value=n.value;else{var h=n.values;if(Array.isArray(h))for(var c=0,p=h.length;c<p;c++){var d=h[c]+"",_=this._isActiveAutoFilter(d),f=this._createItem(d,d,_);f.value=h[c],l.addChild(f)}}}},y.prototype._createItem=function(t,e,i,o){var r=this._indexer++;return new n(r,t,e,i,o)},y.prototype._createFilter=function(t){var e=this._indexer++;return new n(e,t.name,t.toString(),t.active,t)},y.prototype._categorizeDateValues=function(t,e,m){if(!t)return null;function g(t,e,i){for(var o=[],r=0;r<=i;r++)o.push(L.DateTimeConverter.getDateProperty(t,e[r]));return o}function v(t){for(var e="",i=0,o=t.length;i<o;i++)e+=t[i]+"-";return e}for(var i=L.DateTimeConverter.getDateProperty,o=0,r=0,n=0,s={year:null,quarter:null,month:null,day:null},a=t.length,l=0;l<a;l++){var u=t[l];if(u){var h=i(u,L.DateProperty.YEAR),c=i(u,L.DateProperty.QUARTER),p=i(u,L.DateProperty.MONTH),d=i(u,L.DateProperty.DAY);s?h!=s.year?(o++,r++,n++):c!=s.quarter?(r++,n++):p!=s.month?(r++,n++):d!=s.day&&n++:(o++,r++,n++),s.year=h,s.quarter=c,s.month=p,s.day=d}}function _(t,e){var i=e+"";return t?t.replace("YYYY",i).replace("YY",i.slice(-2)):i}function f(t,e){var i=e+1+"";if(!t)return i;var o=("0"+i).slice(-2);return t.replace("QQ",o).replace("Q",i)}function y(t,e){var i=e+1+"";if(!t)return i;var o=("0"+i).slice(-2);return t.replace("MM",o).replace("M",i)}var b=this._automating,C=[],w=[],x=!1,I=!1;e&&((x=1<o&&6<r)&&(C.push(L.DateProperty.YEAR),w.push(function(t,e,i){return _(b.dateYearFormat,i)})),(I=6<r/o)&&(C.push(L.DateProperty.QUARTER),w.push(x?function(t,e,i){return f(b.dateQuarterFormat,i)}:function(t,e,i){return _(b.dateYearFormat,t)+" "+f(b.dateQuarterFormat,i)})),9<n&&3<r&&(C.push(L.DateProperty.MONTH),w.push(x||I?function(t,e,i){return y(b.dateMonthFormat,i)}:function(t,e,i){return _(b.dateYearFormat,t)+" "+y(b.dateMonthFormat,i)}))),C.push(L.DateProperty.DAY),w.push(function(t,e,i){var o=_(b.dateDayFormat,t);return o=function(t,e){var i=e+"";if(!t)return i;var o=("0"+i).slice(-2);return t.replace("DD",o).replace("D",i)}(o=y(o,e),i)});var E=[];return function t(e,i,o,r,n){void 0===r&&(r=0),void 0===n&&(n=-1),n=-1==n?e.length-1:n;for(var s,a,l=null,u=r,h=!1,c=r;c<=n+1;c++){var p=e[c],d=g(p,C,i),_=v(d);if(r<c&&_!=l){var f,y=s[i];a&&(i===C.length-1?((f={text:"",year:a.getFullYear(),month:a.getMonth(),day:a.getDate()}).text=w[i](f.year,f.month,f.day),o.push(f)):((f={text:"",childs:[]}).text=w[i](a.getFullYear(),a.getMonth(),y),o.push(f),t(e,i+1,f.childs,u,c-1))),u=c}r<c&&null==a&&(h=!0),l=_,s=d,a=p}0==i&&h&&o.push({text:m,empty:!0})}(t,0,E),E},y.prototype._categorizeNumberValues=function(t,e,i){if(!t)return null;var o,r=t.filter(function(t){return null!=t&&null!=t}),n=Math.min.apply(null,r),s=t.length;if(e&&15<s){var a=Math.min(Math.max(4,Math.round(s/5)),8);o=Math.round(s/a)}else o=1;for(var l=[],u=[],h=0,c=n,p=!1,d=0;d<s;d++){var _=t[d];null!=_?d==h+o||d===s-1?(l.push({text:c+" ~ "+_,values:u}),u=[_],h=d,c=_):u.push(_):p=!0}return p&&l.push({text:i,empty:!0}),l},y.prototype._categorizeTextValues=function(t,e,i){if(!t)return null;var o=t.length,r=[],n=!1;if(e&&15<o){for(var s=[{},{},{},{}],a=[0,0,0,0],l=[0,0,0,0],u=0;u<o;u++)if(x=t[u]){var h=(C=x[0]).charCodeAt(0),c=!1,p=void 0;s[p=48<=h&&h<=57?0:65<=h&&h<=90||97<=h&&h<=122?1:1e4<=h?2:3][C]?s[p][C].push(x):(s[p][C]=[x],c=!0),a[p]++,c&&l[p]++}else n=!0;for(var d=Math.min(Math.max(4,Math.round(o/5)),8),_=0;_<4;_++){var f=0==a[_]?0:Math.max(1,Math.min(l[_],Math.round(a[_]/o*d))),y=Math.round(l[_]/f),m=y,g=(Object.keys(s[_]),s[_]),v="",b=[];for(var C in g)m===y&&(v=C),Array.prototype.push.apply(b,s[_][C]),0==--m&&(r.push({text:1==y?C:v+" ~ "+C,values:b}),b=[],m=y)}}else{u=0;for(var w=t.length;u<w;u++){var x;(x=t[u])?r.push({text:x,value:x}):n=!0}}return n&&r.push({text:i,empty:!0}),r},y.prototype._applyFilterActive=function(){if(this._autoFilter)this._applyAutoFilters();else{for(var t=this._rootItem.getLeafs(),e=[],i=[],o=0,r=t.length;o<r;o++)t[o].changed&&(t[o].active?e.push(t[o].name):i.push(t[o].name),t[o].resetChange());0<e.length&&this._filters.activateItems(e,!0),0<i.length&&this._filters.activateItems(i,!1)}},y.prototype._isActiveAutoFilter=function(t){return!(!this._autoRunFilter||!this._autoRunFilter.tag)&&(this._activeNames||(this._activeNames=this._autoRunFilter.tag.split('","')),-1<this._activeNames.indexOf(t))},y.prototype._applyAutoFilters=function(){(new Date).getTime();for(var t=this._valueType,e=[],i=this._rootItem.getLeafs(this._exclude,!0),o=!1,r="",n=0,s=i.length;n<s;n++){var a=i[n],l=a.name;if(a.active)if(e.push(l),l===y.EMPTY_FILTER)o=!0;else if(r&&(r+=t===H.ValueType.TEXT?"|":" or "),t===H.ValueType.BOOLEAN)a.value?r+="value":r+="not(value)";else if(t===H.ValueType.DATETIME)r+="((year(value) = "+a.year+") and (month(value) = "+(a.month+1)+") and (day(value) = "+a.day+"))";else if(t===H.ValueType.NUMBER)r+="(value = "+a.value+")";else if(t===H.ValueType.TEXT){var u=a.value;r+="^"+(u=u.replace(/([\{\}\[\]\/\?\|\)\#\\\=\(\'\"])/g,"\\$1")).replace(/\s/g,"\\\\s")+"$"}}r&&t===H.ValueType.TEXT&&(r="value match '"+r+"'"),o&&(r=r&&"("+r+") or ",r+="(value is empty)",e.push(y.EMPTY_FILTER)),this._runAutoFilter(!0,r,e.join('","'))},y.prototype._runAutoFilter=function(t,e,i){void 0===e&&(e=""),void 0===i&&(i=""),this._filters.activateAll(!1);var o=this._autoRunFilter;if(!this._autoRunFilter){var r=this._filters.itemByName(y.AUTO_FILTER);r?o=r:((o=this._autoRunFilter=new X.ColumnFilter(e)).name=y.AUTO_FILTER,this._filters.add(o,t),this._autoFilterStore[this._currentFieldName]=o)}o.criteria=e,o.tag=i,o.active=t},y.AUTO_FILTER="$$auto_filter",y.EMPTY_FILTER="$$empty",y.ROOT_ITEM="$$rootItem",y.DAY_TIME=864e5,y);function y(){this._activeNames=null,this._autoFilterStore={},this._rootItem=this._createItem(y.ROOT_ITEM,"",!1,null)}e.FilteringManager=o});t(Ae);Ae.ActiveState,Ae.FilterItem,Ae.FilteringManager;var Ve=e(function(t,e){var o,l,i,r=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),(i=l=l||{}).Check="check",i.UnCheck="uncheck",i.None="none";var n,s=(n=Y.EventAware,r(a,n),a.prototype._doDispose=function(){this._soptions=null,this._manager.dispose(),this._manager=null,n.prototype._doDispose.call(this)},Object.defineProperty(a.prototype,"opened",{get:function(){return this._opened},enumerable:!0,configurable:!0}),a.prototype.show=function(t,e,i){this._opened&&this.hide(),this._autoFiltering=t.autoFilter;var o=e.getBoundingClientRect(),r=this._containerDom.clientWidth,n=o.right,s=o.bottom;this._containerDom.appendChild(this._element);var a=this._element.getBoundingClientRect();this._setPosition(Math.max(0,Math.min(n,r)-a.width),s),this._buildElements(t,i,this._autoFiltering),window.addEventListener("mousedown",this._globalMouseDownHandler.bind(this),!1),window.addEventListener("keydown",this._globalKeyDownHandler.bind(this),!1),this._opened=!0},a.prototype.hide=function(){this._opened&&(window.removeEventListener("mousedown",this._globalMouseDownHandler.bind(this),!1),window.removeEventListener("keydown",this._globalKeyDownHandler.bind(this),!1),this._finalizeElements(),this._containerDom.removeChild(this._element),this._opened=!1)},a.prototype.isOwned=function(t){for(var e=t;e;){if(e==this._element)return!0;e=e.parentElement}return!1},a.prototype._setPosition=function(t,e){this._element.style.left=t+"px",this._element.style.top=e+"px"},a.prototype._buildItemElement=function(t,e,i,o,r){var n=document.createElement("div"),s=document.createElement("div");n.appendChild(s);var a=document.createElement("input");a.type="checkbox",a.className="rg-filter-checkbox",n.appendChild(a);var l=document.createTextNode("default");n.appendChild(l);var u=document.createElement("div");return n.appendChild(u),this._changeItemAttr(n,t,e,i,o,r),n},a.prototype._changeItemAttr=function(t,e,i,o,r,n,s){o&&(t.className=o);var a=t.children[0];if(a&&i){var l="rg-filter-item-indent-";this._isNoTreeCheckbox?l+="none":l+=i-1,a.className=l}var u=t.children[2];if(u&&"rg-filter-select-all"!==o){var h=u;void 0!==n?n?(h.classList.remove("rg-filter-item-expanded"),h.classList.add("rg-filter-item-collapsed")):(h.classList.remove("rg-filter-item-collapsed"),h.classList.add("rg-filter-item-expanded")):h.className="";var c=this._collapseButtonLeft;void 0!==c&&(this._indentSize&&(c+=this._indentSize*i),h.style.left=c+"px")}void 0!==e&&(t.childNodes[2].textContent=e),void 0!==s&&(t.style.top=s+"px"),t.id="rgf-"+r},a.prototype._createItemInfo=function(){this._isNoTreeCheckbox=!0,this._items=this._manager.getAllDescendants();for(var t=this._items.length,e=[],i=0;i<t;i++){var o=this._items[i],r=[],n=o.level,s={text:o.text,state:o.activeState,parent:o.parent.id,childs:r,index:i,level:n};for(o.isLeaf||(s.isCollapsed=!0),this._itemsInfoStore[o.id]=s;;){var a=e.length-1;if(-1==a){if(i===t-1)break;c={level:n,childs:r},e.push(c);break}var l=e[a];if(l.level>=n)e.pop();else{if(l.level+1===n){if(l.level+1!==n)throw new Error("invalid access while creating iteminfo");l.childs.push(o.id);break}var u=l.childs[l.childs.length-1],h=this._itemsInfoStore[u].childs,c={level:this._itemsInfoStore[u].level,childs:h};e.push(c)}}1===n?(this._willViewItemsIDStore.push(o.id),this._defaultwvIDStore.push(o.id)):this._isNoTreeCheckbox=!1}},a.prototype._removeItemInfo=function(){this._itemsInfoStore={}},a.prototype._filtersApply=function(t,e){this._manager.activateItems(t,e)},a.prototype._filtersApplyHelper=function(){if(this._isAllChecked!==l.None)return this._changedID={},void(this._isAllChecked===l.Check?this._manager.activateAll(!0):this._manager.activateAll(!1));for(var t=[],e=[],i=Object.keys(this._changedID),o=i.length,r=0;r<o;r++){var n=Number(i[r]),s=this._itemsInfoStore[n].state,a=this._itemsInfoStore[n].index;t.push(this._items[a]),s===Ae.ActiveState.ACTIVE?e.push(!0):s===Ae.ActiveState.UNACTIVE&&e.push(!1),delete this._changedID[n]}this._filtersApply(t,e)},a.prototype._isAllboxCheck=function(){var t;this._isAllChecked=l.None,this._selectAllElement.children[1]instanceof HTMLInputElement&&(t=this._selectAllElement.children[1]);var e,i=this._itemsInfoStore;for(var o in i)if(e){if(e.state===Ae.ActiveState.INDETERMINATE)return t.indeterminate=!0,void(t.checked=!1);if(e.state!==i[o].state)return t.indeterminate=!0,void(t.checked=!1)}else e=i[o];e&&(e.state===Ae.ActiveState.ACTIVE?(t.indeterminate=!1,t.checked=!0,this._isAllChecked=l.Check):(t.indeterminate=!1,t.checked=!1,this._isAllChecked=l.UnCheck))},a.prototype._selectAll=function(t){for(var e=this._items.length,i=this._viewingFilterElements.length,o=0;o<e;o++){if(o<i){var r=this._viewingFilterElements[o].children[1];if(!(r instanceof HTMLInputElement))throw new Error("there is no check box at index: "+o);r.checked=t}var n=this._items[o].id,s=this._itemsInfoStore[n];t?(s.state!==Ae.ActiveState.ACTIVE?this._changedID[n]=!0:delete this._changedID[n],s.state=Ae.ActiveState.ACTIVE):(s.state===Ae.ActiveState.ACTIVE?this._changedID[n]=!0:delete this._changedID[o],s.state=Ae.ActiveState.UNACTIVE)}this._isAllChecked=t?l.Check:l.UnCheck},a.prototype._checkSelectAllBoxDOM=function(t){var e,i=t.target;if(i instanceof HTMLInputElement)i.indeterminate=!1,e=i.checked;else if(i instanceof HTMLDivElement){var o=i.children[1];o instanceof HTMLInputElement&&(o.indeterminate=!1,o.checked=!o.checked,e=o.checked)}return e},a.prototype._checkboxDomCheck=function(t,e){var i=t.children[1];if(e===Ae.ActiveState.ACTIVE)i.indeterminate=!1,i.checked=!0;else if(e===Ae.ActiveState.UNACTIVE)i.indeterminate=!1,i.checked=!1;else{if(e!==Ae.ActiveState.INDETERMINATE)throw new Error("invalid checkbox dom checking state: "+e);i.indeterminate=!0,i.checked=!1}},a.prototype._convertIDtoNumeric=function(t){return Number(t.substring(4))},a.prototype._getItemDOMID=function(t,e){var i=t.target;if(e)i=i.parentElement;else if(i instanceof HTMLInputElement)i=i.parentElement;else if(i instanceof HTMLDivElement){var o=i.children[1];o.checked=!o.checked}return this._convertIDtoNumeric(i.id)},a.prototype._observeChange=function(t){this._changedID[t]?delete this._changedID[t]:this._changedID[t]=!0},a.prototype._childsInfoActive=function(t,e,i){for(var o=t.childs,r=o.length,n=0;n<r;n++)this._childsInfoActive(this._itemsInfoStore[o[n]],o[n],i);var s=t.state===Ae.ActiveState.ACTIVE&&i!==Ae.ActiveState.ACTIVE,a=t.state!==Ae.ActiveState.ACTIVE&&i===Ae.ActiveState.ACTIVE;(s||a)&&this._observeChange(e),t.state=i},a.prototype._parentInfoActive=function(t,e){var i=t.parent,o=this._itemsInfoStore[i];if(o){var r=o.childs,n=r.length,s=this._isParentActive(r,n),a=o.state===Ae.ActiveState.ACTIVE&&e!==s,l=o.state!==Ae.ActiveState.ACTIVE&&e===s;(a||l)&&this._observeChange(i),o.state=s,this._parentInfoActive(o,e)}},a.prototype._isParentActive=function(t,e){for(var i,o=this._itemsInfoStore,r=0;r<e;r++){var n=o[t[r]].state;if((i=i||n)!==n)return Ae.ActiveState.INDETERMINATE}return i},a.prototype._afterCheck=function(){for(var t=this._viewingFilterElements,e=t.length,i=0;i<e;i++){var o=this._convertIDtoNumeric(t[i].id),r=this._itemsInfoStore;this._checkboxDomCheck(t[i],r[o].state)}},a.prototype._changeItemDomContents=function(t,e){var i=this._willViewItemsIDStore[e],o=this._itemsInfoStore[i];this._changeItemAttr(t,o.text,o.level,"rg-filter-item",i,o.isCollapsed,e*this._itemHeight),this._checkboxDomCheck(t,o.state)},a.prototype._resizeListContainer=function(){var t=this._willViewItemsIDStore.length;this._listContainer.style.height=t*this._itemHeight+"px"},a.prototype._changeWillViewItemStore=function(){var t=this._defaultwvIDStore,e=t.length;this._willViewItemsIDStore=this._changeWillViewItemStoreHelper(t,e)},a.prototype._changeWillViewItemStoreHelper=function(t,e){for(var i=[],o=0;o<e;o++){i.push(t[o]);var r=this._itemsInfoStore[t[o]],n=r.isCollapsed;if(void 0!==n){var s=void 0;if(n)for(var a=r.level,l=o+1;l<e&&a<this._itemsInfoStore[t[l]].level;l++)o++;else{var u=this._itemsInfoStore[t[o]].childs,h=u.length;s=this._changeWillViewItemStoreHelper(u,h),i=i.concat(s)}}}return i},a.prototype._getTopPosAsNum=function(t){var e=t.style.top;return Number(e.substr(0,e.length-2))},a.prototype._decideFirstItemIndex=function(){var t=this._currentScrollTop,e=this._itemHeight;this._firstItemIndex=Math.floor(t/e)},a.prototype._clearSearch=function(){this._searchbox.value="",this._searchbox.dispatchEvent(new Event("input"))},a.prototype._buildElements=function(t,e,i){var o=this._soptions.showButtons;this._hasFooter=!1,this._targetColumn=t,this._soptions,this._manager.buildItems(t,e,i,this._options),this._createItemInfo(),this._header=document.createElement("div"),this._header.className="rg-filter-header",this._element.appendChild(this._header);var r,n=this._soptions.partialSearch;n&&((r=document.createElement("div")).className="rg-filter-searchbox",this._header.appendChild(r)),this._buildSelectAllBox(o),this._filterListViewport=document.createElement("div"),this._filterListViewport.className="rg-filter-list-viewport",this._filterListViewport.addEventListener("scroll",this._scrollHandler.bind(this)),this._element.appendChild(this._filterListViewport),this._listContainer=document.createElement("div"),this._listContainer.className="rg-filter-list",this._listContainer.style.position="relative",this._filterListViewport.appendChild(this._listContainer),this._buildFilterItems(o),n&&this._buildSearchbox(r),this._buildFooter(this._element,o)},a.prototype._buildSelectAllBox=function(t){var e,i=this._soptions.allCheckText;console.log("selectall check text is "+i),this._selectAllElement=this._buildItemElement(i,0,"rg-filter-select-all"),this._header.appendChild(this._selectAllElement),this._manager.searched&&(e=this._soptions.searchedCheckText),this._changeItemAttr(this._selectAllElement,e),this._selectAllElement.addEventListener("click",this._selectAllHandler.bind(this)),this._isAllboxCheck()},a.prototype._buildFilterItem=function(t,e){var i,o=this._items,r=this._listContainer,n=this._itemsInfoStore[o[e].id].isCollapsed,s=this._buildItemElement(o[e].text,o[e].level,"rg-filter-item",o[e].id,n);s.children[1]instanceof HTMLInputElement&&(i=s.children[1]);var a=o[e].activeState;return a===Ae.ActiveState.ACTIVE?i.checked=!0:a===Ae.ActiveState.UNACTIVE?i.checked=!1:i.indeterminate=!0,s.style.position="absolute",s.style.height=this._itemHeight+"px",s.addEventListener("click",this._boxHandler.bind(this)),r.appendChild(s),s},a.prototype._buildFilterItems=function(t){var e,i=this._buildItemElement(null,null,"rg-filter-item");this._listContainer.appendChild(i),this._itemHeight=Math.floor(i.getBoundingClientRect().height);var o=i.children[0];o.classList.add("rg-filter-item-indent-0");var r=i.children[1],n=r.getBoundingClientRect().left,s=i.children[2];s.classList.add("rg-filter-item-expanded"),r&&o&&(o.classList.add("rg-filter-item-indent-1"),e=0-s.getBoundingClientRect().width,this._collapseButtonLeft=e,this._indentSize=r.getBoundingClientRect().left-n),this._listContainer.removeChild(i),this._items;var a=this._willViewItemsIDStore,l=a.length;this._viewingFilterElements=[];var u=this._filterListViewport.offsetHeight,h=Math.min(this._items.length,Math.floor(u/this._itemHeight)+2);this._viewingMaxItemLen=h,console.log("viewing maxItems number is: "+h),this._listContainer.style.height=l*this._itemHeight+"px";for(var c=l<h?l:h,p=0;p<c;p++){var d=this._itemsInfoStore[a[p]],_=d.index,f=this._buildFilterItem(t,_);this._checkboxDomCheck(f,d.state),f.style.top=p*this._itemHeight+"px",this._viewingFilterElements.push(f)}},a.prototype._buildSearchbox=function(t){this._searchbox=document.createElement("input"),this._searchbox.type="text";var e=this._soptions.searchPlaceholder;this._searchbox.placeholder=e,this._searchbox.className="rg-filter-search-input",t.appendChild(this._searchbox),this._searchbox.addEventListener("input",this._searchHandler.bind(this)),this._hasSearchbox=!0},a.prototype._buildFooter=function(t,e){if(e){this._footer=document.createElement("div"),this._footer.className="rg-filter-footer-container";var i=document.createElement("button");i.className="rg-filter-footer-confirm-button";var o=document.createElement("button");o.className="rg-filter-footer-cancel-button",this._footer.appendChild(o),this._footer.appendChild(i),i.textContent=this._soptions.acceptText||"Confirm",i.addEventListener("click",this._filtersApply.bind(this)),o.textContent=this._soptions.cancelText||"Cancel",o.addEventListener("click",this._finalizeElements.bind(this)),t.appendChild(this._footer),this._hasFooter=!0}},a.prototype._finalizeSearchbox=function(){this._hasSearchbox&&(this._searchbox&&this._searchbox.removeEventListener("input",this._searchHandler.bind(this)),this._searchbox.parentElement.parentElement.removeChild(this._searchbox.parentElement),this._searchbox.parentElement.removeChild(this._searchbox),this._searchbox=null,this._hasSearchbox=!1)},a.prototype._finalizeSelectAllBox=function(){this._selectAllElement.removeEventListener("click",this._selectAllHandler.bind(this)),this._selectAllElement.removeChild(this._selectAllElement.children[1]),this._selectAllElement.removeChild(this._selectAllElement.children[0]),this._selectAllElement.parentElement.removeChild(this._selectAllElement),this._selectAllElement=null},a.prototype._fianlizeFilterItem=function(t){var e=this._viewingFilterElements[t],i=e.children[2],o=e.children[1],r=e.children[0];e.removeEventListener("click",this._boxHandler.bind(this)),e.removeChild(i),e.removeChild(o),e.removeChild(r),e.parentElement.removeChild(e)},a.prototype._finalizeFilterItems=function(){for(var t=this._viewingFilterElements.length-1;-1<t;t--)this._fianlizeFilterItem(t);this._viewingMaxItemLen=0,this._itemHeight=0,this._currentScrollTop=0,this._isAllChecked=null,this._collapseButtonLeft=0,this._indentSize=0,this._firstItemIndex=0,this._isNoTreeCheckbox=null,this._viewingFilterElements=null,this._willViewItemsIDStore=[],this._defaultwvIDStore=[],this._viewingMaxItemLen=0},a.prototype._finalizeFooter=function(){if(this._hasFooter){var t=this._footer.children[1];t.removeEventListener("click",this._filtersApply.bind(this)),this._footer.removeChild(t);var e=this._footer.children[0];e.removeEventListener("click",this._finalizeElements.bind(this)),this._footer.removeChild(e),this._footer.parentElement.removeChild(this._footer),this._footer=null,this._hasFooter=!1}},a.prototype._finalizeHeader=function(){this._finalizeSearchbox(),this._finalizeSelectAllBox()},a.prototype._finalizeBody=function(){this._finalizeFilterItems(),this._filterListViewport.removeChild(this._listContainer),this._filterListViewport.removeEventListener("scroll",this._scrollHandler.bind(this)),this._listContainer=null},a.prototype._finalizeElements=function(){this._clearSearch(),this._finalizeHeader(),this._finalizeBody(),this._removeItemInfo(),this._finalizeFooter(),this._element.removeChild(this._header),this._element.removeChild(this._filterListViewport),this._header=null,this._filterListViewport=null},a.prototype._globalMouseDownHandler=function(t){for(var e=t.target;e;){if(e===this._element)return;e=e.parentElement}this.hide()},a.prototype._globalKeyDownHandler=function(t){27==t.keyCode&&this.hide()},a.prototype._searchHandler=function(t){if(t.target instanceof HTMLInputElement){this._finalizeFilterItems(),this._finalizeSelectAllBox(),this._removeItemInfo();var e=t.target.value||"";this._manager.search(e),this._createItemInfo(),this._buildSelectAllBox(this._hasFooter),this._buildFilterItems(this._hasFooter)}},a.prototype._selectAllHandler=function(t){console.log("select all box handler runned");var e=this._checkSelectAllBoxDOM(t);this._selectAll(e),this._hasFooter||(this._changedID={},this._manager.activateAll(e))},a.prototype._boxHandler=function(t){var e=t.target instanceof HTMLDivElement&&!t.target.children[2],i=this._getItemDOMID(t,e),o=this._itemsInfoStore[i],r=e&&void 0!==o.isCollapsed;if(r)console.log("collapsing!"),this._collapseHandler(t);else{var n=void 0;n=o.state===Ae.ActiveState.ACTIVE?Ae.ActiveState.UNACTIVE:Ae.ActiveState.ACTIVE,this._childsInfoActive(o,i,n),this._parentInfoActive(o,n),this._afterCheck()}var s=o.index;if(console.log("ID is: "+i),console.log("res index is: "+s),this._isAllboxCheck(),!r&&!this._hasFooter)if(void 0===o.isCollapsed){var a=o.state===Ae.ActiveState.ACTIVE;this._changedID={},this._manager.activate(this._items[s],a)}else this._filtersApplyHelper()},a.prototype._scrollHandler=function(t){this._currentScrollTop=this._filterListViewport.scrollTop;var e=this._viewingFilterElements,i=e.length,o=this._willViewItemsIDStore.length,r=(this._viewingMaxItemLen,this._firstItemIndex);this._decideFirstItemIndex();var n=this._firstItemIndex,s=this._itemHeight;console.log("----scroll----"),console.log("list scroll top is: "+this._filterListViewport.scrollTop),console.log("currentTop is: "+this._currentScrollTop),console.log("wvitemID index is: "+n);for(var a,l=n-r,u=0;u<i;u++)if(0<l){if(this._getTopPosAsNum(e[u])<n*s){var h=r+i-1+l;o<=h?a=e[u]:this._changeItemDomContents(e[u],h),l--}}else l<0&&(n+i)*s<this._getTopPosAsNum(e[u])+s&&(this._changeItemDomContents(e[u],r+l),l++);a&&this._changeItemDomContents(a,n-1)},a.prototype._collapseHandler=function(t){var e,i=t.target.parentElement,o=this._itemsInfoStore,r=this._getTopPosAsNum(i);if(i&&void 0!==o[e=this._convertIDtoNumeric(i.id)].isCollapsed){o[e].isCollapsed=!o[e].isCollapsed,this._changeWillViewItemStore(),this._resizeListContainer();var n=this._willViewItemsIDStore.length,s=this._viewingMaxItemLen,a=this._viewingFilterElements,l=a.length;if(n<l){for(var u=0,h=r/this._itemHeight,c=[],p=0,d=l-1;0<=d;d--)r<=(g=this._getTopPosAsNum(a[d]))?u<n-h?h+u>=a.length?c.push(a[d]):(this._changeItemDomContents(a[d],h+u),u++):a.length+c.length===n?c.push(a[d]):(this._fianlizeFilterItem(d),a.splice(d,1)):p++;var _=c.length;for(d=1;d<=_;d++)0<=(w=h-d-p)&&this._changeItemDomContents(c[d-1],w)}else{var f=[],y=void(p=0),m=h=r/this._itemHeight;for(d=0;d<l;d++){var g;if(r<=(g=this._getTopPosAsNum(a[d]))){var v=g/this._itemHeight;n<=v?f.push(a[d]):(this._changeItemDomContents(a[d],v),m<v&&(m=v))}else{p++;var b=g+this._itemHeight;this._currentScrollTop>b&&(y=a[d])}}var C=f.length;for(d=1;d<=C;d++){var w;0<=(w=h-d-p)&&this._changeItemDomContents(f[d-1],w)}y&&this._changeItemDomContents(y,m+1)}if(l<s&&l<n){var x=s<n?s-l:n-l;for(d=0;d<x;d++){var I=this._buildItemElement("default",1);this._viewingFilterElements.push(I),I.style.position="absolute",I.style.height=this._itemHeight+"px",I.addEventListener("click",this._boxHandler.bind(this)),this._listContainer.appendChild(I),this._changeItemDomContents(I,this._firstItemIndex+l+d)}}}},a);function a(t,e){var i=n.call(this)||this;return i._opened=!1,i._hasFooter=!1,i._hasSearchbox=!1,i._itemsInfoStore={},i._changedID={},i._currentScrollTop=0,i._willViewItemsIDStore=[],i._firstItemIndex=0,i._defaultwvIDStore=[],i._containerDom=document.documentElement,i._element=document.createElement("div"),i._element.className="rg-filter-selector",i._element.style.position="absolute",i._options=e,i._soptions=e.selector,i._manager=new Ae.FilteringManager,i}e.FilterSelector=s});t(Ve);Ve.FilterSelector;var Ne=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.$_instanceOf=function(t,e){return"object"==typeof t&&0<=Object.prototype.toString.call(t).indexOf(e)},e._gk="dkdl"});t(Ne);Ne.$_instanceOf,Ne._gk;var je=e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var d=(l.decode=function(t){for(var e=l.CHARACTERS,i=l.SUFFIX,o=t.split(""),r=[],n=o.length;o[--n]==i;);for(var s=0;s<n;){var a=e.indexOf(o[s++])<<18;s<=n&&(a|=e.indexOf(o[s++])<<12),s<=n&&(a|=e.indexOf(o[s++])<<6),s<=n&&(a|=e.indexOf(o[s++])),r.push(a>>>16&255),r.push(a>>>8&255),r.push(255&a)}for(;0==r[r.length-1];)r.pop();return r},l.SUFFIX="=",l.CHARACTERS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l);function l(){}var u=(_.union=function(t,e){var i=e.s3[255&t];t>>=8;var o=e.s2[255&t];t>>=8;var r=e.s1[255&t];t>>=8;var n=e.s0[255&t],s=(n>>16)+(r>>16)+((65535&n)+(65535&r)>>16)<<16|(65535&n)+(65535&r)&65535;return((s=(s>>16^o>>16)<<16|65535&(65535&s^65535&o))>>16)+(i>>16)+((65535&s)+(65535&i)>>16)<<16|(65535&s)+(65535&i)&65535},_.xor=function(t,e){return(t>>16^e>>16)<<16|65535&(65535&t^65535&e)},_._encryptBlock=function(t,e){var i=t.left,o=t.right,r=_.xor,n=_.union;i=r(i=r(i=r(i=r(i=r(i=r(i=r(i=r(i=r(i,e.p[0]),r(n(o=r(o,r(n(i,e),e.p[1])),e),e.p[2])),r(n(o=r(o,r(n(i,e),e.p[3])),e),e.p[4])),r(n(o=r(o,r(n(i,e),e.p[5])),e),e.p[6])),r(n(o=r(o,r(n(i,e),e.p[7])),e),e.p[8])),r(n(o=r(o,r(n(i,e),e.p[9])),e),e.p[10])),r(n(o=r(o,r(n(i,e),e.p[11])),e),e.p[12])),r(n(o=r(o,r(n(i,e),e.p[13])),e),e.p[14])),r(n(o=r(o,r(n(i,e),e.p[15])),e),e.p[16])),t.right=i,t.left=r(o,e.p[17])},_._decryptBlock=function(t,e){var i=t.left,o=t.right,r=_.xor,n=_.union;i=r(i=r(i=r(i=r(i=r(i=r(i=r(i=r(i=r(i,e.p[17]),r(n(o=r(o,r(n(i,e),e.p[16])),e),e.p[15])),r(n(o=r(o,r(n(i,e),e.p[14])),e),e.p[13])),r(n(o=r(o,r(n(i,e),e.p[12])),e),e.p[11])),r(n(o=r(o,r(n(i,e),e.p[10])),e),e.p[9])),r(n(o=r(o,r(n(i,e),e.p[8])),e),e.p[7])),r(n(o=r(o,r(n(i,e),e.p[6])),e),e.p[5])),r(n(o=r(o,r(n(i,e),e.p[4])),e),e.p[3])),r(n(o=r(o,r(n(i,e),e.p[2])),e),e.p[1])),t.right=i,t.left=r(o,e.p[0])},_._init=function(t){var e,i,o,r=t.split("").map(function(t){return 255&t.charCodeAt(0)}),n=_.kb,s=_._encryptBlock,a=0,l=0,u={left:0,right:0},h={p:n.p.slice(0).map(function(t){var e,i=r.length;for(e=0;e<4;e++)l=l*_.POW8|r[a++%i];return(t>>16^l>>16)<<16|65535&(65535&t^65535&l)}),s0:n.s0.slice(0),s1:n.s1.slice(0),s2:n.s2.slice(0),s3:n.s3.slice(0)};for(e=0,o=h.p.length;e<o;)s(u,h),h.p[e++]=u.left,h.p[e++]=u.right;for(e=0;e<4;e++)for(i=0,o=h["s"+e].length;i<o;)s(u,h),h["s"+e][i++]=u.left,h["s"+e][i++]=u.right;return h},_.decrypt=function(t,e){for(var i=_._decryptBlock,o=_._init(e),r=[],n=d.decode(t),s=n.length>>3,a=0,l={left:null,right:null},u=0;u<s;u++){l.left=n[a]*_.POW24|n[a+1]*_.POW16|n[a+2]*_.POW8|n[a+3],l.right=n[a+4]*_.POW24|n[a+5]*_.POW16|n[a+6]*_.POW8|n[a+7],i(l,o);var h=l.left,c=l.right;r.push(h>>24&255),r.push(h>>16&255),r.push(h>>8&255),r.push(255&h),r.push(c>>24&255),r.push(c>>16&255),r.push(c>>8&255),r.push(255&c),a+=8}if(r[r.length-1]==r[r.length-2]||1==r[r.length-1]){var p=r[r.length-1];r.splice(r.length-p,p)}return r.map(function(t){return String.fromCharCode(t)}).join("")},_.POW2=Math.pow(2,2),_.POW3=Math.pow(2,3),_.POW4=Math.pow(2,4),_.POW8=Math.pow(2,8),_.POW16=Math.pow(2,16),_.POW24=Math.pow(2,24),_.kb={p:[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s0:[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],s1:[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],s2:[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],s3:[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],k:[202,218,204,100]},_);function _(){}e.Cryptor=u;var a=(i.eqaulsUpperDomain=function(t,e){return t==e||0===t.indexOf("*")&&(t=t.substr(1,t.length-1),e.substr(e.indexOf(t),t.length)==t)},i._getLDKey=function(t){for(var e="",i=0,o=t.length;i<o;i++)e+=String.fromCharCode(t[i]>>1);return e},i.includedDomains=function(t,e){for(var i=t.split(","),o=0,r=i.length;o<r;o++)if(this.eqaulsUpperDomain(i[o],e))return!0;return!1},i.decrypt=function(t){for(var e={},i=u.decrypt(t,Ne._gk+this._getLDKey(u.kb.k)).split(";"),o=0,r=i.length;o<r;o++){var n=i[o].split("="),s=n[0],a=n[1];a&&0<a.length&&(e[s]=a)}return e},i);function i(){}e.lk=function(){var t,e=location.hostname;try{t=realGridJsLic}catch(t){return!1}if(!t)return!1;var i=a.decrypt(t);if("RealGridJs"!=i.name)return!1;if((i.vender||null)!=(v.globalRealGridInfo.vender||null))return!1;var o=i.server.toLowerCase();if(v.globalRealGridInfo.license!=v.LicenseType.Developer&&!a.includedDomains(o,e.toLowerCase()))return!1;var r=i.lic.toLowerCase();if(r==v.LicenseType.Evaluation||r==v.LicenseType.Limited){var n=i.expire.split(".").map(function(t){return parseInt(t)}),s=new Date(n[0],n[1],n[2],23,59,59,999);if(new Date>s)return!1}return!0}});t(je);je.Cryptor,je.lk;var Be=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=it.GridCell,i(s,r),s.prototype._doDispose=function(){this._rowGroup=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"text",{get:function(){return this.item instanceof Z.GroupItemImpl?this._rowGroup.getHeaderText(this.item):""},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"value",{get:function(){},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this,"rowGroupHeaderCell")||this;return e._rowGroup=t,e}e.RowGroupHeaderCell=n;var a,l=(a=it.GridCell,i(u,a),u.$_getValue=function(t,e){if(e&&0<=e.dataIndex){var i=e.grid,o=t.parent,r=o.getFooterIndex(t),n=e.groupFooters.getItem(r);if(n&&n.expression){var s=i.rowGroupSummaryRuntime;return s.setColumn(e,e.grid.summarizer),s.setItem(o),n.evaluate(s)}if(n&&n.valueCallback)return(0,n.valueCallback)(n,null);if(o&&e&&i.isGroupedColumn(e)){var a=i.rowGroup.getFooterText(o);return null==a?void 0:a}}},u.getValue=function(t,e){try{return u.$_getValue(t,e)}catch(t){return it.GridCell.ERROR}},u.$_displayText=function(t,e,i){var o=isNaN(i)?null:String(i);if(!o){var r=e.grid,n=U.Utils.cast(t.parent,Z.GroupItemImpl),s=r.rowGroup,a=void 0;if(n&&e&&r.isGroupedColumn(e)&&(a=s.getFooterText(n)))o=a;else if(e){var l=e.groupFooters.getItem(n.getFooterIndex(t));l&&(o=l.text)}}return o||""},u.prototype._doDispose=function(){this._rowGroup=null,a.prototype._doDispose.call(this)},u.prototype.calculate=function(t){this._value=NaN,this._error=null;try{this._value=u.$_getValue(this.item||t,this.index.dataColumn)}catch(t){this._error=t,this._errorDetail=t,console.log("FOOTER ERROR: "+t)}},Object.defineProperty(u.prototype,"text",{get:function(){return this._error?it.GridCell.ERROR:u.$_displayText(this.item,this.index.dataColumn,this._value)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"level",{get:function(){return this.index.item.level},enumerable:!0,configurable:!0}),u);function u(t){var e=a.call(this,"rowGroupFooterCell")||this;return e._value=NaN,e._rowGroup=t,e}e.RowGroupFooterCell=l;var h,c=(h=it.GridCell,i(p,h),Object.defineProperty(p.prototype,"level",{get:function(){return this.item.level},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"getText",{get:function(){return""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){},enumerable:!0,configurable:!0}),p);function p(){var t=h.call(this,"rowGroupBarCell")||this;return t._level=0,t}e.RowGroupBarCell=c;var d,_=(d=ue.Base,i(f,d),f.prototype._doDispose=function(){d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"styleName",{get:function(){return this._styleName},set:function(t){t!=this._styleName&&(this._styleName=t,this._changed())},enumerable:!0,configurable:!0}),f.prototype._changed=function(){this.$_collection&&this.$_collection.$_itemChanged(this)},f);function f(){return d.call(this)||this}e.RowGroupFooter=_;var y,m=(y=ue.Base,i(g,y),g.prototype._doDispose=function(){for(var t=0,e=this._items;t<e.length;t++)e[t].dispose();this._items=null,y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"count",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),g.prototype.get=function(t){return this._items[t]},g.prototype.assignFrom=function(t){if(U.Utils.isArray(t)){for(var e=t.length;this._items.length<e;)this._items.push(null);0<e&&this._items.length>e&&(this._items.length=e),0<e&&this._items[0].assignFrom(t[0]);for(var i=1;i<e;i++)t[i]?(this._items[i]||(this._items[i]=new _),this._items[i].assignFrom(t[i]),this._items[i].$_collection=this):this._items[i]=null}else this._items[0].assignFrom(t);this.$_itemChanged(null)},g.prototype.$_itemChanged=function(t){this._owner&&this._owner.rowGroupFooterChanged(t)},g);function g(t){var e=y.call(this)||this;return e._items=[],e._owner=t,e._items.push(new _),e._items[0].$_collection=e}e.RowGroupFooterCollection=m;var v,b=(v=ue.Base,i(C,v),C.prototype._doDispose=function(){v.prototype._doDispose.call(this)},C);function C(){return v.call(this)||this}e.RowGroupLevel=b;var w,x=(w=J.VisualObject,i(I,w),I.prototype._doDispose=function(){this._footers=this._footers.dispose(),w.prototype._doDispose.call(this)},I.prototype.rowGroupFooterChanged=function(t){this._counterAware&&this._counterAware.groupfFooterCounterChanged(this)},I.prototype.getGroupFooterCount=function(t){return this._footers.count},I.prototype.setCounterAware=function(t){this._counterAware=t},Object.defineProperty(I.prototype,"mergeMode",{get:function(){return this._mergeMode},set:function(t){t!=this._mergeMode&&(this._mergeMode=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"sorting",{get:function(){return this._sorting},set:function(t){t!=this._sorting&&(this._sorting=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"expandedAdornments",{get:function(){return this._expandedAdornments},set:function(t){t!=this._expandedAdornments&&(this._expandedAdornments=t,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"collapsedAdornments",{get:function(){return this._collapsedAdornments},set:function(t){t!=this._collapsedAdornments&&(this._collapsedAdornments=t,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"createFooterCallback",{get:function(){return this._createFooterCallback},set:function(t){t!==this._createFooterCallback&&(this._createFooterCallback=t,this._grid&&this._grid.$_rowGroupAdornmentsChanged(this))},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"levelIndent",{get:function(){return this._levelIndent},set:function(t){(t=Math.max(0,t))!=this._levelIndent&&(this._levelIndent=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"mergeHeaderIndenting",{get:function(){return this._mergeHeaderIndenting},set:function(t){t!=this._mergeHeaderIndenting&&(this._mergeHeaderIndenting=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"mergeFooterIndenting",{get:function(){return this._mergeFooterIndenting},set:function(t){t!=this._mergeFooterIndenting&&(this._mergeFooterIndenting=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"mergeExpander",{get:function(){return this._mergeExpander},set:function(t){t!=this._mergeExpander&&(this._mergeExpander=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"footers",{get:function(){return this._footers},enumerable:!0,configurable:!0}),I.prototype.setFooters=function(t){this._footers.assignFrom(t)},I.prototype.getHeaderCell=function(t){return this._headerCell.setIndex(et.CellIndex.temp(this.owner,t.index)),this._headerCell},I.prototype.getFooterCell=function(t){var e=t.item;return e.parent,t.valueColumn,this._footerCell.setIndex(t),this._footerCell.calculate(e),this._footerCell},I.prototype.getBarCell=function(t){return this._barCell.setIndex(t),this._barCell},I.prototype.getHeaderText=function(t){return this._statementRuntime.setGrid(this.owner),this._statementRuntime.setGroup(t),this._headerExprStatement.evaluate(this._statementRuntime)},I.prototype.getFooterText=function(t){return this._footerExprStatement?(this._statementRuntime.setGrid(this.owner),this._statementRuntime.setGroup(t),this._footerExprStatement.evaluate(this._statementRuntime)):null},I.prototype._doChanged=function(){this.owner.$_rowGroupChanged(this)},I);function I(t){var e=w.call(this,t)||this;return e._mergeMode=!1,e._sorting=!0,e._expandedAdornments=H.RowGroupAdornments.BOTH,e._collapsedAdornments=H.RowGroupAdornments.HEADER,e._levelIndent=20,e._mergeHeaderIndenting=!0,e._mergeFooterIndenting=!0,e._headerStatement="${groupField}: ${groupValue} - ${rowCount} rows",e._expandedIconUrl="images/expanded.png",e._collapsedIconUrl="images/collapsed.png",e._mergeExpander=!0,e._headerCell=new n(e),e._footerCell=new l(e),e._barCell=new c,e._headerExprStatement=new K.ExpressionStatement(e._headerStatement),e._footerExprStatement=new K.ExpressionStatement,e._statementRuntime=new O.RowGroupStatementRuntime,e._footers=new m(e),e}e.RowGroup=x});t(Be);Be.RowGroupHeaderCell,Be.RowGroupFooterCell,Be.RowGroupBarCell,Be.RowGroupFooter,Be.RowGroupFooterCollection,Be.RowGroupLevel,Be.RowGroup;var $e=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,a=new G.Rectangle(-1e4,-1e4,100,100),r=(n=Ot.LayerElement,i(s,n),s.createColumn=function(t){return t?"series"==t.type?new ut.SeriesColumn(t):new ut.DataColumn(t):null},s.prototype._doDispose=function(){return U.Utils.$_getActiveGrid()==this&&U.Utils.$_setActiveGrid(null),this.clearListener(),this._container=this._container.dispose(),this._gridObjects.length=0,this._header=this._header.dispose(),this._headerSummaries=this._headerSummaries.dispose(),this._footers=this._footers.dispose(),this._rowIndicator=this._rowIndicator.dispose(),this._stateBar=this._stateBar.dispose(),this._checkBar=this._checkBar.dispose(),this._body=this._body.dispose(),this._rootElement=this._rootElement.dispose(),this._contentPane=this._contentPane.dispose(),this._rightContentPane=this._rightContentPane.dispose(),this._fixedContentPane=this._fixedContentPane.dispose(),this._leftContentPane=this._leftContentPane.dispose(),this._sideContentPane=this._sideContentPane.dispose(),this._topContentPane=this._topContentPane.dispose(),this._bodyView=this._bodyView.dispose(),this._fixedBodyView=this._fixedBodyView.dispose(),this._rightBodyView=this._rightBodyView.dispose(),this._mergeView=this._mergeView.dispose(),this._fixedMergeView=this._fixedMergeView.dispose(),this._rightMergeView=this._rightMergeView.dispose(),this._headerView=this._headerView.dispose(),this._fixedHeaderView=this._fixedHeaderView.dispose(),this._rightHeaderView=this._rightHeaderView.dispose(),this._headerSummaryView=this._headerSummaryView.dispose(),this._fixedHeaderSummaryView=this._fixedHeaderSummaryView.dispose(),this._rightHeaderSummaryView=this._rightHeaderSummaryView.dispose(),this._footerView=this._footerView.dispose(),this._fixedFooterView=this._fixedFooterView.dispose(),this._rightFooterView=this._rightFooterView.dispose(),this._rowIndicatorView=this._rowIndicatorView.dispose(),this._stateBarView=this._stateBarView.dispose(),this._checkBarView=this._checkBarView.dispose(),this._headView=this._headView.dispose(),this._sumView=this._sumView.dispose(),this._footView=this._footView.dispose(),this._selectionLayer=this._selectionLayer.dispose(),this._feedbackLayer=this._feedbackLayer.dispose(),this._hscrollBar=this._hscrollBar.dispose(),this._vscrollBar=this._vscrollBar.dispose(),this._scrollEdge=this._scrollEdge.dispose(),this._selections=this._selections.dispose(),this._fixedOptions=this._fixedOptions.dispose(),this._displayOptions=this._displayOptions.dispose(),this._formatOptions=this._formatOptions.dispose(),this._editOptions=this._editOptions.dispose(),this._editorOptions=this._editorOptions.dispose(),this._copyOptions=this._copyOptions.dispose(),this._pasteOptions=this._pasteOptions.dispose(),this._sortingOptions=this._sortingOptions.dispose(),this._filteringOptions=this._filteringOptions.dispose(),this._columns=this._columns.dispose(),this._activeCellLayout=null,this._defaultCellLayout=this._defaultCellLayout.dispose(),this._delegate=this._delegate.dispose(),this._layoutManager=this._layoutManager.dispose(),this._editController=this._editController&&this._editController.dispose(),this._filterSelector=this._filterSelector.dispose(),this._toastManager=this._toastManager.dispose(),this._tableViews=null,this._lookupProvider=this._lookupProvider&&this._lookupProvider.dispose(),this._columnSummaryRuntime=this._columnSummaryRuntime&&this._columnSummaryRuntime.dispose(),this._popupMenuManager=this._popupMenuManager&&this._popupMenuManager.dispose(),this._tooltipManager=this._tooltipManager&&this._tooltipManager.dispose(),this._focusedIndex=this._focusedIndex.dispose(),et.CellIndex.clearTemp(),n.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"activeTool",{get:function(){return this.container.activeTool},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scrollBarWidth",{get:function(){return this._scrollBarWidth},set:function(t){(t=Math.max(0,t))!=this._scrollBarWidth&&(this._scrollBarWidth=t,this.invalidateLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scrollBarHeight",{get:function(){return this._scrollBarHeight},set:function(t){(t=Math.max(0,t))!=this._scrollBarHeight&&(this._scrollBarHeight=t,this.invalidateLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"formView",{get:function(){return this._container.formView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footers",{get:function(){return this._footers},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footer",{get:function(){return this._footers.get(0)},enumerable:!0,configurable:!0}),s.prototype.setFooters=function(t){this._footers.assignFrom(t)},Object.defineProperty(s.prototype,"headerSummaries",{get:function(){return this._headerSummaries},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerSummary",{get:function(){return this._headerSummaries.get(0)},enumerable:!0,configurable:!0}),s.prototype.setHeaderSummaries=function(t){this._headerSummaries.assignFrom(t)},Object.defineProperty(s.prototype,"rowIndicator",{get:function(){return this._rowIndicator},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkBar",{get:function(){return this._checkBar},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"stateBar",{get:function(){return this._stateBar},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"cellLayout",{set:function(t){this._activeCellLayout&&this._activeCellLayout!==this._defaultCellLayout&&this._activeCellLayout.dispose();var e=t&&new A.GridCellLayout(this).load(t);this._activeCellLayout=e||this._defaultCellLayout,this._activeCellLayout.invalidate(),this.refreshView(),this._cellLayoutDirty=!0},enumerable:!0,configurable:!0}),s.prototype._cellLayoutChanged=function(){this._cellLayoutDirty=!0},Object.defineProperty(s.prototype,"layoutCount",{get:function(){return this._activeCellLayout.visibleCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visibleLayoutCount",{get:function(){return this._activeCellLayout.visibleCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnCount",{get:function(){return this._columns.count},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"dataSource",{get:function(){return this._items?this._items.dataSource:null},set:function(t){this.dataSource,this._items&&(this._items.dataSource=t),this.dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemSource",{get:function(){return this._items},set:function(t){this._items&&this._items.removeListener(this),this._items=t,this._items&&this._items.addListener(this)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"maxItemCount",{get:function(){return this.itemSource.maxItemCount},set:function(t){this.itemSource.maxItemCount=Math.max(0,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemCount",{get:function(){return this._items?this._items.itemCount:0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowCount",{get:function(){var t=this.dataSource;return t?t.rowCount:0},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"summaryMode",{get:function(){return this._summaryMode},set:function(t){t!=this._summaryMode&&(this._summaryMode=t,this.$_summaryModeChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnSummaryRuntime",{get:function(){return this._columnSummaryRuntime},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"columnValidationRuntime",{get:function(){return this._columnValidationRuntime},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowValidationRuntime",{get:function(){return this._rowValidationRuntime},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"linkCellClickedCallback",{get:function(){return this._linkCellClickedCallback},set:function(t){this._linkCellClickedCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"buttonCellClickedCallback",{get:function(){return this._buttonCellClickedCallback},set:function(t){this._buttonCellClickedCallback=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"focusedIndex",{get:function(){return this._focusedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"focusedLayout",{get:function(){return this._focusedIndex&&this._focusedIndex.layout},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"focusedColumn",{get:function(){return this._focusedIndex&&this._focusedIndex.layout&&this._focusedIndex.layout.firstColumn},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"focusedRow",{get:function(){return this._focusedIndex?this._focusedIndex.itemIndex:-1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"focusedItem",{get:function(){return this._focusedIndex&&this._focusedIndex.item},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowIndicatorView",{get:function(){return this._rowIndicatorView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"stateBarView",{get:function(){return this._stateBarView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"checkBarView",{get:function(){return this._checkBarView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"topContentPane",{get:function(){return this._topContentPane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sideContentPane",{get:function(){return this._sideContentPane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"leftContentPane",{get:function(){return this._leftContentPane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"contentPane",{get:function(){return this._contentPane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedContentPane",{get:function(){return this._fixedContentPane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightContentPane",{get:function(){return this._rightContentPane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"bodyView",{get:function(){return this._bodyView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedBodyView",{get:function(){return this._fixedBodyView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightBodyView",{get:function(){return this._rightBodyView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mergeView",{get:function(){return this._mergeView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedMergeView",{get:function(){return this._fixedMergeView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightMergeView",{get:function(){return this._rightMergeView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerView",{get:function(){return this._headerView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedHeaderView",{get:function(){return this._fixedHeaderView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightHeaderView",{get:function(){return this._rightHeaderView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headerSummaryView",{get:function(){return this._headerSummaryView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedHeaderSummaryView",{get:function(){return this._fixedHeaderSummaryView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightHeaderSummaryView",{get:function(){return this._rightHeaderSummaryView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footerView",{get:function(){return this._footerView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedFooterView",{get:function(){return this._fixedFooterView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rightFooterView",{get:function(){return this._rightFooterView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"headView",{get:function(){return this._headView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sumView",{get:function(){return this._sumView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footView",{get:function(){return this._footView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixedOptions",{get:function(){return this._fixedOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"displayOptions",{get:function(){return this._displayOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editOptions",{get:function(){return this._editOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editorOptions",{get:function(){return this._editorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"copyOptions",{get:function(){return this._copyOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pasteOptions",{get:function(){return this._pasteOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sortingOptions",{get:function(){return this._sortingOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filteringOptions",{get:function(){return this._filteringOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"delegate",{get:function(){return this._delegate},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"heightMeasurer",{get:function(){return this.container.heightMeasurer},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"layoutManager",{get:function(){return this._layoutManager},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"selections",{get:function(){return this._selections},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"editController",{get:function(){return this._editController},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"validations",{get:function(){return this._validations},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"validationManager",{get:function(){return this._validationManager},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"popupMenuManager",{get:function(){return this._popupMenuManager},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"tooltipManager",{get:function(){return this._tooltipManager},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"toastManager",{get:function(){return this._toastManager},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"topIndex",{get:function(){return this._topIndex},set:function(t){(t=Math.max(0,Math.min(t,this.itemCount-this.layoutManager.fixedItemCount-1,this._vscrollBar?this._vscrollBar.maxPosition:0)))!=this._topIndex&&(this._topIndex=t,this.refreshView(),this.closePopups())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"topItem",{get:function(){return this._topIndex+this.layoutManager.fixedItemCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"leftPos",{get:function(){return this._leftPos},set:function(t){(t=Math.max(0,Math.min(t,this._hscrollBar?this._hscrollBar._maxPosition:0)))!=this._leftPos&&(this._leftPos=t,this._displayOptions.refreshMode==H.RefreshMode.VISIBLE_ONLY?this.refreshView():(this._horzScrolled=!0,this.invalidate()),this.closePopups())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"leftCell",{get:function(){return this._layoutManager.getCellIndex(this.leftPos)},set:function(t){this.leftPos=this._layoutManager.getCellPoint(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"leftLayout",{get:function(){return this._layoutManager.firstLayout},set:function(t){var e=this._layoutManager;t=Math.max(e.fixedLayoutCount,Math.min(t,e.layoutCount-1)),this.leftPos=e.getLayoutBounds(t).x},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"undoable",{get:function(){return!1},set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"undoing",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"redoing",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filtering",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lookupProvider",{get:function(){return this._lookupProvider},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"canHovering",{get:function(){return!this.isEditing()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hoveredCell",{get:function(){return this._hoveredCell},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"empty",{get:function(){return 0==this.itemCount||0==this.visibleLayoutCount},enumerable:!0,configurable:!0}),s.prototype.addFeedbackElement=function(t){if(t&&!this._feedbackLayer.contains(t))return this._feedbackLayer.addChild(t),!0},s.prototype.removeFeedbackElement=function(t){var e=this._feedbackLayer.indexOf(t);return 0<=e&&(this._feedbackLayer.removeChildAt(e),!0)},s.prototype.getVisibleLayout=function(t){return this._activeCellLayout.getVisible(t)},s.prototype.getColumn=function(t){return this._columns.getColumn(t)},s.prototype.setColumns=function(t){this._columns.setColumns(t),this._columnMap={};for(var e=this._columns.count-1;0<=e;e--){var i=this._columns.getColumn(e);this._columnMap[i.$_hash]=i}this._columnsReset()},s.prototype._checkEditing=function(){if(this.itemSource instanceof D.EditableItemProvider&&this.itemSource.isEditing())throw"Item is editing"},s.prototype.addColumn=function(t,e){this._checkEditing();var i=this._columns.add(t,e);return i&&(this._columnMap[i.$_hash]=i,this._columnsReset(),this.dataSource&&this.applyFilters()),i},s.prototype.removeColumn=function(t){return"string"==typeof t&&(t=this.columnByName(t)),!!t&&(this._checkEditing(),!!this._columns.remove(t)&&(delete this._columnMap[t.$_hash],this._columnsReset(),this.dataSource&&this.applyFilters(),!0))},s.prototype.invalidateColumn=function(t){this._columnLock<=0&&this._resetColumnIndices(t),this._columnsDirty||(this._columnsDirty=!0,this.refreshView())},s.prototype.invalidateColumns=function(){this._columnLock,this._columnsDirty||(this._columnsDirty=!0,this.refreshView())},s.prototype.getVisibleCellLayout=function(t){return this._activeCellLayout.getVisible(t)},s.prototype.invalidate=function(){this._container&&this._container.invalidate(!1)},s.prototype.invalidateLayout=function(){this._updateLock||(n.prototype.invalidateLayout.call(this),this._columnsDirty=!0)},s.prototype.invalidateCellLayouts=function(){this._updateLock||(this.clearRowHeights(),n.prototype.invalidateLayout.call(this),this._columnsDirty=!0)},s.prototype.refreshView=function(){this._loading||(this.invalidateLayout(),this.topIndex=this.topIndex,this.leftPos=this.leftPos)},s.prototype.resetGrid=function(){this._resetting=!0,this.topIndex=0,this.leftPos=0,this.refreshView()},s.prototype.getFirstCell=function(){if(0<this.itemCount){for(var t=0,e=0,i=this.itemCount;e<i;e++)if(this.getItem(e)instanceof Z.GridRow){t=e;break}return new et.CellIndex(this,0<=t?t:0,this.getFirstColumn())}return null},s.prototype.$_setEditFocused=function(t,e){if(t!=this.$_editFocused){if((this.$_editFocused=t)&&this.$_showFocusCell){var i=this.focusedIndex;i&&this.isValid(i)||(i=this.getFirstCell())&&this.setFocusedIndex(i)}this.$_showFocusCell=!1}t&&"focusin"==e.type&&U.Utils.isAncestorOf(this._container._container,e.target)&&U.Utils.$_setActiveGrid(this)},s.prototype.getItem=function(t){return this._items.getItem(t)},s.prototype.getItemIndexOfRow=function(t){return this._items.getIndexOfRow(t)},s.prototype.getItemOfRow=function(t,e){return this._items.getItemOfRow(t,e)},s.prototype.getItemIndiciesOfRows=function(t){return this._items.getIndicesOfRows(t)},s.prototype.getIndicatorIndex=function(t){return t.index},s.prototype.getAllItems=function(){return this._items.getAllItems()},s.prototype.getImage=function(t){return null},s.prototype.getIndex=function(t,e){return void 0===t&&(t=-1),void 0===e&&(e=null),new et.CellIndex(this,t,e)},s.prototype.getDataCellIndex=function(t,e){var i=t.parentElement.$_row,o=this.layoutByDataCell(t);return null!=e?e.set(i,o):new et.CellIndex(this,i,o)},s.prototype.getHandler=function(){return this.fireObjectEvent(s.GET_HANDLER)},s.prototype.getDataColumns=function(t){return void 0===t&&(t=!0),this._activeCellLayout.getDataColumns(t)},s.prototype.optionsChanged=function(t){this.refreshView()},s.prototype.scrollRow=function(t){var e=this.topIndex;this.topIndex=e+t,t=this.topIndex-e},s.prototype.selectColumnFilters=function(t){this.isItemEditing(null)||this._fireFiltering()&&this._filterSelector.show(t.layout.firstColumn,t.cell,this.dataSource)},s.prototype.closeFilterSelector=function(){this._filterSelector.hide()},s.prototype.closePopups=function(){this.filtering||this._filterSelector.hide()},s.prototype.layoutByDataCell=function(t){return this._bodyView.layoutByCell(t)||this._fixedBodyView.layoutByCell(t)||this._rightBodyView.layoutByCell(t)},s.prototype.columnByHash=function(t){return this._columnMap[t]},s.prototype.columnByDataCell=function(t){return this._bodyView.columnByCell(t)||this._fixedBodyView.columnByCell(t)||this._rightBodyView.columnByCell(t)},s.prototype.columnByName=function(t){return this._columns.columnByName(t)},s.prototype.columnByField=function(t){return this._columns.columnByField(t)},s.prototype.getHorzColumns=function(t,e){return this._activeCellLayout.getHorzColumns(t,e)},s.prototype.getGroupLevel=function(t){return-1},s.prototype.isGroupedColumn=function(t){return!1},s.prototype.layoutByColumn=function(t){return t instanceof ut.GridColumn||(t=this.columnByName(t)),t?this._activeCellLayout.layoutByColumn(t):null},s.prototype.setFocus=function(){this.$_showFocusCell=!0,this._editController.setFocus(!0)},s.prototype.registerImageList=function(t){t&&t.name&&!this._imageLists.hasOwnProperty(t.name)&&(this._imageLists[t.name]=t,this.$_assignImageList(t,!1))},s.prototype.unregisterImageList=function(t){t&&t.name&&this._imageLists.hasOwnProperty(t.name)&&(delete this._imageLists[t.name],this.$_assignImageList(t,!0))},s.prototype.getImageList=function(t){return t&&this._imageLists[t]},s.prototype.getListImage=function(t,e){return t instanceof bt.ImageList?t.getImage(e):t?(t=this._imageLists[t])?t.getImage(e):null:void 0},s.prototype.$_assignImageList=function(t,e){for(var i=this.getDataColumns(),o=0,r=i.length;o<r;o++)i[o]},s.prototype.getFirstLayout=function(){return this._activeCellLayout.first},s.prototype.getFirstColumn=function(){return this._activeCellLayout.firstColumn},s.prototype.collectColumns=function(t,e,i){return this._activeCellLayout.collectColumns(t,e,i)},s.prototype.collectDataColumns=function(t,e){return this._activeCellLayout.collectDataColumns(t,e)},s.prototype.isValid=function(t){return t&&t.grid===this&&0<=t.itemIndex&&t.itemIndex<this.itemCount&&t.layout&&t.layout.grid===this},s.prototype.getSelection=function(){return 0<this._selections.count?this._selections.getItem(0):null},s.prototype.clearSelection=function(){var t=this.focusedIndex;this._selections.clear(),this.isValid(t)&&0<this.itemCount&&0<this.visibleLayoutCount&&this._selections.add(t,t,this._displayOptions.selectionStyle)},s.prototype.deleteSelection=function(r){function n(t,e){try{if(e&&0<e.length){for(var i=[],o=0,r=e.length;o<r;o++){var n=t.getItem(e[o]);n&&0<=n.dataRow&&i.push(n.dataRow)}if(0<i.length&&!t._fireRowsDeleting(i))return!1}}catch(t){return alert(t),!1}return!0}function t(t,e){for(var i=null,o=e.length;o--;){var r=t.getItem(e[o]),n=r.itemState;if(Z.ItemState_isEditing(n)){i=r,Z.ItemState_isInserting(n)&&e.splice(o,1);break}}var s=null;0<e.length&&(s=t.itemSource.getRemovableRows(e)),i&&t.cancel(),s&&t.itemSource.removeRows(s)}void 0===r&&(r=!1);var e=this.editOptions,i=this.selections,o=this.itemSource;if((r||e.deletable)&&o instanceof D.EditableItemProvider)if(!this.isItemEditing(null)||e.deletableWhenEdit){if(this.commitEditor(!0),!function(t,e){if(0==e.count||1==e.count&&e.getItem(0).single){var i=-1,o=void 0;return 0<=(i=0==e.count?t.focusedIndex.itemIndex:e.getItem(0).getBounds().r1)&&t.canDelete(o=t.getItem(i))&&(r||!t.editOptions.confirmWhenDelete?(t.cancel(),Z.ItemState_isInserting(o.itemState)||t.itemSource.remove(o)):confirm(t.editOptions.deleteRowsMessage)&&function(t,e){var i=[];return i.push(e),n(t,i)}(t,i)&&(t.cancel(),Z.ItemState_isInserting(o.itemState)||t.itemSource.remove(o))),!0}return!1}(this,i)){for(var s=i.count,a=[],l=0;l<s;l++){var u=i.getItem(l);if(u.style==Rt.SelectionStyle.ROWS||u.style==Rt.SelectionStyle.BLOCK)for(var h=u.getBounds(),c=Math.min(h.r1,h.r2),p=Math.max(h.r1,h.r2),d=c;d<=p;d++){var _=this.getItem(d);(0<=_.dataRow||_.editable)&&a.push(d)}}a.sort(function(t,e){return e-e});var f=-1;for(l=a.length;l--;)a[l]==f?a.splice(l,1):f=a[l];0<a.length&&this.canDelete(this.getItem(a[0]))&&(r||!e.confirmWhenDelete?n(this,a)&&(t(this,a),this.clearSelection()):confirm(e.deleteRowsMessage)&&n(this,a)&&(t(this,a),this.clearSelection()))}}else alert(window.RG_CONST&&window.RG_CONST.COMMITEDITING?window.RG_CONST.COMMITEDITING:"먼저 편집을 완료 하십시오.")},s.prototype.revertSelection=function(t){void 0===t&&(t=!1);var e=this.editOptions,i=this.selections,o=this.itemSource;if((t||e.revertable)&&o instanceof D.EditableItemProvider&&(this.commitEditor(!0),!function(t,e){if(0==e.count||1==e.count&&e.getItem(0).single){var i=-1;if(0<=(i=0==e.count?t.focusedIndex.itemIndex:e.getItem(0).getBounds().r1))return t.itemSource.revert(i),!0}return!1}(this,i))){for(var r=i.count,n=[],s=0;s<r;s++){var a=i.getItem(s);if(a.style==Rt.SelectionStyle.ROWS||a.style==Rt.SelectionStyle.BLOCK)for(var l=a.getBounds(),u=Math.min(l.r1,l.r2),h=Math.max(l.r1,l.r2),c=u;c<=h;c++){var p=this.getItem(c);(0<=p.dataRow||p.editable)&&n.push(c)}}n.sort(function(t,e){return e-e});var d=-1;for(s=n.length;s--;)n[s]==d?n.splice(s,1):d=n[s];0<n.length&&o.revertAll(n)}},s.prototype.eraseSelection=function(){var t=this.editOptions,e=this.selections,i=this.itemSource;if(t.readOnly||!t.erasable||!t.updatable)return!1;if(!(i instanceof D.EditableItemProvider))return!1;if(this.isItemEditing())return!1;if(function(t,e){if(0==e.count||1==e.count&&e.getItem(0).single){var i=t.focusedIndex;return t.setCellValue(i,void 0),!0}return!1}(this,e))return!0;var o=e.count;if(o<1)return!1;for(var r=[],n=0;n<o;n++)(s=e.getItem(n)).style!=Rt.SelectionStyle.ROWS&&s.style!=Rt.SelectionStyle.BLOCK||(r=r.concat(s.getItems()));if(0==r.length)return!1;for(n=0;n<o;n++){var s;(s=e.getItem(n)).setValues(void 0)}return!0},s.prototype.getSelectedRows=function(){var t=this._selections.getItem(0);if(t){for(var e=this.itemSource,i=t.getBounds(),o=[],r=i.r1;r<=i.r2;r++){var n=e.getItem(r).dataRow;0<=n&&o.push(n)}return o}return null},s.prototype.setFocusedIndex=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!1),!this._focusing){this._focusing=!0;try{this.$_doSetFocusedIndex(t,e,i)}finally{this._focusing=!1}}},s.prototype.getTableCell=function(t){for(var e=t;e;){if(e instanceof HTMLTableCellElement)return e;e=e.parentElement}return null},s.prototype.getTableView=function(t){return this._tableViews[t.parentElement.$_view]},s.prototype.getBodyViewAt=function(t){return this._layoutManager.getBodyView(t)},s.prototype.getBodyView=function(t){return this.getTableView(t)},s.prototype.getHeaderView=function(t){return this.getTableView(t)},s.prototype.getCellType=function(t){if(t){var e=t.parentElement;if(-99===e.$_row)return H.TableCellType.FIXED_BAR;var i=this._tableViews[e.$_view];if(i instanceof te.GridBodyElement)return H.TableCellType.DATA;if(i instanceof Yt.HeaderElement)return H.TableCellType.HEADER;if(i instanceof ne.FooterElement)return H.TableCellType.FOOTER;if(i instanceof Xt.RowIndicatorElement)return H.TableCellType.INDICATOR;if(i instanceof ie.StateBarElement)return H.TableCellType.STATE;if(i instanceof oe.CheckBarElement)return H.TableCellType.CHECK;if(i instanceof ce.GridHeadElement)return H.TableCellType.HEAD;if(i instanceof pe.GridFootElement)return H.TableCellType.FOOT;if(i instanceof Le.GridSumElement)return H.TableCellType.SUM}},s.prototype.cellToIndex=function(t){var e=et.CellIndex.temp(this,-1,null);if((t=this.getCellViewOf(t))instanceof HTMLTableCellElement){var i=this.getBodyView(t);i&&(e.layout=i.layoutByCell(t),e.itemIndex=t.parentElement.$_row)}return e},s.prototype.cellToContainer=function(t,e){void 0===e&&(e=null);var i=e||new St.Point,o=this.getTableView(t);o.getCellPoint(t,e);var r=o.boundsByContainer(G.Rectangle.Temp.set(e.x,e.y,0,0));return i.set(r.x,r.y),i},s.prototype.pointToIndex=function(t,e,i,o){var r=et.CellIndex.temp(this,-1,null);return o?this._layoutManager.mouseToIndex(this.getCellViewOf(t),e,i,r):this._layoutManager.mouseToIndexEx(this.getCellViewOf(t),e,i,r),r},s.prototype.getEditCellBounds=function(t){var e=this.layoutManager,i=e.getBodyView(t);if(e.getMergedCell(t),i.getCellAt(e,t)){var o=i.getCellRectAt(e,t,!1);return o=i.boundsByContainer(o)}return a.clone()},s.prototype.getEditBounds=function(t){var e=t.item;if(!e)return null;var i=this.layoutManager,o=i.fixedItemCount;if(0<o&&e.index>=o&&e.index-o<i.topIndex)return a.clone();var r=i.getBodyView(t),n=(i.getMergedCell(t),r.getCellAt(i,t));if(n){var s=r.getCellRectAt(i,t,!1);return(s=r.boundsByContainer(s)).width-=n.editWidth+n.buttonWidth,s}return a.clone()},s.prototype.getCellViewOf=function(t){for(;t;){if(t instanceof HTMLTableCellElement)return t;t=t.parentElement}return null},s.prototype.getCellView=function(t,e,i,o){return null},s.prototype.getFocusedCellView=function(t){var e=t.item;if(!e)return null;var i=this.layoutManager,o=i.fixedItemCount;if(0<o&&e.index>=o&&e.index-o<i.topIndex)return null;var r=e.merged,n=t.colFixed,s=t.rightFixed;return e.isData||r?(s?this._rightBodyView:n?this._fixedBodyView:this._bodyView).getCellView(i,t):null},s.prototype.isFocusedRow=function(t){return this._focusedIndex.itemIndex==t},s.prototype.isFocusedColumn=function(t){return this._focusedIndex.column===t},s.prototype.pasteFromClipboard=function(t,e){},s.prototype.copyToClipboard=function(t,e,i){void 0===i&&(i=!1);var o,r=!1,n=this.focusedIndex;if(i||this.copyOptions.enabled){if(!i){var s=this.selections;o=(r=this.copyOptions.singleMode||0==s.count||s.single)?new Rt.BlockSelection(s,n,n):s.getItem(0),i=!0}return i?(e=e||o.getBounds(),r?this._clipboardManager.copyCellToClipboard(n):this._clipboardManager.copyToClipboard(e)):null}return this._clipboardManager.copyEmtpyToClipboard()},s.prototype.toClipboard=function(t,e){if(void 0===e&&(e=!0),!this.empty){var i;if(!(t&&t instanceof et.CellRange)){var o=void 0,r=void 0;if(o=this._activeCellLayout.first,r=this._activeCellLayout.first,!o||!r)return;var n=null==(t=t||{}).startItem?0:Math.max(0,t.startItem),s=null==t.endItem?this.itemCount-1:Math.min(t.endItem,this.itemCount-1);i=et.CellRange.createRange(n,o,s,r)}var a=this.copyToClipboard(null,i,!0);if(a=null==a?"":a,!e)return a;if(window.clipboardData)window.clipboardData.setData("text",a);else{var l=document.createElement("textarea");l.style.display="none",document.body.appendChild(l),l.value=a,l.select(),document.execCommand("copy"),setTimeout(function(){document.body.removeChild(l),l=null},100)}}},s.prototype.showToast=function(t,e){this._toastManager.show(t,e,null)},s.prototype.hideToast=function(t){this._toastManager.close(),t&&setTimeout(t,0)},s.prototype.isEditing=function(t){return this._editController.editing&&(!t||et.CellIndex.areEquals(t,this._editController.editIndex))},s.prototype.getEditItem=function(){return this._editController.editing?this.getItem(this._editController.editIndex.itemIndex):null},s.prototype.isItemEditing=function(t){return(t=t||this.focusedIndex.item)&&this.itemSource instanceof D.EditableItemProvider&&this.itemSource.isEditing(t)},s.prototype.isItemEdited=function(t){return(t=t||this.focusedIndex.item)&&this.itemSource instanceof D.EditableItemProvider&&this.itemSource.isEdited(t)},s.prototype.getEditValue=function(t,e,i){this._doGetEditValue(e,i)},s.prototype._doGetEditValue=function(t,e){this._fireGetEditValue(t,e)},s.prototype.editorCommit=function(t,e,i,o){return this._doCellCommit(e,i,o)},s.prototype._doCellCommit=function(t,e,i){return this._fireEditCommit(t,e,i)},s.prototype.editorActivated=function(t){},s.prototype.$_validateCell=function(e,t,i){try{this._fireValidateCell(e,i,t)}catch(t){if(t instanceof at.ValidationError&&t.level!==H.ValidationLevel.IGNORE)throw t.column=e.column,t;throw t}},s.prototype.$_validateRow=function(t,e){for(var i=this.getDataColumns(),o=0,r=i.length;o<r;o++){var n=i[o],s=et.CellIndex.temp(this,t.index,n),a=t.getData(n.dataIndex);this.$_validateCell(s,a,e)}var l=t.getRowObject();try{this._fireValidateRow(t,e,l)}catch(t){if(t instanceof at.ValidationError&&t.level!==H.ValidationLevel.IGNORE)throw t;throw t}},s.prototype.$_validateCellValue=function(e,t){var i=e.dataColumn;try{var o=Z.ItemState_isInserting(e.item.itemState);this._validationManager.validateCell(e,o),this.$_validateCell(e,t,o),i.error=null,i.errorLevel=H.ValidationLevel.IGNORE;var r=e.dataId,n=i.dataIndex,s=this._validationManager._cellList[r];return s&&s[n]&&delete s[n],!0}catch(t){if(!(t instanceof at.ValidationError))throw t;i.error=t.message||t,i.errorLevel=t.level||H.ValidationLevel.ERROR,this._validationManager._userValidations&&this._validationManager.addInvalidateCell(e,t)}return!1},s.prototype.validateCellCommit=function(t,e){},s.prototype.checkValidateCells=function(t,e){return this._validationManager.checkValidateCells(t,e)},s.prototype.getInvalidCellList=function(){return this._validationManager.getInvalidCellList()},s.prototype.clearInvalidCellList=function(){this._validationManager.clearInvalidCellList()},s.prototype.getCellEditable=function(t){},s.prototype.getCellReadOnly=function(t){return!1},s.prototype.canWrite=function(t){var e=this._editOptions.editable&&this.isValid(t)&&0<this.visibleLayoutCount&&t.item.canEdit()&&t.dataColumn&&(this._fixedOptions.rowEditable||t.itemIndex>=this._layoutManager.fixedItemCount);if(e){var i=this.getBodyViewAt(t).getCellAt(this._layoutManager,t),o=i&&i.renderer2;(e=o?o.canEditable():e)&&t.fixed&&(e=this._fixedOptions.editable)}return e},s.prototype.canEdit=function(t){var e=this.getCellEditable(t);return"boolean"==typeof e?this.canWrite(t)&&e:this.canWrite(t)&&t.dataColumn.editable},s.prototype.canUpdate=function(t,e){return this.editOptions.canUpdate()&&0<this.visibleLayoutCount&&this.itemSource&&this.itemSource.canUpdate(t,e)},s.prototype.canAppend=function(){var t=this.itemSource,e=!this.isEditing()&&this.editOptions.canAppend()&&0<this.visibleLayoutCount&&t&&t.canAppend();if(e)try{if(!this._fireRowInserting(t.itemCount,-1))return!1}catch(t){return alert(t.message||t),!1}return e},s.prototype.canInsert=function(t,e,i){var o=this.itemSource,r=!this.isEditing()&&this._doCanInsert(t,e,i)&&this.editOptions.canInsert()&&0<this.visibleLayoutCount&&o&&o.canInsert(t);if(r)try{if(!this._fireRowInserting(t.index+(e?1:0),-1))return!1}catch(t){return alert(t.message||t),!1}return r},s.prototype._doCanInsert=function(t,e,i){return!0},s.prototype.canDelete=function(t){var e=this.itemSource;return this.editOptions.canDelete()&&0<this.visibleLayoutCount&&e&&(this.isItemEditing(t)||e.canDelete(t))},s.prototype.canCommit=function(t){return this.isItemEditing(t)&&(this.isItemEdited()||this.editOptions.commitWhenNoEdit)},s.prototype.canCancel=function(t){return this.isItemEditing(t)},s.prototype.edit=function(t){return t=t||this.focusedIndex,!!(this.isValid(t)&&this.itemSource instanceof D.EditableItemProvider)&&!(t.dataColumn&&!this.canUpdate(t.item,t.dataField))&&this.itemSource.edit(t.item)},s.prototype.insertAt=function(t,e){return this.insert(this.getItem(t),e)},s.prototype.insert=function(t,e,i){if(void 0===t&&(t=null),void 0===e&&(e=!1),void 0===i&&(i=!1),!(t=t||(this.focusedIndex?this.focusedIndex.item:null)))return!1;var o=this.itemSource;if(o instanceof D.EditableItemProvider&&this.canInsert(t,e,i)){var r=this.$_getInsertDefaults(null);return this._cancelDummy(),o.insert(t,r,e,i)}return!1},s.prototype.append=function(){var t=this.itemSource;if(t instanceof D.EditableItemProvider&&t.dataSource&&this.canAppend()){var e=this.$_getInsertDefaults(null);return this._cancelDummy(),t.append(e)}return!1},s.prototype._appendDummy=function(){var t=this._editOptions;t.displayEmptyEditRow&&t.appendable},s.prototype._cancelDummy=function(){},s.prototype.setValueAt=function(t,e,i){var o=this.getItem(t);o&&o instanceof D.EditItem&&o.setData(e,i)},s.prototype.setCellValue=function(t,e){this.isValid(t)&&this.setValueAt(t.itemIndex,t.dataField,e)},s.prototype.canShowEditor=function(t,e){return!!this.isValid(t)},s.prototype.hideEditor=function(){this._editController.closeList(!1),this._editController.hideEditor()},s.prototype.reprepareEditor=function(){this._editController.reprepareEditor(this.focusedIndex)},s.prototype.showEditor=function(t,e,i){return void 0===e&&(e=!1),void 0===i&&(i=!1),t=t||this.focusedIndex,!!this._editController.showEditor(t,i)&&(this.activeTool.resetFocused(),e&&this._editController.caretToLast(),!0)},s.prototype.editorButtonClicked=function(t){this._editController.buttonClicked(t),this._fireEditButtonClicked(t)},Object.defineProperty(s.prototype,"canUndo",{get:function(){var t=this.dataSource;return t&&t.canUndo&&!this.isItemEditing()},enumerable:!0,configurable:!0}),s.prototype.undo=function(){return!!this.canUndo&&(this.dataSource.undo(),!0)},Object.defineProperty(s.prototype,"canRedo",{get:function(){var t=this.dataSource;return t&&t.canRedo&&!this.isItemEditing()},enumerable:!0,configurable:!0}),s.prototype.redo=function(){return!!this.canRedo&&(this.dataSource.redo(),!0)},s.prototype.execute=function(t){},s.prototype.clearCommandStack=function(t){this.dataSource.clearCommandStack()},s.prototype.setLookups=function(t){t&&(this._lookupProvider||(this._lookupProvider=new De.LocalLookupSourceProvider,this._lookupProvider.addListener(this)),this._lookupProvider.load(t))},s.prototype.addLookupSource=function(t){(this._lookupProvider||(this._lookupProvider=new De.LocalLookupSourceProvider)).add(t)},s.prototype.removeLookupSource=function(t){this._lookupProvider&&this._lookupProvider.remove(t)},s.prototype.existsLookupData=function(t,e){if(t&&e){var i=this._lookupProvider&&this._lookupProvider.getSource(t);if(!i)throw"Invalid lookup source id: "+t;return i.exists(U.Utils.makeArray(e))}},s.prototype.fillLookupData=function(t,e){if(t&&e){var i=this._lookupProvider&&this._lookupProvider.getSource(t);if(!i)throw"Invalid lookup source id: "+t;e.rows?i.fillRows(e.rows):i.fill(e.keys,e.values)}},s.prototype.clearLookupData=function(t){if(t){var e=this._lookupProvider&&this._lookupProvider.getSource(t);if(!e)throw"Invalid lookup source id: "+t;e.clear()}},s.prototype.addLookupData=function(t,e,i){if(void 0===i&&(i=null),t&&e){e=U.Utils.makeArray(e);var o=this._lookupProvider&&this._lookupProvider.getSource(t);if(!o)throw"Invalid lookup source id: "+t;i?o.add(e,i):o.addRow(e)}},s.prototype.setOptions=function(t){},s.prototype.doContextMenu=function(t){var e,i,o,r,n,s=t.target||t.srcElement,a=this.container.getBound(),l=t.clientX-a.left,u=t.clientY-a.top,h=this.activeTool._findTableCell(),c=this.getCellType(h);if(c)if(o=this.getTableView(h),c===H.TableCellType.HEAD)e=(r=this.headView.getHeadModel(h))&&r.popupMenuName,i=U.Utils.getClassName(r)+"Head";else if(c===H.TableCellType.FOOT)e=(r=this.footView.getFootModel(h))&&r.popupMenuName,i=U.Utils.getClassName(r)+"Foot";else if(c===H.TableCellType.SUM)e=(r=this.sumView.getSumModel(h))&&r.popupMenuName,i=U.Utils.getClassName(r)+"Sum";else if(U.Utils.included(c,H.TableCellType.HEADER,H.TableCellType.DATA,H.TableCellType.FOOTER))switch(r=o&&o.columnByCell(h),c){case H.TableCellType.HEADER:e=r&&r.header.popupMenuName,i=U.Utils.getClassName(r)+"Header";break;case H.TableCellType.DATA:e=r&&r.popupMenuName,i="DataCell";break;case H.TableCellType.FOOTER:e=r&&r.footer.popupMenuName,i=U.Utils.getClassName(r)+"Footer"}else U.Utils.included(c,H.TableCellType.INDICATOR,H.TableCellType.STATE,H.TableCellType.CHECK)&&(e=(r=o.model)&&r.popupMenuName,i=U.Utils.getClassName(r)+"Cell");if(!1!==(n=this._fireContextMenuPopup(l,u,i))&&("string"==typeof n?e=n:"boolean"==typeof n&&!n||(e=e||this._contextMenu),e)){t.preventDefault();var p=this._popupMenuManager.getMenu(e);p&&this._popupMenuManager.showContext(p,t,l,u,s)}},s.prototype.setContextMenu=function(t){return(t=U.Utils.makeArray(t))?(this._contextMenu="gridContextMenu",this.popupMenuManager.addMenu(this._contextMenu,t,!0,this)):this._contextMenu=null,this.popupMenuManager.getMenu(this._contextMenu)},s.prototype.addPopupMenu=function(t,e,i){void 0===i&&(i=!0),e=U.Utils.makeArray(e),t&&e&&this.popupMenuManager.addMenu(t,e,i)},s.prototype.removePopupMenu=function(t){this.popupMenuManager.removeMenu(t)},s.prototype.setCursor=function(t,e){if(t){var i=this.getTableCell(t);if(i){var o=this.getTableView(i);if(o instanceof zt.VisualObjectElement)return void o.setCursor(e)}}this._container.setCursor(e)},s.prototype.canMoveIndex=function(t){var e=this.layoutManager;return this.fixedOptions.movable||t>=e.fixedLayoutCount&&t<e.rightFirstLayout},s.prototype.canMoveToIndex=function(t){var e=this.layoutManager;return this._fixedOptions.movable||t>=e.fixedLayoutCount&&t<e.rightFirstLayout},s.prototype.getEditCellValue=function(){return this._editController.editValue},s.prototype.setEditCellValue=function(t,e,i){(this.isEditing||e)&&this._editController.setEditValue(t,i)},s.prototype.isCheckable=function(t){var e=this.getItem(t);return e&&e.checkable},s.prototype.setCheckable=function(t,e){var i=this.getItem(t);i&&i.setCheckable(e)},s.prototype.isCheckedItem=function(t){var e=this.getItem(t);return e&&e.checked},s.prototype.isCheckedRow=function(t){var e=this._items.getItemOfRow(t,!0);return e&&e.checked},s.prototype.checkAll=function(t,e,i,o){var r=this._checkBar.showGroup;this._items.checkAll(t,e,i,o,r)},s.prototype.checkItem=function(t,e,i,o){var r=this.getItem(t);r&&this._items.checkItem(r,e,i,o)},s.prototype.checkRow=function(t,e,i,o){var r=this.getItemOfRow(t,!0);r&&this._items.checkItem(r,e,i,o)},s.prototype.checkItems=function(t,e,i){var o=this._items.getItemsByIndices(t);this._items.checkItems(o,e,i)},s.prototype.checkRows=function(t,e,i){var o=this._items.getItemsByRows(t,!0);this._items.checkItems(o,e,i)},s.prototype.setAllCheck=function(t,e){if(this._headView.allChecked=t,e){var i=this.checkBar;this.checkAll(t,i.visibleOnly,i.checkableOnly,!1)}},Object.defineProperty(s.prototype,"allChecked",{get:function(){return this._headView.allChecked},enumerable:!0,configurable:!0}),s.prototype.resetCheckables=function(){},s.prototype.applyCheckables=function(){},s.prototype.registerCustomRenderer=function(t,e){this._delegate.addCustomRenderer(t,e)},s.prototype.unregisterCustomRenderer=function(t){this._delegate.removeCustomRenderer(t)},s.prototype.unregisterAllCustomRenderer=function(){this._delegate.clearCustomRenderers()},s.prototype.getValueAt=function(t,e){var i=this.getItem(e),o=t.firstColumn;if(o instanceof ut.DataColumn)return i&&i.getData(o.dataIndex)},s.prototype.getDisplayText=function(t){var e=t.dataColumn;if(e){var i=e.dataIndex;if(0<=i){var o=t.item;if(o instanceof Z.GridRow){var r=o.getData(i);if(e instanceof ut.SeriesColumn)return it.SeriesCell.getText(r,null);var n=this._body.getCellFormatters(e,null,this._formatOptions);return it.DataCell._getDisplayText(this,t,r,n)}if(o instanceof Z.GroupFooter)return r=Be.RowGroupFooterCell.getValue(o,e),Be.RowGroupFooterCell.$_displayText(o,e,r)}}return""},s.prototype.fitLayoutWidth=function(t){for(var e=this.itemSource,i=this.getIndex(0,t.firstColumn),o=t.firstColumn.header,r="",n="",s=0,a=0,l=0,u=e.itemCount;l<u;l++)i.itemIndex=l,(n=this.getDisplayText(i)).length>s&&(s=n.length,r=n);return(n=o.displayText).length>s&&(r=n),0<s&&(r+="W",a=this.container.measureText("rg-data-cell",r)),t.cellWidth=a},s.prototype._getCssSelector=function(){return""},Object.defineProperty(s.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),s.prototype._createDelegate=function(){return new Re.GridDelegate(this)},s.prototype._createLayoutManager=function(){return new ee.GridLayoutManager(this)},s.prototype._createEditController=function(){return new Oe.DefaultEditController(this)},s.prototype._initDom=function(t){n.prototype._initDom.call(this,t),t.style.setProperty("overflow","hidden","important")},s.prototype.setRect=function(t){var e=t.width!=this.width||t.height!=this.height;n.prototype.setRect.call(this,t),e&&(this._dirty=!0)},s.prototype._doDraw=function(t){},s.prototype.$_activate=function(){this._container.activeTool=this._container.defaultTool},s.prototype.$_deactivate=function(){},s.prototype._doCreateOtherElements=function(){},s.prototype._createSidePane=function(){return null},s.prototype.isSidePaneVisible=function(){return!1},s.prototype._createBodyView=function(t){return new te.GridBodyElement(t)},s.prototype._createFixedBodyView=function(t){return new te.FixedBodyElement(t)},s.prototype._createRightBodyView=function(t){return new te.RightBodyElement(t)},s.prototype._createGridPanel=function(){return null},s.prototype._createGridFooter=function(){return new Nt.GridFooter(this)},s.prototype._initStyles=function(){},s.prototype._columnsReset=function(){this._resetColumnIndices(),this._activeCellLayout._columnsChanged(this._columns),this._columnsDirty=!0},s.prototype._columnVisibleChanged=function(t){this._activeCellLayout._columnChanged(t)},s.prototype._resetColumnIndices=function(t){void 0===t&&(t=null),t?t._resetIndices(this):this._columns.resetIndices(),this.clearSelection()},s.prototype._resetColumnSortStates=function(){this._columns.resetSortStates()},s.prototype._cleanGridObjects=function(){for(var t=0,e=this._gridObjects.length;t<e;t++)this._gridObjects[t].clean()},s.prototype._visualObjectChanged=function(t){this.invalidateLayout()},s.prototype.$_summaryModeChanged=function(){this._doSummaryModeChanged()},s.prototype._doSummaryModeChanged=function(){},s.prototype._addGridObject=function(t){this._gridObjects.push(t)},s.prototype.addElement=function(t){this._rootElement.addChild(t)},s.prototype.$_prepareRender=function(t){this._doPrepareRender(t)},s.prototype._doPrepareRender=function(t){if(this._horzScrolled)try{var e=this._layoutManager;e.setLeftPos(t,this._leftPos),this._leftPos=e.leftPos,this.$_updateScrollBars(e),this._layoutSelectionViews(),this._editController.resetEditor(!1),this.container.defaultTool.layoutChanged()}finally{this._horzScrolled=!1}},s.prototype.$_layout=function(t){this._doLayout(t)},s.prototype._doLayout=function(t){var e=this._layoutManager;this._resetting=!1;try{this.$_doLayout(e,t)}finally{this._loading=!1}if(this._emptyView.visible=this.empty&&this._displayOptions.showEmptyMessage){var i=e.contentBounds;i.topBy(e.headerBounds.bottom),this._emptyView.setBounds(0,i.y,this.width,i.height)}this._horzScrolled=!1,this._cleanGridObjects(),this._columnsDirty&&(this._columnsDirty=!1,this._activeCellLayout.cleanColumns()),this.$_checkCurrentRow(),this._editController.prepareEditor(this.focusedIndex),this._cellLayoutDirty=!1,this.container.defaultTool.layoutChanged()},s.prototype.$_doLayout=function(t,e){var i=e.clone(),o=this._displayOptions.vscrollBar?this._scrollBarWidth:0,r=this._displayOptions.hscrollBar?this._scrollBarHeight:0,n=this.$_fixedColCount=this._fixedOptions.colCount,s=this.$_rfixedColCount=this._fixedOptions.rightCount;this.$_editOptionsWritable=this._editOptions.isWritable(),this.$_fixedRowEditable=this._fixedOptions.rowEditable,this.$_fixedColEditable=this._fixedOptions.editable,this._body._prepareUpdate(),this._activeCellLayout.$_refresh(this._columns,this._displayOptions.minCellWidth),this._activeCellLayout.$_prepareLayout(this,n,s),t.measure(i,this._leftPos,this._topIndex,o,r),this._leftPos=t.leftPos,this._topIndex=t.topIndex,t.layout(i),this.$_updateScrollBars(t,i),this._layoutSelectionViews(),this._layouted=!0,this._editController.resetEditor(!1),this.container.defaultTool.layoutChanged()},s.prototype._columnCheckedChanged=function(t){this._fireColumnCheckedChanged(t)},s.prototype.$_getVertScrollMax=function(){return this._vscrollBar&&this._vscrollBar.visible?this._vscrollBar.maxPosition:0},s.prototype.$_updateScrollBars=function(t,e){if(t.hscrollBar){var i=t.bodyBounds.width,o=Math.min(t.scrollWidth);this._hscrollBar.setProperties(0,i,o),this._hscrollBar.setPosition(t.leftPos),this._hscrollBar.visible=!0}else this._hscrollBar&&(this._hscrollBar.setProperties(0,0,0),this._hscrollBar.setPosition(0),this._hscrollBar.visible=!1);if(t.vscrollBar){var r=this.itemCount,n=r-t.fixedItemCount,s=Math.min(t.fullItemCount,r-t.topIndex);this._vscrollBar.setProperties(0,n,s),this._vscrollBar.setPosition(t.topIndex),this._vscrollBar.visible=!0}else this._vscrollBar&&(this._vscrollBar.setProperties(0,0,0),this._vscrollBar.setPosition(0),this._vscrollBar.visible=!1);e&&this._layoutScrollBars(t,e)},s.prototype._layoutScrollBars=function(t,e){var i=this._displayOptions.vscrollBar?this._scrollBarWidth:0,o=this._displayOptions.hscrollBar?this._scrollBarHeight:0,r=this._hscrollBar,n=this._vscrollBar;t.hscrollBar&&(r.setBounds(e.x,e.bottom-o,e.width-(t.vscrollBar?i:0),o),r.layoutContent()),t.vscrollBar&&(n.setBounds(e.right-i,e.y,i,e.height-(t.hscrollBar?o:0)),n.layoutContent()),(this._scrollEdge.visible=t.vscrollBar&&t.hscrollBar)&&this._scrollEdge.setBounds(e.right-i,e.bottom-o,i,o)},s.prototype._columnMergeRuleChanged=function(t){this._populateMerges(),this.refreshView()},s.prototype._canMerge=function(){return!1},s.prototype._populateMerges=function(){if(this._canMerge())for(var t=this.getHorzColumns(),e=0,i=t.length;e<i;e++){var o=t[e],r=o&&o.layout;if(r&&r.canMerge()){var n=r._merges;n||(n=new tt.ColumnMergeManager(r),r._merges=n),n.clear(),o instanceof ut.DataColumn&&o.mergeGrouped?0<this.getGroupLevel(o.dataIndex)&&n.initialize(tt.RowGroupMergeRule.INIT_COUNT):n.initialize(tt.ColumnMergeRule.INIT_COUNT)}}},s.prototype._doRowGroupMergeModeChanged=function(){},s.prototype._addSelectionView=function(t){this._selectionLayer.addView(t)},s.prototype._clearSelectionViews=function(){this._selectionLayer.clearViews()},s.prototype._layoutSelectionViews=function(){this._layouted&&!this._resetting&&this._selectionLayer.layout()},s.prototype.$_layoutRowBlock=function(){var t=this.displayOptions;t.rowBlockType!=H.RowMaskType.NONE&&t.rowBlockType},s.prototype.$_checkCurrentRow=function(t){if(void 0===t&&(t=!1),this._focusedIndex){var e=this._focusedIndex.dataId,i=this._focusedIndex.dataRow;if(t||e!=this._currentRowId){clearTimeout(this._rowChangeTimer);var o=this.activeTool,r=this._currentRow,n=this._displayOptions.rowChangeDelay,s=t||n<=0;return this._currentRowId=e,this._currentRow=i,s?(this._fireCurrentRowChanged(r,i),o.currentRowChanged(r,i)):0<n&&(this._rowChangeTimer=setTimeout(function(){this._fireCurrentRowChanged(r,i),o.currentRowChanged(r,i)}.bind(this),n)),!0}}return!1},s.prototype.$_doSetFocusedIndex=function(t,e,i){var o,r;if(!t)return!1;if(this.isValid(t)||(t=t.clone()).normalize(this),!this.isValid(t)){var n=this.dataSource;return n&&0!=n.rowCount&&0!=this.itemCount||(this._focusedIndex.itemIndex=-1,this._focusedIndex.layout=this.getFirstLayout()),!1}if(et.CellIndex.areEquals(t,this._focusedIndex))return!0;var s=this._editOptions,a=this._focusedIndex.clone();if(!this._fireCurrentChanging(a,t))return!1;var l=this.itemSource,u=this.container.activeTool,h=this.layoutManager;if(!this._editController.focusedIndexChanging())return!1;var c=a.item;if(l&&t.itemIndex!=a.itemIndex)try{if(c)switch(c.itemState){case Z.ItemState.INSERTING:if(!this.commit(s.forceInsert,!0))return this.cancel(!0),!1;break;case Z.ItemState.APPENDING:if(!this.commit(s.forceAppend,!0))return this.cancel(!0),!1;break;case Z.ItemState.UPDATING:if(!this.commit(this.isEditing()&&s.commitWhenNoEdit,!0))return this.cancel(!0),!1}}catch(t){if(t instanceof at.ValidationError)return(t=this._fireValidationFail(c.index,t.column,t))&&alert(s.showOnlyValidationMessage&&t.userMessage?t.userMessage:t.toString()),!1;if(t instanceof at.AbortError)return!1;throw t}else c&&this.isItemEditing(c)&&s.validateOnExit&&this.invalidateLayout();u.focusedIndexChanging(t),this.isValid(a),this._focusedIndex.assign(t),this.isValid(a)&&(r=(o=h.getBodyView(a)).getCellAt(h,a),o.$_focusChanged(this,r,!1)),r=(o=h.getBodyView(t)).getCellAt(h,t),o.$_focusChanged(this,r,!0),l instanceof D.EditableItemProvider&&l.setDiffs(this._editOptions.checkDiff,this._editOptions.checkCellDiff,this._editOptions.strictDiff),this._editController.focusedIndexChanged(a,t,!1),u.focusedIndexChanged(a,t),this.isValid(this._focusedIndex),e&&this.clearSelection(),this.isValid(this._focusedIndex)&&(this._rowIndicatorView.visible&&this._rowIndicatorView.refresh(this),this._headerView.visible&&this._headerView.refresh(this),this._fixedHeaderView.visible&&this._fixedHeaderView.refresh(this),this._rightHeaderView.visible&&this._rightHeaderView.refresh(this));var p=!et.CellIndex.areEquals(this._focusedIndex,h._prevFocused);return(i||p)&&(this.$_makeFocusIndexVisible()||(this._editController.resetEditor(!1),this._editController.prepareEditor(this.focusedIndex))),this._fireCurrentChanged(this._currentIndex.assign(this._focusedIndex)),this.$_checkCurrentRow(),!0},s.prototype.$_makeFocusIndexVisible=function(){return this.makeCellVisible(this._focusedIndex)},s.prototype.makeCellVisible=function(t){if(this.isValid(t)||t&&t.column){if(this.layoutManager.makeCellVisible(t),!this.layoutManager.focusIsVisible())return this.invalidateLayout(),!0;this.layoutManager.clearFocusRequest()}return!1},s.prototype.makeColumnVisible=function(t){if(t){var e=this.getIndex(this._focusedIndex?this._focusedIndex.itemIndex:-1,t);this.makeCellVisible(e)}},s.prototype.makeItemVisible=function(t){if(0<=t){var e=this.getIndex(t,this._focusedIndex&&this._focusedIndex.layout);this.makeCellVisible(e)}},s.prototype.makeLayoutVisible=function(t){if(t){var e=this.getIndex(this._focusedIndex?this._focusedIndex.itemIndex:-1,t);this.makeCellVisible(e)}},s.prototype.cancelEditor=function(t){t=!(0<arguments.length)||t,this._editController.cancelEditor(t)},s.prototype.itemEditCancel=function(){return!0},s.prototype.cancel=function(t){void 0===t&&(t=!1);var e=this.editController;this.isEditing()&&(e.cancelEditor(!0),e.invalidateEditor());var i=this.focusedIndex,o=this.itemSource;return!(!this.isValid(i)||!o.isEditing(i.item))&&(i.dataId,i=i.clone(),o.cancel(),e._prepareEditor(e._editIndex),i.normalize(this),this.setFocusedIndex(i),t&&this.$_makeFocusIndexVisible(),!0)},s.prototype.commitEditor=function(t){void 0===t&&(t=!0),this.editController.commitEditor(t,!1)},s.prototype.commit=function(t,e){void 0===e&&(e=!1);var i=this.focusedIndex;if(!this.isValid(i))return!1;var o=U.Utils.cast(this.itemSource,D.EditableItemProvider);if(!o)return!1;this.isEditing()&&(this.editController.commitEditor(!0,!1),this.editController.invalidateEditor());var r=i.item;if(o.isEditing(r)&&(t||o.isEdited(r))){if(Z.ItemState_isInserting(r.itemState),o.commit())return!0;if(e)throw new at.AbortError("Commit failed.");return!1}return!1},s.prototype.editorCancel=function(t,e){},s.prototype.editorCanceled=function(){this.activeTool.resetFocused()},s.prototype._editorStarted=function(t,e){this.edit(e)},s.prototype._editorChange=function(t,e,i){this._fireEditChange(e,i)},s.prototype._editorSearch=function(t,e,i){},s.prototype._searchCellButtonClick=function(t,e,i){return!0},s.prototype.$_getFieldDefaults=function(t){function e(t,e){for(var i=0;i<t.columnCount;i++){var o=t.getColumn(i);if(o instanceof ut.DataColumn&&o.dataIndex==e){var r=o.getField();return r&&r.defaultValue}}}for(var i=this.dataSource.fieldCount,o=[],r=0;r<i;r++)o.push(void 0);for(r=0;r<i;r++){var n=e(this,r);n&&(o[r]=n)}return o},s.prototype.$_getColumnDefaults=function(t){for(var e=0,i=this.columnCount;e<i;e++){var o=this.getColumn(e);o instanceof ut.DataColumn&&null!=o.defaultValue&&(t[o.dataIndex]=o.defaultValue)}},s.prototype.$_getItemDefaults=function(t,e){},s.prototype.$_readDefaultValues=function(t){},s.prototype.$_getInsertDefaults=function(t){var e=this.$_getFieldDefaults(this.itemSource.dataSource);return this.$_getColumnDefaults(e),this.$_getItemDefaults(null,e),this.$_readDefaultValues(e),e},s.prototype._clearColumnErrors=function(){},s.prototype._setColumnErrors=function(t){},s.prototype.sortColumn=function(t,e){t&&(this.sortingOptions.style==H.SortStyle.EXCLUSIVE?e&&e.shiftKey?this.sortColumnWithStyle(H.SortStyle.INCLUSIVE,t):this.sortColumnWithStyle(H.SortStyle.EXCLUSIVE,t):this.sortColumnWithStyle(this.sortingOptions.style,t))},s.prototype.sortColumnWithStyle=function(t,e){if(!e)throw new Error("column is null");if(!(this.isItemEditing(null)||e.dataIndex<0)){var i=this._sortingOptions.textCase;t==H.SortStyle.EXCLUSIVE?e.sortOrder<0?this.orderBy([e],[H.SortDirection.ASCENDING],[i]):e.sortDirection==H.SortDirection.ASCENDING?this.orderBy([e],[H.SortDirection.DESCENDING],[i]):this.isGroupedColumn(e)&&this.itemSource._groupSorting?this.orderBy([e],[H.SortDirection.ASCENDING],[i]):this.unsortColumnWithStyle(t,e):t!=H.SortStyle.INCLUSIVE&&t!=H.SortStyle.REVERSE||(e.sortOrder<0?this.$$_addSort(e,H.SortDirection.ASCENDING,i,t==H.SortStyle.REVERSE):e.sortDirection==H.SortDirection.ASCENDING?this.$$_addSort(e,H.SortDirection.DESCENDING,i,t==H.SortStyle.REVERSE):this.isGroupedColumn(e)&&this.itemSource._groupSorting?this.$$_addSort(e,H.SortDirection.ASCENDING,i,t==H.SortStyle.REVERSE):this.unsortColumnWithStyle(t,e))}},s.prototype.orderBy=function(t,e,i){if(!this.isItemEditing(null))if(!t||t.length<1)this._sortItems([],[],[]);else{for(var o,r=[],n=t.length,s=0;s<n;s++)o=t[s],r.push(o.dataIndex);this._sortItems(r,e,i)}},s.prototype.unsortColumnWithStyle=function(t,e){if(!this.isItemEditing()&&e){var i=this.getSortFields(),o=this.getSortDirections(),r=this.getSortCases(),n=i.indexOf(e.dataIndex);n<0||(t==H.SortStyle.EXCLUSIVE?this.orderBy([],[],[]):t!=H.SortStyle.INCLUSIVE&&t!=H.SortStyle.REVERSE||(i.splice(n,1),o.splice(n,1),r.splice(n,1),this._sortItems(i,o,r)))}},s.prototype.$$_addSort=function(t,e,i,o){var r=this.getSortFields(),n=this.getSortDirections(),s=this.getSortCases(),a=t.dataIndex,l=r.indexOf(a);0<=l?(n[l]=e,s[l]=i):o?(r.splice(0,0,a),n.splice(0,0,e),s.splice(0,0,i)):(r.push(a),n.push(e),s.push(i)),this._sortItems(r,n,s)},s.prototype._sortItems=function(i,t,e){var o=i.concat(),r=t?t.concat():[],n=e?e.concat():[];this._fireSorting(o,r)&&this._toastManager.show(this.sortingOptions.toast,!0,function(){var t=this.sortingOptions.keepFocusedRow&&this.focusedIndex?this.focusedIndex.dataRow:-1;if(this._doSortItems(i,r,n),0<=t){var e=et.CellIndex.temp(this,this.getItemIndexOfRow(t),this.focusedIndex.column);this.setFocusedIndex(e,!0,!0)}}.bind(this))},s.prototype._doSortItems=function(t,e,i){},s.prototype.getSortFields=function(){return null},s.prototype.getSortDirections=function(){return null},s.prototype.getSortCases=function(){return null},s.prototype.canFiltering=function(){return this._fireFiltering()},Object.defineProperty(s.prototype,"filterSelecting",{get:function(){return this._filterSelector.opened},enumerable:!0,configurable:!0}),s.prototype.applyFilters=function(t,e){return!this.isItemEditing(null)&&!!this._fireFiltering()&&(this._toastManager.show(this.filteringOptions.toast,!0,function(){this.$_doApplyFilters(t,e)}.bind(this)),!0)},s.prototype.$_doApplyFilters=function(t,e){var i=this._items.itemCount;this._items.beginFiltering();try{this._filterRunning=!0,this._items.clearAllFilters(),this.$_addFilters()}finally{this._items.endFiltering(t,e),this._filterRunning=!1}i!==this._items.itemCount&&(this.topIndex=0)},s.prototype.$_addFilters=function(){for(var t=this.columnCount,e=0;e<t;e++){var i=this.getColumn(e),o=i.filters;if(o&&0<o.activeCount)for(var r=0,n=o.count;r<n;r++){var s=o.getItem(r);s.active&&this._items.addFilter(i.dataIndex,s)}}},s.prototype.columnFilterChanged=function(t,e){this._doColumnFiltersChanged(t,e)},s.prototype.canGrouping=function(){return!1},s.prototype.$_layoutRowHover=function(t,e,i){var o=this._layoutManager,r=o.footerBounds.y+o.contentBounds.y,n=t.rowIndex;if(t.merged){var s=o.getTableRowIndex(e);n=this._bodyView.getRowIndex(s)}var a=o.getItemBounds(n);switch(a.y+=o.contentBounds.y+o.bodyBounds.y,a.bottom>r&&(a.bottom=r),i){case H.RowMaskType.DATA:a.x=this._fixedContentPane.x,a.right=this._rightContentPane.width?this._rightContentPane.right:this._contentPane.right;break;case H.RowMaskType.FILL:a.x=0,a.width=this.width;break;case H.RowMaskType.ROW:a.x=0,a.right=this._rightContentPane.width?this._rightContentPane.right:this._contentPane.right}this._rowHoverView.setRect(a)},s.prototype.$_setHoveredCell=function(t,e){if(t!==this._hoveredCell&&(this._hoveredCell&&this._hoveredCell.cell&&this.getBodyView(this._hoveredCell.cell).$_mouseEnteredChanged(this,this._hoveredCell,!1),this._hoveredCell=t,this._hoveredCell&&this.getBodyView(this._hoveredCell.cell).$_mouseEnteredChanged(this,this._hoveredCell,!0),this._doHoveredCellChanged(t)),e!=this._hoveredY){var i=this._displayOptions.rowHoverType;this._hoveredCell&&i&&i!=H.RowMaskType.NONE?(this._rowHoverView.visible=!0,this.$_layoutRowHover(t,e,i)):this._rowHoverView.visible=!1,this._hoveredY=e}},s.prototype._doHoveredCellChanged=function(t){},s.prototype._doCellButtonClicked=function(t){this._fireCellButtonClicked(t)},s.prototype._syncHeadCheck=function(t,e){var i=this.checkBar;if(i.syncHeadCheck){this._needSyncHeadCheck=!1;var o=i.showGroup;if(!1===e)this._headView.allChecked=e;else if(null==t)this._headView.allChecked=e;else{var r=!0;if(i.visibleOnly){for(var n=0,s=this._items.itemCount;n<s;n++)if(((l=this._items.getItem(n)).isData||o)&&l.checkable&&!l.checked){r=!1;break}}else{var a=this.getAllItems();for(n=0,s=a.length;n<s;n++){var l;if(((l=a[n]).isData||o)&&l.checkable&&!l.checked){r=!1;break}}}this._headView.allChecked=r}}},s.prototype.getRowHeight=function(t){var e=this.getItem(t);return e?e.height:NaN},s.prototype.setRowHeight=function(t,e,i){void 0===i&&(i=!0);var o=this.getItem(t);o&&(o.height=e,i&&this.refreshView())},s.prototype.clearRowHeights=function(){this._items.clearRowHeights()&&this.refreshView()},s.prototype.$_rendererChanged=function(t){var e=this._layoutManager.getBodyView(t);e&&e.$_rendererChanged(t)},s.prototype._fireCurrentChanging=function(t,e){return this.fireConfirmEvent(s.CURRENT_CHANGING,t,e)},s.prototype._fireCurrentChanged=function(t){this.fireEvent(s.CURRENT_CHANGED,t)},s.prototype._fireCurrentRowChanged=function(t,e){this.fireEvent(s.CURRENT_ROW_CHANGED,t,e)},s.prototype._fireValidateCell=function(t,e,i){this.fireEvent(s.VALIDATE_CELL,t,e,i)},s.prototype._fireValidateRow=function(t,e,i){this.fireEvent(s.VALIDATE_ROW,t,e,i)},s.prototype._fireValidationFail=function(t,e,i){this.fireObjectEvent(s.VALIDATION_FAIL,t,e,i)},s.prototype._fireColumnHeaderClicked=function(t,e,i){this.fireEvent(s.COLUMN_HEADER_CLICKED,t,e,i)},s.prototype._fireColumnHeaderImageClicked=function(t){this.fireEvent(s.COLUMN_HEADER_IMAGE_CLICKED,t)},s.prototype._fireColumnHeaderDblClicked=function(t){this.fireEvent(s.COLUMN_HEADER_DBL_CLICKED,t)},s.prototype._fireColumnCheckedChanged=function(t){this.fireEvent(s.COLUMN_CHECKED_CHANGED,t)},s.prototype._fireFooterCellClicked=function(t){this.fireEvent(s.FOOTER_CELL_CLICKED,t)},s.prototype._fireFooterCellDblClicked=function(t){this.fireEvent(s.FOOTER_CELL_DBL_CLICKED,t)},s.prototype._fireHeaderSummaryCellClicked=function(t){this.fireEvent(s.HEADERSUMMARY_CELL_CLICKED,t)},s.prototype._fireHeaderSummaryCellDblClicked=function(t){this.fireEvent(s.HEADERSUMMARY_CELL_DBL_CLICKED,t)},s.prototype._fireCheckBarHeadClicked=function(){this.fireEvent(s.CHECK_BAR_HEAD_CLICKED)},s.prototype._fireCheckBarFootClicked=function(){this.fireEvent(s.CHECK_BAR_FOOT_CLICKED)},s.prototype._fireIndicatorCellClicked=function(t){this.fireEvent(s.INDICATOR_CELL_CLICKED,t)},s.prototype._fireStateBarCellClicked=function(t){this.fireEvent(s.STATE_BAR_CELL_CLICKED,t)},s.prototype._fireRowGroupHeadClicked=function(){this.fireEvent(s.ROWGROUP_HEAD_CLICKED)},s.prototype._fireRowGroupFootClicked=function(){this.fireEvent(s.ROWGROUP_FOOT_CLICKED)},s.prototype._fireRowGroupHeaderFooterClicked=function(t,e){this.fireEvent(s.ROWGROUP_HEADER_FOOTER_CLICKED,t,e)},s.prototype._fireRowGroupBarClicked=function(t){this.fireEvent(s.ROWGROUP_BAR_CLICKED,t)},s.prototype._fireCheckBarFootDblClicked=function(){this.fireEvent(s.CHECK_BAR_FOOT_DBL_CLICKED)},s.prototype._fireIndicatorCellDblClicked=function(t){this.fireEvent(s.INDICATOR_CELL_DBL_CLICKED,t)},s.prototype._fireStateBarCellDblClicked=function(t){this.fireEvent(s.STATE_BAR_CELL_DBL_CLICKED,t)},s.prototype._fireRowGroupHeadDblClicked=function(){this.fireEvent(s.ROWGROUP_HEAD_DBL_CLICKED)},s.prototype._fireRowGroupFootDblClicked=function(){this.fireEvent(s.ROWGROUP_FOOT_DBL_CLICKED)},s.prototype._fireRowGroupHeaderFooterDblClicked=function(t,e){this.fireEvent(s.ROWGROUP_HEADER_FOOTER_DBL_CLICKED,t,e)},s.prototype._fireRowGroupBarDblClicked=function(t){this.fireEvent(s.ROWGROUP_BAR_DBL_CLICKED,t)},s.prototype._firePanelClicked=function(){this.fireEvent(s.PANEL_CLICKED)},s.prototype._firePanelDblClicked=function(){this.fireEvent(s.PANEL_DBL_CLICKED)},s.prototype._fireRowGroupPanelClicked=function(t){this.fireEvent(s.ROWGROUP_PANEL_CLICKED,t)},s.prototype._fireRowGroupPanelDblClicked=function(t){this.fireEvent(s.ROWGROUP_PANEL_DBL_CLICKED,t)},s.prototype._fireBodyEmptyClicked=function(){this.fireEvent(s.BODY_EMPTY_CLICKED)},s.prototype._fireBodyEmptyDblClicked=function(){this.fireEvent(s.BODY_EMPTY_DBL_CLICKED)},s.prototype._fireMenuItemClicked=function(t,e){this.fireEvent(s.MENU_ITEM_CLICKED,t,e)},s.prototype._fireContextMenuPopup=function(t,e,i){return this.fireObjectEvent(s.CONTEXT_MENU_POPUP,t,e,i)},s.prototype._fireContextMenuItemClicked=function(t,e){this.fireEvent(s.CONTEXT_MENU_ITEM_CLICKED,t,e)},s.prototype._fireCellButtonClicked=function(t){this._buttonClicked=!0,this.fireEvent(s.CELL_BUTTON_CLICKED,t)},s.prototype._fireEditButtonClicked=function(t){this.fireEvent(s.EDIT_BUTTON_CLICKED,t)},s.prototype._fireButtonClicked=function(t,e,i){return this.fireEvent(s.BUTTON_CLICKED,t,e,i)},s.prototype._fireLinkableCellClicked=function(t,e){return this.fireConfirmEvent(s.LINKABLE_CELL_CLICKED,t,e)},s.prototype._fireScrollToBottom=function(){this.fireEvent(s.SCROLL_TO_BOTTOM)},s.prototype._fireTopIndexChanged=function(t){this.fireEvent(s.TOPITEMINDEX_CHANGED,t)},s.prototype._fireDataCellClicked=function(t){this.fireEvent(s.DATA_CELL_CLICKED,t)},s.prototype._fireDataCellDblClicked=function(t){this.fireEvent(s.DATA_CELL_DBL_CLICKED,t)},s.prototype._fireRowsDeleting=function(t){return this.fireConfirmEvent(s.ROWS_DELETING,t)},s.prototype._fireRowInserting=function(t,e){return this.fireConfirmEvent(s.ROW_INSERTING,t,e)},s.prototype._fireItemCommit=function(t,e){this.fireEvent(s.ITEM_COMMIT)},s.prototype._fireSelectionChanged=function(){},s.prototype._fireSelectionAdded=function(t){},s.prototype._fireSelectionRemoved=function(){},s.prototype._fireSelectionCleared=function(){},s.prototype._fireSelectionResized=function(t){},s.prototype._fireSelectionEnded=function(t){},s.prototype._fireUpdateStarted=function(t,e){this.fireEvent(s.UPDATE_STARTED,t)},s.prototype._fireInsertStarted=function(t,e){this.fireEvent(s.INSERT_STARTED,t,e)},s.prototype._fireShowEditor=function(t,e){},s.prototype._fireHideEditor=function(t){},s.prototype._fireEditChange=function(t,e){this.fireEvent(s.EDIT_CHANGE,t,e)},s.prototype._fireGetEditValue=function(t,e){this.fireEvent(s.GET_EDIT_VALUE,t,e)},s.prototype._fireEditCommit=function(t,e,i){return this.fireConfirmEvent(s.EDIT_COMMIT,t,e,i)},s.prototype._fireEditCanceled=function(t){this.fireEvent(s.EDIT_CANCELED,t)},s.prototype._fireItemEditCancel=function(t){return this.fireConfirmEvent(s.ITEM_EDIT_CANCEL,t)},s.prototype._fireItemEditCanceled=function(t){this.fireEvent(s.ITEM_EDIT_CANCELED,t)},s.prototype._fireEditSearch=function(t,e){this.fireEvent(s.EDIT_SEARCH,t,e)},s.prototype._fireSearchCellButtonClick=function(t,e){this.fireObjectEvent(s.SEARCH_BUTTON_CLICK,t,e)},s.prototype._fireCellEdited=function(t,e){this.fireEvent(s.CELL_EDITED,t,e)},s.prototype._fireEditRowChanged=function(t,e,i,o){this.fireEvent(s.EDIT_ROW_CHANGED,t,e,i,o)},s.prototype._fireEditItemPasted=function(t,e,i,o){this.fireEvent(s.EDIT_ROW_PASTED,t,e,i,o)},s.prototype._fireItemsPasted=function(t){this.fireEvent(s.ROWS_PASTED,t)},s.prototype._fireItemChecked=function(t){this.fireEvent(s.ITEM_CHECKED,t,t.checked)},s.prototype._fireItemsChecked=function(t,e){this.fireEvent(s.ITEMS_CHECKED,t,e)},s.prototype._fireItemAllChecked=function(t){this.fireEvent(s.ITEM_ALL_CHECKED,t)},s.prototype._fireErrorClicked=function(t,e){this.fireEvent(s.ERROR_CLICKED,e)},s.prototype._fireSorting=function(t,e){return this.fireConfirmEvent(s.SORTING,t,e)},s.prototype._fireFiltering=function(){return this.fireConfirmEvent(s.FILTERING)},s.prototype._fireKeyDown=function(t,e,i,o){return this.fireConfirmEvent(s.KEY_DOWN,t,e,i,o)},s.prototype._fireKeyPress=function(t){this.fireEvent(s.KEY_PRESS,t)},s.prototype._fireKeyUp=function(t,e,i,o){this.fireEvent(s.KEY_UP,t,e,i,o)},s.prototype._fireShowTooltip=function(t,e){return this.fireObjectEvent(s.SHOW_TOOLTIP,t,e)},s.prototype._fireShowHeaderTooltip=function(t,e){return this.fireObjectEvent(s.SHOW_HEADER_TOOLTIP,t,e)},s.prototype._fireColumnPropertyChanged=function(t,e,i){this.fireEvent(s.COLUMN_PROPERTY_CHANGED,t,e,i)},s.prototype._fireShowInnerDragCursor=function(t){this.fireObjectEvent(s.SHOW_INNER_DRAG_CURSOR,t)},s.prototype._fireInnerDragStart=function(t){this.fireConfirmEvent(s.INNER_DRAG_START,t)},s.prototype._fireInnerDragOver=function(t,e){this.fireObjectEvent(s.INNER_DRAG_OVER,t,e)},s.prototype._fireInnerDrop=function(t,e){return this.fireConfirmEvent(s.INNER_DROP,t,e)},s.prototype._fireGridActivated=function(){},s.prototype._fireApplyCallback=function(){var t=Array.prototype.slice.call(arguments,0);t.splice(0,1,s.APPLY_CALLBACK),this.fireEvent.apply(this,t)},s.prototype._firePaste=function(t,e){this.fireConfirmEvent(s.PASTE,t,e)},s.prototype._firePasted=function(){this.fireEvent(s.PASTED)},s.prototype._fireCommandStackChanged=function(t,e){this.fireEvent(s.COMMAND_STACK_CHANGED,t,e)},s.prototype.onScrollBarScrolled=function(t,e,i,o){if(this.displayOptions,t.vertical){var r=this.topIndex;switch(e){case he.ScrollEventType.LINE:return void this.scrollRow(i);case he.ScrollEventType.PAGE:r=this.topIndex+i*t._page;break;case he.ScrollEventType.THUMB_TRACK:default:r=o}r!=this.topIndex&&(this.topIndex=r)}else{var n=this.leftPos;switch(e){case he.ScrollEventType.LINE:n=this.leftPos+8*i;break;case he.ScrollEventType.PAGE:break;case he.ScrollEventType.THUMB_TRACK:default:n=o}n!=this.leftPos&&(this.leftPos=n)}},s.prototype.onItemProviderReset=function(t){this.hideEditor(),this._dataChanged=!0,this._populateMerges(),this.resetGrid(),this._syncHeadCheck([])},s.prototype.onItemProviderRefresh=function(t){this.hideEditor(),this._dataChanged=!0,this._resetColumnSortStates(),this._populateMerges(),this.refreshView(),this._needSyncHeadCheck&&this._syncHeadCheck([])},s.prototype.onItemProviderRefreshClient=function(t){this.hideEditor(),this._dataChanged=!0,this._populateMerges(),this.refreshView(),this._needSyncHeadCheck&&this._syncHeadCheck([])},s.prototype.onItemProviderItemInserted=function(t,e){if(this.hideEditor(),this._dataChanged=!0,this._needSyncHeadCheck=!0,this._populateMerges(),this.refreshView(),t.dataSource.undoing||t.dataSource.redoing){var i=this._focusedIndex.clone();i.itemIndex=e.index,this.setFocusedIndex(i,!0,!0)}},s.prototype.onItemProviderItemDeleted=function(t,e){if(this.hideEditor(),this._dataChanged=!0,this._needSyncHeadCheck=!0,this._populateMerges(),this.refreshView(),t.dataSource.undoing||t.dataSource.redoing){var i=this._focusedIndex.clone();i.itemIndex=e.index,this.setFocusedIndex(i,!0,!0)}},s.prototype.onItemProviderItemUpdated=function(t,e){if(this.hideEditor(),this._dataChanged=!0,this._updateRows?this._updateRows.push(e.dataId):this._updateRows=[e.dataId],this._populateMerges(),this.refreshView(),t.dataSource.undoing||t.dataSource.redoing){var i=this._focusedIndex.clone();i.itemIndex=e.index,this.setFocusedIndex(i,!0,!0)}},s.prototype.onItemProviderCheckableChanged=function(t,e){this.refreshView(),this._syncHeadCheck([])},s.prototype.onItemProviderItemChecked=function(t,e){this.refreshView(),this._fireItemChecked(e)},s.prototype.onItemProviderItemsChecked=function(t,e,i){this.refreshView(),this._fireItemsChecked(e,i)},s.prototype.onItemProviderItemAllChecked=function(t,e){this.refreshView(),this._fireItemAllChecked(e)},s.prototype.onItemProviderItemCheckChanged=function(t,e,i){this._syncHeadCheck(e,i)},s.prototype.onItemProviderRowStateChanged=function(t,e){this.refreshView()},s.prototype.onItemProviderRowStatesChanged=function(t,e){this.refreshView()},s.prototype.onItemProviderRowStatesCleared=function(t){this.refreshView()},s.prototype.onItemProviderSort=function(t,e,i){this.refreshView()},s.prototype.onItemProviderSorted=function(t){this.refreshView(),this.fireEvent(s.SORTING_CHANGED)},s.prototype.onItemProviderFilterAdded=function(t){},s.prototype.onItemProviderFilterRemoved=function(t){},s.prototype.onItemProviderFilterCleared=function(t){},s.prototype.onItemProviderFilterAllCleared=function(t){},s.prototype.onItemProviderFiltered=function(t,e,i){this.refreshView(),this._loading||this._syncHeadCheck([]),this.fireEvent(s.FILTERING_CHANGED,e,i)},s.prototype.onItemProviderCommandStackChanged=function(t,e,i){this._fireCommandStackChanged(e,i)},s.prototype.$_focusEditItem=function(t){var e=this.getIndex(t.index,this.focusedIndex?this.focusedIndex.column:null);!e.column&&0<this.visibleLayoutCount&&(e._layout=this.getVisibleLayout(0)),this.setFocusedIndex(e,!0),this.makeCellVisible(this.focusedIndex)},s.prototype.$_beforeEditing=function(t,e){},s.prototype.onItemEditUpdateStarted=function(t,e){this.$_beforeEditing(t,e),this.refreshView(),this._fireUpdateStarted(e,!1)},s.prototype.onItemEditAppendStarted=function(t,e){this.$_beforeEditing(t,e),this.hideEditor(),this.reprepareEditor(),this._clearColumnErrors(),this._populateMerges(),this.refreshView(),this.$_focusEditItem(e),this._fireInsertStarted(e,!0)},s.prototype.onItemEditInsertStarted=function(t,e){this.$_beforeEditing(t,e),this.hideEditor(),this.reprepareEditor(),this._clearColumnErrors(),this._populateMerges(),this.refreshView(),this.$_focusEditItem(e),this._fireInsertStarted(e,!1)},s.prototype.onItemEditCellEdited=function(t,e,i){this.refreshView(),this._cellUpdateEventLock||this._fireCellEdited(e,i)},s.prototype.onItemEditCellUpdated=function(t,e,i,o,r){this.refreshView(),this._cellUpdateEventLock||this._fireEditRowChanged(e,i,o,r)},s.prototype.onItemEditCommitting=function(t,e){},s.prototype.onItemEditCommitted=function(t,e){this._appendDummy(),this.hideEditor(),this.refreshView()},s.prototype.onItemEditCanceled=function(t){this._appendDummy(),this.hideEditor(),this._populateMerges(),this.refreshView(),this._fireItemEditCanceled(t._editingItem)},s.prototype.onItemEditCommitRequest=function(t){this.commit(!1)},s.prototype.onItemEditCancelReuqest=function(t){this.cancel()},s.prototype.onLookupSourceProviderChanged=function(t){this._resetColumnIndices(),this.refreshView()},s.prototype.onSelectionChanged=function(t){this._fireSelectionChanged()},s.prototype.onSelectionAdded=function(t,e){this._addSelectionView(e),this._layoutSelectionViews(),this._fireSelectionAdded(e),this._fireSelectionChanged()},s.prototype.onSelectionRemoved=function(t){this._fireSelectionRemoved(),this._fireSelectionChanged()},s.prototype.onSelectionCleared=function(t){this._clearSelectionViews(),this._fireSelectionCleared(),this._fireSelectionChanged()},s.prototype.onSelectionResized=function(t,e){this._layoutSelectionViews(),this._fireSelectionResized(e),this._fireSelectionChanged()},s.prototype.onSelectionEnded=function(t,e){this._fireSelectionEnded(e)},s.prototype.onMenuItemClick=function(t,e){this._fireContextMenuItemClicked(t,e)},s.CURRENT_CHANGING="onGridBaseCurrentChanging",s.CURRENT_CHANGED="onGridBaseCurrentChanged",s.CURRENT_ROW_CHANGED="onGridBaseCurrentRowChanged",s.VALIDATE_CELL="onGridBaseValidateCell",s.VALIDATE_ROW="onGridBaseValidateRow",s.VALIDATION_FAIL="onGridBaseValidationFail",s.COLUMN_HEADER_CLICKED="onGridBaseColumnHeaderClicked",s.COLUMN_HEADER_IMAGE_CLICKED="onGridBaseColumnHeaderImageClicked",s.COLUMN_HEADER_DBL_CLICKED="onGridBaseColumnHeaderDblClicked",s.COLUMN_CHECKED_CHANGED="onGridBaseColumnCheckedChanged",s.FOOTER_CELL_CLICKED="onGridBaseFooterCellClicked",s.FOOTER_CELL_DBL_CLICKED="onGridBaseFooterCellDblClicked",s.HEADERSUMMARY_CELL_CLICKED="onGridBaseHeaderSummaryCellClicked",s.HEADERSUMMARY_CELL_DBL_CLICKED="onGridBaseHeaderSummaryCellDblClicked",s.CHECK_BAR_HEAD_CLICKED="onGridBaseCheckBarHeadClicked",s.CHECK_BAR_FOOT_CLICKED="onGridBaseCheckBarFootClicked",s.INDICATOR_CELL_CLICKED="onGridBaseIndicatorCellClicked",s.STATE_BAR_CELL_CLICKED="onGridBaseStateBarCellClicked",s.ROWGROUP_HEAD_CLICKED="onGridBaseRowGroupHeadClicked",s.ROWGROUP_FOOT_CLICKED="onGridBaseRowGroupFootClicked",s.ROWGROUP_BAR_CLICKED="onGridBaseRowGroupBarClicked",s.ROWGROUP_HEADER_FOOTER_CLICKED="onGridBaseRowGroupHeaderFooterClicked",s.CHECK_BAR_FOOT_DBL_CLICKED="onGridBaseCheckBarFootDblClicked",s.INDICATOR_CELL_DBL_CLICKED="onGridBaseIndicatorCellDblClicked",s.STATE_BAR_CELL_DBL_CLICKED="onGridBaseStateBarCellDblClicked",s.ROWGROUP_HEAD_DBL_CLICKED="onGridBaseRowGroupHeadDblClicked",s.ROWGROUP_FOOT_DBL_CLICKED="onGridBaseRowGroupFootDblClicked",s.ROWGROUP_BAR_DBL_CLICKED="onGridBaseRowGroupBarDblClicked",s.ROWGROUP_HEADER_FOOTER_DBL_CLICKED="onGridBaseRowGroupHeaderFooterDblClicked",s.PANEL_CLICKED="onGridBasePanelClicked",s.PANEL_DBL_CLICKED="onGridBasePanelDblClicked",s.ROWGROUP_PANEL_CLICKED="onGridBaseRowGroupPanelClicked",s.ROWGROUP_PANEL_DBL_CLICKED="onGridBaseRowGroupPanelDblClicked",s.BODY_EMPTY_CLICKED="onGridBaseBodyEmptyClicked",s.BODY_EMPTY_DBL_CLICKED="onGridBaseBodyEmptyDblClicked",s.MENU_ITEM_CLICKED="onGridBaseMenuItemClicked",s.CONTEXT_MENU_POPUP="onGridBaseContextMenuPopup",s.CONTEXT_MENU_ITEM_CLICKED="onGridBaseContextMenuItemClicked",s.CELL_BUTTON_CLICKED="onGridBaseCellButtonClicked",s.EDIT_BUTTON_CLICKED="onGridBaseEditButtonClicked",s.BUTTON_CLICKED="onGridBaseButtonClicked",s.LINKABLE_CELL_CLICKED="onGridBaseLinkableCellClicked",s.SCROLL_TO_BOTTOM="onGridBaseScrollToBottom",s.TOPITEMINDEX_CHANGED="onGridBaseTopItemIndexChanged",s.DATA_CELL_CLICKED="onGridBaseDataCellClicked",s.DATA_CELL_DBL_CLICKED="onGridBaseDataCellDblClicked",s.ROWS_DELETING="onGridBaseRowsDeleting",s.ROW_INSERTING="onGridBaseRowInserting",s.ITEM_COMMIT="onGridBaseItemCommit",s.SELECTION_ADDED="onGridBaseSelectionAdded",s.SELECTION_CHANGED="onGridBaseSelectionChanged",s.SELECTION_REMOVED="onGridBaseSelectionRemoved",s.SELECTION_CLEARED="onGridBaseSelectionCleared",s.SELECTION_RESIZED="onGridBaseSelectionResized",s.SELECTION_ENDED="onGridBaseSelectionEnded",s.INSERT_STARTED="onGridBaseInsertStarted",s.UPDATE_STARTED="onGridBaseUpdateStarted",s.SHOW_EDITOR="onGridBaseShowEditor",s.HIDE_EDITOR="onGridBaseHideEditor",s.EDIT_CHANGE="onGridBaseEditChange",s.GET_EDIT_VALUE="onGridBaseGetEditValue",s.EDIT_COMMIT="onGridBaseEditCommit",s.EDIT_CANCELED="onGridBaseEditCanceled",s.ITEM_EDIT_CANCELED="onGridBaseItemEditCanceled",s.ITEM_EDIT_CANCEL="onGridBaseItemEditCancel",s.EDIT_SEARCH="onGridBaseEditSearch",s.SEARCH_BUTTON_CLICK="onGridBaseSearchCellButtonClick",s.CELL_EDITED="onGridBaseCellEdited",s.EDIT_ROW_CHANGED="onGridBaseEditRowChanged",s.EDIT_ROW_PASTED="onGridBaseEditRowPasted",s.ROWS_PASTED="onGridBaseRowsPasted",s.ITEM_CHECKED="onGridBaseItemChecked",s.ITEMS_CHECKED="onGridBaseItemsChecked",s.ITEM_ALL_CHECKED="onGridBaseItemAllChecked",s.ERROR_CLICKED="onGridBaseErrorClicked",s.SORTING="onGridBaseSorting",s.SORTING_CHANGED="onGridBaseSortingChanged",s.FILTERING="onGridBaseFiltering",s.FILTERING_CHANGED="onGridBaseFilteringChanged",s.KEY_PRESS="onGridBaseKeyPress",s.KEY_DOWN="onGridBaseKeyDown",s.KEY_UP="onGridBaseKeyUp",s.SHOW_TOOLTIP="onGridBaseShowTooltip",s.SHOW_HEADER_TOOLTIP="onGridBaseShowHeaderTooltip",s.COLUMN_PROPERTY_CHANGED="onGridBaseColumnPropertyChanged",s.SHOW_INNER_DRAG_CURSOR="onGridBaseShowInnerDragCursor",s.INNER_DRAG_START="onGridBaseInnerDragStart",s.INNER_DRAG_OVER="onGridBaseInnerDragOver",s.INNER_DROP="onGridBaseInnerDrop",s.GRID_ACTIVATED="onGridBaseGridActivated",s.APPLY_CALLBACK="onGridBaseApplyCallback",s.RUN_CALLBACK="onApplyCallback",s.GET_HANDLER="getHandler",s.PASTE="onGridBasePaste",s.PASTED="onGridBasePasted",s.COMMAND_STACK_CHANGED="onGridBaseCommandStackChanged",s);function s(t){var e=n.call(this)||this;if(e._summaryMode=H.SummaryMode.AGGREGATE,e._scrollBarWidth=16,e._scrollBarHeight=16,e._filterRunning=!1,e._loading=!0,e._userMode=!1,e._userModeError=null,e._gridObjects=[],e._tableViews={},e._imageLists={},e._columnMap={},e._columnLock=0,e._columnsDirty=!1,e._columnSummaryRuntime=new Ft.ColumnSummaryRuntime,e._columnValidationRuntime=new at.DataCellValidationRuntime,e._rowValidationRuntime=new at.DataRowValidationRuntime,e._layouted=!1,e._resetting=!1,e._focusedIndex=new et.CellIndex,e._leftPos=0,e._horzScrolled=!1,e._topIndex=0,e._updateLock=!1,e._hoveredY=-1,e._focusing=!1,e._dataChanged=!1,e._validations=new at.EditValidationCollection,e.$_editFocused=!1,e.$_showFocusCell=!1,e._buttonClicked=!1,e._needSyncHeadCheck=!1,e._cellUpdateEventLock=!1,e._currentRowId=-1,e._currentRow=-1,e.$_fixedColCount=0,e.$_rfixedColCount=0,e.$_editOptionsWritable=!0,e.$_fixedRowEditable=!1,e.$_fixedColEditable=!1,e._cellLayoutDirty=!1,!je.lk())return e;e._container=t,e._addGridObject(e._header=new Vt.GridHeader(e)),e._footers=new Nt.GridFooterCollection(e),e._addGridObject(e._headerSummaries=new ke.HeaderSummaryCollection(e)),e._addGridObject(e._rowIndicator=new Pt.RowIndicator(e)),e._addGridObject(e._stateBar=new jt.StateBar(e)),e._addGridObject(e._checkBar=new Bt.CheckBar(e)),e._addGridObject(e._body=new $t.GridBody(e)),e._rootElement=new Ot.LayerElement("grid root view"),e.addChild(e._rootElement),e._emptyView=new zt.EmptyGridElement,e.addChild(e._emptyView),e._contentPane=new ye.DataContentPane("contentPane"),e.addElement(e._contentPane),e._rightContentPane=new ye.RightContentPane("rightContentPane"),e.addElement(e._rightContentPane),e._fixedContentPane=new ye.FixedContentPane("fixedContentPane"),e.addElement(e._fixedContentPane),e._leftContentPane=new ye.LeftContentPane("leftContentPane"),e.addElement(e._leftContentPane),e._sideContentPane=e._createSidePane(),e._sideContentPane&&e.addElement(e._sideContentPane),e._topContentPane=new ye.ContentPane("topContentPane"),e.addElement(e._topContentPane),e._bodyView=e._createBodyView(e._body),e._fixedBodyView=e._createFixedBodyView(e._body),e._rightBodyView=e._createRightBodyView(e._body),e._mergeView=new Ce.ColumnMergeElement(e._bodyView),e._fixedMergeView=new Ce.ColumnMergeElement(e._fixedBodyView),e._rightMergeView=new Ce.ColumnMergeElement(e._rightBodyView),e._headerView=new Yt.HeaderElement(e._header),e._fixedHeaderView=new Yt.FixedHeaderElement(e._header),e._rightHeaderView=new Yt.RightHeaderElement(e._header),e._headerSummaryView=new Me.HeaderSummaryElement(e._headerSummaries),e._fixedHeaderSummaryView=new Me.FixedHeaderSummaryElement(e._headerSummaries),e._rightHeaderSummaryView=new Me.RightHeaderSummaryElement(e._headerSummaries),e._footerView=new ne.FooterElement(e.footers),e._fixedFooterView=new ne.FixedFooterElement(e.footers),e._rightFooterView=new ne.RightFooterElement(e.footers),e._rowIndicatorView=new Xt.RowIndicatorElement(e._rowIndicator),e._stateBarView=new ie.StateBarElement(e.stateBar),e._checkBarView=new oe.CheckBarElement(e.checkBar),e._headView=new ce.GridHeadElement(e),e._sumView=new Le.GridSumElement,e._footView=new pe.GridFootElement;for(var i=[e._rowIndicatorView,e._stateBarView,e._checkBarView,e._bodyView,e._fixedBodyView,e._rightBodyView,e._headerView,e._fixedHeaderView,e._rightHeaderView,e._headerSummaryView,e._fixedHeaderSummaryView,e._rightHeaderSummaryView,e._footerView,e._fixedFooterView,e._rightFooterView,e._headView,e._sumView,e._footView],o=i.length-1;0<=o;o--){var r=i[o];e._tableViews[r.$_hash]=r}return e._contentPane.addChild(e._bodyView),e._contentPane.addChild(e._mergeView),e._contentPane.addChild(e._footerView),e._contentPane.addChild(e._headerSummaryView),e._contentPane.addChild(e._headerView),e._fixedContentPane.addChild(e._fixedBodyView),e._fixedContentPane.addChild(e._fixedMergeView),e._fixedContentPane.addChild(e._fixedFooterView),e._fixedContentPane.addChild(e._fixedHeaderSummaryView),e._fixedContentPane.addChild(e._fixedHeaderView),e._rightContentPane.addChild(e._rightBodyView),e._rightContentPane.addChild(e._rightMergeView),e._rightContentPane.addChild(e._rightFooterView),e._rightContentPane.addChild(e._rightHeaderSummaryView),e._rightContentPane.addChild(e._rightHeaderView),e._leftContentPane.addChild(e._rowIndicatorView),e._leftContentPane.addChild(e._stateBarView),e._leftContentPane.addChild(e._checkBarView),e._leftContentPane.addChild(e._footView),e._leftContentPane.addChild(e._sumView),e._leftContentPane.addChild(e._headView),e._doCreateOtherElements(),e._selectionLayer=new Rt.SelectionLayer(e),e.addElement(e._selectionLayer),e._feedbackLayer=new Ot.LayerElement("feedbackLayer"),e.addElement(e._feedbackLayer),e._rowHoverView=new Se.RowHoverView,e.addFeedbackElement(e._rowHoverView),e._hscrollBar=new he.ScrollBar(t,!1),e._vscrollBar=new he.ScrollBar(t,!0),e._scrollEdge=new he.ScrollEdge,e.addElement(e._hscrollBar),e.addElement(e._vscrollBar),e.addElement(e._scrollEdge),e._hscrollBar.addListener(e),e._vscrollBar.addListener(e),e._selections=new Rt.SelectionManager(e),e._selections.addListener(e),e._fixedOptions=new Gt.FixedOptions(e),e._displayOptions=new Ut.DisplayOptions(e),e._formatOptions=new de.FormatOptions(e),e._editOptions=new be.EditOptions(e),e._editorOptions=new be.EditorOptions(e),e._copyOptions=new be.CopyOptions(e),e._pasteOptions=new be.PasteOptions(e),e._sortingOptions=new fe.SortingOptions(e),e._filteringOptions=new Fe.FilteringOptions(e),e._initStyles(),e._columns=new At.ColumnCollection(e),e._activeCellLayout=e._defaultCellLayout=new A.DefaultCellLayout(e),e._delegate=e._createDelegate(),e._layoutManager=e._createLayoutManager(),e._editController=e._createEditController(),e._validationManager=new at.ValidationManager(e),e._lookupProvider=new De.LocalLookupSourceProvider,e._lookupProvider.addListener(e),e._clipboardManager=new Pe.ClipboardManager(e),e._popupMenuManager=new Te.PopupMenuManager(e._container),e._tooltipManager=new Ee.TooltipManager(e),e._filterSelector=new Ve.FilterSelector(e._container,e._filteringOptions),e._toastManager=new _e.ToastManager(e),e._waitingPane=new ye.WaitingPane("waitingPane"),e.addElement(e._waitingPane),e._currentIndex=new et.CellIndex(e),e}e.GridBase=r});t($e);$e.GridBase;var He=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,10)};var r,n=(r=Ot.VisualElement,i(s,r),Object.defineProperty(s.prototype,"container",{get:function(){return this._contaner},enumerable:!0,configurable:!0}),s.prototype._getCssSelector=function(){},s.prototype._doDraw=function(t){},s);function s(t,e){var i=r.call(this,t)||this;return i._contaner=e,i}window.InstallTrigger,navigator.platform.toUpperCase().indexOf("MAC");var a,l=(a=Y.EventAware,i(u,a),u.prototype._doDispose=function(){this._activeTool=null,this._defaultTool=this._defaultTool.dispose(),this._scrollTool=this._scrollTool.dispose(),this.$_removeListenerAll(null),U.Utils.detach(this._containerDom),this._containerDom=null,this._container=null,U.Utils.clearElements(this._containerDiv),a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"activeTool",{get:function(){return this._activeTool},set:function(t){if((t=t||this._defaultTool)!=this._activeTool){var e=this._activeTool;e&&e.deactivate(),(this._activeTool=t)&&t.activate(e)}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"defaultTool",{get:function(){return this._defaultTool},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"measurer",{get:function(){return this._measurer},enumerable:!0,configurable:!0}),u.prototype.findElementAt=function(t,e,i){return this._rootElement.findChildAt(t-this._rootElement._x,e-this._rootElement._y,i)},u.prototype.setCursor=function(t){t!=this._cursor&&(this._containerDom.style.cursor=this._cursor=t)},u.prototype.setFocus=function(){this._setFocusAndScroll(this._containerDom)},u.prototype.updateNow=function(){this._render(U.Utils.getTimer())},u.prototype.toScreen=function(t){return t.x+=this._offsetX,t.y+=this._offsetY,t},u.prototype.getBound=function(){var t=this._containerDom.getBoundingClientRect();return new G.Rectangle(t.left,t.top,t.width,t.height)},u.prototype.getHtml=function(){return this._containerDom.outerHTML},u.prototype.addElement=function(t){return this._rootElement.addChild(t)},u.prototype.removeElement=function(t){return this._rootElement.removeChild(t)},u.prototype.resetSize=function(t){this.invalidateLayout()},u.prototype.measureText=function(t,e){return this._textMeasurer.className=t,this._textMeasurer.innerHTML=e,this._textMeasurer.offsetWidth},u.prototype.prepareContainer=function(t){if(!t)throw new Error("container is null!");if(Ne.$_instanceOf(t,"HTMLDivElement")?this._containerDiv=t:this._containerDiv=document.getElementById(t),!Ne.$_instanceOf(this._containerDiv,"HTMLDivElement"))throw new Error("Invalid grid container element: "+t);var e=this._containerDom=document.createElement("div");this._container=this._containerDom;var i=e.style;this._cursor=i.cursor,this._containerDiv.appendChild(e),e.setAttribute("tabindex","0"),i.position="relative",i.width="100%",i.height="100%",i.boxSizing="border-box",i.overflow="hidden",i["-webkit-touch-callout"]="none",i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",this._rootElement=this._createRootElement(),this._measurer=document.createElement("div"),this._container.appendChild(this._measurer);var o=this._textMeasurer=document.createElement("span");o.style.position="absolute",o.style.left="-10000px",o.style.top="-10000px",o.style.display="block",this._container.appendChild(o),this._doPrepareContainer(e)},u.prototype._doPrepareContainer=function(t){},u.prototype._createRootElement=function(){var t=new n("root",this);return this._containerDom.appendChild(t._dom),t},u.prototype.invalidateLayout=function(){this._layoutNeeded||(this._layoutNeeded=!0,this.invalidate(!0))},u.prototype.invalidate=function(t){this._updateRequested&&this._invalidated||!t&&this._drawing||(this._requestTimer||(this._requestTimer=window.requestAnimationFrame(this._containerRender)),this._updateRequested=!0,this._invalidated=!0)},u.prototype.invalidateElement=function(t){this._drawing||this._updateRequested||(this._requestTimer||(this._requestTimer=window.requestAnimationFrame(this._containerRender)),this._updateRequested=!0)},u.prototype._render=function(t){if(!this.disposing){this._updateRequested=!1,this._offsetX=this._containerDom.offsetLeft,this._offsetY=this._containerDom.offsetTop,this._drawing=!0;try{this.$$_render(t)}finally{this._drawing=!1,this._invalidated=!1,this._requestTimer=null}}},u.prototype.$$_render=function(t){var e=this._containerDom,i=isNaN(this._testWidth)?e.clientWidth:this._testWidth,o=isNaN(this._testHeight)?e.clientHeight:this._testHeight;this._layoutChildren(new G.Rectangle(0,0,i,o)),this._layoutNeeded?(this._layoutNeeded=!1,this._doLayout(new G.Rectangle(0,0,i,o))):this._doPrepareRender(new G.Rectangle(0,0,i,o)),this._doRenderHtml(new G.Rectangle(0,0,i,o))},u.prototype._layoutChildren=function(t){},u.prototype._doLayout=function(t){},u.prototype._doPrepareRender=function(t){},u.prototype._doRenderHtml=function(t){this._doDrawContainer(t),this._drawElement(this._rootElement),this._validateChildren(this._rootElement)},u.prototype._doDrawContainer=function(t){},u.prototype._drawElement=function(t){t.draw();for(var e=0,i=t.childCount;e<i;e++){var o=t.getChild(e);o.visible&&this._drawElement(o)}},u.prototype._validateChildren=function(t){for(var e=0,i=t.childCount;e<i;e++)t.getChild(e).validate()},u.prototype._setFocusAndScroll=function(t){t.setFocus?t.setFocus():t.focus&&t.focus()},u.prototype._registerEventHandlers=function(t){var e=window;t.style.cursor=this._defaultCursor,this.$_addListener(e,"resize",this._resizeHandler.bind(this),!1),this.$_addListener(e,"mousemove",this._mouseMoveHandler.bind(this),!1),this.$_addListener(e,"mouseup",this._mouseUpHandler.bind(this),!1),this.$_addListener(e,"focus",this._focusHandlerFireFox.bind(this),!0),this.$_addListener(e,"focusin",this._focusinHandler.bind(this),!0),this.$_addListener(e,"focusout",this._focusoutHandler.bind(this),!0),this.$_addListener(e,"mousedown",this._globalMouseDownHandler.bind(this),!1),this.$_addListener(t,"click",this._clickHandler.bind(this),!1),this.$_addListener(t,"dblclick",this._dblclickHandler.bind(this),!1),this.$_addListener(t,"mousedown",this._mouseDownHandler.bind(this),!1),this.$_addListener(t,"mouseenter",this._mouseEnterHandler.bind(this),!1),this.$_addListener(t,"mouseleave",this._mouseLeaveHandler.bind(this),!1),this.$_addListener(t,"mouseover",this._mouseOverHandler.bind(this),!1),this.$_addListener(t,"focus",this._focusHandler.bind(this),!1),this.$_addListener(t,"contextmenu",this._contextMenuHander.bind(this),!1),this.$_addListener(t,"blur",this._blurHandler.bind(this),!1),this.$_addListener(t,"selectstart",this._selectstartHandler.bind(this),!1),this.$_addListener(t,"wheel",this._wheelHandler.bind(this),!1),this.$_addListener(t,"touchstart",this._touchStartHandler.bind(this),!1),this.$_addListener(t,"touchmove",this._touchMoveHandler.bind(this),!1),this.$_addListener(t,"touchend",this._touchEndHandler.bind(this),!1),this.$_addListener(t,"touchcancel",this._touchCancelHandler.bind(this),!1),this.$_addListener(t,"touchleave",this._touchLeaveHandler.bind(this),!1)},u.prototype.$_addListener=function(t,e,i,o){t in this._eventHandlers||(this._eventHandlers[t]={}),e in this._eventHandlers[t]||(this._eventHandlers[t][e]=[]),this._eventHandlers[t][e].push([i,o]),t.addEventListener(e,i,o),this._eventNodes.indexOf(t)<0&&this._eventNodes.push(t)},u.prototype.$_removeListener=function(t,e){if(t in this._eventHandlers){var i=this._eventHandlers[t];if(e in i)for(var o=i[e],r=o.length;r--;){var n=o[r];t.removeEventListener(e,n[0],n[1])}}},u.prototype.$_removeListenerAll=function(t){void 0===t&&(t=null);for(var e=t?[t]:this._eventNodes,i=0,o=e.length;i<o;i++){var r=e[i];if(r in this._eventHandlers){var n=this._eventHandlers[r];for(var s in n)for(var a=n[s],l=a.length;l--;){var u=a[l];r.removeEventListener(s,u[0],u[1])}}}},u.prototype._unloadHandler=function(){this.$_removeListenerAll(),this._containerDiv=null,this._containerDom=null},u.prototype._resizeHandler=function(t){this.resetSize()},u.prototype._keyDownHandler=function(t){this._activeTool&&this._activeTool.keyDown(t)},u.prototype._keyUpHandler=function(t){this._activeTool&&this._activeTool.keyUp(t)},u.prototype._keyPressHandler=function(t){this._activeTool&&this._activeTool.keyPress(t)},u.prototype.toOffset=function(t){var e=this._containerDom.getBoundingClientRect();return t.mouseX=t.clientX-e.left,t.mouseY=t.clientY-e.top,t},u.prototype._clickHandler=function(t){this._activeTool&&this._activeTool.click(this.toOffset(t))},u.prototype._dblclickHandler=function(t){this._activeTool&&this._activeTool.dblclick(this.toOffset(t))},u.prototype._mouseDownHandler=function(t){this._activeTool.setFocus(),this.toOffset(t),this._currentX=t.mouseX,this._currentY=t.mouseY;var e=this.findElementAt(this._currentX,this._currentY,!1);e&&e.getAncestor(he.ScrollBar)?this.activeTool=this._scrollTool:this.activeTool||(this.activeTool=this._defaultTool),this._activeTool&&(this._activeTool._mouseEventTarget=t.target instanceof HTMLElement?t.target:null,this._activeTool.mouseDown(t)),t.preventDefault()},u.prototype._mouseMoveHandler=function(t){this.toOffset(t),this._currentX=t.mouseX,this._currentY=t.mouseY,this._activeTool&&(this._activeTool._mouseEventTarget=t.target instanceof HTMLElement?t.target:null,this._activeTool.mouseMove(t))},u.prototype._mouseUpHandler=function(t){this.toOffset(t),this._currentX=t.mouseX,this._currentY=t.mouseY,this._activeTool&&(this._activeTool._mouseEventTarget=t.target instanceof HTMLElement?t.target:null,this._activeTool.mouseUp(t),this._activeTool instanceof he.ScrollTool&&(this.activeTool=this._activeTool.previous))},u.prototype._mouseEnterHandler=function(t){this._activeTool&&this._activeTool.mouseEnter(this.toOffset(t))},u.prototype._mouseLeaveHandler=function(t){this._activeTool&&this._activeTool.mouseLeave(this.toOffset(t))},u.prototype._mouseOverHandler=function(t){this._activeTool&&this._activeTool.mouseLeave(this.toOffset(t))},u.prototype._contextMenuHander=function(t){this.toOffset(t),this._currentX=t.mouseX,this._currentY=t.mouseY,this._activeTool&&(this._activeTool._mouseEventTarget=t.target instanceof HTMLElement?t.target:null,this._activeTool.contextMenu(t))},u.prototype._wheelHandler=function(t){this._activeTool&&this._activeTool.mouseWheel(this.toOffset(t))&&U.Utils.stopEvent(t)},u.prototype._focusHandler=function(t){},u.prototype._blurHandler=function(t){},u.prototype._selectstartHandler=function(t){return!1},u.prototype._focusinHandler=function(t){},u.prototype._globalMouseDownHandler=function(t){U.Utils.isAncestorOf(this._containerDiv,t.target)||this._activeTool&&this._activeTool.focusLeave()},u.prototype._focusoutHandler=function(t){U.Utils.isAncestorOf(this._containerDiv,t.target)&&t.relatedTarget&&!U.Utils.isAncestorOf(this._containerDiv,t.relatedTarget)&&this._activeTool&&this._activeTool.focusLeave()},u.prototype._focusHandlerFireFox=function(t){U.Utils.isAncestorOf(this._containerDiv,t.target)&&this._activeTool.setFocus(t.target)},u.prototype._touchStartHandler=function(t){},u.prototype._touchMoveHandler=function(t){},u.prototype._touchEndHandler=function(t){},u.prototype._touchCancelHandler=function(t){},u.prototype._touchLeaveHandler=function(t){},u.prototype.onMenuItemClick=function(t){},u);function u(t){var e=a.call(this)||this;return e._updateRequested=!1,e._layoutNeeded=!1,e._invalidated=!1,e._captured=!1,e._focusing=!1,e._focusingTarget=null,e._hovered=null,e._currentX=0,e._currentY=0,e._rendered=0,e._defaultCursor=H.Cursor.DEFAULT,e._drawing=!1,e._offsetX=0,e._offsetY=0,e._clicked=0,e._clicket=0,e._children=[],e._eventHandlers={},e._eventNodes=[],e._contextMenu=null,e._containerRender=e._render.bind(e),e._scrollTool=new he.ScrollTool(e),e._cursor="default",e._testWidth=NaN,e._testHeight=NaN,e.prepareContainer(t),e.invalidateLayout(),e._registerEventHandlers(e._rootElement._dom),e.activeTool=e._defaultTool=e._createDefaultTool(),e}e.VisualContainer=l});t(He);He.VisualContainer;var Ge=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),s.prototype.getCount=function(t){return this._rs.itemCount},s.prototype.getSum=function(t){return this._rs.getSum(t)},s.prototype.getMax=function(t){return this._rs.getMax(t)},s.prototype.getMin=function(t){return this._rs.getMin(t)},s.prototype.getAvg=function(t){return this._rs.getAvg(t)},s.prototype.getVar=function(t){return this._rs.getVar(t)},s.prototype.getVarp=function(t){return this._rs.getVarp(t)},s.prototype.getStdev=function(t){return this._rs.getStdev(t)},s.prototype.getStdevp=function(t){return this._rs.getStdevp(t)},s.prototype.getDataCount=function(t){throw new Error("Not implented.")},s.prototype.getDataSum=function(t){throw new Error("Not implented.")},s);function s(t){var e=r.call(this)||this;return e._rs=t,e}e.DefaultSummarizer=n});t(Ge);Ge.DefaultSummarizer;var Ue=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=D.EditableItemProviderImpl,i(s,n),s.prototype._doDispose=function(){this.clearListener(),this._rs&&this._rs.dispose(),this._rs=null,this._groupedProvider&&this._groupedProvider.dispose(),this._groupedProvider=null,this._summarizer&&this._summarizer.dispose(),this._summarizer=null,n.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"maxRowCount",{get:function(){return this._rs.maxItemCount},set:function(t){this._rs.maxItemCount=Math.max(0,t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"hideDeleted",{get:function(){return this._rs.hideDeleted},set:function(t){this._rs.hideDeleted=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"inclusiveFiltering",{get:function(){return this._rs.isFilterOr},set:function(t){this._rs.isFilterOr=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"summaryMode",{get:function(){return this._rs.summaryMode},set:function(t){this._rs.summaryMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupSummaryMode",{get:function(){return this._groupedProvider.summaryMode},set:function(t){this._groupedProvider.summaryMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"sortMode",{get:function(){return this._rs.sortMode},set:function(t){this._rs.sortMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"filterMode",{get:function(){return this._rs.filterMode},set:function(t){this._rs.filterMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"grouped",{get:function(){return this._groupedProvider.grouped},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mergedGrouped",{get:function(){return this._groupedProvider.grouped&&this._groupedProvider.mergeMode},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupLevels",{get:function(){return this._groupedProvider.groupCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupByFieldCount",{get:function(){return this._groupedProvider.groupCount},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupByFields",{get:function(){return this._groupedProvider.groupedFields},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"expandWhenGrouping",{set:function(t){this._groupedProvider.expandWhenGrouping=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"summarizer",{get:function(){return this._summarizer},enumerable:!0,configurable:!0}),s.prototype.canGrouping=function(t){return this._groupedProvider.canGrouping(t)},s.prototype.getFieldDomain=function(t){return this._rs.getFieldDomain(t)},s.prototype.isFiltered=function(t){return null!=t?this._rs.hasFilter(t):this._rs.hasFilters()},s.prototype.addFilter=function(t,e){this._rs.addFilter(t,e)},s.prototype.removeFilter=function(t,e){this._rs.removeFilter(t,e)},s.prototype.clearFilters=function(t){this._rs.clearFilters(t)},s.prototype.clearAllFilters=function(){this._rs.clearAllFilters()},s.prototype.beginFiltering=function(){this._rs.beginFilter()},s.prototype.endFiltering=function(t,e){this._rs.endFilter(!0,t,e)},s.prototype.setHideDeletedRows=function(t){this._rs.hideDeleted=t},s.prototype.orderBy=function(t,e,i){if(this._groupedProvider.grouped&&this._groupSorting){for(var o=e?e.length:0,r=i?i.length:0,n=this._groupedProvider.groupedFields,s=this._rs.getSortDirections(),a=this._rs.getSortCases(),l=[],u=0,h=n.length;u<h;u++)l.push(n[u]);for(u=0,h=t.length;u<h;u++){var c=t[u],p=l.indexOf(c),d=void 0,_=void 0;d=u<o?e[u]:0<o?e[o-1]:H.SortDirection.ASCENDING,_=u<r?i[u]:0<r?i[r-1]:H.SortCase.SENSITIVE,p<0?(l.push(c),s[l.length-1]=d,a[l.length-1]=_):(s[p]=d,a[p]=_)}n=l,this._rs.orderBy(n,s,a)}else this._rs.orderBy(t,e,i)},s.prototype.getSortFields=function(){return this._rs.getSortFields()},s.prototype.getSortDirections=function(){return this._rs.getSortDirections()},s.prototype.getSortCases=function(){return this._rs.getSortCases()},Object.defineProperty(s.prototype,"labelComparer",{get:function(){return this._rs.labelComparer},enumerable:!0,configurable:!0}),s.prototype.setLabelComparer=function(t){this._rs.labelComparer=t},s.prototype.groupBy=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=H.SortDirection.ASCENDING),void 0===o&&(o=H.SortCase.SENSITIVE),(t&&!(t.length<1)||this._groupedProvider.grouped)&&this._groupedProvider.canGrouping(t)&&(this._groupSorting=e,this._groupSortDirection=i,e&&this._rs.orderBy(t,[i],[o],!1),this._groupedProvider.groupBy(t))},s.prototype.groupByMode=function(t,e){this._groupSorting&&this._rs.orderBy(t,[this._groupSortDirection],[this._groupSortCase],!1),this._groupedProvider.canGrouping(t)&&this._groupedProvider.groupByMode(t,e)},s.prototype.addGroupBy=function(t,e,i){var o;if(this._groupedProvider.groupCount<1?o=[e]:(o=this._groupedProvider.groupedFields).splice(t,0,e),this._groupSorting=0===t?i:this._groupSorting,this._groupedProvider.canGrouping(o)){if(this._groupSorting){var r=[this._groupSortDirection];this._rs.orderBy(o,r,null,!1)}this._groupedProvider.groupBy(o)}},s.prototype.removeGroupBy=function(t,e){if(this._groupedProvider.grouped){for(var i=this._groupedProvider.groupedFields,o=-1,r=0,n=i.length-1;0<=n;n--)if(r++,i[n]==t){o=n;break}if(0<=o){if(i.splice(o,e?r:1),!this._groupedProvider.canGrouping(i))return;this._groupSorting&&this._rs.orderBy(i,[this._groupSortDirection],null,!1),this._groupedProvider.groupBy(i)}else{if(!this._groupedProvider.canGrouping(null))return;this._groupSorting&&this._rs.orderBy(null,null,null,!1)}}},s.prototype.isGroupedField=function(t){return this._groupedProvider.isGroupedField(t)},s.prototype.getGroupLevel=function(t){return this._groupedProvider.getGroupLevel(t)},Object.defineProperty(s.prototype,"isGroupSorting",{set:function(t){this._groupSorting=t,this._groupedProvider._groupSorting=t},enumerable:!0,configurable:!0}),s.prototype.expand=function(t,e,i,o){this._groupedProvider.expand(t,e,i,o)},s.prototype.collapse=function(t,e,i){this._groupedProvider.collapse(t,e,i)},s.prototype.setPaging=function(t,e,i,o){this._rs.setPaging(t,e,i,o)},Object.defineProperty(s.prototype,"page",{get:function(){return this._rs.page},enumerable:!0,configurable:!0}),s.prototype.setPage=function(t,e){this._rs.setPage(t,e)},Object.defineProperty(s.prototype,"pageCount",{get:function(){return this._rs.pageCount},set:function(t){this._rs.pageCount=t},enumerable:!0,configurable:!0}),s.prototype.getDisplayItemIndex=function(t){return this._rs.isPaging?t.index+this._rs.pageStartIndex:t.index},s.prototype.getCheckedRows=function(t){return this._rs.getCheckedRows(t)},Object.defineProperty(s.prototype,"checkableExpression",{set:function(t){this._rs.checkableExpression=t},enumerable:!0,configurable:!0}),s.prototype.resetCheckables=function(){this._rs.resetCheckables()},s.prototype.applyCheckables=function(){this._rs.applyCheckables()},s.prototype.getAllItems=function(){return this._groupedProvider.getAllItems()},s.prototype.findItem=function(t,e,i,o,r){return this._groupedProvider.findItem(t,e,i,o,r)},s.prototype.findCell=function(t,e,i,o,r,n){return this._groupedProvider.findCell(t,e,i,o,r,n)},s.prototype.checkItems=function(t,e,i){this._groupedProvider.checkItems(t,e,i)},s.prototype.checkItem=function(t,e,i,o){this._groupedProvider.checkItem(t,e,i,o)},s.prototype.checkAll=function(t,e,i,o,r){this._groupedProvider.checkAll(t,e,i,o,r)},s.prototype.hasCellStyle=function(){return this._rs.hasCellStyle()},s.prototype.setCellStyle=function(t,e,i){this._rs.setCellStyle(t,e,i)},s.prototype.setCellStyles=function(t,e,i){this._rs.setCellStyles(t,e,i)},s.prototype.clearCellStyles=function(){this._rs.clearCellStyles()},s.prototype.removeCellStyle=function(t){this._rs.removeCellStyle(t)},s.prototype.getCellStyle=function(t,e){return this._rs.getCellStyle(t,e)},s.prototype.checkCellStyle=function(t,e){return this._rs.checkCellStyle(t,e)},s.prototype.setCellEditable=function(t,e,i){this._rs.setCellEditable(t,e,i)},s.prototype.setCellReadOnly=function(t,e,i){this._rs.setCellReadOnly(t,e,i)},s.prototype.getCellEditable=function(t,e){return this._rs.getCellEditable(t,e)},s.prototype.getCellReadOnly=function(t,e){return this._rs.getCellReadOnly(t,e)},s.prototype.setCellCursor=function(t,e,i){this._rs.setCellCursor(t,e,i)},s.prototype.getCellCursor=function(t,e){return this._rs.getCellCursor(t,e)},s.prototype.setCellEditor=function(t,e,i){this._rs.setCellEditor(t,e,i)},s.prototype.getCellEditor=function(t,e){return this._rs.getCellEditor(t,e)},s.prototype.clearEditableMap=function(){return this._rs.clearEditableMap()},s.prototype.getItemOfRow=function(t,e){return void 0===e&&(e=!1),this._rs.getItemOfRow(t,e)},s.prototype._doBeginUpdate=function(t){var e=n.prototype._doBeginUpdate.call(this,t);return this._groupedProvider.$_setEditItem(e),e},s.prototype._doBeginAppendDummy=function(){var t=n.prototype._doBeginAppendDummy.call(this);return this._groupedProvider.$_setDummyEditItem(t),t},s.prototype._doBeginAppend=function(t){var e=n.prototype._doBeginAppend.call(this,t);return this._groupedProvider.$_setEditItem(e),e},s.prototype._doBeginInsert=function(t,e,i,o){var r=n.prototype._doBeginInsert.call(this,t,e,i,o);return this._groupedProvider.$_setEditItem(r),r},s.prototype._doCancelDummyEdit=function(){n.prototype._doCancelDummyEdit.call(this),this._groupedProvider.$_setDummyEditItem(null)},s.prototype._doCancelEdit=function(t,e){n.prototype._doCancelEdit.call(this,t,e),this._groupedProvider.$_setEditItem(null)},s.prototype._doCommitEdit=function(t,e){return!!n.prototype._doCommitEdit.call(this,t,e)&&(this._groupedProvider.$_setEditItem(null),!0)},s.prototype.onGroupedItemProviderGrouping=function(t,e){return this.fireConfirmEvent(Q.GroupedItemProvider.GROUPING,e)},s.prototype.onGroupedItemProviderGrouped=function(t){this.fireEvent(Q.GroupedItemProvider.GROUPED)},s.prototype.onGroupedItemProviderExpand=function(t,e){this.fireEvent(Q.GroupedItemProvider.EXPAND,e)},s.prototype.onGroupedItemProviderExpanded=function(t,e){this.fireEvent(Q.GroupedItemProvider.EXPANDED,e)},s.prototype.onGroupedItemProviderCollapse=function(t,e){this.fireEvent(Q.GroupedItemProvider.COLLAPSE,e)},s.prototype.onGroupedItemProviderCollapsed=function(t,e){this.fireEvent(Q.GroupedItemProvider.COLLAPSED,e)},s.prototype.onItemProviderFilterAdded=function(t,e,i){this._fireFilterAdded(e,i)},s.prototype.onItemProviderFilterRemoved=function(t,e,i){this._fireFilterRemoved(e,i)},s.prototype.onItemProviderFilterCleared=function(t,e){this._fireFilterCleared(e)},s.prototype.onItemProviderFilterAllCleared=function(t){this._fireFilterAllCleared()},s.prototype.onItemProviderFiltered=function(t){},s.prototype.onItemProviderSort=function(t,e,i){this._fireSort(e,i,null)},s.prototype.onItemProviderSorted=function(t){this._fireSorted()},s);function s(t,e){void 0===e&&(e=null);var i=n.call(this,null,t)||this;return i._groupSorting=!0,i._groupSortDirection=H.SortDirection.ASCENDING,i._groupSortCase=H.SortCase.SENSITIVE,i._rs=new It.DefaultItemProvider(!1),i._rs.addListener(i),i._groupedProvider=new Q.GroupedItemProvider(i._rs,!1),i._groupedProvider.footerCounter=e,i.source=i._groupedProvider,i._summarizer=new Ge.DefaultSummarizer(i._rs),i}e.GridItemProvider=r});t(Ue);Ue.GridItemProvider;var We=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ot.VisualElement,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"clickable",{get:function(){return this._clickable},set:function(t){t!=this._clickable&&(this._clickable=t,this._changed())},enumerable:!0,configurable:!0}),s.prototype._getCssSelector=function(){return""},s.prototype._doDraw=function(t){},s.prototype._hoverChanged=function(){this.invalidate()},s.prototype._changed=function(){this.invalidate()},s);function s(t,e){void 0===e&&(e=null);var i=r.call(this,e)||this;return i._clickable=!1,i._owner=t,i}e.HandleElement=n;var a,l=(i(u,a=n),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"cellView",{get:function(){return this.owner},enumerable:!0,configurable:!0}),u);function u(t,e){return void 0===e&&(e=null),a.call(this,t,e)||this}e.CellHandle=l});t(We);We.HandleElement,We.CellHandle;var ze=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Jt.CellElement,i(s,r),s.prototype._doUpdateContent=function(t,e,i){i.textContent=""},s.prototype._doRender=function(t){},s);function s(){return r.call(this,"rowGroupHeadCellView")||this}var a,l=(a=Kt.SimpleTableElement,i(u,a),u.prototype._doDispose=function(){this._cells=null,a.prototype._doDispose.call(this)},u.prototype.prepare=function(t,e){for(this._levels=t,this._count=e?2*t:t;this._cells.length<this._count;){var i=new n;this._cells.push(i)}},u.prototype._getCssSelector=function(){return"rg-rowgroup-head"},u.prototype._getTableRowHeight=function(t,e){return 1==e?t.summaryBounds.height:t.headBounds.height},u.prototype._doPrepareTableExtents=function(t){if(0<this._count)for(var e=this.width/this._levels,i=0;i<this._count;i++)this._cells[i].width=e},u.prototype._prepareCellContent=function(t,e){return document.createElement("div")},u.prototype._doLayoutContent=function(t){for(var e=this._count;this.childCount<e;)this.addChild(this._cells[this.childCount]);for(;this.childCount>e;)this.removeLast()},u.prototype._doRender=function(t){},u.prototype._getTableRowCount=function(t){return 2},u.prototype._getCellCount=function(t){return this._count},u.prototype._getCellWidth=function(t,e){return this._cells[e].width},u);function u(){var t=a.call(this,null,"rowGroupHeadView")||this;return t._cells=[],t._levels=0,t._count=0,t}e.RowGroupHeadElement=l;var h,c=(h=Jt.CellElement,i(p,h),p.prototype._doUpdateContent=function(t,e,i){i.textContent=""},p.prototype._doRender=function(t){},p);function p(){return h.call(this,"rowGroupFootCellView")||this}var d,_=(d=Kt.SimpleTableElement,i(f,d),f.prototype._doDispose=function(){this._cells=null,d.prototype._doDispose.call(this)},f.prototype.prepare=function(t){for(this._levels=t;this._cells.length<t;){var e=new c;this._cells.push(e)}},f.prototype._getCssSelector=function(){return"rg-rowgroup-foot"},f.prototype._getTableRowHeight=function(t,e){return t.footBounds.height},f.prototype._doPrepareTableExtents=function(t){if(0<this._levels)for(var e=this.width/this._levels,i=0;i<this._levels;i++)this._cells[i].width=e},f.prototype._prepareCellContent=function(t,e){return document.createElement("div")},f.prototype._doLayoutContent=function(t){t.grid;for(var e=this._levels;this.childCount<e;)this.addChild(this._cells[this.childCount]);for(;this.childCount>e;)this.removeLast()},f.prototype._doRender=function(t){},f.prototype._getTableRowCount=function(t){return 1},f.prototype._getCellCount=function(t){return this._levels},f.prototype._getCellWidth=function(t,e){return this._cells[e].width},f);function f(){var t=d.call(this,null,"rowGroupFootView")||this;return t._cells=[],t._levels=0,t}e.RowGroupFootElement=_;var y,m=(y=We.CellHandle,i(g,y),Object.defineProperty(g.prototype,"expanded",{get:function(){return this._expanded},set:function(t){t!=this._expanded&&(this._expanded=t,this._changed())},enumerable:!0,configurable:!0}),g.prototype._createDom=function(){return document.createElement("img")},g.prototype._initDom=function(t){y.prototype._initDom.call(this,t),t.style.position=""},g.prototype._getCssSelector=function(){return""},g.prototype._getCssDisplay=function(){return""},g.prototype._doDraw=function(t){t.src=this._expanded?"images/expanded.png":"images/collapsed.png"},g);function g(t){var e=y.call(this,t,"rowGroupExpandHandle")||this;return e._expanded=!1,e.clickable=!0,e}e.RowGroupExpandHandle=m;var v,b=(v=Jt.CellElement,i(C,v),Object.defineProperty(C.prototype,"level",{get:function(){return this._level},set:function(t){this._level=t},enumerable:!0,configurable:!0}),C.prototype.updateCell=function(t,e,i){v.prototype.updateCell.call(this,t,e,i);var o=e.item;o instanceof Z.GroupItemImpl&&o.level==this.bar.l?(i.appendChild(this._expander._dom),this._expander.setBounds(1,1,13,13),this._expander.expanded=o.expanded,this._expander.visible=!0):this._expander.visible=!1,i.style.paddingTop="2px"},C.prototype.validate=function(){v.prototype.validate.call(this);var t=this._expander._dom;t&&t.parentElement&&t.parentElement.removeChild(t)},C);function C(){var t=v.call(this,"rowGroupBarCell")||this;return t._level=0,t._expander=new m(t),t.addChild(t._expander),t}var w,x=(w=Kt.DataTableElement,i(I,w),I.prototype._doDispose=function(){this._cells=null,w.prototype._doDispose.call(this)},I.prototype.prepare=function(t,e){this._levels=e},I.prototype.getLevelIndent=function(t){return t*this.width/this._levels},I.prototype._getCssSelector=function(){return"rg-rowgroup-bar"},I.prototype._prepareCellContent=function(t,e){return document.createElement("div")},I.prototype._doLayoutContent=function(t){for(var e,i=t.grid,o=i.rowGroup,r=this.width/this._levels,n=this._bars,s=n.length,a=t.topIndex,l=t.fixedItemCount,u=0<l;this.childCount<s;)e=0<this._cells.length?this._cells.pop():this._createCell(),this.addChild(e);for(;this.childCount>s;)(e=this.removeLast()).validate(),this._cells.push(e);for(var h=0;h<s;h++){var c=n[h];e=this.getChild(h);var p=c.tr1,d=u?p<l?p:p-1+a:p+a,_=et.CellIndex.temp(i,d),f=o.getBarCell(_),y=t.getItemBounds(c.r);e.bar=c,e.level=c.c+1,e.updateCell(i,f,this.getCellContent(p,c.c)),y.x=r*c.c,y.width=r,e.setRect(y)}},I.prototype._doRender=function(t){},I.prototype._doPrepareTableRows=function(t,e){w.prototype._doPrepareTableRows.call(this,t,e),this.$_layoutBars(t,e)},I.prototype._getCellCount=function(t){return this._levels},I.prototype._getCellWidth=function(t,e){return this.width/this._levels},I.prototype._createCell=function(){return new b},I.prototype.$_calcLevels=function(t,e,i,o){for(var r=new Array,n=i;n<o;n++)r.push(t[n].level);var s=-1,a=0;for(n=0;n<r.length;n++){var l=r[n];l<e?(r[n]=1,0<=s&&(r[s]=a,s=-1,a=0)):l==e?(0<=s&&(r[s]=a),s=n,a=1):(s<0?s=n:r[n]=-1,a++)}return 0<=s&&(r[s]=a),r},I.prototype.$_layoutBars=function(t,e){t.grid;var i=t.$_getItems(),o=i.length,r=t.fixedItemCount,n=(t.topIndex,e.children),s=this._bars=[];if(!(o<1)){for(var a=0,l=this._getCellCount(t);a<l;a++){var u=a+1,h=0,c=0;if(0<r){for(var p=void 0;h<r;h++)(p=n[c++].children[a]).style.display="",p.removeAttribute("rowspan");(p=n[c++].children[a]).style.display="",p.removeAttribute("rowspan")}if(h<o)for(var d=this.$_calcLevels(i,u,h,o),_=0;h<o;h++,_++,c++){var f=d[_],y=(p=n[c].children[a],i[h]);0<f?(1<f||y instanceof Z.GroupItemImpl&&y.level==u?(s.push({r:h,tr1:c,tr2:c+f-1,c:a,l:u}),p.rowSpan=f):p.removeAttribute("rowspan"),p.style.display=""):(p.removeAttribute("rowspan"),p.style.display="none")}}s.sort(function(t,e){return t.r-e.r})}},I);function I(){var t=w.call(this,null,"rowGroupBarContainer")||this;return t._cells=[],t._levels=0,t._bars=[],t}e.RowGroupBarContainer=x;var E,S=(E=ye.DataContentPane,i(O,E),O.prototype._doDispose=function(){E.prototype._doDispose.call(this)},Object.defineProperty(O.prototype,"levelCount",{get:function(){return this.grid.layoutManager.rowGroupLevels},enumerable:!0,configurable:!0}),O.prototype.getLevelIndent=function(t){return this._barContainer.getLevelIndent(t)},O.prototype._doMeasure=function(t,e,i){var o=this.levelCount;return this._headView.prepare(o,t.headerSummaries.visible),this._footView.prepare(o),this._barContainer.prepare(t,o),new Wt.Size(this.levelCount*t.rowGroup.levelIndent,i)},O.prototype._doLayoutContent=function(t){t.grid;var e=t.headBounds,i=t.summaryBounds;(this._headView.visible=!e.isEmpty||!i.isEmpty)&&(this._headView.setBounds(0,e.y,this.width,e.height+i.height),this._headView.layoutContent(t)),e=t.footBounds,(this._footView.visible=!e.isEmpty)&&(this._footView.setBounds(0,e.y,this.width,e.height),this._footView.layoutContent(t)),e=t.indicatorBounds,this._barContainer.setBounds(0,e.y,this.width,e.height),this._barContainer.layoutContent(t)},O);function O(){var t=E.call(this,"rowGroupBarPane")||this;return t._barContainer=new x,t.addChild(t._barContainer),t._footView=new _,t.addChild(t._footView),t._headView=new l,t.addChild(t._headView),t}e.RowGroupBarPane=S;var R,D=(R=ye.DataContentPane,i(P,R),P.prototype._doDispose=function(){R.prototype._doDispose.call(this)},P);function P(){return R.call(this,"rowGroupPane")||this}e.RowGroupPane=D;var T,k=(T=Jt.CellElement,i(M,T),M.prototype._doDispose=function(){T.prototype._doDispose.call(this)},Object.defineProperty(M.prototype,"text",{get:function(){return this._text},set:function(t){t!=this._text&&(this._text=t,this._changed())},enumerable:!0,configurable:!0}),M.prototype._createDom=function(){return document.createElement("div")},M.prototype._initDom=function(t){T.prototype._initDom.call(this,t);var e=t.style;e.top="50%",e.left="0px",e.msTransform=e.transform="translate(0px, -50%)",e.setProperty("overflow","hidden","important"),e.setProperty("pointer-events","none","important")},M.prototype._beforeDraw=function(t){},M.prototype._doUpdateContent=function(t,e,i){this._dom.textContent=e.text},M);function M(){return T.call(this,"rowGroupHeaderCellView")||this}e.RowGroupHeaderCellElement=k;var L,F=(L=zt.GridElement,i(A,L),A.prototype._doDispose=function(){this._item=null,this._cellView=null,L.prototype._doDispose.call(this)},Object.defineProperty(A.prototype,"item",{get:function(){return this._item},set:function(t){this._item=t},enumerable:!0,configurable:!0}),A.prototype._getCssSelector=function(){return"rg-rowgroup-header"},A.prototype._doDraw=function(t){},A.prototype._doLayoutContent=function(t){var e=t.grid;this._cellView.updateCell(e,e.rowGroup.getHeaderCell(this._item),null),this._cellView.setBounds(0,0,this.width,this.height)},A);function A(){var t=L.call(this,"rowGroupHeaderView")||this;return t._visIndex=-1,t._cellView=new k,t.addChild(t._cellView),t}e.RowGroupHeaderElement=F;var V,N=(V=Qt.ItemElement,i(j,V),j.prototype._doLayoutContent_save=function(t){t.grid.rowGroup,this._getTableRow(t,this._domIndex).className="rg-rowgroup-footer"},j.prototype._doLayoutContent=function(t){var e=t.grid,i=e.rowGroup,o=t.cellLayouts._dataCells,r=this._getFirstCell(t),n=this._getStartCell(t)-r,s=n,a=this._getEndCell(t)-r;this._item instanceof Q.MergedGroupFooter&&(this._item.xxx,s=Math.max(n,e.rowGroupLevels));for(var l=0;l<o.length;l++){var u=this._getTableRow(t,this._domIndex+l),h=this._getBodyCells(this._domIndex+l);u.className="rg-rowgroup-footer";for(var c=s;c<=a;c++){var p=h[c],d=p.layout;if(d.isNull)d.isProxy||p.setClassName("rg-rowgroup-footer-cell");else{var _=et.CellIndex.temp(e,this._item.index,d),f=i.getFooterCell(_);p.setClassName("rg-rowgroup-footer-cell"),this._updateCell(e,f,p)}}}},j.prototype._getBodyCells=function(t){return this.parent.$_getBodyCells(t)},j.prototype._getTableRow=function(t,e){return this.parent.$_getTableRow(t,e)},j.prototype._getTableCell=function(t){return this.parent.$_getTableCell(this._domIndex,t)},j.prototype._getFirstCell=function(t){return t._firstCell},j.prototype._getLastCell=function(t){return t._lastCell},j.prototype._getStartCell=function(t){return t.getStartCell()},j.prototype._getEndCell=function(t){return t.getEndCell()},j.prototype._getBodyView=function(){return this.parent._bodyView},j.prototype._updateCell=function(t,e,i){i.cell.lastElementChild.textContent=e.text},j);function j(){return V.call(this,"rowGroupFooterView")||this}e.RowGroupFooterElement=N;var B,$=(i(H,B=N),H.prototype._getTableRow=function(t,e){return this.parent.$_getFixedTableRow(e)},H.prototype._getTableCell=function(t){return this.parent.$_getFixedTableCell(this._domIndex,t)},H.prototype._getBodyView=function(){return this.parent._fixedView},H.prototype._getFirstCell=function(t){return this._getStartCell(t)},H.prototype._getLastCell=function(t){return this._getEndCell(t)},H.prototype._getStartCell=function(t){return 0},H.prototype._getEndCell=function(t){return t.fixedLayoutCount-1},H);function H(){return null!==B&&B.apply(this,arguments)||this}e.RowGroupFixedFooterElement=$;var G,U=(i(W,G=N),W.prototype._getTableRow=function(t,e){return this.parent.$_getRightTableRow(e)},W.prototype._getTableCell=function(t){return this.parent.$_getRightTableCell(this._domIndex,t)},W.prototype._getBodyView=function(){return this.parent._rightView},W.prototype._getFirstCell=function(t){return this._getStartCell(t)},W.prototype._getLastCell=function(t){return this._getEndCell(t)},W.prototype._getStartCell=function(t){return t.layoutCount-t.rightLayoutCount},W.prototype._getEndCell=function(t){return t.layoutCount-1},W);function W(){return null!==G&&G.apply(this,arguments)||this}e.RowGroupRightFooterElement=U;var z,K=(z=Ot.LayerElement,i(Y,z),Y.prototype._doDispose=function(){this._bodyView=this._fixedView=this._rightView=null,z.prototype._doDispose.call(this)},Object.defineProperty(Y.prototype,"grid",{get:function(){return this.getAncestor(qe.GridView)},enumerable:!0,configurable:!0}),Y.prototype.layout=function(t){this._doPrepareContent(t),this._doLayoutContent(t)},Y.prototype._initDom=function(t){z.prototype._initDom.call(this,t);var e=t.style;e.setProperty("overflow","hidden","important"),e.setProperty("pointer-events","none","important")},Y.prototype._getCssSelector=function(){return"rg-rowgroup-layer"},Y.prototype._doDraw=function(t){},Y.prototype._doPrepareContent=function(t){this.$_prepareHeaders(t)},Y.prototype.$_prepareIndents=function(t){for(var e=this._indents,i=t.rowGroupLevels+1,o=0;o<e.length;o++)e[o]=t.getLevelIndent(o);for(;e.length<i;)e.push(t.getLevelIndent(e.length));return e},Y.prototype._doLayoutContent=function(t){for(var e=this.$_prepareIndents(t),i=t.$_getItems(),o=i.length,r=t.fixedItemCount,n=0<r,s=this.width,a=0,l=0,u=this._bodyView._trs,h=r,c=n?h*u+1:h*u;h<o;h++){var p=i[h];if(p instanceof Z.GroupItemImpl){var d=this._headerViews[a++],_=t.getItemBounds(h),f=e[p.level];d.item=p,d._visIndex=h-r,d.setBounds(f,_.y,s-f,_.height),d.layoutContent(t),c++}else if(p instanceof Z.GroupFooter){if(this._fixedView){var y=this._fixedFooterViews[l];y.updateItem(p,c),y.layoutContent(t)}if(this._rightView){var m=this._rightFooterViews[l];m.updateItem(p,c),m.layoutContent(t)}(d=this._footerViews[l++]).updateItem(p,c),d.layoutContent(t),c+=u}else c+=u}},Y.prototype.$_prepareHeaders=function(t){for(var e=t.$_getItems(),i=0,o=t.fixedItemCount,r=e.length;o<r;o++)e[o]instanceof Z.GroupItemImpl&&i++;for(;this._headerViews.length<i;)n=(n=this._headerPool.pop())||new F,this.addChild(n),this._headerViews.push(n);for(;this._headerViews.length>i;){var n=this._headerViews.pop();this.removeChild(n),this._headerPool.push(n)}},Y.prototype.$_prepareGroupItems=function(t,e,i,o){this._bodyView=e,this._fixedView=i,this._rightView=o},Y.prototype.$_prepareGroupFooters=function(t,e){for(var i=0,o=e.fixedItemCount,r=t.length;o<r;o++)t[o]instanceof Z.GroupFooter&&i++;for(;this._footerViews.length<i;)n=(n=this._footerPool.pop())||new N,this.addChild(n),this._footerViews.push(n);for(;this._footerViews.length>i;){var n=this._footerViews.pop();this.removeChild(n),this._footerPool.push(n)}if(this._fixedView){for(;this._fixedFooterViews.length<i;)n=(n=this._fixedFooterPool.pop())||new $,this.addChild(n),this._fixedFooterViews.push(n);for(;this._fixedFooterViews.length>i;)n=this._fixedFooterViews.pop(),this.removeChild(n),this._fixedFooterPool.push(n)}if(this._rightView){for(;this._rightFooterViews.length<i;)n=(n=this._rightFooterPool.pop())||new U,this.addChild(n),this._rightFooterViews.push(n);for(;this._rightFooterViews.length>i;)n=this._rightFooterViews.pop(),this.removeChild(n),this._rightFooterPool.push(n)}},Y.prototype.$_getTableRow=function(t,e){return this._bodyView._tbody.children[e]},Y.prototype.$_getTableCell=function(t,e){return this._bodyView._tbody.children[t].children[e]},Y.prototype.$_getFixedTableRow=function(t){return this._fixedView._tbody.children[t]},Y.prototype.$_getFixedTableCell=function(t,e){return this._fixedView._tbody.children[t].children[e]},Y.prototype.$_getRightTableRow=function(t){return this._rightView._tbody.children[t]},Y.prototype.$_getRightTableCell=function(t,e){return this._rightView._tbody.children[t].children[e]},Y.prototype.$_getBodyCells=function(t){return this._bodyView._cells[t]},Y);function Y(t){var e=z.call(this,t||"rowGroupLayer")||this;return e._headerPool=[],e._headerViews=[],e._footerPool=[],e._footerViews=[],e._fixedFooterPool=[],e._fixedFooterViews=[],e._rightFooterPool=[],e._rightFooterViews=[],e._indents=[],e}e.RowGroupElement=K});t(ze);ze.RowGroupHeadElement,ze.RowGroupFootElement,ze.RowGroupExpandHandle,ze.RowGroupBarContainer,ze.RowGroupBarPane,ze.RowGroupPane,ze.RowGroupHeaderCellElement,ze.RowGroupHeaderElement,ze.RowGroupFooterElement,ze.RowGroupFixedFooterElement,ze.RowGroupRightFooterElement,ze.RowGroupElement;var Ke=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"enabled",{get:function(){return this._enabled},set:function(t){t!=this._enabled&&(this._enabled=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"prompt",{get:function(){return this._prompt},set:function(t){t!=this._prompt&&(this._prompt=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"linear",{get:function(){return this._linear},set:function(t){t!=this._linear&&(this._linear=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"expandWhenGrouping",{get:function(){return this._expandWhenGrouping},set:function(t){t!=this._expandWhenGrouping&&(this._expandWhenGrouping=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"summarizing",{get:function(){return this._summarizing},set:function(t){t!=this._summarizing&&(this._summarizing=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitBeforeGrouping",{get:function(){return this._commitBeforeGrouping},set:function(t){this._commitBeforeGrouping=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitBeforeExpand",{get:function(){return this._commitBeforeExpand},set:function(t){this._commitBeforeExpand=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"commitBeforeCollapse",{get:function(){return this._commitBeforeCollapse},set:function(t){this._commitBeforeCollapse=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fixMergedColumns",{get:function(){return this._fixMergedColumns},set:function(t){this._fixMergedColumns=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"toast",{get:function(){return this._toast},enumerable:!0,configurable:!0}),s.prototype._changed=function(){this.grid._groupingOptionsChanged(this),this._layoutOwner()},s);function s(t){var e=r.call(this,t)||this;return e._enabled=!1,e._prompt="컬럼 헤더를 이 곳으로 끌어다 놓으면 그 컬럼으로 그룹핑합니다.",e._linear=!1,e._expandWhenGrouping=!0,e._summarizing=!0,e._commitBeforeGrouping=!0,e._commitBeforeExpand=!0,e._commitBeforeCollapse=!0,e._fixMergedColumns=!0,e._toast=new _e.ToastOptions({visible:!1,message:"Grouping..."}),e}e.GroupingOptions=n});t(Ke);Ke.GroupingOptions;var Ye=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=zt.GridElement,i(n,r),n.prototype._doDispose=function(){U.Utils.detach(this._textView),U.Utils.detach(this._closeView),this._textView=this._closeView=null,r.prototype._doDispose.call(this)},Object.defineProperty(n.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),n.prototype.setColumn=function(t){this._field=t.dataIndex,this._textView.textContent=this._text=t.displayText},n.prototype.isCloseButton=function(t){return t===this._closeView},n.prototype._getCssSelector=function(){return"rg-header rg-header-cell rg-group-panel-item"},n.prototype._initDom=function(t){r.prototype._initDom.call(this,t),this._textView=document.createElement("span"),this._textView.className="rg-group-panel-item-text",this._textView.style.display="inline-block",t.appendChild(this._textView),this._closeView=document.createElement("span"),this._closeView.className="rg-group-panel-item-close",t.appendChild(this._closeView)},n.prototype._doMeasure=function(t,e,i){var o=(this._textWidth=this._textView.offsetWidth)+this._itemGap+this._closeView.offsetWidth+2*this._padHorz,r=this._textHeight=this._textView.offsetHeight;return r=Math.max(r,this._closeHeight=this._closeView.offsetHeight),r+=2*this._padVert,new Wt.Size(o,r)},n.prototype._doLayoutContent=function(t){},n.prototype._doDraw=function(t){var e=this._dom.clientHeight;this._textView.style.left=this._padHorz+"px",this._textView.style.top=Math.floor((e-this._textHeight)/2)+"px",this._closeView.style.left=this._padHorz+this._textWidth+this._itemGap+"px",this._closeView.style.top=Math.floor((e-this._closeHeight)/2)+"px"},n);function n(){var t=r.call(this)||this;return t._field=-1,t._text="",t._textWidth=0,t._textHeight=0,t._closeHeight=0,t._padHorz=5,t._padVert=4,t._itemGap=8,t}e.GroupPanelItemView=s;var a,l=(a=zt.VisualObjectElement,i(u,a),u.prototype._doDispose=function(){this._itemViews&&this._itemViews.forEach(function(t,e){t.dispose()}),this._itemViews=null,U.Utils.detach(this._messageView),this._messageView=null,a.prototype._doDispose.call(this)},u.prototype._getCssSelector=function(){return"rg-group-panel"},u.prototype._initDom=function(t){a.prototype._initDom.call(this,t),t.style.overflow="hidden";var e=this._messageView=document.createElement("span");e.className="rg-group-panel-message",t.appendChild(e)},u.prototype._doMeasure=function(t,e,i){var o=t.groupingOptions;this._count=t.rowGroupLevels;var r=0,n=this._messageView.style;if(0<this._count?n.display="none":(n.display="",n.left=this._padHorz+"px",n.top=this._padVert+"px",this._messageView.textContent=o.prompt,r=this._messageView.offsetHeight),this.$_prepareItemViews(t,this._count),0<this._count){for(var s=0;s<this._count;s++){var a=(l=this._itemViews[s]).measure(t,e,i);l.width=a.width,r=Math.max(r,a.height)}for(s=0;s<this._count;s++){var l;(l=this._itemViews[s]).height=r}}return new Wt.Size(e,r+2*this._padVert)},u.prototype._doPrepareContent=function(t){},u.prototype._doLayoutContent=function(t){if(0<this._count)for(var e=this._padHorz,i=this._padVert,o=0;o<this._count;o++){var r=this._itemViews[o];r.x=e,r.y=i,e+=this._itemGap+r.width}},u.prototype._doDraw=function(t){},u.prototype.$_prepareItemViews=function(t,e){for(var i=this._itemViews,o=t.rowGroupFields,r=i.length;r<e;r++)i.push(new s);for(r=0;r<e;r++){var n=i[r];n.setColumn(t.columnByField(o[r])),n.visible=!0,this.addChild(n)}for(r=e;r<i.length;r++)this.removeChild(i[r])},u);function u(t){var e=a.call(this,t)||this;return e._itemViews=[],e._count=0,e._padHorz=16,e._padVert=10,e._itemGap=20,e}e.GroupPanelElement=l});t(Ye);Ye.GroupPanelItemView,Ye.GroupPanelElement;var qe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=$e.GridBase,i(s,r),s.prototype._doDispose=function(){this._rs.dispose(),this._rs=null,this._groupPanelView=this.groupPanelView.dispose(),this._rowGroup=this._rowGroup.dispose(),this._groupingOptions=this._groupingOptions.dispose(),r.prototype._doDispose.call(this)},s.prototype._doCreateOtherElements=function(){this._groupView=new ze.RowGroupElement,this.addElement(this._groupView)},Object.defineProperty(s.prototype,"maxRowCount",{get:function(){return this._rs.maxRowCount},set:function(t){this._rs.maxRowCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowGroup",{get:function(){return this._rowGroup},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupPanelView",{get:function(){return this._groupPanelView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupBarPane",{get:function(){return this._groupBarPane},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupView",{get:function(){return this._groupView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"groupingOptions",{get:function(){return this._groupingOptions},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"paged",{get:function(){return 0<=this._rs.page},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"page",{get:function(){return this._rs.page},set:function(t){this.setPage(t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pageCount",{get:function(){return this._rs.pageCount},set:function(t){var e=this._rs.pageCount;this._rs.pageCount=t,this._rs.pageCount!=e&&this.$_firePageCountChanged(this._rs.pageCount)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"pageSorting",{set:function(t){},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowGroupLevels",{get:function(){return this._rs.groupLevels},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowGroupFields",{get:function(){return this._rs.groupByFields},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowGrouped",{get:function(){return this._rs.grouped},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"mergedRowGrouped",{get:function(){return this._rs.mergedGrouped},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"rowGroupSummaryRuntime",{get:function(){return this._rowGroupSummaryRuntime},enumerable:!0,configurable:!0}),s.prototype.isGrouped=function(t){return t&&0<t.groupLevel},s.prototype.isGroupedField=function(t){return this._rs.isGroupedField(t)},s.prototype.getGroupLevel=function(t){return this._rs.getGroupLevel(t)},s.prototype.groupByFieldNames=function(t,e,i){void 0===i&&(i=H.SortDirection.ASCENDING);var o=this.dataSource;if(o&&t&&0<t.length){for(var r=[],n=0;n<t.length;n++){var s=t[n],a=o.getFieldIndex(s);0<=a&&r.push(a)}0<r.length&&(e=void 0===e?this.rowGroup.sorting:e,this.groupBy(r,e,i))}else this.ungroupBy()},s.prototype.groupBy=function(t,e,i){this.isItemEditing(null)||this.toastManager.show(this.groupingOptions.toast,!0,function(){this.$_doGroupBy(t,e,i)}.bind(this))},s.prototype.clearGroupBy=function(){this.isItemEditing(null)||(this._rs.groupBy(null,!0,H.SortDirection.ASCENDING),this.$_doRowGroupFooterMergeChanged(),this.$_clearColumnMergeGrouped())},s.prototype.ungroupBy=function(){this.clearGroupBy()},s.prototype.addGroupBy=function(t,e){e&&(this.isItemEditing(null)||this.isGrouped(e)||e.layout&&e.layout.visible&&0<=e.dataIndex&&this.toastManager.show(this.groupingOptions.toast,!0,function(){this.$_doAddGroupBy(t,e)}.bind(this)))},s.prototype.addGroupByField=function(t,e){var i=this.columnByField(e);i&&this.addGroupBy(t,i)},s.prototype.removeGroupByField=function(t){t<0||this.isItemEditing(null)||!this.isGroupedField(t)||(this._rs.groupByFields,this._rs.removeGroupBy(t,!1),this._rs.groupByFields.length,this.$_doRowGroupFooterMergeChanged())},s.prototype.removeGroupBy=function(t){this.removeGroupByField(t.dataIndex)},s.prototype.expand=function(t,e,i,o){this.isItemEditing(null)||this._rs.expand(t,e,i,o)},s.prototype.collapse=function(t,e,i){this.isItemEditing(null)||this._rs.collapse(t,e,i)},s.prototype.isGroupedColumn=function(t){return t&&0<=t.dataIndex&&this._rs.isGroupedField(t.dataIndex)},s.prototype.getSortFields=function(){return this.itemSource.getSortFields()},s.prototype.getSortDirections=function(){return this.itemSource.getSortDirections()},s.prototype.getSortCases=function(){return this.itemSource.getSortCases()},s.prototype.setPaging=function(t,e,i){void 0===e&&(e=10),void 0===i&&(i=-1),this._rs.setPaging(t,e,i,null)},s.prototype.setPage=function(t,e){if(void 0===e&&(e=-1),(t=Math.max(0,Math.min(t,this._rs.pageCount-1)))!=this._rs.page){var i=!1;this.$_firePageChanging(t)&&(this._rs.setPage(t,e),i=!0),i&&this.$_firePageChanged(this._rs.page)}},Object.defineProperty(s.prototype,"summarizer",{get:function(){return this._rs.summarizer},enumerable:!0,configurable:!0}),s.prototype._createSidePane=function(){return this._groupBarPane=new ze.RowGroupBarPane},s.prototype.isSidePaneVisible=function(){return this.rowGrouped&&!this.mergedRowGrouped},s.prototype._createLayoutManager=function(){return new l(this)},s.prototype.canGrouping=function(){return this._groupPanelView.visible},s.prototype._canMerge=function(){return!0},Object.defineProperty(s.prototype,"undoable",{get:function(){return this._rs.undoable},set:function(t){this._rs.undoable=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"canUndo",{get:function(){return this._rs.canUndo},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"canRedo",{get:function(){return this._rs.canRedo},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"undoing",{get:function(){return this._rs.undoing},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"redoing",{get:function(){return this._rs.redoing},enumerable:!0,configurable:!0}),s.prototype.undo=function(){return!!this._rs.canUndo&&(this._rs.cancelWhenLastUndo=this.editOptions.cancelWhenLastUndo,this.editController.cancelEditor(!0),this._rs.undo(),!0)},s.prototype.redo=function(){return!!this._rs.canRedo&&(this._rs.redo(),!0)},s.prototype.execute=function(t){this._rs.execute(t)},s.prototype.clearCommandStack=function(t){void 0===t&&(t=!0),this._rs.clearCommandStack(t)},s.prototype._doSortItems=function(t,e,i){this.itemSource.orderBy(t,e,i)},s.prototype._doColumnFiltersChanged=function(t,e){this.applyFilters(t,e),this.invalidateLayout()},s.prototype.setOptions=function(t){if(t){var e=this._rs;void 0!==t.hideDeleted&&(e.hideDeleted=t.hideDeleted),void 0!==t.hideDeletedRows&&(e.hideDeleted=t.hideDeletedRows),void 0!==t.inclusiveFiltering&&(e.inclusiveFiltering=t.inclusiveFiltering),void 0!==t.filterOr&&(e.inclusiveFiltering=t.filterOr),void 0!==t.summaryMode&&(e.summaryMode=t.summaryMode),void 0!==t.groupSummaryMode&&(e.groupSummaryMode=t.groupSummaryMode),void 0!==t.sortMode&&(e.sortMode=t.sortMdoe),void 0!==t.filterMode&&(e.filterMode=t.filterMode),r.prototype.setOptions.call(this,t)}},s.prototype._visualObjectChanged=function(t){r.prototype._visualObjectChanged.call(this,t),t instanceof Bt.CheckBar&&(this._rs.checkableExpression=t.checkableExpression)},s.prototype.resetCheckables=function(){this._rs.resetCheckables()},s.prototype.applyCheckables=function(){this._rs.applyCheckables()},s.prototype.getCheckedRows=function(t,e,i){var o,r;if(e){o=[];for(var n=0,s=this.itemCount;n<s;n++)(r=this.getItem(n)).checked&&0<=r.dataRow&&o.push(r.dataRow)}else o=this._rs.getCheckedRows(i);return t&&o.sort(function(t,e){return t-e}),o},s.prototype.getCheckedItems=function(t){for(var e=[],i=0,o=this.itemCount;i<o;i++){var r=this.getItem(i);r.checked&&(t||0<=r.dataRow)&&e.push(r.index)}return e},s.prototype.findGroupItem=function(t,e){for(var i=this.getGroupLevel(e),o=t instanceof Z.GroupItem?t:t.parent;o;){if(o.level==i)return o;o=o.parent}return null},s.prototype._createItemSource=function(){return new Ue.GridItemProvider(!0,this._rowGroup)},s.prototype.$_rowGroupChanged=function(t){this._doRowGroupMergeModeChanged()},s.prototype._groupingOptionsChanged=function(t){this._rs.expandWhenGrouping=t.expandWhenGrouping},s.prototype.$_rowGroupAdornmentsChanged=function(t){this._rs._groupedProvider.resetAdornments(t.expandedAdornments,t.collapsedAdornments,t.createFooterCallback)},s.prototype.$_getVisibleRootByField=function(t){for(var e=this.visibleLayoutCount,i=0;i<e;i++){var o=this.getVisibleLayout(i),r=o instanceof A.CellLayoutColumnItem&&U.Utils.cast(o.firstColumn,ut.DataColumn);if(r&&r.dataIndex==t)return r}return null},s.prototype.$_clearColumnMergeGrouped=function(){this._activeCellLayout._clearMergeGrouped()},s.prototype._doRowGroupMergeModeChanged=function(){r.prototype._doRowGroupMergeModeChanged.call(this),this.$_clearColumnMergeGrouped();var t=this._rs.groupByFields;if(this.rowGroup.mergeMode){if(t&&0<t.length)for(var e=t.length-1;0<=e;e--){var i=this.$_getVisibleRootByField(t[e]);i?i.$_setMergeGrouped(!0):t.splice(e,1)}this._rs.groupByMode(t,!0)}else this._rs.groupByMode(t,!1)},s.prototype.$_doRowGroupFooterMergeChanged=function(){},s.prototype.$_doGroupBy=function(t,e,i){var o,r=this.dataSource;if(this.$_clearColumnMergeGrouped(),r&&t&&0<(o=t.length)){for(var n=r.fieldCount,s=[],a=0;a<o;a++)0<=t[a]&&t[a]<n&&s.push(t[a]);if(0<s.length){if(this.rowGroup.mergeMode)for(a=s.length-1;0<=a;a--){var l=this.$_getVisibleRootByField(s[a]);l?l.$_setMergeGrouped(!0):s.splice(a,1)}0<s.length&&this._rs.groupBy(s,e,i)}}else this._rs.groupBy(null,!0,H.SortDirection.ASCENDING);this.$_doRowGroupFooterMergeChanged()},s.prototype.$_doAddGroupBy=function(t,e){var i=e.dataIndex;e.$_setMergeGrouped(this.rowGroup.mergeMode);try{this._rs.addGroupBy(t,i,this.rowGroup.sorting),this.$_doRowGroupFooterMergeChanged()}catch(t){throw e.$_setMergeGrouped(!1),t}},s.prototype.$_clearGroupedIndices=function(){for(var t=this.columnCount-1;0<=t;t--){var e=U.Utils.cast(this.getColumn(t),ut.DataColumn);e&&e.$_setGroupLevel(this._rs.getGroupLevel(-1))}},s.prototype.$_setGroupedIndices=function(){for(var t=this.columnCount-1;0<=t;t--){var e=U.Utils.cast(this.getColumn(t),ut.DataColumn);e&&e.$_setGroupLevel(this._rs.getGroupLevel(e.dataIndex))}},s.prototype.$_firePageChanging=function(t){return this.fireConfirmEvent(s.PAGE_CHANGING,t)},s.prototype.$_firePageChanged=function(t){this.fireEvent(s.PAGE_CHANGED,t)},s.prototype.$_firePageCountChanged=function(t){this.fireEvent(s.PAGE_COUNT_CHANGED,t)},s.prototype.$_fireGrouping=function(t){return this.fireConfirmEvent(s.GROUPING,t)},s.prototype.$_fireGrouped=function(){this.fireEvent(s.GROUPED)},s.prototype.$_fireExpanding=function(t){return this.fireConfirmEvent(s.EXPANDING,t)},s.prototype.$_fireExpanded=function(t){this.fireEvent(s.EXPANDED,t)},s.prototype.$_fireCollapsing=function(t){return this.fireConfirmEvent(s.COLLAPSING,t)},s.prototype.$_fireCollapsed=function(t){this.fireEvent(s.COLLAPSED,t)},s.prototype.onGroupedItemProviderGrouping=function(t,e){return this.$_fireGrouping(e)},s.prototype.onGroupedItemProviderGrouped=function(t){this.selections.clear(),this.$_clearGroupedIndices();var e=this._rs.groupByFields;if(e&&0<e.length&&this.$_setGroupedIndices(),this.rowGroup.mergeMode){for(var i=[],o=this.visibleLayoutCount,r=0;r<o;r++){var n=this.getVisibleLayout(r);(s=U.Utils.cast(n.firstColumn,ut.DataColumn))&&(s.mergeGrouped&&s.groupLevel<=0?((a=s._merges)&&a.clear(),s.$_setMergeGrouped(!1)):s.mergeGrouped&&((a=s._merges)||(a=new tt.ColumnMergeManager(n),s._merges=a),i.push(s)))}if(0<(o=i.length))for(i=i.sort(function(t,e){return t.groupLevel-e.groupLevel}),r=0;r<o;r++)i[r].layout.vindex=r,(a=i[r]._merges).clear(),a.initialize(tt.RowGroupMergeRule.INIT_COUNT);for(o=this.visibleLayoutCount,r=0;r<o;r++){var s,a;(s=U.Utils.cast(this.getVisibleLayout(r).firstColumn,ut.DataColumn))&&!s.mergeGrouped&&(a=s._merges)&&(a.clear(),a.initialize(tt.RowGroupMergeRule.INIT_COUNT))}}this._syncHeadCheck([]),this.$_fireGrouped(),this._cellLayoutChanged(),this.container.defaultTool.layoutChanged()},s.prototype.onGroupedItemProviderExpand=function(t,e){return this.$_fireExpanding(e)},s.prototype.onGroupedItemProviderExpanded=function(t,e){this.$_fireExpanded(e)},s.prototype.onGroupedItemProviderCollapse=function(t,e){return this.$_fireCollapsing(e)},s.prototype.onGroupedItemProviderCollapsed=function(t,e){this.$_fireCollapsed(e)},s.PAGE_CHANGING="onGridViewPageChanging",s.PAGE_CHANGED="onGridViewPageChanged",s.PAGE_COUNT_CHANGED="onGridViewPageCountChanged",s.GROUPING="onGridViewGrouping",s.GROUPED="onGridViewGrouped",s.EXPANDING="onGridViewExpanding",s.EXPANDED="onGridViewExpanded",s.COLLAPSING="onGridViewCollapsing",s.COLLAPSED="onGridViewCollapsed",s);function s(t){var e=r.call(this,t)||this;return e._rowGroupSummaryRuntime=new Ft.RowGroupSummaryRuntime,e._addGridObject(e._rowGroup=new Be.RowGroup(e)),e._rs=e._createItemSource(),e.itemSource=e._rs,e._groupingOptions=new Ke.GroupingOptions(e),e._groupingOptionsChanged(e._groupingOptions),e._groupPanelView=new Ye.GroupPanelElement(e.rowGroup),e.topContentPane.addChild(e._groupPanelView),e}e.GridView=n;var a,l=(a=ee.GridLayoutManager,i(u,a),u.prototype.getLevelIndent=function(t){var e=this.grid;if(this.mergedRowGrouped){for(var i=this.fixedLayoutCount,o=0,r=0;r<t&&r<i;r++)o+=this.getFixedLayoutWidth(r);for(r=i;r<t;r++)o+=this.getLayoutWidth(r-i);return i?i<t?o=Math.max(this.fixedWidth,o+this.fixedBarWidth-this.leftPos):o+=this.fixedBarWidth:o-=this.leftPos,o}return e.groupBarPane.getLevelIndent(t)},Object.defineProperty(u.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"topPanelVisible",{get:function(){return this._panelVisible},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowGrouped",{get:function(){return!this.grid.rowGroup.mergeMode&&this.grid.rowGrouped},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mergedRowGrouped",{get:function(){return this.grid.rowGroup.mergeMode&&this.grid.rowGrouped},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rowGroupLevels",{get:function(){return this.grid.rowGroupLevels},enumerable:!0,configurable:!0}),u.prototype.$_groupView=function(t){return this.grid._groupView},u.prototype.setLeftPos=function(t,e){a.prototype.setLeftPos.call(this,t,e);var i=this.grid,o=i.mergedRowGrouped,r=this.$_groupView(o);r.visible&&this.$_layoutRowGroupView(i,r)},u.prototype._prepareItems=function(){a.prototype._prepareItems.call(this);var t=this.grid;if(t.rowGrouped){var e=t.mergedRowGrouped,i=this.$_groupView(e),o=this.contentBounds.isEmpty?null:t.bodyView,r=this.fixedContentBounds.isEmpty?null:t.fixedBodyView,n=this.rightContentBounds.isEmpty?null:t.rightBodyView;i.$_prepareGroupItems(this,o,r,n),i.$_prepareGroupFooters(this._items,this)}},u.prototype._doMeasureTopPane=function(t,e){var i=t.groupingOptions,o=t.groupPanelView;if(this._panelVisible=i.enabled,this._panelVisible){var r=o.measure(t,e.width,e.height);e.height=r.height}else e.height=1,e.width=1},u.prototype._doLayoutTopPane=function(t,e){var i=t.groupPanelView;i.setBounds(0,0,e.width,e.height),this._panelVisible&&i.layoutContent(this)},u.prototype._doLayout=function(t,e){a.prototype._doLayout.call(this,t,e);var i=t.rowGrouped,o=t.mergedRowGrouped,r=this.$_groupView(o);this.$_groupView(!o).visible=!1,(r.visible=i)&&this.$_layoutRowGroupView(t,r)},u.prototype.isMergedCell=function(t){var e=this.grid;if(e.rowGroup.mergeMode&&e.isGroupedColumn(t.dataColumn))return!0;var i=t.layout;if(i&&i.isColumn&&t.layout.merged){var o=i.firstColumn._merges;if(o)return null!=o.getRoom(t)}return!1},u.prototype.$_layoutRowGroupView=function(t,e){var i=this.contentBounds,o=this.sideContentBounds.clone();o.top=i.y+this.bodyBounds.y,o.right=t.fixedOptions.rightFixed?i.right:this.rightContentBounds.right,o.bottom=Math.min(this.footBounds.y+i.y,i.bottom),e.setRect(o),e.layout(this)},u);function u(t){var e=a.call(this,t)||this;return e._panelVisible=!1,e}e.GridViewLayoutManager=l;var d,h=(d=Se.GridSelectionTool,i(c,d),c.prototype._doDispose=function(){this._panelCellReq=null,d.prototype._doDispose.call(this)},c.prototype._doMouseDown=function(t){var e=t.mouseX,i=t.mouseY,o=this.grid,r=this.findElementAt(e,i,!1),n=this.mouseEventTarget;if(n instanceof HTMLElement&&Qt.RowElement.isExpander(n)){var s=this._findTableCell(n),a=o.getTableView(s);if(a instanceof te.GridBodyElement){var l=o.getDataCellIndex(s,this._tempIndex);(u=a.getCellAt(o.layoutManager,l).groupItem).expanded?o.collapse(u,!1,!1):o.expand(u,!1,!1,0)}}else{var u;r instanceof ze.RowGroupExpandHandle?(u=r.cellView.item)instanceof Z.GroupItemImpl&&(u.expanded?o.collapse(u,!1,!1):o.expand(u,!1,!1,0)):d.prototype._doMouseDown.call(this,t)}},c.prototype._doClick=function(t){var e=t.mouseX,i=t.mouseY,o=this.grid,r=this.findElementAt(e,i,!1);r instanceof Ye.GroupPanelItemView&&r.isCloseButton(t.target)&&o.removeGroupByField(r.field),d.prototype._doClick.call(this,t)},c.prototype._getEditRequest=function(t,e,i,o,r){var n=d.prototype._getEditRequest.call(this,t,e,i,o,r);if(n)return n;var s=this.grid,a=this.findElementAt(e,i,!1),l=this._findTableCell(t),u=l&&s.getTableView(l);if(u instanceof Yt.HeaderElement){var h=u.layoutByCell(l),c=h.firstColumn;if(h.isFixed&&!s.fixedOptions.movable&&s.groupingOptions.enabled&&c){var p=s.layoutManager.getHeaderCellRect(h);return this._groupingReq.init(h,p,e,i)}}return a instanceof Ye.GroupPanelItemView?this._panelCellReq.init(a,e,i):void 0},c.prototype._getDragTracker=function(t,e,i){var o=this.grid;return t instanceof _?new b(o,t,this._panelCellFeedback):t instanceof x?new S(o,t,this._panelCellFeedback):d.prototype._getDragTracker.call(this,t,e,i)},c.prototype.getNextRequest=function(t,e,i,o){var r=this.grid;return t instanceof we.ColumnMoveRequest&&t.layout instanceof A.CellLayoutColumnItem&&r.layoutManager.topPanelVisible&&o<r.groupPanelView.bottom?this._groupingReq.init(t.layout,e,i,o):null},c);function c(t){var e=d.call(this,t,"gridSelectionTool")||this;return e._panelCellReq=new _,e._panelCellFeedback=new m,e._groupingReq=new x,e}e.GridViewSelectionTool=h;var p,_=(p=ae.EditRequest,i(f,p),Object.defineProperty(f.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"field",{get:function(){return this._field},enumerable:!0,configurable:!0}),f.prototype.init=function(t,e,i){return this._source=t,this._x=e,this._y=i,this._field=t.field,this},Object.defineProperty(f.prototype,"cursor",{get:function(){return H.Cursor.POINTER},enumerable:!0,configurable:!0}),f);function f(){var t=p.call(this)||this;return t._field=-1,t}var y,m=(y=Ot.VisualElement,i(g,y),g.prototype.setField=function(t,e){void 0===e&&(e=!1),this._textView.textContent=t,this._noMark.style.display=(this._no=e)?"inline-block":"none"},g.prototype._getCssSelector=function(){return"rg-header rg-header-cell rg-group-panel-item rg-group-panel-cell-feedback"},g.prototype._initDom=function(t){y.prototype._initDom.call(this,t),this._textView=document.createElement("span"),this._textView.className="rg-group-panel-item-text",this._textView.style.display="inline-block",t.appendChild(this._textView),this._noMark=document.createElement("span"),this._noMark.className="rg-group-panel-no-mark",this._noMark.style.display="none",t.appendChild(this._noMark)},g.prototype._doDraw=function(t){var e=this._textView.offsetWidth,i=this._textView.offsetHeight,o=this._textView.style;if(o.left=Math.max(0,(this.width-e)/2)+"px",o.top=Math.max(0,(this.height-i)/2)+"px",this._no){var r=this._noMark.offsetWidth,n=this._noMark.offsetHeight,s=this._noMark.style;s.left=Math.max(0,(this.width-r)/2)+"px",s.top=Math.max(0,(this.height-n)/2)+"px"}},g);function g(){var t=y.call(this)||this;return t._no=!1,t}var v,b=(v=xe.GridDragTracker,i(C,v),C.prototype._doDispose=function(){this._request=null,this._feedback=null,v.prototype._doDispose.call(this)},C.prototype._doStart=function(t,e,i,o){var r=this.grid,n=(r.layoutManager,this._request.source.boundsByContainer());return this._feedback.setRect(n),this._feedback.setField(this._request.source.text),this._feedback.visible=!0,r.addFeedbackElement(this._feedback),this._offsetX=e-n.x,this._offsetY=i-n.y,!0},C.prototype._doDrag=function(t,e,i){return e-=this._offsetX,i-=this._offsetY,this._feedback.move(e,i),!0},C.prototype._doCompleted=function(){var t=this.grid,e=t.layoutManager;this.currentY>e.contentBounds.y&&t.removeGroupByField(this._request.field)},C.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback)},C);function C(t,e,i){var o=v.call(this,t,"groupPanelCellTracker")||this;return o._request=e,o._feedback=i,o}var w,x=(w=ae.EditRequest,i(I,w),I.prototype._doDispose=function(){this._layout=null,this._source=null,w.prototype._doDispose.call(this)},Object.defineProperty(I.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(I.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),I.prototype.init=function(t,e,i,o){return this._layout=t,this._source=e,this._x=i,this._y=o,this},Object.defineProperty(I.prototype,"cursor",{get:function(){return H.Cursor.POINTER},enumerable:!0,configurable:!0}),I);function I(){return w.call(this)||this}var E,S=(E=xe.GridDragTracker,i(O,E),O.prototype._doDispose=function(){this._request=null,this._feedback=null,E.prototype._doDispose.call(this)},O.prototype._doStart=function(t,e,i,o){var r=this.grid,n=(r.layoutManager,this._request.source),s=n instanceof Ot.VisualElement?n.boundsByContainer():n,a=r.isGroupedField(this._request.layout.firstColumn.dataIndex);return this._feedback.setRect(s),this._feedback.setField(this._request.layout.firstColumn.displayText,a),this._feedback.visible=!0,r.addFeedbackElement(this._feedback),this._offsetX=e-s.x,this._offsetY=i-s.y,!0},O.prototype._doDrag=function(t,e,i){return e-=this._offsetX,i-=this._offsetY,this._feedback.move(e,i),!0},O.prototype._doCompleted=function(){var t=this.grid,e=t.layoutManager;this.currentY<e.contentBounds.y&&t.addGroupByField(e.rowGroupLevels,this._request.layout.firstColumn.dataIndex)},O.prototype._doEnded=function(){this.grid.removeFeedbackElement(this._feedback)},O);function O(t,e,i){var o=E.call(this,t,"groupingCellTracker")||this;return o._request=e,o._feedback=i,o}});t(qe);qe.GridView,qe.GridViewLayoutManager,qe.GridViewSelectionTool;var Xe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Y.EventAware,i(s,r),s.prototype._doDispose=function(){this._title=this._title.dispose(),this._footer=this._footer.dispose(),this._header=this._header.dispose(),this._body=this._body.dispose(),r.prototype._doDispose.call(this)},s.prototype.itemVisibleChanged=function(t){},s.prototype.itemChanged=function(t){},Object.defineProperty(s.prototype,"dataSource",{get:function(){return this._ds},set:function(t){t!=this._ds&&(this._ds=t,this.$_refreshItems(),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"footer",{get:function(){return this._footer},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"header",{get:function(){return this._header},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"body",{get:function(){return this._body},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemCount",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"visibleItemCount",{get:function(){return this._visibleItems.length},enumerable:!0,configurable:!0}),s.prototype.load=function(t){t&&(t.title&&this._title.assignFrom(t.title),t.footer&&this._footer.assignFrom(t.footer),t.header&&this._header.assignFrom(t.header),t.body&&this._body.assignFrom(t.body),U.Utils.isArray(t.items)&&this.$_loadItems(t.items,this._items=[]),this._changed())},s.prototype.getItem=function(t){return this._items[t]},s.prototype.getVisibleItem=function(t){return this._visibleItems[t]},s.prototype._changed=function(){this.fireEvent(s.CHANGED)},s.prototype.$_loadItems=function(t,e,i){void 0===i&&(i=null);for(var o=0,r=t;o<r.length;o++){var n=r[o];if(n){var s=void 0;if(!i&&U.Utils.isArray(n.items)){var a=s=new F;this.$_loadItems(n.items,a._items,a)}else"string"==typeof n.template?s=new $:"string"==typeof n.fieldName&&(s=new N);s.assignFrom(n),s&&(i?(i._items.push(s),s.$_attached(i)):(this._items.push(s),s.$_attached(this)))}}this._visibleChanged=!0},s.prototype.$_resetvisibles=function(){for(var t=this._visibleItems=[],e=0,i=this._items;e<i.length;e++){var o=i[e];if(o.visible&&(t.push(o),o instanceof F&&o.expanded))for(var r=0,n=o._items;r<n.length;r++)n[r],o.visible&&t.push(o)}},s.prototype.$_refreshItems=function(){var t=this._items;if(t)for(var e=0,i=t;e<i.length;e++)i[e].$_refresh(this)},s.prototype.$_prepareLayout=function(){this._visibleChanged&&(this.$_resetvisibles(),this._visibleChanged=!1)},s.CHANGED="onFormChanged",s);function s(){var t=r.call(this)||this;return t._items=[],t._visibleChanged=!1,t._visibleItems=[],t._title=new _(t),t._footer=new x(t),t._header=new m(t),t._body=new b(t),t}e.Form=n;var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){a.prototype._doDispose.call(this)},u.prototype._changed=function(){},u);function u(){return a.call(this)||this}e.FormObject=l;var h,c=(i(p,h=l),p.prototype._doDispose=function(){h.prototype._doDispose.call(this)},Object.defineProperty(p.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&(this._visible=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"styleName",{get:function(){var t=this._getDefaultStyle();return this._styleName&&(t+=" "+this._styleName),t},enumerable:!0,configurable:!0}),p.prototype._changed=function(){h.prototype._changed.call(this)},p);function p(t){var e=h.call(this)||this;return e._visible=!0,e._styleName="",e._owner=t,e}e.FormSection=c;var d,_=(i(f,d=c),f.prototype._doDispose=function(){d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._changed())},enumerable:!0,configurable:!0}),f.prototype.getLabelCell=function(){return this._labelCell},f.prototype.getValueCell=function(){return this._valueCell},f.prototype._getDefaultStyle=function(){return f.STYLE_NAME},f.STYLE_NAME="rg-form-title",f);function f(t){var e=d.call(this,t)||this;return e._height=30,e._labelCell={displayText:"Field"},e._valueCell={displayText:"Value"},e}e.FormTitle=_;var y,m=(i(g,y=c),g.prototype._doDispose=function(){y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"width",{get:function(){return this._width},set:function(t){t!=this._width&&(this._width=t,this._changed())},enumerable:!0,configurable:!0}),g.prototype._getDefaultStyle=function(){return g.STYLE_NAME},g.STYLE_NAME="rg-form-header",g);function g(t){var e=y.call(this,t)||this;return e._width=100,e}e.FormHeader=m;var v,b=(i(C,v=c),C.prototype._doDispose=function(){v.prototype._doDispose.call(this)},Object.defineProperty(C.prototype,"minRowHeight",{get:function(){return this._minRowHeight},set:function(t){t!=this._minRowHeight&&(this._minRowHeight=t,this._changed())},enumerable:!0,configurable:!0}),C.prototype._getDefaultStyle=function(){return C.STYLE_NAME},C.STYLE_NAME="rg-form-body",C);function C(t){var e=v.call(this,t)||this;return e._minRowHeight=23,e}e.FormBody=b;var w,x=(i(I,w=c),I.prototype._doDispose=function(){w.prototype._doDispose.call(this)},Object.defineProperty(I.prototype,"height",{get:function(){return this._height},set:function(t){t!=this._height&&(this._height=t,this._changed())},enumerable:!0,configurable:!0}),I.prototype._getDefaultStyle=function(){return I.STYLE_NAME},I.STYLE_NAME="rg-form-footer",I);function I(t){var e=w.call(this,t)||this;return e._height=30,e}e.FormFooter=x;var E,S=(E=ue.Base,i(O,E),O.prototype._doDispose=function(){E.prototype._doDispose.call(this)},Object.defineProperty(O.prototype,"visible",{get:function(){return this._visible},set:function(t){t!=this._visible&&(this._visible=t)},enumerable:!0,configurable:!0}),O.prototype.canEdit=function(){return!1},O.prototype.$_attached=function(t){this._group=t},O.prototype._changed=function(){},O.prototype._headerChanged=function(){this._changed()},O.prototype.$_refresh=function(t){},O.prototype.$_prepareLayout=function(t,e){this._doPrepare(t,e)},O.prototype._doPrepare=function(t,e){},O);function O(){var t=E.call(this)||this;return t._visible=!0,t._height=0,t}e.FormItem=S;var R,D=(i(P,R=l),P.prototype._doDispose=function(){this._owner=null,R.prototype._doDispose.call(this)},Object.defineProperty(P.prototype,"owner",{get:function(){return this._owner},enumerable:!0,configurable:!0}),P.prototype._changed=function(){this._owner&&this._owner._headerChanged()},P);function P(t){var e=R.call(this)||this;return e._owner=t,e}e.FormItemHeader=D;var T,k=(i(M,T=S),M.prototype._doDispose=function(){T.prototype._doDispose.call(this)},Object.defineProperty(M.prototype,"valueChanged",{get:function(){return!1},enumerable:!0,configurable:!0}),M);function M(){var t=T.call(this)||this;return t._header=new D(t),t}e.FormValueItem=k;var L,F=(i(A,L=S),A.prototype._doDispose=function(){L.prototype._doDispose.call(this)},A.prototype.itemVisibleChanged=function(t){this._group&&this._group.itemVisibleChanged(this)},A.prototype.itemChanged=function(t){this._group&&this._group.itemChanged(this)},Object.defineProperty(A.prototype,"expanded",{get:function(){return this._expanded},enumerable:!0,configurable:!0}),A.prototype.expand=function(){return!this._expanded&&(this._expanded=!0)},A.prototype.collapse=function(){return!!this._expanded&&!(this._expanded=!1)},A.prototype._doPrepare=function(t,e){},A);function A(){var t=L.call(this)||this;return t._items=[],t._expanded=!0,t}e.FormItemGroup=F;var V,N=(i(j,V=k),j.prototype._doDispose=function(){V.prototype._doDispose.call(this)},Object.defineProperty(j.prototype,"fieldName",{get:function(){return this._fieldName},set:function(t){t!=this._fieldName&&(this._fieldName=t,this._fieldIndex=-99,this._changed())},enumerable:!0,configurable:!0}),j.prototype._doPrepare=function(t,e){this._fieldIndex<-1&&(this._fieldIndex=t.dataSource.getFieldIndex(this._fieldName))},j);function j(){var t=V.call(this)||this;return t._fieldIndex=-1,t}e.FormFieldItem=N;var B,$=(i(H,B=k),H.prototype._doDispose=function(){B.prototype._doDispose.call(this)},Object.defineProperty(H.prototype,"template",{get:function(){return this._template},set:function(t){t!=this._template&&(this._template=t,this._dirty=!0,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"valueField",{get:function(){return this._valueField},set:function(t){t!=this._valueField&&(this._valueField=t,this._valueIndex=-99,this._changed())},enumerable:!0,configurable:!0}),H.prototype._doPrepare=function(t,e){this._valueIndex<-1&&(this._valueIndex=t.dataSource.getFieldIndex(this._valueField))},H);function H(){var t=B.call(this)||this;return t._dirty=!1,t._valueIndex=-1,t}e.FormTemplateItem=$});t(Xe);Xe.Form,Xe.FormObject,Xe.FormSection,Xe.FormTitle,Xe.FormHeader,Xe.FormBody,Xe.FormFooter,Xe.FormItem,Xe.FormItemHeader,Xe.FormValueItem,Xe.FormItemGroup,Xe.FormFieldItem,Xe.FormTemplateItem;var Je=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ae.VisualTool,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"form",{get:function(){return this._form},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this,t,"formSelectionTool")||this;e._form=t.formView;return e}e.FormSelectionTool=n});t(Je);Je.FormSelectionTool;var Ze=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=ue.Base,i(s,r),Object.defineProperty(s.prototype,"editable",{get:function(){return this._editable},set:function(t){this._editable=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"itemResizable",{get:function(){return this._itemResizable},set:function(t){t!=this._itemResizable&&(this._itemResizable=t,this._changed())},enumerable:!0,configurable:!0}),s.prototype._changed=function(){},s);function s(t){var e=r.call(this)||this;return e._editable=!0,e._itemResizable=!0,e._owner=t,e}e.FormOptions=n;var a,l=function(){},u=(a=Ot.VisualElement,i(h,a),h.prototype._doDispose=function(){a.prototype._doDispose.call(this)},h.prototype._changed=function(){},h);function h(){return a.call(this)||this}var c;c=Ot.LayerElement,i(p,c),p.prototype._doDispose=function(){c.prototype._doDispose.call(this)},p.prototype._changed=function(){};function p(t){return c.call(this,t)||this}var d,_=(d=Ot.LayerElement,i(f,d),f.prototype._doDispose=function(){d.prototype._doDispose.call(this)},Object.defineProperty(f.prototype,"model",{get:function(){return this._model},enumerable:!0,configurable:!0}),f.prototype.measure=function(t,e,i){return this._doMeasure(t,e,i)},f.prototype.layoutContent=function(t){this._doLayoutContent(t,this.width,this.height)},f.prototype._getCssSelector=function(){return this._model.styleName},f.prototype._changed=function(){},f);function f(t,e){var i=d.call(this,e)||this;return i._model=t,i}var y,m=(y=Ot.VisualElement,i(g,y),g.prototype._doDispose=function(){y.prototype._doDispose.call(this)},g.prototype.updateContent=function(t){this._doUpdateContent(t)},g.prototype._getCssSelector=function(){return"rg-form-cell"},g.prototype._changed=function(){},g.prototype._doUpdateContent=function(t){},g.prototype._doDraw=function(t){},g);function g(){return y.call(this)||this}var v;v=Ot.VisualElement,i(b,v),b.prototype._doDispose=function(){v.prototype._doDispose.call(this)},b.prototype._changed=function(){};function b(){return v.call(this)||this}var C,w=(C=Ot.LayerElement,i(x,C),x.prototype._doDispose=function(){C.prototype._doDispose.call(this)},Object.defineProperty(x.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"form",{get:function(){return this._form},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"dataSource",{get:function(){return this._form.dataSource},set:function(t){this._form.dataSource=t},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"currentRow",{get:function(){return-1},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"focusedItem",{get:function(){return this._focusedItem},set:function(t){t!=this._focusedItem&&(this._focusedItem=t)},enumerable:!0,configurable:!0}),x.prototype.invalidateLayout=function(){this._container.invalidateLayout()},x.prototype._getCssSelector=function(){return x.STYLE_NAME},x.prototype.$_initialzie=function(){this._selectionTool=new Je.FormSelectionTool(this._container)},x.prototype.$_activate=function(){this._container.activeTool=this._selectionTool},x.prototype.$_deactivate=function(){},x.prototype.$_prepareRender=function(t){},x.prototype.$_layout=function(t){var e,i,o=t.x,r=t.y,n=t.width,s=t.height,a=this._form,l=this._layoutInfo;this._form.$_prepareLayout(),l.labelWidth=a.header.width,l.valueWidth=t.width-l.labelWidth,((e=this._titleView).visible=e.model.visible)&&(i=e.measure(l,n,s),e.setBounds(o,r,n,i.height),e.layoutContent(l),s-=i.height,r+=i.height),((e=this._footerView).visible=e.model.visible)&&(i=e.measure(l,n,s),e.setBounds(o,t.bottom-i.height,i.width,i.height),e.layoutContent(l),s-=i.height),(e=this._bodyView).measure(l,n,s),e.setBounds(o,r,n,s),e.layoutContent(l)},x.prototype._changed=function(){},x.STYLE_NAME="rg-form-root rg-form",x);function x(t){var e=C.call(this)||this;e._container=t;var i=e._form=new Xe.Form;return e.addChild(e._titleView=new R(i.title)),e.addChild(e._bodyView=new z(i.body)),e.addChild(e._footerView=new V(i.footer)),e._layoutInfo=new l,e.visible=!1,e}e.FormView=w;var I,E=(i(S,I=m),S.prototype._doDispose=function(){I.prototype._doDispose.call(this)},S.prototype._createDom=function(){var t=I.prototype._createDom.call(this),e=document.createElement("div");return e.className=S.STYLE_NAME,t.appendChild(e),this._span=document.createElement("span"),e.appendChild(this._span),t},S.prototype._doUpdateContent=function(t){this._span.textContent=t.displayText},S.STYLE_NAME="rg-form-title-cell",S);function S(){return I.call(this)||this}e.FormTitleCellElement=E;var O,R=(i(D,O=_),D.prototype._doDispose=function(){O.prototype._doDispose.call(this)},D.prototype._doMeasure=function(t,e,i){var o=this.model;return Wt.Size.create(e,o.height)},D.prototype._doLayoutContent=function(t,e,i){var o=this.model;this._labelCell.setBounds(0,0,t.labelWidth,i),this._labelCell.updateContent(o.getLabelCell()),this._valueCell.setBounds(t.labelWidth,0,t.valueWidth,i),this._valueCell.updateContent(o.getValueCell())},D.prototype._doDraw=function(t){},D);function D(t){var e=O.call(this,t,"titleView")||this;return e._labelCell=new E,e.addChild(e._labelCell),e._valueCell=new E,e.addChild(e._valueCell),e}e.FormTitleView=R;var P,T=(i(k,P=m),k.prototype._doDispose=function(){P.prototype._doDispose.call(this)},k.prototype._getCssSelector=function(){return""},k.prototype._doDraw=function(t){},k);function k(){return P.call(this)||this}e.FormHeaderCellElement=T;var M,L=(i(F,M=_),F.prototype._doDispose=function(){M.prototype._doDispose.call(this)},F.prototype._doMeasure=function(t,e,i){var o=this.model.width;return Wt.Size.create(o,i)},F.prototype._doLayoutContent=function(t,e,i){},F.prototype._doDraw=function(t){},F);function F(t){var e=M.call(this,t,"headerView")||this;return e._cells=[],e}e.FormHeaderView=L;var A,V=(i(N,A=_),N.prototype._doDispose=function(){A.prototype._doDispose.call(this)},N.prototype._doMeasure=function(t,e,i){var o=this.model;return Wt.Size.create(e,o.height)},N.prototype._doLayoutContent=function(t,e,i){},N.prototype._doDraw=function(t){},N);function N(t){return A.call(this,t,"footerView")||this}e.FormFooterView=V;var j,B=(i($,j=m),$.prototype._doDispose=function(){j.prototype._doDispose.call(this)},$.prototype._getCssSelector=function(){return""},$.prototype._doDraw=function(t){},$);function $(){return j.call(this)||this}e.FormBodyCellElement=B;var H,G=(i(U,H=u),U.prototype._doDispose=function(){H.prototype._doDispose.call(this)},U.prototype._getCssSelector=function(){return""},U.prototype._doDraw=function(t){},U);function U(){return H.call(this)||this}e.FormGroupHeaderElement=G;var W,z=(i(K,W=_),K.prototype._doDispose=function(){this._tbody=null,this._thead=null,this._table=null,W.prototype._doDispose.call(this)},K.prototype._createDom=function(){var t=document.createElement("div"),e=this._table=document.createElement("table"),i=e.style;return i.setProperty("table-layout","fixed","important"),i.setProperty("width","0px","important"),e.className="rg-table",t.appendChild(e),this._thead=document.createElement("thead"),e.appendChild(this._thead),this._tbody=document.createElement("tbody"),e.appendChild(this._tbody),this.$_initTable(),t},K.prototype._initDom=function(t){W.prototype._initDom.call(this,t),t.style.overflow="hidden"},K.prototype._doMeasure=function(t,e,i){return Wt.Size.create(e,i)},K.prototype._doLayoutContent=function(t,e,i){var o=this.model;this.$_updateHead(t),this.$_updateRows(t,o)},K.prototype._doDraw=function(t){},K.prototype.$_initTable=function(){var t=this._thead,e=document.createElement("tr");t.appendChild(e),e.setAttribute("aria-hidden","true");var i=e.style;i.setProperty("border","0px none","important");for(var o=0;o<2;o++){var r=document.createElement("th");r.scope="col",(i=r.style).setProperty("visibility","hidden","important"),i.setProperty("margin","0px","important"),i.setProperty("padding","0px","important"),i.setProperty("font-size","0px","important"),i.setProperty("line-height","0px","important"),i.height="0px",e.appendChild(r)}},K.prototype.$_updateHead=function(t){var e=this._thead.firstElementChild.children,i=e[0].style;i.width=t.labelWidth+"px",(i=e[1].style).width=t.valueWidth+"px"},K.prototype.$_updateRows=function(t,e){e.owner;for(var i=this._tbody;i.childElementCount<100;){for(var o=document.createElement("tr"),r=0;r<2;r++){var n=document.createElement("td");o.appendChild(n)}i.appendChild(o)}for(;100<i.childElementCount;)i.removeChild(i.lastChild);for(var s=i.rows,a=e.minRowHeight+"px",l=(r=0,s.length);r<l;r++)(o=s[r]).style.height=a,this.$_updateRow(t,r,o)},K.prototype.$_updateRow=function(t,e,i){var o=i.children[0];o.textContent="XXX",(o=i.children[1]).textContent="ZZZ"},K);function K(t){return W.call(this,t,"bodyView")||this}e.FormBodyView=z;var Y,q=(i(X,Y=_),X.prototype._doDispose=function(){for(var t=0,e=this._headerViews;t<e.length;t++)e[t].dispose();this._headerViews=null,Y.prototype._doDispose.call(this)},X.prototype._getCssSelector=function(){return""},X.prototype._doMeasure=function(t,e,i){return Wt.Size.create(e,i)},X.prototype._doLayoutContent=function(t,e,i){},X.prototype._doDraw=function(t){},X);function X(t){var e=Y.call(this,t,"groupContainer")||this;return e._headerViews=[],e}e.FormGroupContainer=q});t(Ze);Ze.FormOptions,Ze.FormView,Ze.FormTitleCellElement,Ze.FormTitleView,Ze.FormHeaderCellElement,Ze.FormHeaderView,Ze.FormFooterView,Ze.FormBodyCellElement,Ze.FormGroupHeaderElement,Ze.FormBodyView,Ze.FormGroupContainer;var Qe=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=He.VisualContainer,i(s,r),s.prototype._doDispose=function(){this._gridView=null,r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"gridView",{get:function(){return this._gridView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"formView",{get:function(){return this._formView||(this._formView=new Ze.FormView(this),this._formView.$_initialzie(),this.addElement(this._formView)),this._formView},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"heightMeasurer",{get:function(){return this._heightMeasurer},enumerable:!0,configurable:!0}),s.prototype._doPrepareContainer=function(t){t.className="rg-root rg-grid",this._gridView=this._createGridView(),this.addElement(this._gridView),this._activeView=this._gridView,this._heightMeasurer=new l(this.measurer)},s.prototype._createDefaultTool=function(){return new qe.GridViewSelectionTool(this)},s.prototype._doLayout=function(t){var e=t.clone();this._formView&&this._formView.visible?this._activeView!==this._formView&&(this._gridView.$_deactivate(),this._formView.$_activate(),this._activeView=this._formView):this._activeView===this._formView&&(this._formView&&this._formView.$_deactivate(),this._gridView.$_activate(),this._activeView=this._gridView),this._activeView===this._formView?(this._formView.setRect(e),e.x=e.y=0,this._formView.$_layout(e)):(this._gridView.setRect(e),e.x=e.y=0,this._gridView.$_layout(e))},s.prototype._doPrepareRender=function(t){var e=t.clone();this._gridView.visible&&(this._gridView.setRect(e),e.x=e.y=0,this._gridView.$_prepareRender(e)),this._formView&&this._formView.visible&&(this._formView.setRect(e),e.x=e.y=0,this._formView.$_prepareRender(e))},s.prototype._createGridView=function(){return new qe.GridView(this)},s);function s(t){return r.call(this,t)||this}e.GridContainer=n;var a,l=(a=ue.Base,i(u,a),u.prototype._doDispose=function(){this._container=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"rowHeight",{get:function(){return this._rowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"headerHeight",{get:function(){return this._headerHeight},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"summaryHeight",{get:function(){return this._summaryHeight},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"footerHeight",{get:function(){return this._footerHeight},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"groupFooterHeight",{get:function(){return this._gfooterHeight},enumerable:!0,configurable:!0}),u.prototype.measure=function(t){if(this._dirty){this._dirty=!1;var e=this._container,i=this._container.firstElementChild.tBodies[0].rows[0],o=i.cells[0],r=o.firstElementChild;this._rowHeight=this.$_measureBody(e,i,o,r),this._headerHeight=this.$_measureHeader(e,i,o,r),this._summaryHeight=this.$_measureSummary(e,i,o,r),this._footerHeight=this.$_measureFooter(e,i,o,r),this._gfooterHeight=this.$_measureGroupFooter(e,i,o,r)}},u.prototype.invalidate=function(){this._dirty=!0},u.prototype.$_prepareElements=function(t){var e=document.createElement("table");t.appendChild(e);var i=e.style;i.width="1000px",i.height="1px",i.left="-10000px",i.position="absolute",e.className="rg-table";var o=document.createElement("tbody");e.appendChild(o);var r=document.createElement("tr");o.appendChild(r);var n=document.createElement("td");n.className="rg-data-cell",r.appendChild(n);var s=document.createElement("div");n.appendChild(s),s.textContent="AYwyhi우리테크"},u.prototype.$_measureBody=function(t,e,i,o){return t.className=this._bodyStyle,e.className=this._dataRowStyle,i.className=this._dataCellStyle,e.offsetHeight},u.prototype.$_measureGroupFooter=function(t,e,i,o){return t.className=this._bodyStyle,e.className=this._groupFooterStyle,i.className=this._groupFooterCellStyle,e.offsetHeight},u.prototype.$_measureGroupHeader=function(t,e,i,o){return t.className=this._bodyStyle,e.className=this._groupHeaderStyle,i.className="",e.offsetHeight},u.prototype.$_measureHeader=function(t,e,i,o){return t.className=this._headerStyle,e.className=this._headerRowStyle,i.className=this._headerCellStyle,e.offsetHeight},u.prototype.$_measureSummary=function(t,e,i,o){return t.className=this._summaryStyle,e.className=this._summaryRowStyle,i.className=this._summaryCellStyle,e.offsetHeight},u.prototype.$_measureFooter=function(t,e,i,o){return t.className=this._footerStyle,e.className=this._footerRowStyle,i.className=this._footerCellStyle,e.offsetHeight},u);function u(t){var e=a.call(this)||this;return e._bodyStyle="rg-body",e._headerStyle="rg-header",e._summaryStyle="rg-header-summary",e._footerStyle="rg-footer",e._tableStyle="rg-table",e._dataRowStyle="rg-data-row",e._headerRowStyle="",e._summaryRowStyle="",e._footerRowStyle="",e._groupHeaderStyle="rg-rowgroup-header",e._groupFooterStyle="rg-rowgroup-footer",e._dataCellStyle="rg-data-cell",e._headerCellStyle="rg-header-cell",e._summaryCellStyle="rg-header-summary-cell",e._footerCellStyle="rg-footer-cell",e._groupFooterCellStyle="rg-rowgroup-footer-cell",e._rowHeight=0,e._headerHeight=0,e._summaryHeight=0,e._footerHeight=0,e._gfooterHeight=0,e._dirty=!0,e._container=t,e.$_prepareElements(t),e}e.GridMeasurer=l});t(Qe);Qe.GridContainer,Qe.GridMeasurer;var ti=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=Et.TreeItem,i(n,r),n.prototype.dispose=function(){this._values=null,r.prototype.dispose.call(this)},Object.defineProperty(n.prototype,"values",{get:function(){return this._values.concat()},set:function(t){var e=this.dataSource,i=e.fieldCount;if(t){i=Math.min(i,t.length);for(var o=0;o<i;o++){var r=e.getField(o),n=this._values[o],s=r.readValue(t[o]);this._values[o]=s,this._started&&parent&&!r.equalValues(n,s)&&this._rs._editItemCellUpdated(this,o,n,s)}}else this._values=[]},enumerable:!0,configurable:!0}),n.prototype.beginEdit=function(t,e){this._started=!0,this._checkDiff=t,this._strictDiff=e},n.prototype.setValue=function(t,e){var i=this.dataSource;if(t<0&&t>=i.fieldCount)throw new RangeError("field index is out of bounds: "+t);var o=i.getField(t),r=this._values[t];e=o.readValue(e),this._values[t]=e,this._started&&this.parent&&!o.equalValues(r,e)&&this._rs._editItemCellUpdated(this,t,r,e)},Object.defineProperty(n.prototype,"dataSource",{get:function(){return this._rs.dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"itemState",{get:function(){return this._state},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"rowState",{get:function(){return this._item?this._item.rowState:w.RowState.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"editable",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expanded",{get:function(){return!!this._item&&this._item.expanded},enumerable:!0,configurable:!0}),n.prototype.getData=function(t){if(t<0&&t>=this.dataSource.fieldCount)throw new RangeError("field index is out of bounds: "+t);return this._values[t]},n.prototype.setData=function(t,e){var i=this.dataSource;if(t<0&&t>=i.fieldCount)throw new RangeError("field index is out of bounds: "+t);var o=i.getField(t),r=this._values[t];e=o.readValue(e);var n=!this._checkDiff;(n=n||(this._strictDiff?!o.equalValues(r,e):!o.sameValues(r,e)))&&(this._values[t]=e,this.parent&&(this._rs._editItemCellUpdated(this,t,r,e),this._rs._editItemCellEdited(this,t)))},n.prototype.getRowData=function(){return this._values.concat()},n.prototype.getRowObject=function(){var t=this.dataSource;if(t){for(var e={},i=0,o=t.fieldCount;i<o;i++)e[t.getOrgFieldName(i)]=this._values[i];return e}return null},n);function n(t,e,i){var o=r.call(this,e&&e.row)||this;return o._values=[],o._started=!1,o._checkDiff=!1,o._strictDiff=!1,o._rs=t,o._item=e,o._state=i,o}e.TreeEditItem=s;var a,l=(a=D.EditableItemProvider,i(u,a),u.prototype._doDispose=function(){this._rs=null,this._summarizer=null,a.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"summarizer",{get:function(){return this._summarizer},enumerable:!0,configurable:!0}),u.prototype.getLevels=function(t){return this._rs.getLevels(t)},u.prototype.orderBy=function(t,e,i){this._rs.orderBy(t,e,i)},u.prototype.getSortFields=function(){return this._rs.getSortFields()},u.prototype.getSortDirections=function(){return this._rs.getSortDirections()},u.prototype.getSortCases=function(){return this._rs.getSortCases()},Object.defineProperty(u.prototype,"labelComparer",{get:function(){return this._rs.labelComparer},set:function(t){this._rs.labelComparer=t},enumerable:!0,configurable:!0}),u.prototype.isFiltered=function(t){return null!=t?this._rs.hasFilter(t):this._rs.hasFilters()},u.prototype.addFilter=function(t,e){this._rs.addFilter(t,e)},u.prototype.removeFilter=function(t,e){this._rs.removeFilter(t,e)},u.prototype.clearFilters=function(t){this._rs.clearFilters(t)},u.prototype.clearAllFilters=function(){this._rs.clearAllFilters()},u.prototype.beginFiltering=function(){this._rs.beginFiltering()},u.prototype.endFiltering=function(t,e){this._rs.endFiltering(!0,t,e)},u.prototype.expand=function(t,e,i,o){this._rs.expand(t,e,i,o)},u.prototype.collapse=function(t,e){this._rs.collapse(t,e)},u.prototype.expandAll=function(t){this._rs.expandAll(t)},u.prototype.collapseAll=function(){this._rs.collapseAll()},u.prototype.getCheckedRows=function(){return this._rs.getCheckedRows()},u.prototype.getCheckedRowIds=function(){return this._rs.getCheckedRowIds()},Object.defineProperty(u.prototype,"checkableExpression",{set:function(t){this._rs.checkableExpression=t},enumerable:!0,configurable:!0}),u.prototype.resetCheckables=function(){this._rs.resetCheckables()},u.prototype.applyCheckables=function(){this._rs.applyCheckables()},Object.defineProperty(u.prototype,"hideDeleted",{get:function(){return this._rs.hideDeleted},set:function(t){this._rs.hideDeleted=t},enumerable:!0,configurable:!0}),u.prototype.getAllItems=function(){return this._rs.getAllItems()},u.prototype.getItem=function(t){return this._rs.getItem(t)},u.prototype.getItemOfRow=function(t){return this._rs.getItemOfRow(t)},u.prototype.findItem=function(t,e,i,o,r){return this._rs.findItem(t,e,i,o,r)},u.prototype.findCell=function(t,e,i,o,r,n){return this._rs.findCell(t,e,i,o,r,n)},u.prototype.checkItem=function(t,e,i,o){this._rs.checkItem(t,e,i,o)},u.prototype.checkAll=function(t,e,i,o){this._rs.checkAll(t,e,i,o)},u.prototype.hasCellStyle=function(){return this._rs.hasCellstyle()},u.prototype.setCellStyle=function(t,e,i){this._rs.setCellStyle(t,e,i)},u.prototype.setCellStyles=function(t,e,i){this._rs.setCellStyles(t,e,i)},u.prototype.removeCellStyle=function(t){this._rs.removeCellStyle(t)},u.prototype.clearCellStyles=function(){this._rs.clearCellStyles()},u.prototype.checkCellStyle=function(t,e){return this._rs.checkCellStyle(t,e)},u.prototype.getCellStyle=function(t,e){return this._rs.getCellStyle(t,e)},u.prototype.setCellEditable=function(t,e,i){this._rs.setCellEditable(t,e,i)},u.prototype.setCellReadOnly=function(t,e,i){this._rs.setCellReadOnly(t,e,i)},u.prototype.getCellEditable=function(t,e){return this._rs.getCellEditable(t,e)},u.prototype.getCellReadOnly=function(t,e){return this._rs.getCellReadOnly(t,e,null)},u.prototype.setCellCursor=function(t,e,i){this._rs.setCellCursor(t,e,i)},u.prototype.getCellCursor=function(t,e){return this._rs.getCellCursor(t,e)},u.prototype.setCellEditor=function(t,e,i){this._rs.setCellEditor(t,e,i)},u.prototype.getCellEditor=function(t,e){return this._rs.getCellEditor(t,e)},u.prototype.clearEditableMap=function(){return this._rs.clearEditableMap()},Object.defineProperty(u.prototype,"summaryMode",{set:function(t){this._rs.summaryMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"groupSummaryMode",{set:function(t){this._rs.groupSummaryMode=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemCount",{get:function(){return this._rs.itemCount},enumerable:!0,configurable:!0}),u.prototype.getItems=function(t,e){throw new Error("Method not implemented.")},u.prototype.canAppend=function(){return!1},u.prototype.canInsert=function(t){return!!t},u.prototype.canDelete=function(t){return!!t},u.prototype.$_replaceItem=function(t,e){t.parent.setItem(t,e),this._rs._setItem(t,e)},u.prototype._doBeginUpdate=function(t){return this._editingItem=this._editItem=this._createEditItem(t,Z.ItemState.UPDATING,null),this.$_replaceItem(t,this._editItem),this._editItem},u.prototype._doBeginAppend=function(t){return this._editingItem=this._editItem=this._createEditItem(null,Z.ItemState.APPENDING,t),this._editItem},u.prototype._doBeginInsert=function(t,e,i,o){if(void 0===i&&(i=!1),void 0===o&&(o=!1),o)this._appending=!0,t.setExpanded(!0,!1,!1),this._editingItem=this._editItem=this._createEditItem(null,Z.ItemState.INSERTING,e),this._rs.appendItem(t,this._editItem);else{var r=t.parent;this._appending=!1,this._insertAfter=i,this._insertIndex=r.indexOf(t),this._editingItem=this._editItem=this._createEditItem(t,Z.ItemState.INSERTING,e),this._rs.insertItem(r,this._editItem,this._insertIndex,this._insertAfter)}return this._editItem},u.prototype._doCompleteUpdate=function(e){var t=!1;if(this.dataSource){this.$_replaceItem(this._editItem,e);var i=this._editItem.row;try{t=i.update(this._editItem.values)}catch(t){throw this.$_replaceItem(e,this._editItem),t}t||this.$_replaceItem(e,this._editItem)}return t},u.prototype._doCompleteInsert=function(t){var e=this.dataSource,i=!1;if(e){var o=this._editItem.parent,r=o.row,n=e.createRow(this._editItem.values,-1,!1),s=this._editItem.parent.indexOf(this._editItem);this._rs.removeItem(this._editItem);try{i=this.isAppending?r.addChild(n,!1):r.insertChild(s,n,!1)}catch(t){throw this._appending?this._rs.appendItem(o,this._editItem):this._rs.insertItem(o,this._editItem,this._insertIndex,this._insertAfter),t}if(i){var a=o.itemOfRow(n.rowId);this._copyExtents(this._editItem,a)}else this._appending?this._rs.appendItem(o,this._editItem):this._rs.insertItem(o,this._editItem,this._insertIndex,this._insertAfter)}return i},u.prototype._doCancelEdit=function(t,e){t==Z.ItemState.UPDATING?(this.$_replaceItem(this._editItem,e),this._copyExtents(this._editItem,e)):t==Z.ItemState.INSERTING&&this._editItem.parent&&this._rs.removeItem(this._editItem),a.prototype._doCancelEdit.call(this,t,e)},u.prototype._doCommitEdit=function(t,e){return t==Z.ItemState.UPDATING||Z.ItemState.INSERTING,a.prototype._doCommitEdit.call(this,t,e)},u.prototype.remove=function(t){if(t){var e=t.row;e&&e.parent.removeChild(e)}},u.prototype.removeAll=function(t){if(t&&0<t.length){for(var e=[],i=0,o=t.length;i<o;i++){var r=this._rs.getItem(t[i]);e.push(r.row)}this.dataSource.removeRows(e)}},u.prototype.getRemovableRows=function(t){if(0<t.length){for(var e=[],i=0,o=t.length;i<o;i++){var r=this._rs.getItem(t[i]);e.push(r.row)}return e}},u.prototype.removeRows=function(t){t&&this.dataSource.removeRows(t)},u.prototype.setDataSource=function(t){this._rs.dataSource=t},Object.defineProperty(u.prototype,"rootItem",{get:function(){return this._rs._rootItem},enumerable:!0,configurable:!0}),u.prototype._createEditItem=function(t,e,i){this._editingItem=null;var o=this.dataSource;if(!o)return null;var r=o.fieldCount;switch(e){case Z.ItemState.UPDATING:this._editingItem=new s(this,t,e);for(var n=0;n<r;n++)this._editingItem.setValue(n,t.getData(n));this._copyExtents(t,this._editingItem);break;case Z.ItemState.INSERTING:case Z.ItemState.APPENDING:if(this._editingItem=new s(this,null,e),i)for(n=0;n<r;n++)i.length>n&&this._editingItem.setValue(n,i[n])}return this._editingItem},u.prototype.onItemProviderFilterAdd=function(t,e,i){},u.prototype.onItemProviderFilterRemove=function(t,e,i){},u.prototype.onItemProviderFilterClear=function(t,e){},u.prototype.onItemProviderFilterClearAll=function(t){},u.prototype.onItemProviderFilterAdded=function(t,e,i){this._fireFilterAdded(e,i)},u.prototype.onItemProviderFilterRemoved=function(t,e,i){this._fireFilterRemoved(e,i)},u.prototype.onItemProviderFilterCleared=function(t,e){this._fireFilterCleared(e)},u.prototype.onItemProviderFilterAllCleared=function(t){this._fireFilterAllCleared()},u.prototype.onItemProviderFiltered=function(t){this._fireFiltered(null,null)},u.prototype.onItemProviderSort=function(t,e,i){this._fireSort(e,i,null)},u.prototype.onItemProviderSorted=function(t){this._fireSorted()},u.prototype.onTreeItemProviderItemChanged=function(t,e){this._eventLock<=0&&this.fireEvent(Et.TreeItemProvider.ITEM_CHANGED,e)},u.prototype.onTreeItemProviderExpanding=function(t,e){return!(this._eventLock<=0)||this.fireConfirmEvent(Et.TreeItemProvider.EXPANDING,e)},u.prototype.onTreeItemProviderExpanded=function(t,e){this._eventLock<=0&&this.fireEvent(Et.TreeItemProvider.EXPANDED,e)},u.prototype.onTreeItemProviderCollapsing=function(t,e){return!(this._eventLock<=0)||this.fireConfirmEvent(Et.TreeItemProvider.COLLAPSING,e)},u);function u(t){var e=a.call(this,null,t)||this;return e._observers=[],e._appending=!1,e._insertAfter=!1,e._insertIndex=-1,e._rs=new Et.TreeItemProvider,e.source=e._rs,e._summarizer=new Ge.DefaultSummarizer(e._rs),e}e.TreeGridItemProvider=l});t(ti);ti.TreeEditItem,ti.TreeGridItemProvider;var ei=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=Ht.GridBaseOptions,i(s,r),s.prototype._doDispose=function(){r.prototype._doDispose.call(this)},Object.defineProperty(s.prototype,"expanderWidth",{get:function(){return this._expanderWidth},set:function(t){t!=this._expanderWidth&&(this._expanderWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"lineVisible",{get:function(){return this._lineVisible},set:function(t){t!=this._lineVisible&&(this._lineVisible=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"showCheckBox",{get:function(){return this._showCheckBox},set:function(t){t!=this._showCheckBox&&(this._showCheckBox=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"iconImages",{get:function(){return this._iconImages},set:function(t){t!=this._iconImages&&(this._iconImages=t,this._icons=t&&this.grid&&this.grid.getImageList(t),this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"defaultIcon",{get:function(){return this._defaultIcon},set:function(t){t!=this._defaultIcon&&(this._defaultIcon=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"iconWidth",{get:function(){return this._iconWidth},set:function(t){(t=Math.max(0,t))!=this._iconWidth&&(this._iconWidth=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"iconHeight",{get:function(){return this._iconHeight},set:function(t){(t=Math.max(0,t))!=this._iconHeight&&(this._iconHeight=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collapseWhenLeftKey",{get:function(){return this._collapseWhenLeftKey},set:function(t){t!=this._collapseWhenLeftKey&&(this._collapseWhenLeftKey=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"collapseWhenCtrlKey",{get:function(){return this._collapseWhenCtrlKey},set:function(t){t!=this._collapseWhenCtrlKey&&(this._collapseWhenCtrlKey=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"expandWhenRightKey",{get:function(){return this._expandWhenRightKey},set:function(t){t!=this._expandWhenRightKey&&(this._expandWhenRightKey=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"expandWhenCtrlKey",{get:function(){return this._expandWhenCtrlKey},set:function(t){t!=this._expandWhenCtrlKey&&(this._expandWhenCtrlKey=t,this._changed())},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"icons",{get:function(){return this._icons},enumerable:!0,configurable:!0}),s);function s(t){var e=r.call(this,t)||this;return e._expanderWidth=17,e._lineVisible=!0,e._showCheckBox=!1,e._defaultIcon=-1,e._iconWidth=0,e._iconHeight=0,e._collapseWhenLeftKey=!0,e._collapseWhenCtrlKey=!0,e._expandWhenRightKey=!0,e._expandWhenCtrlKey=!0,e._expandedIconUrl="images/tree-expanded.png",e._collapsedIconUrl="images/tree-collapsed.png",e}e.TreeOptions=n});t(ei);ei.TreeOptions;var ii=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=We.CellHandle,i(s,r),Object.defineProperty(s.prototype,"expanded",{get:function(){return this._expanded},set:function(t){t!=this._expanded&&(this._expanded=t,this._changed())},enumerable:!0,configurable:!0}),s.prototype._createDom=function(){return null},s);function s(t){var e=r.call(this,t,"rowGroupExpandHandle")||this;return e._expanded=!1,e.clickable=!0,e}e.TreeExpandHandle=n;var a;a=Ot.VisualElement,i(l,a),l.prototype._getCssSelector=function(){throw new Error("Method not implemented.")},l.prototype._doDraw=function(t){throw new Error("Method not implemented.")};function l(){return null!==a&&a.apply(this,arguments)||this}var u,h=(u=Qt.DataCellElement,i(c,u),c.prototype._doDispose=function(){this._expanderDom=null,this._checkDom=null,this._iconDom=null,this._valueDom=null,u.prototype._doDispose.call(this)},c.prototype._doUpdateContent=function(t,e,i){var o=e.item,r=i.style;this._expander.expanded=o.expanded,r.textAlign="left",r.textIndent=16*(o.level-1)+"px",i.appendChild(this._expanderDom),this._expanderDom.className=o.isLeaf?"rg-tree-leaf":this._expander.expanded?"rg-tree-expanded":"rg-tree-collapsed",i.appendChild(this._iconDom),this._iconDom.src=t.getTreeIcon(o)||"",i.appendChild(this._checkDom),i.appendChild(this._valueDom),this._valueDom.textContent=this.text},c.prototype._doLayoutContent=function(t){var e=this._expanderDom;this._expander.setBounds(e.offsetLeft,e.offsetTop,e.offsetWidth,e.offsetHeight)},c);function c(){var t=u.call(this,"treeCellView")||this;t._expander=new n(t),t.addChild(t._expander),t._expanderDom=document.createElement("span");var e=t._expanderDom.style,i=t._checkDom=document.createElement("input");return i.type="checkbox",i.className="rg-checkbox",i.style.display="inline-block",(e=i.style).marginLeft=e.marginRight="2px",t._iconDom=document.createElement("img"),(e=t._iconDom.style).marginLeft=e.marginRight="2px",e.verticalAlign="middle",t._valueDom=document.createElement("span"),t}var p,d=(p=P.DataCellRenderer,i(_,p),_.prototype._doDispose=function(){p.prototype._doDispose.call(this)},Object.defineProperty(_.prototype,"type",{get:function(){return _.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"styleName",{get:function(){return _.STYLE_NAME},enumerable:!0,configurable:!0}),_.prototype._doInitContent=function(t){var e=this._expander=document.createElement("span");t.appendChild(e);var i=this._check=document.createElement("input");i.type="checkbox",i.className="rg-checkbox",i.style.display="inline-block";var o=i.style;o.marginLeft=o.marginRight="2px",t.appendChild(i);var r=this._icon=document.createElement("img");(o=r.style).marginLeft=o.marginRight="2px",o.verticalAlign="middle",t.appendChild(r);var n=this._span=document.createElement("span");t.appendChild(n)},_.prototype._doRenderCell=function(t,e,i,o,r){var n=this._expander,s=(this._check,this._icon),a=this._span,l=e.item;n.className=l.isLeaf?"rg-tree-leaf":l.expanded?"rg-tree-expanded":"rg-tree-collapsed",s.src=t.getTreeIcon(l)||"",a.textContent=this._makeText(t,e,i),this._dom.style.setProperty("padding-left",16*(l.level-1)+"px","important")},_.TYPE="tree",_.STYLE_NAME="rg-renderer "+(_.STYLE="rg-tree-renderer"),_);function _(){return p.call(this)||this}e.TreeCellRenderer=d;var f,y=(f=Qt.RowElement,i(m,f),m.prototype.isTreeExpander=function(t){var e=t.className;return"rg-tree-expanded"==e||"rg-tree-collapsed"==e},m.prototype._doLayoutContent=function(t){f.prototype._doLayoutContent.call(this,t)},m.prototype._createRenderer=function(t,e,i,o){return 0==e.dataColumn.index?new d:f.prototype._createRenderer.call(this,t,e,i,o)},m);function m(){var t=f.call(this,"treeItemView")||this;return t._treeCellView=new h,t.addChild(t._treeCellView),t}e.TreeItemElement=y;var g,v=(g=te.GridBodyElement,i(b,g),b.prototype.createRowElement=function(){return new y},b);function b(t){return g.call(this,t)||this}e.TreeBodyElement=v;var C,w=(C=Ot.LayerElement,i(x,C),x.prototype._doDispose=function(){this._linePool=null,this._lines=null,C.prototype._doDispose.call(this)},Object.defineProperty(x.prototype,"levelWidth",{get:function(){return this._levelWidth},set:function(t){t!=this._levelWidth&&(this._levelWidth=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"handleWidth",{get:function(){return this._handleWidth},set:function(t){t!=this._handleWidth&&(this._handleWidth=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"handleHeight",{get:function(){return this._handleHeight},set:function(t){t!=this._handleHeight&&(this._handleHeight=t,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(x.prototype,"stroke",{get:function(){return this._stroke},set:function(t){t!=this._stroke&&(this._stroke=t,this.invalidate())},enumerable:!0,configurable:!0}),x.prototype.setRange=function(t,e,i){e==this._startIndex&&i==this._endIndex||(this._startIndex=e,this._endIndex=i,this.invalidate())},x.prototype.layout=function(t){var e=this._treeView;if(this.$_hideAll(),!(!e||this._startIndex<0||this._endIndex<0||this._startIndex>this._endIndex)){var i,o=null;for(i=this._startIndex;i<=this._endIndex&&!(o=e.getItem(i));i++);if(o){var r=o.level;if(1<r||0<o.childIndex){for(var n=0;n<r;n++){var s=o.getAncestor(n);(a=s.last)&&a.index>=i&&(a=this.$_findLevelItem(n+1,i),this.$_drawVertLine(t,this.$_borrowLine(),null,a,s.level))}0<o.childIndex&&this.$_drawVertLine(t,this.$_borrowLine(),null,o,o.parent.level)}for(;i<=this._endIndex;i++){var a,l=e.getItem(i),u=l.parent;(n=l.childIndex)<u.count-1&&((a=u.getItem(n+1)).index>this._endIndex&&(a=null),this.$_drawVertLine(t,this.$_borrowLine(),l,a,u.level)),(u=l)&&u.expanded&&0<u.count&&((a=u.getItem(0)).index>this._endIndex&&(a=null),this.$_drawChildLine(t,this.$_borrowLine(),l,a)),this.$_drawHorzLine(t,this.$_borrowLine(),l)}}}},x.prototype._initDom=function(t){C.prototype._initDom.call(this,t),t.style.setProperty("pointer-events","none","important")},x.prototype._doDraw=function(t){},x.prototype.$_borrowLine=function(){var t=this._linePool.pop();return t||((t=document.createElement("div")).className="rg-tree-line",t.style.position="absolute",this._dom.appendChild(t)),t.style.display="inline-block",this._lines.push(t),t},x.prototype.$_hideAll=function(){for(var t=this._lines.length-1;0<=t;t--)"none"!=this._lines[t].style.display&&(this._lines[t].style.display="none");this._linePool=this._linePool.concat(this._lines.splice(0,this._lines.length))},x.prototype.$_findLevelItem=function(t,e){for(var i=e;i<=this._endIndex;i++){var o=this._treeView.getItem(i);if(o&&o.level==t)return o}return null},x.prototype.$_setBounds=function(t,e,i,o,r){var n=t.style;n.left=e+"px",n.top=i+"px",n.width=1==o?"1px":o+"px",n.height=1==r?"1px":r+"px"},x.prototype.$_drawVertLine=function(t,e,i,o,r){var n=t.topIndex,s=r*this._levelWidth+this._levelWidth/2,a=0,l=this.height;if(i){var u=t.getItemBounds(i.index-n),h=i instanceof Et.TreeItem&&i.hasChildren?this._handleHeight:0;a=u.y+u.height/2+h/2}o&&(u=t.getItemBounds(o.index-n),h=o instanceof Et.TreeItem&&o.hasChildren?this._handleHeight:0,l=u.y+u.height/2-h/2),this.$_setBounds(e,s,a,1,l-a)},x.prototype.$_drawHorzLine=function(t,e,i){var o,r=t.topIndex,n=i.parent.level*this._levelWidth+this._levelWidth/2,s=i.level*this._levelWidth;i.hasChildren&&(n+=this._handleWidth/2);var a=t.getItemBounds(i.index-r);o=a.y+a.height/2,this.$_setBounds(e,n,o,s-n,1)},x.prototype.$_drawChildLine=function(t,e,i,o){var r,n=t.topIndex,s=i.level*this._levelWidth+this._levelWidth/2,a=this.height,l=t.getItemBounds(i.index-n);if(r=l.y+l.height/2+5,o){l=t.getItemBounds(o.index-n);var u=o.hasChildren?this._handleHeight:0;a=l.y+l.height/2-u/2}this.$_setBounds(e,s,r,1,a-r)},x);function x(t){var e=C.call(this)||this;return e._levelWidth=16,e._handleWidth=9,e._handleHeight=9,e._stroke="gray",e._linePool=[],e._lines=[],e._startIndex=-1,e._endIndex=-1,e._treeView=t,e}e.TreeLinesElement=w});t(ii);ii.TreeExpandHandle,ii.TreeCellRenderer,ii.TreeItemElement,ii.TreeBodyElement,ii.TreeLinesElement;var oi=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var a,r=(a=Se.GridSelectionTool,i(n,a),n.prototype._doDispose=function(){a.prototype._doDispose.call(this)},n.prototype._doKeyDown=function(t){return a.prototype._doKeyDown.call(this,t)},n.prototype._doColumnHeaderClicked=function(t,e){},n.prototype._doElementClicked=function(t){},n.prototype._doHandleClicked=function(t){},n.prototype._doMouseDown=function(t){var e=t.mouseX,i=t.mouseY,o=this.grid,r=this.findElementAt(e,i,!1),n=this.mouseEventTarget;if(r instanceof ii.TreeItemElement&&r.isTreeExpander(n)){var s=r._item;s instanceof Et.TreeItem&&(s.expanded?o.collapse(s,!1):o.expand(s,!1,!1))}else a.prototype._doMouseDown.call(this,t)},n);function n(t){return a.call(this,t,"treeViewSelectionTool")||this}var s,l=(s=Qe.GridContainer,i(u,s),u.prototype._doDispose=function(){s.prototype._doDispose.call(this)},Object.defineProperty(u.prototype,"treeView",{get:function(){return this.gridView},enumerable:!0,configurable:!0}),u.prototype._createGridView=function(){return new m(this)},u.prototype._createDefaultTool=function(){return new r(this)},u);function u(t){return s.call(this,t)||this}e.TreeContainer=l;var h,c=(h=it.GridCell,i(p,h),Object.defineProperty(p.prototype,"getText",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"value",{get:function(){return null},enumerable:!0,configurable:!0}),p);function p(){return h.call(this,"treeItemExpanderCell")||this}var d,_=(d=it.GridCell,i(f,d),Object.defineProperty(f.prototype,"getText",{get:function(){var t=String(this.value());if(!t){var e=this.index;e.dataColumn&&(t=e.column.footer.text)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return null},enumerable:!0,configurable:!0}),f);function f(){return d.call(this,"treeItemFooterCell")||this}var y,m=(y=$e.GridBase,i(g,y),g.prototype._doDispose=function(){y.prototype._doDispose.call(this)},Object.defineProperty(g.prototype,"treeOptions",{get:function(){return this._treeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"linesView",{get:function(){return this._linesView},enumerable:!0,configurable:!0}),g.prototype.getLevels=function(t){return this._rs.getLevels(t)},g.prototype.getExpanderCell=function(t){return this._expanderCell.setIndex(et.CellIndex.temp(this,t)),this._expanderCell},g.prototype.getFooterCell=function(t){return this._footerCell.setIndex(t),this._footerCell},g.prototype.expand=function(t,e,i,o){this.isItemEditing(null)||this._rs.expand(t,e,i,o)},g.prototype.collapse=function(t,e){this.isItemEditing(null)||this._rs.collapse(t,e)},g.prototype.expandAll=function(t){void 0===t&&(t=0),this.isItemEditing(null)||this._rs.expandAll(t)},g.prototype.collapseAll=function(){this.isItemEditing(null)||this._rs.collapseAll()},g.prototype.getTreeIcon=function(t){var e=this._treeOptions.icons;if(e){var i=t.iconIndex;if((i<0||i>=e.count)&&(i=this._treeOptions.defaultIcon),0<=i&&i<e.count)return e.getImage(i)}return null},g.prototype.getCheckedItems=function(){for(var t=[],e=0,i=this.itemCount;e<i;e++){var o=this.getItem(e);o.checked&&t.push(o)}return t},g.prototype.getCheckedItemIndices=function(){for(var t=[],e=0,i=this.itemCount;e<i;e++){var o=this.getItem(e);o.checked&&t.push(o.index)}return t},g.prototype.getCheckedRows=function(t){var e=null;if(t){e=[];for(var i=0,o=this.itemCount;i<o;i++){var r=this.getItem(i);r.checked&&e.push(r.row)}}else e=this._rs.getCheckedRows();return e},g.prototype.getCheckedRowIds=function(t){var e=null;if(t){e=[];for(var i=0,o=this.itemCount;i<o;i++){var r=this.getItem(i);r.checked&&e.push(r.dataRow)}}else e=this._rs.getCheckedRowIds();return e},g.prototype.checkChildren=function(t,e,i,o,r,n){if(void 0===r&&(r=!0),void 0===n&&(n=!1),t)for(var s=0,a=t.count;s<a;s++){var l=t.getItem(s);r?l.checkable&&l.setChecked(e,n):l.setChecked(e,n),!i||!l.expanded&&o||this.checkChildren(l,e,!0,o,r,n)}},g.prototype.resetCheckables=function(){this._rs.resetCheckables()},g.prototype.applyCheckables=function(){this._rs.applyCheckables()},Object.defineProperty(g.prototype,"dataSource",{get:function(){return this._rs&&this._rs.dataSource},set:function(t){this._rs&&(this._rs.dataSource=t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"maxItemCount",{get:function(){return this._rs?this._rs.maxItemCount:0},set:function(t){this._rs&&(this._rs.maxItemCount=t)},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"summarizer",{get:function(){throw new Error("Method not implemented.")},enumerable:!0,configurable:!0}),g.prototype._initStyles=function(){y.prototype._initStyles.call(this),this._treeOptions=new ei.TreeOptions(this)},g.prototype._createItemSource=function(){return new ti.TreeGridItemProvider(!0)},g.prototype._createSidePane=function(){return this._linesView=new ii.TreeLinesElement(this),this.addElement(this._linesView),y.prototype._createSidePane.call(this)},g.prototype.addMasks=function(){},g.prototype._createLayoutManager=function(){return new b(this)},g.prototype._createBodyView=function(t){return new ii.TreeBodyElement(t)},g.prototype._createFixedBodyView=function(t){return y.prototype._createFixedBodyView.call(this,t)},g.prototype._createRightBodyView=function(t){return y.prototype._createRightBodyView.call(this,t)},g.prototype._visualObjectChanged=function(t){y.prototype._visualObjectChanged.call(this,t),Bt.CheckBar},g.prototype.append=function(){return this.insert(this._rs.rootItem,!1,!0)},g.prototype._doCanInsert=function(t,e,i){return t&&(0<t.count||!i||0==t.level||this.editOptions.appendable)},g.prototype.getSummarizer=function(){return this._rs.summarizer},g.prototype._doMaxRowCountChanged=function(){this._rs.maxItemCount=this.maxItemCount},g.prototype.getSortFields=function(){return this._rs.getSortFields()},g.prototype.getSortDirections=function(){return this._rs.getSortDirections()},g.prototype.getSortCases=function(){return this._rs.getSortCases()},g.prototype._doSortItems=function(t,e,i){this._rs.orderBy(t,e,i)},g.prototype._doColumnFiltersChanged=function(t,e){},g.prototype.$_doLayout=function(t,e){this._treeOptions,y.prototype.$_doLayout.call(this,t,e)},g.prototype.assignImageList=function(t){},g.prototype.refreshView=function(){y.prototype.refreshView.call(this)},g.prototype.getEditBounds=function(t){return y.prototype.getEditBounds.call(this,t)},g.prototype.updatePastedRow=function(t,e,i){if(t instanceof Et.TreeItem){var o=t.row;o&&(i?o.updateStrict(e):o.update(e))}},g.prototype.appendPastedRow=function(t){var e=this.dataSource;if(e){var i=e.createRow(t,-1,!1);e.rootRow.addChild(i,!1)}},Object.defineProperty(g.prototype,"undoable",{get:function(){return this._rs.undoable},set:function(t){this._rs.undoable=t},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"canUndo",{get:function(){return this._rs.canUndo},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"canRedo",{get:function(){return this._rs.canRedo},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"undoing",{get:function(){return this._rs.undoing},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"redoing",{get:function(){return this._rs.redoing},enumerable:!0,configurable:!0}),g.prototype.undo=function(){return!!this._rs.canUndo&&(this._rs.cancelWhenLastUndo=this.editOptions.cancelWhenLastUndo,this.editController.cancelEditor(!0),this._rs.undo(),!0)},g.prototype.redo=function(){return!!this._rs.canRedo&&(this._rs.redo(),!0)},g.prototype.execute=function(t){this._rs.execute(t)},g.prototype.clearCommandStack=function(t){void 0===t&&(t=!0),this._rs.clearCommandStack(t)},g.prototype.$_getVisibleAncestor=function(t){var e=this._rs.getItemOfRow(t);if(e){for(;e&&!e.visible;)e=e.parent;return e}return null},g.prototype.onItemProviderReset=function(t){this._currentRowId=-1,y.prototype.onItemProviderReset.call(this,t)},g.prototype.onTreeItemProviderItemChanged=function(t,e){this.invalidateLayout(),this.fireEvent(g.CHANGED,e)},g.prototype.onTreeItemProviderExpanding=function(t,e){return this._focusedRow=this.focusedIndex?this.focusedIndex.dataRow:-1,!0},g.prototype.onTreeItemProviderExpanded=function(t,e){},g.prototype.onTreeItemProviderCollapsing=function(t,e){return this._focusedRow=this.focusedIndex?this.focusedIndex.dataRow:-1,!0},g.prototype.onTreeItemProviderCollapsed=function(t,e){this.fireEvent(g.COLLAPSED,e)},g.EXPANDING="onTreeViewExpanding",g.EXPANDED="onTreeViewExpanded",g.COLLAPSING="onTreeViewCollapsing",g.COLLAPSED="onTreeViewCollapsed",g.CHANGED="onTreeViewChanged",g);function g(t){var e=y.call(this,t)||this;return e._expanderCell=new c,e._footerCell=new _,e._focusedRow=-1,e.itemSource=e._rs=e._createItemSource(),e}e.TreeView=m;var v,b=(v=ee.GridLayoutManager,i(C,v),C.prototype._doLayout=function(t,e){v.prototype._doLayout.call(this,t,e);var i=t,o=i.linesView;if(o){var r=0<this.fixedLayoutCount,n=(r?this.fixedBodyBounds:this.bodyBounds).clone();r?(n.y+=this.fixedContentBounds.y,n.x+=this.fixedContentBounds.x):(n.y+=this.contentBounds.y,n.x+=this.contentBounds.x),0<this.layoutCount?n.width=Math.max(0,this.getLayoutWidth(0)):n.width=0,o.setRect(n),o.levelWidth=16,o.setRange(i,this.topIndex,Math.min(i.itemCount,this.topIndex+this.itemCount)-1),o.layout(this)}},C);function C(t){return v.call(this,t)||this}e.TreeGridLayoutManager=b});t(oi);oi.TreeContainer,oi.TreeView,oi.TreeGridLayoutManager;var s=e(function(t,e){var o,i=le&&le.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r,n=Z,a=ut,l=(s.getColumn=function(t,e){if(e){if("string"==typeof e)return t.columnByName(e);if(e instanceof ut.GridColumn)return e;if(e.$_hash)return t.columnByHash(e.$_hash);if(e.name)return t.columnByName(e.name)}return null},s.getItemProxy=function(t,e){void 0===e&&(e=!1);var i=t.parent,o={type:void 0,id:t.id,parentId:null==i?-1:i.id,itemIndex:t.index,dataRow:-1,checked:t.checked};return e&&(o.childIndex=t.childIndex,o.level=t.level),t instanceof n.GridRow?(o.type="row",o.dataRow=t.dataRow):t instanceof Z.GroupItem?(o.count=t.children.length,o.expanded=t.expanded,t instanceof n.GroupItemImpl||t instanceof Q.MergedGroupHeader?(o.type="group",o.footerId=t.footer?t.footer.id:-1,e&&(o.firstItem=s.getItemProxy(t.firstItem),o.firstDataItem=s.getItemProxy(t.firstDataItem),o.dataRows=t.getRows())):t instanceof Et.TreeItem&&(o.type="tree",o.dataRow=t.dataRow?t.dataRow:-1)):t instanceof n.GroupFooter&&(o.type="footer"),o},s.getItemIndices=function(t){for(var e=[],i=0,o=t.length;i<o;i++)e.push(t[i].id);return e},s.getValues=function(t,e){var i,o=e.dataSource;if(t.isItemEditing(e))return(r=e.getRowObject()).__rowId=e.dataRow,r;if(0<=(i=e.dataRow)){var r={};if(e instanceof Et.TreeItem){var n=e.row,s=n.values;r.__rowId=n.rowId;for(var a=0,l=o.fieldCount;a<l;a++)r[h=o.getOrgFieldName(a)]=s[a]}else{var u=o.getRowObject(e.dataRow);for(var h in r.__rowId=e.dataRow,u)i[h]=u[h]}return r}return null},s.setValues=function(t,e,i,o){var r,n,s=e.dataSource,a=s.fieldCount,l=!1;if(t.isItemEditing(e))if(e)e.values=i;else for(var u=0;u<a;u++){var h=s.getOrgFieldName(u);i.hasOwnProperty(h)&&e.setData(u,i[h])}else if(0<=(n=e.dataRow))if(s instanceof mt.LocalTreeDataProvider){var c=s.rowById(n);if(c){if(l=!1,r=c.values||[],Array.isArray(i)){u=0;for(var p=i.length;u<p&&!(l=!s.getField(u).equalValues(r[u],i[u]));u++);}else for(u=0;u<a&&(h=s.getOrgFieldName(u),!i.hasOwnProperty(h)||!(l=!s.getField(u).equalValues(r[u],i[h])));u++);if(!l)return;o?c.updateStrict(i):c.update(i)}}else if(s instanceof j.LocalDataProvider){if(l=!1,r=s.getRow(n),Array.isArray(i))for(u=0,p=i.length;u<p&&!(l=!s.getField(u).equalValues(r[u],i[u]));u++);else for(u=0;u<a&&(h=s.getOrgFieldName(u),!i.hasOwnProperty(h)||!(l=!s.getField(u).equalValues(r[u],i[h])));u++);if(!l)return;o?s.updateStrictRow(n,i):s.updateRow(n,i)}},s);function s(){}(r=e.CellType||(e.CellType={})).Header="header",r.Footer="footer",r.Summary="summary",r.Indicator="indicator",r.Statebar="stateBar",r.CheckBarHead="checkHead",r.CheckBarFoot="checkFoot",r.RowGroupHead="rowGroupHead",r.RowGroupFoot="rowGroupFoot",r.RowGroupBar="rowGroupBar",r.RowGroupHeader="rowGroupHeader",r.RowGroupFooter="rowGroupFooter",r.Panel="panel",r.RowGroupPanel="rowGroupPanel",r.BodyEmpty="bodyEmpty";var u=(h.prototype.dispose=function(){this._view.dispose(),this._view=null,this._container&&this._container.dispose(),this._container=null},Object.defineProperty(h.prototype,"fixedOptions",{get:function(){return this._view.fixedOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"displayOptions",{get:function(){return this._view.displayOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"formatOptions",{get:function(){return this._view.formatOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"editOptions",{get:function(){return this._view.editOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"editorOptions",{get:function(){return this._view.editorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"copyOptions",{get:function(){return this._view.copyOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"pasteOptions",{get:function(){return this._view.pasteOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"sortingOptions",{get:function(){return this._view.sortingOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"filteringOptions",{get:function(){return this._view.filteringOptions},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"rowIndicator",{get:function(){return this._view.rowIndicator},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"stateBar",{get:function(){return this._view.stateBar},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"checkBar",{get:function(){return this._view.checkBar},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"header",{get:function(){return this._view.header},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,"footer",{get:function(){return this._view.footer},enumerable:!0,configurable:!0}),h.prototype.ping=function(t){this._view instanceof $e.GridBase&&alert(t)},h.prototype.refresh=function(){this._view.refreshView()},h.prototype.isVisible=function(){return this._view.visible},h.prototype.setVisible=function(t){this._view.visible=t},h.prototype.getItemCount=function(){return this._view.itemCount},h.prototype.getDataRow=function(t){var e=this._view.getItem(t);return e?e.dataRow:-1},h.prototype.getRowsOfItems=function(t){var e=[];if(t)for(var i=0,o=t.length;i<o;i++){var r=this._view.getItem(t[i]);r&&e.push(r.dataRow)}return e},h.prototype.getItemIndex=function(t){return this._view.getItemIndexOfRow(t)},h.prototype.getItemsOfRows=function(t){return this._view.getItemIndiciesOfRows(t)},h.prototype.getColumns=function(){for(var t=this._view.columnCount,e=[],i=0;i<t;i++)e.push(this._view.getColumn(i));return e},h.prototype.setColumns=function(t){this._view.setColumns(t)},h.prototype.addColumn=function(t,e){this._view.addColumn(t,e)},h.prototype.removeColumn=function(t){return this._view.removeColumn(t)},h.prototype.getDataSource=function(){return this._dataDelegator},h.prototype.setDataSource=function(t){this._dataDelegator=t,this._dataProvider=t?t.getProvider():null,this._view.dataSource=this._dataProvider},h.prototype.getOptions=function(){return{summaryMode:this._view.summaryMode.toString(),fixedOptions:this.fixedOptions.toProxy(),displayOptions:this.displayOptions.toProxy(),formatOptions:this.formatOptions.toProxy(),editOptions:this.editOptions.toProxy(),editorOptions:this.editorOptions.toProxy(),copyOptions:this.copyOptions.toProxy(),pasteOptions:this.pasteOptions.toProxy(),sortingOptions:this.sortingOptions.toProxy(),filteringOptions:this.filteringOptions.toProxy()}},h.prototype.setOptions=function(t){t&&(this._view.setOptions(t),t.fixed&&this.setFixedOptions(t.fixed),t.display&&this.setDisplayOptions(t.display),t.format&&this.setFormatOptions(t.format),t.edit&&this.setEditOptions(t.editOptions),t.editor&&this.setEditorOptions(t.editor),t.copy&&this.setCopyOptions(t.copy),t.paste&&this.setPasteOptions(t.paste),t.sorting&&this.setSortingOptions(t.sorting),t.filtering&&this.setFilteringOptions(t.filtering))},h.prototype.getFixedOptions=function(){return this._view.fixedOptions.toProxy()},h.prototype.setFixedOptions=function(t){this._view.fixedOptions.assignFrom(t)},h.prototype.getDisplayOptions=function(){return this._view.displayOptions.toProxy()},h.prototype.setDisplayOptions=function(t){this._view.displayOptions.assignFrom(t)},h.prototype.getFormatOptions=function(){return this._view.formatOptions.toProxy()},h.prototype.setFormatOptions=function(t){this._view.formatOptions.assignFrom(t)},h.prototype.getEditOptions=function(){return this._view.editOptions.toProxy()},h.prototype.setEditOptions=function(t){this._view.editOptions.assignFrom(t)},h.prototype.getEditorOptions=function(){return this._view.editorOptions.toProxy()},h.prototype.setEditorOptions=function(t){this._view.editorOptions.assignFrom(t)},h.prototype.getCopyOptions=function(){return this._view.copyOptions.toProxy()},h.prototype.setCopyOptions=function(t){this._view.copyOptions.assignFrom(t)},h.prototype.getPasteOptons=function(){return this._view.pasteOptions.toProxy()},h.prototype.setPasteOptions=function(t){this._view.pasteOptions.assignFrom(t)},h.prototype.getSortingOptions=function(){return this._view.sortingOptions.toProxy()},h.prototype.setSortingOptions=function(t){this._view.sortingOptions.assignFrom(t)},h.prototype.getFilteringOptions=function(){return this._view.filteringOptions.toProxy()},h.prototype.setFilteringOptions=function(t){this._view.filteringOptions.assignFrom(t)},h.prototype.getRowIndicator=function(){return this._view.rowIndicator.toProxy()},h.prototype.setRowIndicator=function(t){this._view.rowIndicator.assignFrom(t)},h.prototype.getStateBar=function(){return this._view.stateBar.toProxy()},h.prototype.setStateBar=function(t){this._view.stateBar.assignFrom(t)},h.prototype.getCheckBar=function(){return this._view.checkBar.toProxy()},h.prototype.setCheckBar=function(t){this._view.checkBar.assignFrom(t)},h.prototype.getHeader=function(){return this._view.header.toProxy()},h.prototype.setHeader=function(t){this._view.header.assignFrom(t)},h.prototype.getFooter=function(){return this._view.footer.toProxy()},h.prototype.setFooter=function(t){this._view.footer.assignFrom(t)},h.prototype.setFooters=function(t){this._view.footers.assignFrom(t)},h.prototype.setHeaderSummaries=function(t){this._view.headerSummaries.assignFrom(t)},h.prototype.setCellStyleCallback=function(t){this._view.body.cellStyleCallback=t},h.prototype.setRowStyleCallback=function(t){this._view.body.rowStyleCallback=t},h.prototype.setColumnStyleCallback=function(t,e){var i=this._view.columnByName(t);i&&i instanceof ut.ValueColumn&&(i.styleCallback=e)},h.prototype.setButtonClickCallback=function(t){this._view.buttonCellClickedCallback=t},h.prototype.setLinkClickCallback=function(t){this._view.linkCellClickedCallback=t},h.prototype.orderBy=function(t,e,i){if(t){var o=[],r=[],n=[],s=this._dataProvider;if(e)for(var a=0,l=t.length;a<l;a++)o.push(this._view.columnByField(s.getFieldIndex(t[a]))),r.push(e&&a<e.length&&H.SortDirection[e[a]]||H.SortDirection.ASCENDING),n.push(i&&a<i.length&&H.SortCase[i[a]]||H.SortCase.SENSITIVE);this._view.orderBy(o,r,n)}},h.prototype.getSortedFields=function(){var t,e=this._view,i=e.getSortFields(),o=e.getSortDirections();if(i&&0<(t=i.length)){for(var r=this._dataProvider,n=[],s=0;s<t;s++)n.push({fieldName:r.getFieldName(i[s]),orgFieldName:r.getOrgFieldName(i[s]),direction:o[s]});return n}return null},h.prototype.setFocus=function(){this._view.setFocus()},h.prototype.layoutByColumn=function(t){return this._view.layoutByColumn(t)},h.prototype.getColumnNames=function(t,e,i){void 0===i&&(i=!0);for(var o=this._view.collectColumns(t,e,i),r=[],n=0,s=o.length;n<s;n++)r.push(o[n].name);return r},h.prototype.columnByName=function(t){return this._view.columnByName(t)},h.prototype.columnByField=function(t){var e=this._dataProvider.getFieldIndex(t);return-1<e?this._view.columnByField(e):null},h.prototype.getColumnProperty=function(t,e){var i=l.getColumn(this._view,t);if(i&&e)return i[e]instanceof ue.Base?i[e].toProxy():i[e]},h.prototype.setColumnProperty=function(t,e,i){var o=l.getColumn(this._view,t);o&&e&&(o[e]instanceof ue.Base?o[e].assignFrom(i):o[e]=i)},h.prototype.setColumn=function(t){var e=l.getColumn(this._view,t);e&&e.assignFrom(t)},h.prototype.getDisplayColumns=function(){return this._view.collectColumns(!0,!0,!0)},h.prototype.setColumnLayout=function(t){this._view.cellLayout=t},h.prototype.getLayoutByColumn=function(t){return this._view.layoutByColumn(t).toProxy()},h.prototype.setRowHeight=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=!0),this._view.setRowHeight(t,e,i)},h.prototype.getRowHeight=function(t){var e=this._view.getRowHeight(t);if(isNaN(e)){var i=this._view.getItem(t);e=this._view.layoutManager.getItemHeight(i)}return e},h.prototype.getCurrent=function(){var t=this._view.focusedIndex;return t?t.proxy():null},h.prototype.setCurrent=function(t,e){this._view.focusedIndex.assignFrom(t)},h.prototype.resetCurrent=function(){this._view.focusedIndex.reset()},h.prototype.mouseToIndex=function(t,e){var i=this._view.pointToIndex(null,t,e,!1);return i?i.proxy():null},h.prototype.getCellBounds=function(t,e){var i=l.getColumn(this._view,e),o=new et.CellIndex(this._view,t,i);if(i&&o){var r=this._view.layoutManager,n=r.getBodyView(o).getCellRectAt(r,o,!0);return{left:n.x,top:n.y,width:n.width,height:n.height}}return null},h.prototype.setColumnFilters=function(t,e){var i=l.getColumn(this._view,t);i instanceof a.DataColumn&&i.setFilters(e)},h.prototype.clearColumnFilters=function(t){var e=l.getColumn(this._view,t);e instanceof a.DataColumn&&e.clearFilters()},h.prototype.addColumnFilters=function(t,e,i){void 0===i&&(i=!1);var o=l.getColumn(this._view,t);o instanceof a.DataColumn&&o.addFilters(e,i)},h.prototype.removeColumnFilters=function(t,e){var i=l.getColumn(this._view,t);i instanceof a.DataColumn&&i.removeFilters(e)},h.prototype.activateColumnFilters=function(t,e,i){var o=l.getColumn(this._view,t);o instanceof a.DataColumn&&o.activateFilters(e,i)},h.prototype.activateAllColumnFilters=function(t,e){var i=l.getColumn(this._view,t);i instanceof a.DataColumn&&i.activateAllFilters(e)},h.prototype.hideColumnFilters=function(t,e,i){void 0===i&&(i=!0);var o=l.getColumn(this._view,t);o instanceof a.DataColumn&&o.hideColumnFilters(e,i)},h.prototype.hideAllColumnFilters=function(t,e){void 0===e&&(e=!0);var i=l.getColumn(this._view,t);i instanceof a.DataColumn&&i.hideAllColumnFilters(e)},h.prototype.toggleColumnFilters=function(t,e){var i=l.getColumn(this._view,t);i instanceof a.DataColumn&&i.toggleFilters(e)},h.prototype.toggleAllColumnFilters=function(t){var e=l.getColumn(this._view,t);e instanceof a.DataColumn&&e.toggleAllFilters()},h.prototype.getColumnFilter=function(t,e){var i=l.getColumn(this._view,t);return i instanceof a.DataColumn?i.getFilter(e).toProxy():null},h.prototype.getColumnFilters=function(t){var e=l.getColumn(this._view,t);if(e instanceof a.DataColumn){for(var i=e.getFilters(),o=[],r=0,n=i.length;r<n;r++)o.push(i[r].toProxy());return o}return null},h.prototype.getActiveColumnFilters=function(t,e){void 0===e&&(e=!0);var i=l.getColumn(this._view,t);if(i instanceof a.DataColumn){for(var o=i.getActiveFilters(e),r=[],n=0,s=o.length;n<s;n++)r.push(o[n].toProxy());return r}return null},h.prototype.isFiltered=function(t){var e=l.getColumn(this._view,t);return e instanceof a.DataColumn&&e.isFiltered()},h.prototype.getValues=function(t){var e=this._view.getItem(t);return e?l.getValues(this._view,e):null},h.prototype.setValues=function(t,e,i){void 0===i&&(i=!1);var o=this._view.getItem(t);o&&l.setValues(this._view,o,e,i)},h.prototype.getValue=function(t,e){var i=this._view.getItem(t);if(i){var o="string"==typeof e?this._dataProvider.getFieldIndex(e):e;return i.getData(o)}return null},h.prototype.setValue=function(t,e,i){var o="string"==typeof e?this._dataProvider.getFieldIndex(e):e;this._view.setValueAt(t,o,i)},h.prototype.getEditValue=function(){return this._view.getEditCellValue()},h.prototype.setEditValue=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!0),this._view.setEditCellValue(t,e,i)},h.prototype.registerCustomRenderer=function(t,e){this._view.registerCustomRenderer(t,e)},h.prototype.unregisterCustomRenderer=function(t){this._view.unregisterCustomRenderer(t)},h.prototype.unregisterAllCustomRenderer=function(){this._view.unregisterAllCustomRenderer()},h.prototype.addPopupMenu=function(t,e){this._view.addPopupMenu(t,e)},h.prototype.setContextMenu=function(t){this._view.setContextMenu(t)},h.prototype.getSelection=function(){return this._view.getSelection()},h.prototype.setSelection=function(t){if(t.style&&"string"==typeof t.style){var e=Rt.SelectionStyle[t.style]||Rt.SelectionStyle.BLOCK,i=0,o=0;if(t.hasOwnProperty("startItem"))i=t.startItem;else if(t.hasOwnProperty("startRow"))i=this._view.getItemIndexOfRow(t.startRow);else if("singleColumn"!=e&&"columns"!=e)return;if(t.hasOwnProperty("endItem"))o=t.endItem;else if(t.hasOwnProperty("endRow"))o=this._view.getItemIndexOfRow(t.endRow);else if("singleColumn"!=e&&"columns"!=e)return;var r=new et.CellIndex(this._view,i,void 0),n=new et.CellIndex(this._view,o,void 0);this._view.clearSelection(),this._view.selections.add(r,n,e)}},h.prototype.clearSelection=function(){this._view.clearSelection()},h.prototype.getSelectedItems=function(){var t=this._view.getSelectedRows();return this._view.getItemIndiciesOfRows(t)},h.prototype.getSelectedRows=function(){return this._view.getSelectedRows()},h.prototype.deleteSelection=function(t){this._view.deleteSelection(t)},h.prototype.getSelectionData=function(t){return void 0===t&&(t=-1),0<this._view.selections.count?this._view.selections.getItem(0).getData(t):null},h.prototype.copyToClipboard=function(t,e){return void 0===e&&(e=!0),this._view.toClipboard(t,e)},h.prototype.commitEditor=function(t){void 0===t&&(t=!0),this._view.commitEditor(t)},h.prototype.commit=function(t){return void 0===t&&(t=!1),this._view.commit(t)},h.prototype.cancel=function(){return this._view.cancel()},h.prototype.isItemEditing=function(){return this._view.isItemEditing()},h.prototype.isEditing=function(){return this._view.isEditing()},h.prototype.showEditor=function(t){void 0===t&&(t=!1),this._view.showEditor(null,null,t)},h.prototype.hideEditor=function(){this._view.hideEditor()},h.prototype.cancelEditor=function(){this._view.cancelEditor(!0)},h.prototype.setValidations=function(t){this._view.validations.assign(t)},h.prototype.checkValidateCells=function(t,e){return void 0===e&&(e=!0),this._view.checkValidateCells(t,e)},h.prototype.getInvalidCellList=function(){return this._view.getInvalidCellList()},h.prototype.clearInvalidCellList=function(){return this._view.clearInvalidCellList()},h.prototype.getEditingItem=function(){var t=this._view.getEditItem();if(t){for(var e=this._dataProvider,i=t.getRowData(),o={},r=e.fieldCount,n=i.length;r--&&n--;)o[e.getOrgFieldName(r)]=i[r];return{itemIndex:t.index,dataRow:t.dataRow,values:o}}return null},h.prototype.getItemState=function(t){var e=this._view.getItem(t);if(e){var i=e.itemState;return i==Z.ItemState.NORMAL&&this._view.focusedIndex.itemIndex==e.index&&(i=Z.ItemState.FOCUSED),i}return null},h.prototype.showToast=function(t,e){this._view.showToast(t,e)},h.prototype.hideToast=function(t){this._view.hideToast(t)},h.prototype.setLookups=function(t){this._view.setLookups(t)},h.prototype.addLookupSource=function(t){this._view.addLookupSource(t)},h.prototype.removeLookupSource=function(t){this._view.removeLookupSource(t)},h.prototype.existsLookupData=function(t,e){return this._view.existsLookupData(t,e)},h.prototype.fillLookupData=function(t,e){this._view.fillLookupData(t,e)},h.prototype.clearLookupData=function(t){this._view.clearLookupData(t)},h.prototype.isCheckable=function(t){return this._view.isCheckable(t)},h.prototype.setCheckable=function(t,e){this._view.setCheckable(t,e)},h.prototype.isCheckedItem=function(t){return this._view.isCheckedItem(t)},h.prototype.isCheckedRow=function(t){return this._view.isCheckedRow(t)},h.prototype.checkItem=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===o&&(o=!0),this._view.checkItem(t,e,i,o)},h.prototype.checkRow=function(t,e,i,o){void 0===e&&(e=!0),void 0===i&&(i=!1),void 0===o&&(o=!0),this._view.checkRow(t,e,i,o)},h.prototype.checkItems=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),this._view.checkItems(t,e,i)},h.prototype.checkRows=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!0),this._view.checkRows(t,e,i)},h.prototype.checkAll=function(t,e,i,o){void 0===t&&(t=!0),void 0===e&&(e=!1),void 0===i&&(i=!0),void 0===o&&(o=!0),this._view.checkAll(t,e,i,o)},h.prototype.setAllCheck=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this._view.setAllCheck(t,e)},h.prototype.isAllChecked=function(){return this._view.allChecked},h.prototype.resetCheckables=function(t){this._view.resetCheckables(),t&&(this._view.checkBar.checkableExpression=null)},h.prototype.applyCheckables=function(){this._view.applyCheckables()},h.prototype.setCheckableExpression=function(t,e){void 0===e&&(e=!0),this._view.checkBar.checkableExpression=t,e&&this._view.applyCheckables()},h.prototype.getSummary=function(t,e){var i=this._view.summarizer,o="string"==typeof t?this._dataProvider.getFieldIndex(t):t;if(-1==o)return null;switch(e){case"count":return i.getCount(o);case"sum":return i.getSum(o);case"max":return i.getMax(o);case"min":return i.getMin(o);case"avg":return i.getAvg(o);case"var":return i.getVar(o);case"varp":return i.getVarp(o);case"stdev":return i.getStdev(o);case"stdevp":return i.getStdevp(o);case"datacount":return i.getDataCount(o)}},h.prototype.closeList=function(){this._view.closePopups()},h.prototype.exportGrid=function(t){if("csv"===t.type){var e=new Tt.ExportBaseOptions(t);(new Lt.GridCsvExporter).export(this._view,e)}},h.prototype.scrollPage=function(t){this._view.layoutManager._vscrollBar._doScroll()("pageDown",t,0)},h.prototype.getTopItem=function(){return this._view.topIndex},h.prototype.setTopItem=function(t){void 0===t&&(t=0),this._view.topIndex=t},h.prototype.getLeftPos=function(){return this._view.leftPos},h.prototype.setLeftPos=function(t){this._view.leftPos=t},h.prototype.getContainer=function(){return this._view.container._containerDiv},h.prototype.destroy=function(){this.dispose()},h.prototype.fullItemCount=function(){return this._view.layoutManager.fullItemCount},h.prototype.undo=function(){return this._view.undo()},h.prototype.redo=function(){return this._view.redo()},h.prototype._getView=function(){return this._view},h);function h(t){this.onCurrentChanging=null,this.onCurrentChanged=null,this.onCurrentRowChanged=null,this.onValidateColumn=null,this.onValidateRow=null,this.onValidationFail=null,this.onColumnCheckedChanged=null,this.onMenuItemClicked=null,this.onContextMenuPopup=null,this.onContextMenuItemClicked=null,this.onCellButtonClicked=null,this.onLinkableCellClicked=null,this.onScrollToBottom=null,this.onTopItemIndexChanged=null,this.onDataCellClicked=null,this.onDataCellDblClicked=null,this.onRowsDeleting=null,this.onRowInserting=null,this.onSelectionChanged=null,this.onSelectionAdded=null,this.onSelectionEnded=null,this.onShowEditor=null,this.onHideEditor=null,this.onEditChange=null,this.onGetEditValue=null,this.onEditCommit=null,this.onEditCanceled=null,this.onItemEditCanceled=null,this.onItemEditCancel=null,this.onEditSearch=null,this.onSearchCellButtonClick=null,this.onCellEdited=null,this.onEditRowChanged=null,this.onEditRowPasted=null,this.onRowsPasted=null,this.onCellPasting=null,this.onItemChecked=null,this.onItemAllChecked=null,this.onErrorClicked=null,this.onSorting=null,this.onSortingChanged=null,this.onFiltering=null,this.onFilteringChanged=null,this.onKeyDown=null,this.onKeyPress=null,this.onKeyUp=null,this.onShowTooltip=null,this.onShowHeaderTooltip=null,this.onColumnPropertyChanged=null,this.onShowInnerDragCursor=null,this.onInnerDragStart=null,this.onInnerDragOver=null,this.onInnerDrop=null,this.onGridActivated=null,this.onCopy=null,this.onPaste=null,this.onPasted=null,this.onItemsChecked=null,this.onColumnHeaderClicked=null,this.onColumnHeaderDblClicked=null,this.onColumnHeaderImageClicked=null,this.onFooterCellClicked=null,this.onFooterCellDblClicked=null,this.onHeaderSummaryCellClicked=null,this.onHeaderSummaryCellDblClicked=null,this.onCheckBarHeadClicked=null,this.onCheckBarFootClicked=null,this.onCheckBarFootDblClicked=null,this.onIndicatorCellClicked=null,this.onIndicatorCellDblClicked=null,this.onStateBarCellClicked=null,this.onStateBarCellDblClicked=null,this.onRowGroupHeadClicked=null,this.onRowGroupHeadDblClicked=null,this.onRowGroupFootClicked=null,this.onRowGroupFootDblClicked=null,this.onRowGroupBarClicked=null,this.onRowGroupBarDblClicked=null,this.onRowGroupHeaderFooterClicked=null,this.onRowGroupHeaderFooterDblClicked=null,this.onPanelClicked=null,this.onPanelDblClicked=null,this.onRowGroupPanelClicked=null,this.onRowGroupPanelDblClicked=null,this.onBodyEmptyClicked=null,this.onBodyEmptyDblClicked=null,this.onCommandStackChanged=null,this._view=this._createView(t),this._listener=this._createListener(this._view)}e.GridBase=u;var c,p=(i(d,c=u),Object.defineProperty(d.prototype,"rowGroup",{get:function(){return this._view.rowGroup},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"groupingOptions",{get:function(){return this._view.groupingOptions},enumerable:!0,configurable:!0}),d.prototype.getRowGroup=function(){return this._view.rowGroup},d.prototype.setRowGroup=function(t){this._view.rowGroup.assignFrom(t)},d.prototype.getOptions=function(){var t=c.prototype.getOptions.call(this);return t.grouping=this.groupingOptions.toProxy(),t},d.prototype.setOptions=function(t){c.prototype.setOptions.call(this,t),t.grouping&&this._view.groupingOptions.assignFrom(t.grouping)},d.prototype.getGroupingOptions=function(){return this._view.groupingOptions.toProxy},d.prototype.setGroupingOptions=function(t){this._view.groupingOptions.assignFrom(t)},d.prototype.groupBy=function(t,e,i){var o=i||void 0;this._view.groupByFieldNames(t,e,o)},d.prototype.isGrouped=function(){return this._view.rowGrouped},d.prototype.isMergedGrouped=function(){return this._view.mergedRowGrouped},d.prototype.getGroupFields=function(){return this._view.rowGroupFields},d.prototype.getGroupFieldNames=function(t){void 0===t&&(t=!0);var e=this._view.rowGroupFields;if(e){var i=this._dataProvider;if(i){for(var o=[],r=0,n=e.length;r<n;r++)o.push(t?i.getOrgFieldName(e[r]):i.getFieldName(e[r]));return o}return e}return null},d.prototype.getGroupLevels=function(){return this._view.rowGroupLevels},d.prototype.getGroupLevel=function(t){var e="string"==typeof t?this._dataProvider.getFieldIndex(t):t;return-1<e?this._view.getGroupLevel(e):-1},d.prototype.getGroupIndex=function(t){var e=this._view.getItem(t);if(e){var i=e.parent;return i?i.index:-1}return-1},d.prototype.isGroupItem=function(t){return this._view.getItem(t)instanceof Z.GroupItem},d.prototype.isParentVisible=function(t){var e=this._view.getItem(t);return e&&e.parent&&e.parent.visible},d.prototype.expandGroup=function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=0);var r=this._view.getItem(t);r&&r instanceof Z.GroupItem&&this._view.expand(r,e,i,o)},d.prototype.collapseGroup=function(t,e,i){void 0===i&&(i=!1);var o=this._view.getItem(t);o&&o instanceof Z.GroupItem&&this._view.collapse(o,e,i)},d.prototype.expandParent=function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=0);var r=this._view.getItem(t);if(r){var n=r.parent;n&&n instanceof Z.GroupItem&&this._view.expand(n,e,i,o)}},d.prototype.collapseParent=function(t,e,i){void 0===i&&(i=!1);var o=this._view.getItem(t);if(o){var r=o.parent;r&&r instanceof Z.GroupItem&&this._view.collapse(r,e,i)}},d.prototype.expandAll=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=void 0),0<this._view.itemCount){var i=this._view.itemSource.getItemOfRow(0,!1);i.root&&this._view.expand(i.root,t,!1,e)}},d.prototype.collapseAll=function(t){if(void 0===t&&(t=!1),0<this._view.itemCount){var e=this._view.itemSource.getItemOfRow(0,!1);e.root&&this._view.collapse(e.root,t,!1)}},d.prototype.beginInsertRow=function(t,e){void 0===t&&(t=-1),void 0===e&&(e=!1),this._view.insertAt(t,e)},d.prototype.beginAppendRow=function(){this._view.append()},d.prototype.beginUpdateRow=function(t){var e=this._view.getItem(t);if(e){var i=this._view.focusedIndex.clone();i.itemIndex=e.index,this._view.edit(i)}},d.prototype.setPaging=function(t,e,i){void 0===e&&(e=10),void 0===i&&(i=-1),this._view.setPaging(t,e,i)},d.prototype.getPage=function(){return this._view.page},d.prototype.setPage=function(t,e){void 0===e&&(e=-1),this._view.setPage(t,e)},d.prototype.getPageCount=function(){return this._view.pageCount},d.prototype.setPageCount=function(t){this._view.pageCount=t},d.prototype.getCheckedItems=function(t){return void 0===t&&(t=!0),this._view.getCheckedItems(!t)},d.prototype.getCheckedRows=function(t,e,i){return void 0===t&&(t=!0),void 0===e&&(e=!1),void 0===i&&(i=!1),this._view.getCheckedRows(t,e,i)},d.prototype._createView=function(t){return(this._container=new Qe.GridContainer(t)).gridView},d.prototype._createListener=function(t){return new C(this,t)},d);function d(){var t=null!==c&&c.apply(this,arguments)||this;return t.onPageChanging=null,t.onPageChanged=null,t.onPageCountChanged=null,t.onGrouping=null,t.onGrouped=null,t.onExpanding=null,t.onExpanded=null,t.onCollapsing=null,t.onCollapsed=null,t}e.GridView=p;var _,f=(i(y,_=u),Object.defineProperty(y.prototype,"treeOptions",{get:function(){return this._view.treeOptions},enumerable:!0,configurable:!0}),y.prototype.getTreeOptions=function(){return this._view.treeOptions.toProxy()},y.prototype.setTreeOptions=function(t){this._view.treeOptions.assignFrom(t)},y.prototype.getParent=function(t){var e=this._view.getItem(t);return e?e.parentIndex:-1},y.prototype.getChildren=function(t){var e=this._view.getItem(t);if(e){for(var i=[],o=0,r=e.count;o<r;o++)i.push(e.getItem(o).index);return i}return null},y.prototype.getDescendants=function(t){var e=this._view.getItem(t);if(e){for(var i=[],o=e.getDescendants(!1),r=0,n=o.length;r<n;r++)i.push(o[r].index);return i}return null},y.prototype.getAncestors=function(t,e){void 0===e&&(e=!0);var i=this._view.getItem(t);if(i){for(var o=[],r=i.getAncestors(),n=0,s=r.length;n<s;n++)!e&&r[n]instanceof S.RootItem||o.push(r[n].id);return o}return null},y.prototype.expand=function(t,e,i,o){void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===o&&(o=0);var r=this._view.getItem(t);r&&this._view.expand(r,e,i,o)},y.prototype.collapse=function(t,e){void 0===e&&(e=!1);var i=this._view.getItem(t);i&&this._view.collapse(i,e)},y.prototype.expandAll=function(t){void 0===t&&(t=0),this._view.expandAll(t)},y.prototype.collapseAll=function(){this._view.collapseAll()},y.prototype.getCheckedItems=function(){return this._view.getCheckedItemIndices()},y.prototype.getCheckedRows=function(t){return this._view.getCheckedRowIds(t)},y.prototype.checkChildren=function(t,e,i,o,r,n){void 0===n&&(n=!0);var s=this._view.getItem(t);s&&this._view.checkChildren(s,e,i,o,r,n)},y.prototype._createView=function(t){return(this._container=new oi.TreeContainer(t)).gridView},y.prototype._createListener=function(t){return new I(this,t)},y);function y(){var t=null!==_&&_.apply(this,arguments)||this;return t.onTreeItemExpanding=null,t.onTreeItemExpanded=null,t.onTreeItemCollapsing=null,t.onTreeItemCollapsed=null,t.onTreeItemChanged=null,t}e.TreeView=f;var m,g=(m=vt.EventListenerBase,i(v,m),v.prototype.dispose=function(){this._view.removeListener(this),this._view=null,this._del=null},v.prototype.onGridBaseCurrentChanging=function(t,e,i){return!this._del.onCurrentChanging||this._del.onCurrentChanging(this._del,e.proxy(),i.proxy())},v.prototype.onGridBaseCurrentChanged=function(t,e){this._del.onCurrentChanged&&this._del.onCurrentChanged(this._del,e.proxy())},v.prototype.onGridBaseCurrentRowChanged=function(t,e,i){this._del.onCurrentRowChanged&&this._del.onCurrentRowChanged(this._del,e,i)},v.prototype.onGridBaseValidateCell=function(t,e,i,o){if(this._del.onValidateColumn){var r=e.itemIndex,n=e.item&&e.item.dataRow,s=this._del.onValidateColumn(this._del,e.column,i,o,r,n);if(s&&s.level&&s.message)throw new at.ValidationError(s.level,s.message,e.column&&e.column,s.message);if("string"==typeof s||"number"==typeof s)throw new at.ValidationError(H.ValidationLevel.ERROR,s,e.column&&e.column,s)}},v.prototype.onGridBaseValidateRow=function(t,e,i,o){if(this._del.onValidateRow){var r=this._del.onValidateRow(this._del,e.index,e.dataRow,i,o);if(r&&r.level&&r.message)throw new at.ValidationError(r.level,r.message,null,r.message);if("string"==typeof r||"number"==typeof r)throw new at.ValidationError(H.ValidationLevel.ERROR,r,null,r)}},v.prototype.onGridBaseValidationFail=function(t,e,i,o){if(!this._del.onValidationFail)return o;var r=this._del.onValidationFail(this._del,e,i,{level:o.level,message:o.message});return r&&r.level&&r.message?(o.level=r.level,o.message=r.message,o.userMessage=r.message,o):"string"==typeof r||"number"==typeof r?(o.message=r,o.userMessage=r,o):void 0},v.prototype.onGridBaseColumnHeaderClicked=function(t,e,i){this._del.onColumnHeaderClicked?this._del.onColumnHeaderClicked(this._del,e,i):this.log("onColumnHeaderClicked: ("+e.name+")")},v.prototype.onGridBaseColumnHeaderImageClicked=function(t,e){this._del.onColumnHeaderImageClicked?this._del.onColumnHeaderImageClicked(this._del,e):this.log("onColumnHeaderImageClicked:("+e.name+")")},v.prototype.onGridBaseColumnHeaderDblClicked=function(t,e){this._del.onColumnHeaderDblClicked?this._del.onColumnHeaderDblClicked(this._del,e):this.log("onColumnHeaderDblClicked: ("+e.name+")")},v.prototype.onGridBaseColumnCheckedChanged=function(t,e,i){this._del.onColumnCheckedChanged?this._del.onColumnCheckedChanged(this._del,e,i):this.log("onColumnCheckedChanged: ("+e.name+", "+i+")")},v.prototype.onGridBaseFooterCellClicked=function(t,e){this._del.onFooterCellClicked?this._del.onFooterCellClicked(this._del,e):this.log("onFooterCellClicked : ("+e.name+")")},v.prototype.onGridBaseFooterCellDblClicked=function(t,e){this._del.onFooterCellDblClicked?this._del.onFooterCellDblClicked(this._del,e):this.log("onFooterCellDblClicked : ("+e.name+")")},v.prototype.onGridBaseHeaderSummaryCellClicked=function(t,e){this._del.onHeaderSummaryCellClicked?this._del.onHeaderSummaryCellClicked(this._del,e):this.log("onHeaderSummaryCellClicked : ("+e.name+")")},v.prototype.onGridBaseHeaderSummaryCellDblClicked=function(t,e){this._del.onHeaderSummaryCellDblClicked?this._del.onHeaderSummaryCellDblClicked(this._del,e):this.log("onHeaderSummaryCellDblClicked : ("+e.name+")")},v.prototype.onGridBaseCheckBarHeadClicked=function(t){this._del.onCheckBarHeadClicked?this._del.onCheckBarHeadClicked(this._del):this.log("onCheckBarHeadClicked")},v.prototype.onGridBaseCheckBarFootClicked=function(t){this._del.onCheckBarFootClicked?this._del.onCheckBarFootClicked(this._del):this.log("onCheckBarFootClicked")},v.prototype.onGridBaseIndicatorCellClicked=function(t,e){this._del.onIndicatorCellClicked?this._del.onIndicatorCellClicked(this._del,e.itemIndex):this.log("onIndicatorCellClicked : ("+e.itemIndex+")")},v.prototype.onGridBaseStateBarCellClicked=function(t,e){this._del.onStateBarCellClicked?this._del.onStateBarCellClicked(this._del,e.itemIndex):this.log("onStateBarCellClicked : ("+e.itemIndex+")")},v.prototype.onGridBaseRowGroupHeadClicked=function(t){this._del.onRowGroupHeadClicked?this._del.onRowGroupHeadClicked(this._del):this.log("onRowGroupHeadClicked")},v.prototype.onGridBaseRowGroupFootClicked=function(t){this._del.onRowGroupFootClicked?this._del.onRowGroupFootClicked(this._del):this.log("onRowGroupFootClicked")},v.prototype.onGridBaseRowGroupHeaderFooterClicked=function(t,e,i){this._del.onRowGroupHeaderFooterClicked?this._del.onRowGroupHeaderFooterClicked(this._del,e,i.proxy()):this.log("onRowGroupHeaderFooterClicked: "+e,i.proxy)},v.prototype.onGridBaseRowGroupBarClicked=function(t,e){this._del.onRowGroupBarClicked?this._del.onRowGroupBarClicked(this._del,e):this.log("onRowGroupBarClicked : ("+e+")")},v.prototype.onGridBaseCheckBarFootDblClicked=function(t){this._del.onCheckBarFootDblClicked?this._del.onCheckBarFootDblClicked(this._del):this.log("onCheckBarFootDblClicked")},v.prototype.onGridBaseIndicatorCellDblClicked=function(t,e){this._del.onIndicatorCellDblClicked?this._del.onIndicatorCellDblClicked(this._del,e.itemIndex):this.log("onIndicatorCellDblClicked : ("+e.itemIndex+")")},v.prototype.onGridBaseStateBarCellDblClicked=function(t,e){this._del.onStateBarCellDblClicked?this._del.onStateBarCellDblClicked(this._del,e.itemIndex):this.log("onStateBarCellDblClicked : ("+e.itemIndex+")")},v.prototype.onGridBaseRowGroupHeadDblClicked=function(t){this._del.onRowGroupHeadDblClicked?this._del.onRowGroupHeadDblClicked(this._del):this.log("onRowGroupHeadDblClicked")},v.prototype.onGridBaseRowGroupFootDblClicked=function(t){this._del.onRowGroupFootDblClicked?this._del.onRowGroupFootDblClicked(this._del):this.log("onRowGroupFootDblClicked")},v.prototype.onGridBaseRowGroupBarDblClicked=function(t,e){this._del.onRowGroupBarDblClicked?this._del.onRowGroupBarDblClicked(this._del,e):this.log("onRowGroupBarDblClicked : ("+e+")")},v.prototype.onGridBaseRowGroupHeaderFooterDblClicked=function(t,e,i){this._del.onRowGroupHeaderFooterDblClicked?this._del.onRowGroupHeaderFooterDblClicked(this._del,e,i.proxy()):this.log("onRowGroupHeaderFooterDblClicked : ("+i+")")},v.prototype.onGridBasePanelClicked=function(t){this._del.onPanelClicked?this._del.onPanelClicked(this._del):this.log("onPanelClicked")},v.prototype.onGridBasePanelDblClicked=function(t){this._del.onPanelDblClicked?this._del.onPanelDblClicked(this._del):this.log("onPanelDblClicked")},v.prototype.onGridBaseRowGroupPanelClicked=function(t,e){this._del.onRowGroupPanelClicked?this._del.onRowGroupPanelClicked(this._del,e):this.log("onRowGroupPanelClicked : ("+e.name+")")},v.prototype.onGridBaseRowGroupPanelDblClicked=function(t,e){this._del.onRowGroupPanelDblClicked?this._del.onRowGroupPanelDblClicked(this._del,e):this.log("onRowGroupPanelDblClicked : ("+e.name+")")},v.prototype.onGridBaseBodyEmptyClicked=function(t){this._del.onBodyEmptyClicked?this._del.onBodyEmptyClicked(this._del):this.log("onBodyEmptyClicked")},v.prototype.onGridBaseBodyEmptyDblClicked=function(t){this._del.onBodyEmptyDblClicked?this._del.onBodyEmptyDblClicked(this._del):this.log("onBodyEmptyDblClicked")},v.prototype.onGridBaseMenuItemClicked=function(t,e,i){this._del.onMenuItemClicked?this._del.onMenuItemClicked(this._del,e.toProxy(),i.proxy()):this.log("onMenuItemClicked: ",e.toProxy(),i.proxy())},v.prototype.onGridBaseContextMenuPopup=function(t,e,i,o){return this._del.onContextMenuPopup?this._del.onContextMenuPopup(this._del,e,i,o):this.log("onContextMenuPopup: x = "+e+", y = "+i)},v.prototype.onGridBaseContextMenuItemClicked=function(t,e,i){this._del.onContextMenuItemClicked?this._del.onContextMenuItemClicked(this._del,e.toProxy(),i.proxy()):this.log("onContextMenuItemClicked: ",e.toProxy(),i.proxy())},v.prototype.onGridBaseCellButtonClicked=function(t,e){this._del.onCellButtonClicked?this._del.onCellButtonClicked(this._del,e.proxy(),e.column):this.log("onCellButtonClicked: ",e)},v.prototype.onGridBaseDataCellClicked=function(t,e){this._del.onDataCellClicked?this._del.onDataCellClicked(this._del,e.proxy()):this.log("onDataCellClicked",e)},v.prototype.onGridBaseDataCellDblClicked=function(t,e){this._del.onDataCellDblClicked?this._del.onDataCellDblClicked(this._del,e.proxy()):this.log("onDataCellDblClicked",e)},v.prototype.onGridBaseButtonClicked=function(t,e,i){this._del.onButtonClicked?this._del.onButtonClicked(this._del,e.proxy(),i):this.log("onButtonClicked",e)},v.prototype.onGridBaseLinkableCellClicked=function(t,e,i){return this._del.onLinkableCellClicked?this._del.onLinkableCellClicked(this._del,e.proxy(),i):this.log("onLinkableCellClicked",e,i)},v.prototype.onGridBaseScrollToBottom=function(t){this._del.onScrollToBottom?this._del.onScrollToBottom(this._del):this.log("onScrollToBottom")},v.prototype.onGridBaseTopItemIndexChanged=function(t,e){this._del.onTopItemIndexChanged?this._del.onTopItemIndexChanged(this._del,e):this.log("onTopItemIndexChanged: "+e)},v.prototype.onGridBaseRowsDeleting=function(t,e){return this._del.onRowsDeleting?this._del.onRowsDeleting(this._del,e):(this.log("onRowsDeleting:",e),!0)},v.prototype.onGridBaseRowInserting=function(t,e,i){if(this._del.onRowInserting)return this._del.onRowInserting(this._del,e,i);this.log("onRowInserting: "+e,i)},v.prototype.onGridBaseSelectionChanged=function(t){this._del.onSelectionChanged?this._del.onSelectionChanged(this._del):this.log("onSelectionChanged")},v.prototype.onGridBaseSelectionAdded=function(t,e){this._del.onSelectionAdded?this._del.onSelectionAdded(this._del,e):this.log("onSelectionAdded: ",e)},v.prototype.onGridBaseSelectionEnded=function(t){this._del.onSelectionEnded?this._del.onSelectionEnded(this._del):this.log("onSelectionEnded")},v.prototype.onGridBaseShowEditor=function(t,e,i){return this._del.onShowEditor?this._del.onShowEditor(this._del,e.proxy(),i):this.log("onShowEditor",e.proxy(),i)},v.prototype.onGridBaseHideEditor=function(t,e){return this._del.onHideEditor?this._del.onHideEditor(this._del,e.proxy()):this.log("onHideEditor: ",e.proxy())},v.prototype.onGridBaseEditChange=function(t,e,i){this._del.onEditChange?this._del.onEditChange(this._del,e.proxy(),i):this.log("onEditChange: "+i,e.proxy())},v.prototype.onGridBaseGetEditValue=function(t,e,i){this._del.onGetEditValue&&this._del.onGetEditValue(this._del,e.proxy(),i)},v.prototype.onGridBaseEditCommit=function(t,e,i,o){return this._del.onEditCommit?this._del.onEditCommit(this._del,e.proxy(),i,o):(this.log("onEditCommit",e.proxy(),i,o),!0)},v.prototype.onGridBaseEditCanceled=function(t,e){this._del.onEditCanceled?this._del.onEditCanceled(this._del,e.proxy()):this.log("onEditCanceled",e.proxy())},v.prototype.onGridBaseItemEditCanceled=function(t,e){this._del.onItemEditCanceled?this._del.onItemEditCanceled(this._del,e.index,e.itemState):this.log("onItemEditCanceled: "+e.index+", "+e.itemState)},v.prototype.onGridBaseItemEditCancel=function(t,e){return this._del.onItemEditCancel?this._del.onItemEditCancel(this._del,e.index,e.itemState):(this.log("onItemEditCancel: "+e.index+", "+e.itemState),!0)},v.prototype.onGridBaseEditSearch=function(t,e,i){this._del.onEditSearch?this._del.onEditSearch(this._del,e.proxy(),i):this.log("onEditSearch: "+i,e.proxy())},v.prototype.onGridBaseSearchCellButtonClick=function(t,e,i){return this._del.onSearchCellButtonClick?this._del.onSearchCellButtonClick(this._del,e.proxy(),i):(this.log("onSearchCellButtonClick: "+i,e.proxy()),null)},v.prototype.onGridBaseCellEdited=function(t,e,i){return this._del.onCellEdited?this._del.onCellEdited(this._del,e.index,e.dataRow,i):this.log("onCellEdited: "+e.index+", "+e.dataRow+", "+i)},v.prototype.onGridBaseEditRowChanged=function(t,e,i,o,r){return this._del.onEditRowChanged?this._del.onEditRowChanged(this._del,e.index,e.dataRow,i,o,r):this.log("onEditRowChanged: "+e.index+", "+e.dataRow+", "+i+", "+o+" => "+r)},v.prototype.onGridBaseEditRowPasted=function(t,e,i,o,r){return this._del.onEditRowPasted?this._del.onEditRowPasted(this._del,e.index,e.dataRow,i,o,r):this.log("onEditRowPasted: "+e.index+", "+e.dataRow,i,o,r)},v.prototype.onGridBaseRowsPasted=function(t,e){return this._del.onRowsPasted?this._del.onRowsPasted(this._del,e):this.log("onRowsPasted: ",e)},v.prototype.onGridBaseCellPasting=function(t,e,i){return this._del.onCellPasting?this._del.onCellPasting(this._del,e.proxy(),i):this.log("onCellPasting: ",e,i)},v.prototype.onGridBaseItemChecked=function(t,e,i){return this._del.onItemChecked?this._del.onItemChecked(this._del,e.index,i):this.log("")},v.prototype.onGridBaseItemsChecked=function(t,e,i){var o=l.getItemIndices(e);return this._del.onItemsChecked?this._del.onItemsChecked(this._del,o,i):this.log("onItemsChecked: "+i,o)},v.prototype.onGridBaseItemAllChecked=function(t,e){return this._del.onItemAllChecked?this._del.onItemAllChecked(this._del,e):this.log("onItemAllChecked: "+e)},v.prototype.onGridBaseErrorClicked=function(t,e){this._del.onErrorClicked?this._del.onErrorClicked(this._del,e):this.log("onErrorClicked: "+e)},v.prototype.onGridBaseSorting=function(t,e,i){for(var o=[],r=0,n=i.length;r<n;r++)o.push(i[r]?i[r].toString():"ascending");return this._del.onSorting?this._del.onSorting(this._del,e,i):this.log("onSorting: ",e,o)},v.prototype.onGridBaseSortingChanged=function(t){return this._del.onSortingChanged?this._del.onSortingChanged(this._del):this.log("onSortingChanged")},v.prototype.onGridBaseFiltering=function(t){return this._del.onFiltering?this._del.onFiltering(this._del):this.log("onFiltering")},v.prototype.onGridBaseFilteringChanged=function(t,e,i){var o=e?e.getOwner():null,r=i?i.toProxy():null,n=o?o.name:"",s=i?i.name:"";return this._del.onFilteringChanged?this._del.onFilteringChanged(this._del,o,r):this.log("onFilteringChanged: "+n+", "+s)},v.prototype.onGridBaseKeyDown=function(t,e,i,o,r){return this._del.onKeyDown?this._del.onKeyDown(this._del,e,i,o,r):this.log("onKeyDown: "+e+", "+i+", "+o+", "+r)},v.prototype.onGridBaseKeyPress=function(t,e){this._del.onKeyPress?this._del.onKeyPress(this._del,e):this.log("onKeyDown: "+e)},v.prototype.onGridBaseKeyUp=function(t,e,i,o,r){return this._del.onKeyUp?this._del.onKeyUp(this._del,e,i,o,r):this.log("onKeyUp: "+e+", "+i+", "+o+", "+r)},v.prototype.onGridBaseShowTooltip=function(t,e,i){return this._del.onShowTooltip?this._del.onShowTooltip(this._del,e.proxy(),i):(this.log("onShowTooltip: "+i,e.proxy()),i)},v.prototype.onGridBaseShowHeaderTooltip=function(t,e,i){return this._del.onShowHeaderTooltip?this._del.onShowHeaderTooltip(this._del,e,i):(this.log("onShowHeaderTooltip: "+e.name+", "+i),i)},v.prototype.onGridBaseColumnPropertyChanged=function(t,e,i,o){this._del.onColumnPropertyChanged?this._del.onColumnPropertyChanged(this._del,e,i,o):this.log("onColumnPropertyChanged: "+e.name+", "+i+", "+o)},v.prototype.onGridBaseShowInnerDragCursor=function(t,e){return this._del.onShowInnerDragCursor?this._del.onShowInnerDragCursor(this._del,e):(this.log("onShowInnerDragCursor: ",e),!0)},v.prototype.onGridBaseInnerDragStart=function(t,e){if(!this._del.onInnerDragStart)return this.log("onInnerDragStart",e),!0;this._del.onInnerDragStart(this._del,e?e.proxy():null)},v.prototype.onGridBaseInnerDragOver=function(t,e,i){return this._del.onInnerDragOver?this._del.onInnerDragOver(this._del,e.proxy(),i):(this.log("onInnerDragOver: ",e.proxy(),i),null)},v.prototype.onGridBaseInnerDrop=function(t,e,i){return!this._del.onInnerDrop||this._del.onInnerDrop(this._del,e.proxy(),i)},v.prototype.onGridBaseGridActivated=function(t){this._del.onGridActivated?this._del.onGridActivated(this._del):this.log("onGridActivated")},v.prototype.onGridBasePaste=function(t,e,i){if(this._del.onPaste)return this._del.onPaste(this._del,e.proxy(),i);this.log("onPaste: ",e)},v.prototype.onGridBaseCopy=function(t,e,i){this._del.onCopy?this._del.onCopy(this._del,e.toProxy(),i):this.log("onCopy: ",e.toProxy())},v.prototype.onGridBasePasted=function(t){this._del.onPasted?this._del.onPasted(this._del):this.log("onPasted")},v.prototype.onGridBaseCommandStackChanged=function(t,e,i){this._del.onCommandStackChanged?this._del.onCommandStackChanged(t,e,i):this.log("onImageButtonClicked: undoable"+e+", redoable"+i)},v.prototype.getHandler=function(){return this._del},v);function v(t,e){var i=m.call(this)||this;return i._del=t,i._view=e,i._view.addListener(i),i}var b,C=(i(w,b=g),w.prototype.dispose=function(){b.prototype.dispose.call(this)},w.prototype.onGridViewPageChanging=function(t,e){return this._del.onPageChanging?this._del.onPageChanging(this._del,e):(this.log("onPageChanging:"+e),!0)},w.prototype.onGridViewPageChanged=function(t,e){this._del.onPageChanged?this._del.onPageChanged(this._del,e):this.log("onPageChanged:"+e)},w.prototype.onGridViewPageCountChanged=function(t,e){this._del.onPageCountChanged?this._del.onPageCountChanged(this._del,e):this.log("onPageCountChanged:"+e)},w.prototype.onGridViewGrouping=function(t,e){return this._del.onGrouping?this._del.onGrouping(this._del,e):(this.log("onGrouping",e),!0)},w.prototype.onGridViewGrouped=function(t){this._del.onGrouped?this._del.onGrouped(this._del):this.log("onGrouped")},w.prototype.onGridViewExpanding=function(t,e){return this._del.onExpanding?this._del.onExpanding(this._del,e.id):(this.log("onGrouping: "+e.id),!0)},w.prototype.onGridViewExpanded=function(t,e){this._del.onExpanded?this._del.onExpanded(this._del,e.id):this.log("onExpanded: "+e.id)},w.prototype.onGridViewCollapsing=function(t,e){return this._del.onCollapsing?this._del.onCollapsing(this._del,e.id):(this.log("onCollapsing: "+e.id),!0)},w.prototype.onGridViewCollapsed=function(t,e){this._del.onCollapsed?this._del.onCollapsed(this._del,e.id):this.log("onCollapsed: "+e.id)},w);function w(t,e){return b.call(this,t,e)||this}var x,I=(i(E,x=g),E.prototype.dispose=function(){x.prototype.dispose.call(this)},E.prototype.onTreeViewExpanding=function(t,e,i){return this._del.onTreeItemExpanding?this._del.onTreeItemExpanding(this._del,e,i):(this.log("TreeItem expanding: "+e),!0)},E.prototype.onTreeViewExpanded=function(t,e,i){this._del.onTreeItemExpanded?this._del.onTreeItemExpanded(this._del,e,i):this.log("TreeItem expanded: "+e)},E.prototype.onTreeViewCollapsing=function(t,e,i){return this._del.onTreeItemCollapsing?this._del.onTreeItemCollapsing(this._del,e,i):(this.log("TreeItem collapsing: "+e),!0)},E.prototype.onTreeViewCollapsed=function(t,e,i){this._del.onTreeItemCollapsed?this._del.onTreeItemCollapsed(this._del,e,i):this.log("TreeItem collapsed: "+e)},E.prototype.onTreeViewChanged=function(t,e,i){this._del.onTreeItemChanged?this._del.onTreeItemChanged(this._del,e,i):this.log("TreeItem item changed: "+e)},E);function E(t,e){return x.call(this,t,e)||this}});t(s);s.CellType,s.GridBase,s.GridView,s.TreeView;return t(e(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=ut,o=(r.getVersion=function(){return v.globalRealGridInfo.version},r.getActiveGrid=function(){},r.exportGrid=function(){},Object.defineProperty(r,"ImageList",{get:function(){return bt.ImageList},enumerable:!0,configurable:!0}),Object.defineProperty(r,"GridView",{get:function(){return s.GridView},enumerable:!0,configurable:!0}),Object.defineProperty(r,"TreeView",{get:function(){return s.TreeView},enumerable:!0,configurable:!0}),Object.defineProperty(r,"LocalDataProvider",{get:function(){return vt.LocalDataProvider},enumerable:!0,configurable:!0}),Object.defineProperty(r,"LocalTreeDataProvider",{get:function(){return vt.LocalTreeDataProvider},enumerable:!0,configurable:!0}),Object.defineProperty(r,"DataType",{get:function(){return H.ValueType},enumerable:!0,configurable:!0}),Object.defineProperty(r,"DataField",{get:function(){return f.DataField},enumerable:!0,configurable:!0}),Object.defineProperty(r,"DataColumn",{get:function(){return i.DataColumn},enumerable:!0,configurable:!0}),Object.defineProperty(r,"DataOutputOptions",{get:function(){return I.DataOutputOptions},enumerable:!0,configurable:!0}),Object.defineProperty(r,"RowState",{get:function(){return w.RowState},enumerable:!0,configurable:!0}),Object.defineProperty(r,"ColumnHeaderItemLocation",{get:function(){return H.ColumnHeaderItemLocation},enumerable:!0,configurable:!0}),Object.defineProperty(r,"Column",{get:function(){return ut.GridColumn},enumerable:!0,configurable:!0}),Object.defineProperty(r,"Rectangle",{get:function(){return G.Rectangle},enumerable:!0,configurable:!0}),Object.defineProperty(r,"GroupItemImpl",{get:function(){return Z.GroupItemImpl},enumerable:!0,configurable:!0}),Object.defineProperty(r,"MergedGroupHeader",{get:function(){return Q.MergedGroupHeader},enumerable:!0,configurable:!0}),Object.defineProperty(r,"GridRow",{get:function(){return Z.GridRow},enumerable:!0,configurable:!0}),Object.defineProperty(r,"CustomCellRenderer",{get:function(){return Ct.CustomCellRenderer},enumerable:!0,configurable:!0}),Object.defineProperty(r,"DataLoader",{get:function(){return pt.DataLoader},enumerable:!0,configurable:!0}),r);function r(){}e.default=o}))}();
